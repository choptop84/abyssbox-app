{"version":3,"names":["TypePresets","sampleLoadingState","constructor","this","statusTable","urlTable","totalSamples","samplesLoaded","SampleLoadedEvent","Event","super","SampleLoadEvents","EventTarget","sampleLoadEvents","startLoadingSample","url","chipWaveIndex","presetSettings","rawLoopOptions","customSampleRate","sampleLoaderAudioContext","AudioContext","sampleRate","closedSampleLoaderAudioContext","chipWave","Config","chipWaves","rawChipWave","rawChipWaves","rawRawChipWave","rawRawChipWaves","fetch","then","response","ok","arrayBuffer","Promise","reject","Error","decodeAudioData","audioBuffer","samples","centerWave","Array","from","getChannelData","integratedSamples","performIntegral","length","dispatchEvent","close","catch","error","alert","loadScript","resolve","willReloadForCustomSamples","script","document","createElement","src","head","appendChild","addEventListener","event","loadBuiltInSamples","set","defaultIntegratedSamples","defaultSamples","name","expression","isSampled","isPercussion","extraSampleDetune","startIndex","index","integratedChipWave","dictionary","chipWaveSamples","kicksample","snaresample","pianosample","WOWsample","overdrivesample","trumpetsample","saxophonesample","orchhitsample","detatchedviolinsample","synthsample","sonic3snaresample","comeonsample","choirsample","overdrivensample","flutesample","legatoviolinsample","tremoloviolinsample","amenbreaksample","pizzicatoviolinsample","timallengruntsample","tubasample","loopingcymbalsample","kickdrumsample","snaredrumsample","closedhihatsample","foothihatsample","openhihatsample","crashsample","pianoC4sample","liverpadsample","marimbasample","susdotwavsample","wackyboxttssample","peppersteak1","peppersteak2","vinyl","slapbass","hdeboverdrive","sunsoftbass","masculinechoir","femininechoir","southtololoche","harp","panflute","krumhorn","timpani","crowdhey","warioland4brass","warioland4organ","warioland4daow","warioland4hourchime","warioland4tick","kirbykick","kirbysnare","kirbybongo","kirbyclick","funkkick","funksnare","funksnareleft","funksnareright","funktomhigh","funktomlow","funkhihatclosed","funkhihathalfopen","funkhihatopen","funkhihatopentip","funkhihatfoot","funkcrash","funkcrashtip","funkride","chipWaveIndexOffset","chipWaveSample","chronoperc1finalsample","synthkickfmsample","woodclicksample","acousticsnaresample","catpaintboxsample","gameboypaintboxsample","mariopaintboxsample","drumpaintboxsample","yoshipaintboxsample","starpaintboxsample","fireflowerpaintboxsample","dogpaintbox","oinkpaintbox","swanpaintboxsample","facepaintboxsample","console","log","wave","sum","i","average","push","Float32Array","centerAndNormalizeWave","magn","Math","abs","magnAvg","cumulative","newWave","getDrumWave","inverseRealFourierTransform","scaleElementsByFactor","chipNoises","chipNoiseLength","drumBuffer","newBuffer","random","drawNoiseSpectrum","sqrt","round","ultraboxnewchipnoiserand","pow","clz32","b3","b4","b5","b6","b0","b1","b2","white","lastOut","waveLength","lowOctave","highOctave","lowPower","highPower","overallSlope","lowIndex","highIndex","min","retroWave","combinedAmplitude","lerped","log2","amplitude","radians","PI","cos","sin","generateSquareWave","phaseWidth","sineWaveLength","centerPoint","generateSawWave","inverse","getArpeggioPitchIndex","pitchCount","useFastTwoNoteArp","arpeggio","arpeggioPattern","arpeggioPatterns","toNameMap","array","value","result","effectsIncludeTransition","effects","effectsIncludeChord","effectsIncludePitchShift","effectsIncludeDetune","effectsIncludeVibrato","effectsIncludeNoteFilter","effectsIncludeDistortion","effectsIncludeBitcrusher","effectsIncludePanning","effectsIncludeChorus","effectsIncludeEcho","effectsIncludeReverb","thresholdVal","kneeVal","ratioVal","attackVal","releaseVal","scales","realName","flags","keys","isWhiteKey","basePitch","blackKeyNameParents","tempoMin","tempoMax","octaveMin","octaveMax","echoDelayRange","echoDelayStepTicks","echoSustainRange","echoShelfHz","echoShelfGain","reverbShelfHz","reverbShelfGain","reverbRange","reverbDelayBufferSize","reverbDelayBufferMask","beatsPerBarMin","beatsPerBarMax","barCountMin","barCountMax","instrumentCountMin","layeredInstrumentCountMax","patternInstrumentCountMax","partsPerBeat","ticksPerPart","ticksPerArpeggio","rhythms","stepsPerBeat","roundUpThresholds","instrumentTypeNames","instrumentTypeHasSpecialInterval","chipBaseExpression","fmBaseExpression","noiseBaseExpression","spectrumBaseExpression","drumsetBaseExpression","harmonicsBaseExpression","pwmBaseExpression","pickedStringBaseExpression","distortionBaseVolume","bitcrusherBaseVolume","raw","newArray","Object","assign","key","rawChipToIntegrated","firstIndexForSamplesInChipWaveList","pitchFilterMult","isSoft","filterFreqStep","filterFreqRange","filterFreqReferenceSetting","filterFreqReferenceHz","filterFreqMaxHz","filterFreqMinHz","filterGainRange","filterGainCenter","filterGainStep","filterMaxPoints","filterTypeNames","filterMorphCount","filterSimpleCutRange","filterSimplePeakRange","fadeInRange","fadeOutTicks","fadeOutNeutral","drumsetFadeOutTicks","transitions","isSeamless","continues","slides","slideTicks","includeAdjacentPatterns","vibratos","type","delayTicks","vibratoTypes","periodsSeconds","period","arpSpeedScale","unisons","voices","spread","offset","sign","effectNames","effectOrder","noteSizeMax","volumeRange","volumeLogScale","panCenter","panMax","panDelaySecondsMax","chorusRange","chorusPeriodSeconds","chorusDelayRange","chorusDelayOffsets","chorusPhaseOffsets","chorusMaxDelay","concat","reduce","x","y","max","chords","customInterval","arpeggiates","strumParts","singleTone","maxChordSize","operatorCount","maxPitchOrOperatorCount","algorithms","carrierCount","associatedCarrier","modulatedBy","algorithms6Op","operatorCarrierInterval","operatorAmplitudeMax","operatorFrequencies","mult","hzOffset","amplitudeSign","envelopes","speed","feedbacks","indices","feedbacks6Op","spectrumNoiseLength","spectrumBasePitch","spectrumControlPoints","spectrumControlPointsPerOctave","spectrumControlPointBits","spectrumMax","harmonicsControlPoints","harmonicsRendered","harmonicsRenderedForPickedString","harmonicsControlPointBits","harmonicsMax","harmonicsWavelength","pulseWidthRange","pulseWidthStepPower","pitchChannelCountMin","pitchChannelCountMax","noiseChannelCountMin","noiseChannelCountMax","modChannelCountMin","modChannelCountMax","noiseInterval","pitchesPerOctave","drumCount","pitchOctaves","modCount","maxPitch","maximumTonesPerChannel","justIntonationSemitones","map","pitchShiftRange","pitchShiftCenter","detuneCenter","detuneMax","detuneMin","songDetuneMin","songDetuneMax","sineWaveMask","sineWave","generateSineWave","pickedStringDispersionCenterFreq","pickedStringDispersionFreqScale","pickedStringDispersionFreqMult","pickedStringShelfHz","distortionRange","stringSustainRange","stringDecayRate","bitcrusherFreqRange","bitcrusherOctaveStep","bitcrusherQuantizationRange","maxEnvelopeCount","defaultAutomationRange","instrumentAutomationTargets","computeIndex","displayName","interleave","isFilter","maxCount","effect","compatibleInstruments","operatorWaves","asin","generateTriWave","drive","generateTrapezoidWave","generateRoundedSineWave","pwmOperatorWaves","barEditorHeight","modulators","pianoName","maxRawVol","newNoteVol","forSong","convertRealFactor","associatedEffect","promptName","promptDesc","ceil","optionalModify","applyElementArgs","element","args","args_1","__values","args_1_1","next","done","arg","Node","createTextNode","isArray","Symbol","iterator","__spread","Element","_d","e_2","_e","setAttribute","join","warn","tagName","_f","e_3","_g","styleKey","style","setProperty","removeAttribute","svgNS","HTML","_i","arguments","createRange","createContextualFragment","SVG","fragment","createDocumentFragment","svgParser","DOMParser","parseFromString","documentElement","firstChild","importNode","name_1","_c","split","name_2","createElementNS","test","snakeCaseName","replace","ColorConfig","resetColors","colorLookup","clear","getArbitaryChannelColor","channel","getComputedStyle","_styleElement","getPropertyValue","trim","base","getComputed","noiseChannels","Number","modChannels","pitchChannels","regex","secondaryChannel","exec","primaryChannel","secondaryNote","primaryNote","noiseSecondaryChannelHue","noiseSecondaryChannelHueScale","noiseSecondaryChannelSat","noiseSecondaryChannelSatScale","noiseSecondaryChannelLum","noiseSecondaryChannelLumScale","noisePrimaryChannelHue","noisePrimaryChannelHueScale","noisePrimaryChannelSat","noisePrimaryChannelSatScale","noisePrimaryChannelLum","noisePrimaryChannelLumScale","noiseSecondaryNoteHue","noiseSecondaryNoteHueScale","noiseSecondaryNoteSat","noiseSecondaryNoteSatScale","noiseSecondaryNoteLum","noiseSecondaryNoteLumScale","noisePrimaryNoteHue","noisePrimaryNoteHueScale","noisePrimaryNoteSat","noisePrimaryNoteSatScale","noisePrimaryNoteLum","noisePrimaryNoteLumScale","newChannelColors","modSecondaryChannelHue","modSecondaryChannelHueScale","modSecondaryChannelSat","modSecondaryChannelSatScale","modSecondaryChannelLum","modSecondaryChannelLumScale","modPrimaryChannelHue","modPrimaryChannelHueScale","modPrimaryChannelSat","modPrimaryChannelSatScale","modPrimaryChannelLum","modPrimaryChannelLumScale","modSecondaryNoteHue","modSecondaryNoteHueScale","modSecondaryNoteSat","modSecondaryNoteSatScale","modSecondaryNoteLum","modSecondaryNoteLumScale","modPrimaryNoteHue","modPrimaryNoteHueScale","modPrimaryNoteSat","modPrimaryNoteSatScale","modPrimaryNoteLum","modPrimaryNoteLumScale","pitchSecondaryChannelHue","pitchSecondaryChannelHueScale","pitchSecondaryChannelSat","pitchSecondaryChannelSatScale","pitchSecondaryChannelLum","pitchSecondaryChannelLumScale","pitchPrimaryChannelHue","pitchPrimaryChannelHueScale","pitchPrimaryChannelSat","pitchPrimaryChannelSatScale","pitchPrimaryChannelLum","pitchPrimaryChannelLumScale","pitchSecondaryNoteHue","pitchSecondaryNoteHueScale","pitchSecondaryNoteSat","pitchSecondaryNoteSatScale","pitchSecondaryNoteLum","pitchSecondaryNoteLumScale","pitchPrimaryNoteHue","pitchPrimaryNoteHueScale","pitchPrimaryNoteSat","pitchPrimaryNoteSatScale","pitchPrimaryNoteLum","pitchPrimaryNoteLumScale","floor","getComputedChannelColor","song","getChannelColor","pitchChannelCount","noiseChannelCount","has","get","setTheme","theme","themes","undefined","textContent","themeColor","querySelector","Map","forest","canyon","midnight","beachcombing","roe","moonlight","autumn","fruit","sunset","toxic","portal","fusion","nebula","energized","neapolitan","mono","zefbox","harrybox","brucebox","nerdbox","fogbox","foxbox","wackybox","microbox","paandorasbox","slushie","midbox","dogebox2","custom","localStorage","getItem","pageMargin","editorBackground","hoverPreview","playhead","primaryText","secondaryText","invertedText","textSelection","boxSelectionFill","loopAccent","linkAccent","uiWidgetBackground","uiWidgetFocus","pitchBackground","tonic","fifthNote","whitePianoKey","blackPianoKey","whitePianoKeyText","blackPianoKeyText","oscilloscopeLineL","oscilloscopeLineR","modTitle","useColorFormula","trackEditorBgPitch","trackEditorBgPitchDim","trackEditorBgNoise","trackEditorBgNoiseDim","trackEditorBgMod","trackEditorBgModDim","multiplicativeModSlider","overwritingModSlider","indicatorPrimary","indicatorSecondary","select2OptGroup","inputBoxOutline","muteButtonNormal","muteButtonMod","modLabelPrimary","modLabelSecondaryText","modLabelPrimaryText","disabledNotePrimary","disabledNoteSecondary","navigator","userAgent","EditorConfig","valueToPreset","presetValue","categoryIndex","presetIndex","presetCategories","presets","midiProgramToPresetValue","program","category","preset","generalMidi","midiProgram","nameToPresetValue","presetName","instrumentToPreset","instrument","_a","factor","countBits","n","isPowerOf2","fullArrayLength","totalPasses","pass","subStride","midSubStride","stride","radiansIncrement","cosIncrement","sinIncrement","oscillatorMultiplier","startIndexA","midIndexA","startIndexB","midIndexB","stopIndex","realStartA","imagStartB","c","s","cPrev","sPrev","indexA0","indexA1","indexB0","indexB1","real0","real1","imag0","imag1","tempA","tempB","cTemp","sTemp","index1","index2","index3","imag2","imag3","bitCount","finalShift","j","temp","reverseIndexBits","version","versionDisplayName","releaseNotesURL","isOnMac","platform","ctrlSymbol","ctrlName","customType","settings","eqFilter","transition","fadeInSeconds","chord","unison","cutoffHz","linearGain","vibrato","isNoise","filterCutoffHz","filterResonance","filterEnvelope","algorithm","feedbackType","feedbackAmplitude","operators","frequency","target","envelope","customChipWave","feedbackEnvelope","noteFilter","reverb","harmonics","stringSustain","midiSubharmonicOctaves","interval","bitcrusherOctave","bitcrusherQuantization","distortion","pulseWidth","chorus","spectrum","pulseEnvelope","drums","pitchShiftSemitones","volume","eqFilterType","eqSimpleCut","eqSimplePeak","eqSubFilters0","clicklessTransition","fastTwoNoteArp","arpeggioSpeed","detuneCents","vibratoDepth","vibratoDelay","vibratoSpeed","vibratoType","pan","panDelay","customChipWaveIntegral","eqSubFilters1","noteFilterType","noteSimpleCut","noteSimplePeak","noteSubFilters0","echoSustain","echoDelayBeats","waveform","noteSubFilters1","aliases","isUsingAdvancedLoopControls","chipWaveLoopStart","chipWaveLoopEnd","chipWaveLoopMode","chipWavePlayBackwards","chipWaveStartOffset","Deque","_capacity","_buffer","_mask","_offset","_count","pushFront","_expandCapacity","pushBack","popFront","popBack","peakFront","peakBack","count","remove","oldBuffer","size","events","activeEvents","listeners","raise","eventType","eventData","extraEventData","pop","listen","callback","unlisten","lisen","indexOf","splice","unlistenAll","FilterCoefficients","a","b","order","linearGain0thOrder","lowPass1stOrderButterworth","cornerRadiansPerSample","g","tan","a0","lowPass1stOrderSimplified","highPass1stOrderButterworth","highShelf1stOrder","shelfLinearGain","sqrtGain","allPass1stOrderInvertPhaseAbove","allPass1stOrderFractionalDelay","delay","lowPass2ndOrderButterworth","peakLinearGain","alpha","lowPass2ndOrderSimplified","feedback","highPass2ndOrderButterworth","peak2ndOrder","bandWidthScale","bandWidth","FrequencyResponse","real","imag","denom","analyze","filter","radiansPerSample","analyzeComplex","realZ1","imagZ1","realNum","imagNum","realDenom","imagDenom","realZ","imagZ","imagTemp","magnitude","angle","atan2","DynamicBiquadFilter","a1","a2","a1Delta","a2Delta","b0Delta","b1Delta","b2Delta","output1","output2","useMultiplicativeInputCoefficients","resetOutput","loadCoefficientsWithGradient","start","end","deltaRate","epsilon","clamp","val","validateRange","parseFloatWithDefault","defaultValue","parseFloat","isNaN","parseIntWithDefault","parseInt","encode32BitNumber","buffer","base64IntToCharCode","decode32BitNumber","compressed","charIndex","base64CharCodeToInt","charCodeAt","encodeUnisonSettings","v","o","e","cleanS","cleanSDivided","cleanO","cleanODivided","cleanE","cleanI","convertLegacyKeyToKeyAndOctave","rawKeyIndex","octave","BitFieldReader","source","_bits","_readIndex","read","readLongTail","minValue","minBits","numBits","readPartDuration","readLegacyPartDuration","readPinCount","readPitchInterval","BitFieldWriter","_index","write","writeLongTail","writePartDuration","writePinCount","writePitchInterval","other","encodeBase64","lengthBase64","makeNotePin","time","Note","pitch","fadeout","pitches","pins","continuesLastPattern","pickMainInterval","longestFlatIntervalDuration","mainInterval","pinIndex","pinA","pinB","duration","loudestSize","pin","clone","newNote","getEndPinIndex","part","endPinIndex","Pattern","notes","instruments","cloneNotes","note","reset","toJsonObject","isModChannel","noteArray","mod","volumeCap","getVolumeCapForSetting","modFilterTypes","pointArray","useVol","tick","rhythm","pitchBend","forMod","noteObject","points","patternObject","patternInstruments","fromJsonObject","importedPartsPerBeat","isNoiseChannel","instrumentCount","getMaxInstrumentsPerPatternForChannel","maxNoteCount","beatsPerBar","k","startInterval","pointObject","lowestPitch","highestPitch","Operator","copy","CustomAlgorithm","fromPreset","carriers","modulation","CustomFeedBack","inIndices","SpectrumWave","hash","isHarmonic","markCustomWaveDirty","hashMult","Synth","fittingPowerOfTwo","point","SpectrumWaveState","_hash","getCustomWave","lowestOctave","pitchTweak","controlPointToOctave","value1","value2","octave1","octave2","HarmonicsWave","HarmonicsWaveState","instrumentType","_generatedForType","combinedControlPointAmplitude","harmonicIndex","harmonicFreq","controlValue","normalizedValue","performIntegralOld","FilterControlPoint","freq","gain","freqSetting","gainSetting","getHz","getHzFromSettingValue","getSettingValueFromHz","hz","getRoundedSettingValueFromHz","getLinearGain","peakMult","power","neutral","interpolatedPower","getRoundedSettingValueFromLinearGain","toCoefficients","freqMult","getVolumeCompensationMult","gainPow","freqRelativeTo8khz","warpedFreq","warpedOctave","distanceFromCenter","freqLoudness","FilterSettings","controlPoints","controlPointCount","addPoint","controlPoint","filterArray","filterObject","filtersCanMorph","filterA","filterB","lerpFilters","pos","lerpedFilter","convertLegacySettings","legacyCutoffSetting","legacyResonanceSetting","legacyEnv","legacyFilterMaxRadians","legacyFilterMax","resonant","firstOrder","cutoffAtMax","legacyFilterCutoffRange","envDecays","standardSampleRate","legacyHz","legacyRadians","extraOctaves","targetRadians","curvedHz","finalHz","finalRadians","legacyFilter","legacyFilterGainAtNewRadians","logGain","convertedGain","intendedGain","invertedGain","curvedRadians","legacyFilterGain","convertLegacySettingsForSynth","allowFirstOrder","EnvelopeSettings","envelopeObject","Instrument","chipNoise","eqFilterSimpleCut","eqFilterSimplePeak","noteFilterSimpleCut","noteFilterSimplePeak","eqSubFilters","noteSubFilters","fadeIn","fadeOut","envelopeCount","pitchShift","detune","unisonVoices","unisonSpread","unisonOffset","unisonExpression","unisonSign","legacyTieOver","decimalOffset","bitcrusherFreq","echoDelay","algorithm6Op","feedbackType6Op","customAlgorithm","customFeedbackType","LFOtime","nextLFOtime","arpTime","harmonicsWave","drumsetEnvelopes","drumsetSpectrumWaves","modInstruments","invalidModulators","spectrumWave","wavePrev","setTypeAndReset","legacySettings","forceSimpleFilter","filterCutoff","legacyFilterEnv","legacyPulseEnv","legacyOperatorEnvelopes","operatorEnvelopes","legacyFeedbackEnv","noCarriersControlledByNoteSize","allCarriersControlledByNoteSize","noteSizeControlsSomethingElse","addEnvelope","instrumentObject","getChord","detuneToCents","fadeInSettingToSeconds","fadeOutSettingToTicks","getDrumsetEnvelope","operatorArray","operator","customFeedback","Float64Array","useSlowerRhythm","legacyGlobalReverb","legacyEffectsNames","transitionProperty","binary","seamless","sudden","hard","smooth","soft","slide","secondsToFadeInSetting","ticksToFadeOutSetting","chordProperty","legacyChordNames","harmony","unisonProperty","legacyChorusNames","union","fifths","octaves","centsToDetune","vibratoProperty","legacyVibratoNames","findIndex","legacyEnvelopeNames","steady","getEnvelope","drum","legacyWaveNames","triangle","square","sawtooth","spiky","plateau","modboxWaveNames","sax","guitar","viola","brass","lyre","piccolo","squaretooth","flatline","sandboxWaveNames","euphonium","recorder","contrabass","zefboxWaveNames","squaretal","sawtal","pulse","miscWaveNames","test1","intense","paandorasboxWaveNames","kick","snare","piano1","WOW","overdrive","trumpet","saxophone","orchestrahit","synth","sonic3snare","choir","overdriveguitar","flute","tuba","loopingcymbal","standardkick","standardsnare","closedhihat","foothihat","openhihat","crashcymbal","pianoC4","marimba","susdotwav","wackyboxtts","rawName","table","potentialChipWaveIndex","feedback6Op","operatorObject","filterCutoffMaxHz","filterCutoffRange","filterResonanceRange","LN2","legacyToCutoff","legacyToEnvelope","filterNames","oldFilterNames","envelopeArray","tempEnvelope","frequencyFromPitch","makeEmpty","supportsEnvelopeTarget","envelopeSettings","automationTarget","useControlPointCount","clearInvalidEnvelopeTargets","envelopeIndex","getTransition","getFadeInSeconds","getFadeOutTicks","Channel","patterns","bars","muted","Song","string","scaleCustom","channels","limitDecay","limitRise","compressionThreshold","limitThreshold","compressionRatio","limitRatio","masterGain","inVolumeCap","outVolumeCap","getNewNoteVolume","isMod","modChannel","modInstrument","vol","tempoIndex","tempo","getVolumeCap","modulator","cap","modSetting","filterType","fromBase64String","initToDefault","getChannelCount","modChannelCount","getMaxInstrumentsPerChannel","layeredInstruments","getMaxInstrumentsPerPattern","channelIndex","getChannelIsNoise","getChannelIsMod","andResetChannels","scale","loopStart","loopLength","barCount","patternsPerChannel","title","pattern","bar","toBase64String","bits","_variant","_latestUltraBoxVersion","encodedSongTitle","encodeURIComponent","encodedChannelName","usingSubFilterBitfield","harmonicsBits","encodedLoopMode","encodedReleaseMode","spectrumBits","neededBits","shapeBits","bitsPerNoteSize","getNeededBits","maxInstrumentsPerPattern","neededInstrumentCountBits","neededInstrumentIndexBits","neededModInstrumentIndexBits","instrumentIndex","modFilter","status","octaveOffset","lastPitch","recentPitches","recentShapes","curPart","shapePart","startPitch","currentPitch","pitchBends","nextPitch","shapeString","String","fromCharCode","apply","shapeIndex","unshift","allPitches","pitchIndex","pitchIter","stringLength","digits","prototype","maxApplyArgs","customSamplesStr","customSamples","slice","_envelopeFromLegacyIndex","legacyIndex","_clearSamples","JSON","parse","substring","variantTest","fromBeepBox","fromJummBox","fromGoldBox","fromUltraBox","_latestBeepboxVersion","_oldestBeepboxVersion","_latestJummBoxVersion","_oldestJummBoxVersion","_latestGoldBoxVersion","_oldestGoldBoxVersion","_oldestUltraBoxVersion","beforeTwo","beforeThree","beforeFour","beforeFive","beforeSix","beforeSeven","beforeEight","beforeNine","willLoadLegacySamplesForOldSongs","compressed_array","replaceAll","shift","_restoreChipWaveListToDefault","willLoadLegacySamples","willLoadNintariboxSamples","willLoadMarioPaintboxSamples","customSampleUrls","customSamplePresets","toLowerCase","parseOldSyntax","_parseAndConfigureCustomSample","customSamplePresetsMap","legacySettingsCache","command","instrumentChannelIterator","instrumentIndexIterator","useSlowerArpSpeed","songNameLength","decodeURIComponent","channelCount","instrumentsPerChannel","instrumentsFlagBits","newRhythm","legacyWaves","chipWaveReal","chipWaveCounter","chipWaveForCompat","URL","typeCheck","originalControlPointCount","originalSubfilterControlPointCount","sampleLoopInfoEncodedLength","sampleLoopInfoEncoded","sampleLoopInfo","atob","entry","info","Boolean","pregoldToEnvelope","aa","legacyEffects","legacyEnvelopes","originalValue","unisonSpreadNegative","unisonOffsetNegative","unisonExpressionNegative","unisonSignNegative","nextValue","restoreLimiterDefaults","channelNameLength","carrierCountTemp","tempModArray","freqToGold3","freqToUltraBox","pre3To3g","old","jummToG","byteCount","subStringLength","bitStringLength","largerChords","recentPitchBitLength","recentPitchLength","bitStringLengthLength","songReverbChannel","songReverbInstrument","songReverbIndex","jumfive","forNoteFilter","detuneScaleNotes","newPattern","newNotes","noteCount","useOldShape","shape","pinCount","initialSize","bendCount","pinObj","intervalIter","isBackwards","restLength","patternIndex","lowestPart","chn","window","location","setTimeout","reload","_isProperUrl","customSampleUrlIndex","urlSliced","isCustomPercussive","customRootKey","presetIsUsingAdvancedLoopControls","presetChipWaveLoopStart","presetChipWaveLoopEnd","presetChipWaveStartOffset","presetChipWaveLoopMode","presetChipWavePlayBackwards","parsedSampleOptions","optionsStartIndex","optionsEndIndex","rawOptions","rawOption","optionCode","charAt","optionData","parsedUrl","sliceForSampleRate","sliceForRootKey","urlWithNamedOptions","namedOptions","pathname","isCustomSampled","rootKey","customSamplePresetSettings","customSamplePreset","enableIntro","loopCount","enableOutro","channelArray","instrumentArray","patternArray","sequenceArray","l","channelObject","sequence","format","_format","customScale","keyOctave","introBars","loopBars","ticksPerBeat","beatsPerMinute","jsonObject","shouldLoadLegacySamples","instrumentObjects","waveName","names","oldNames","veryOldNames","includes","oldScaleNames","enigma","scaleName","letter","toUpperCase","symbol","C","D","E","F","G","A","B","maxInstruments","maxPatterns","maxBars","newPitchChannels","newNoiseChannels","newModChannels","getPattern","getBeatsPerMinute","maxValue","PickedString","delayLine","allPassG","allPassGDelta","shelfA1","shelfA1Delta","shelfB0","shelfB0Delta","shelfB1","shelfB1Delta","delayIndex","allPassSample","allPassPrevInput","shelfSample","shelfPrevInput","fractionalDelaySample","prevDelayLength","delayResetOffset","update","instrumentState","tone","stringIndex","roundedSamplesPerTick","stringDecayStart","stringDecayEnd","allPassCenter","samplesPerSecond","shelfRadians","decayCurveStart","decayCurveEnd","phaseDeltaStart","phaseDeltas","phaseDeltaScale","phaseDeltaScales","phaseDeltaEnd","radiansPerSampleStart","radiansPerSampleEnd","centerHarmonicStart","centerHarmonicEnd","allPassRadiansStart","allPassRadiansEnd","decayRateStart","decayRateEnd","shelfGainStart","shelfGainEnd","expressionDecayStart","expressionDecayEnd","tempFilterStartCoefficients","tempFrequencyResponse","allPassGStart","allPassPhaseDelayStart","tempFilterEndCoefficients","allPassGEnd","allPassPhaseDelayEnd","shelfA1Start","shelfB0Start","shelfB1Start","shelfPhaseDelayStart","shelfA1End","shelfB0End","shelfB1End","shelfPhaseDelayEnd","periodLengthStart","periodLengthEnd","minBufferLength","delayLength","delayLengthEnd","delayLengthDelta","pitchChanged","reinitializeImpulse","likelyMaximumLength","newDelayLine","oldDelayBufferMask","startCopyingFromIndex","delayBufferMask","startImpulseFrom","startZerosFrom","stopZerosAt","impulseWave","impulseWaveLength","impulsePhaseDelta","fadeDuration","startImpulseFromSample","stopImpulseAt","stopImpulseAtSample","impulsePhase","prevWaveIntegral","impulsePhaseInt","nextWaveIntegral","phaseRatio","sample","combinedFade","curvedFade","EnvelopeComputer","noteSecondsStart","noteSecondsEnd","noteTicksStart","noteTicksEnd","noteSizeStart","noteSizeEnd","prevNoteSize","nextNoteSize","_noteSizeFinal","prevNoteSecondsStart","prevNoteSecondsEnd","prevNoteTicksStart","prevNoteTicksEnd","_prevNoteSizeFinal","prevSlideStart","prevSlideEnd","nextSlideStart","nextSlideEnd","prevSlideRatioStart","prevSlideRatioEnd","nextSlideRatioStart","nextSlideRatioEnd","envelopeStarts","envelopeEnds","_modifiedEnvelopeIndices","_modifiedEnvelopeCount","lowpassCutoffDecayVolumeCompensation","computeEnvelopes","currentPart","tickTimeStart","secondsPerTick","atNoteStart","forceContinueAtStart","tickTimeEnd","beatsPerTick","beatTimeStart","beatTimeEnd","passedEndOfNote","startPin","endPin","startPinTick","endPinTick","ratioStart","ratioEnd","noteStartTick","noteStartPart","noteEndTick","noteEndPart","maximumSlideTicks","prevNote","nextNote","forceContinueAtEnd","usedNoteSize","targetIndex","envelopeStart","computeEnvelope","envelopeEnd","filterSettings","tmpNoteFilterStart","getLowpassCutoffDecayVolumeCompensation","clearEnvelopes","beats","noteSize","noteSizeToVolumeMult","attack","lin","Tone","fill","chordSize","drumsetPitch","prevNotePitchIndex","nextNotePitchIndex","freshlyAllocated","isOnLastTick","ticksSinceReleased","liveInputSamplesHeld","lastInterval","noiseSample","stringSustainStart","stringSustainEnd","phases","directions","chipWaveCompletions","chipWavePrevWaves","chipWaveCompletionsLastWave","expressionDelta","operatorExpressions","operatorExpressionDeltas","prevPitchExpressions","prevVibrato","prevStringDecay","pulseWidthDelta","pickedStrings","noteFilters","noteFilterCount","initialNoteFilterInput1","initialNoteFilterInput2","specialIntervalExpressionMult","feedbackOutputs","feedbackMult","feedbackDelta","stereoVolumeLStart","stereoVolumeRStart","stereoVolumeLDelta","stereoVolumeRDelta","stereoDelayStart","stereoDelayEnd","stereoDelayDelta","customVolumeStart","customVolumeEnd","filterResonanceStart","filterResonanceDelta","isFirstOrder","envelopeComputer","pickedString","InstrumentState","awake","computed","tonesAddedInThisTick","flushingDelayLines","deactivateAfterThisTick","attentuationProgress","flushedSamples","activeTones","activeModTones","releasedTones","liveInputTones","synthesizer","noisePitchFilterMult","volumeScale","eqFilterVolume","eqFilterVolumeDelta","mixVolume","mixVolumeDelta","delayInputMult","delayInputMultDelta","distortionDelta","distortionDrive","distortionDriveDelta","distortionFractionalInput1","distortionFractionalInput2","distortionFractionalInput3","distortionPrevInput","distortionNextOutput","bitcrusherPrevInput","bitcrusherCurrentOutput","bitcrusherPhase","bitcrusherPhaseDelta","bitcrusherPhaseDeltaScale","bitcrusherScale","bitcrusherScaleScale","bitcrusherFoldLevel","bitcrusherFoldLevelScale","eqFilters","eqFilterCount","initialEqFilterInput1","initialEqFilterInput2","panningDelayLine","panningDelayPos","panningVolumeL","panningVolumeR","panningVolumeDeltaL","panningVolumeDeltaR","panningOffsetL","panningOffsetR","panningOffsetDeltaL","panningOffsetDeltaR","chorusDelayLineL","chorusDelayLineR","chorusDelayLineDirty","chorusDelayPos","chorusPhase","chorusVoiceMult","chorusVoiceMultDelta","chorusCombinedMult","chorusCombinedMultDelta","echoDelayLineL","echoDelayLineR","echoDelayLineDirty","echoDelayPos","echoDelayOffsetStart","echoDelayOffsetEnd","echoDelayOffsetRatio","echoDelayOffsetRatioDelta","echoMult","echoMultDelta","echoShelfA1","echoShelfB0","echoShelfB1","echoShelfSampleL","echoShelfSampleR","echoShelfPrevInputL","echoShelfPrevInputR","reverbDelayLine","reverbDelayLineDirty","reverbDelayPos","reverbMult","reverbMultDelta","reverbShelfA1","reverbShelfB0","reverbShelfB1","reverbShelfSample0","reverbShelfSample1","reverbShelfSample2","reverbShelfSample3","reverbShelfPrevInput0","reverbShelfPrevInput1","reverbShelfPrevInput2","reverbShelfPrevInput3","allocateNecessaryBuffers","samplesPerTick","panningDelayBufferSize","chorusDelayBufferSize","safeEchoDelaySteps","safeEchoDelayBufferSize","newDelayLineL","newDelayLineR","oldMask","deactivate","resetAllEffects","compute","getInstrumentSynthFunction","updateWaves","usesDistortion","usesBitcrusher","usesPanning","usesChorus","usesEcho","usesReverb","useDistortionStart","useDistortionEnd","isModActive","getModValue","distortionSliderStart","distortionSliderEnd","distortionStart","distortionEnd","distortionDriveStart","distortionDriveEnd","freqSettingStart","freqSettingEnd","quantizationSettingStart","quantizationSettingEnd","freqStart","freqEnd","scaleStart","scaleEnd","foldLevelStart","foldLevelEnd","eqFilterSettingsStart","eqFilterSettingsEnd","startPoint","startSimpleFreq","startSimpleGain","endSimpleFreq","endSimpleGain","filterChanges","endPoint","eqFilterSettings","tmpEqFilterStart","tmpEqFilterEnd","mainInstrumentVolume","instrumentVolumeToVolumeMult","mixVolumeEnd","startVal","endVal","eqFilterVolumeStart","eqFilterVolumeEnd","delayInputMultStart","delayInputMultEnd","usePanStart","usePanEnd","panStart","panEnd","volumeStartL","volumeStartR","volumeEndL","volumeEndR","maxDelaySamples","usePanDelayStart","usePanDelayEnd","delayStart","delayEnd","delayStartL","delayStartR","delayEndL","delayEndR","useChorusStart","useChorusEnd","chorusStart","chorusEnd","chorusCombinedMultStart","chorusCombinedMultEnd","maxEchoMult","averageEchoDelaySeconds","useEchoSustainStart","useEchoSustainEnd","echoMultStart","echoMultEnd","useEchoDelayStart","useEchoDelayEnd","ignoreTicks","tmpEchoDelayOffsetStart","tmpEchoDelayOffsetEnd","maxReverbMult","useReverbStart","useReverbEnd","reverbStart","reverbEnd","totalDelaySamples","attenuationThreshold","halfLifeMult","delayDuration","attenuationPerSecond","averageMult","averageReverbDelaySeconds","progressInTick","progressAtEndOfTick","_drumsetIndexToSpectrumOctave","getDrumsetWave","drumsetIndexReferenceDelta","ChannelState","singleSeamlessInstrument","syncSongState","channelState","warmUpSynthesizer","getSamplesPerTick","tmpNoteFilterEnd","dummyArray","isPlayingSong","synthesize","computeLatestModValues","latestModTimes","latestModInsTimes","modValues","nextModValues","modInsValues","nextModInsValues","beat","currentBar","instrumentIdx","latestPinParts","latestPinValues","partsInBar","findPartsInBar","pinIdx","transitionLength","toNextBarLength","deltaVolume","setModValue","usedInstruments","tgtPattern","eqFilterParam","noteFilterParam","modulatorAdjust","tgtInstrument","determineInvalidModulators","tgtInstrumentList","str","operatorAmplitudeCurve","playing","recording","isRecording","playheadInternal","remainder","tickSampleCountdown","isAtStartOfTick","prevBar","getSamplesPerBar","getTicksIntoBar","getCurrentPart","getTotalSamples","loop","startBar","endBar","hasTempoMods","hasNextBarMods","prevTempo","latestTempoPin","latestTempoValue","ended","foundMod","find","sort","getSamplesPerTickSpecificBPM","tickLength","prevPinTempo","currPinTempo","bpmScalar","getTotalBars","useLoopCount","loopRepeatCount","preferLowerLatency","anticipatePoorPerformance","liveInputDuration","liveInputStarted","liveInputPitches","liveInputChannel","liveInputInstruments","oscRefreshEventTimer","oscEnabled","enableMetronome","countInMetronome","renderingSong","wantToSkip","nextBar","isAtEndOfTick","liveInputEndTime","browserAutomaticallyClearsAudioBuffer","tempDrumSetControlPoint","tonePool","tempMatchedPitchTones","startedMetronome","metronomeSamplesRemaining","metronomeAmplitude","metronomePrevAmplitude","metronomeFilter","limit","tempMonoInstrumentSampleBuffer","audioCtx","scriptNode","audioProcessCallback","audioProcessingEvent","outputBuffer","outputDataL","outputDataR","performance","now","deactivateAudio","computeDelayBufferSizes","setSong","panningDelayBufferMask","chorusDelayBufferMask","activateAudio","bufferSize","latencyHint","webkitAudioContext","createScriptProcessor","createJavaScriptNode","onaudioprocess","channelCountMode","channelInterpretation","connect","destination","resume","disconnect","maintainLiveInput","play","pause","startRecording","resetEffects","freeAllTones","volumeStart","volumeEnd","setting","nextVal","isAnyModActive","unsetMod","isFilterModActive","channelIdx","snapToStart","snapToBar","goToBar","jumpIntoLoop","oldBar","goToNextBar","goToPrevBar","getNextBar","skipBar","outputBufferLength","playSong","skippedBars","firstSkippedBufferIndex","bufferIndex","samplesLeftInBuffer","samplesLeftInTick","runLength","runEnd","determineCurrentActiveTones","playModTone","barVisited","determineLiveInputTones","tonesPlayedInThisInstrument","freeReleasedTone","shouldFadeOutFast","computeTone","playTone","effectsSynth","startRatio","endRatio","ticksIntoBar","partTimeTickStart","partTimeTickEnd","partTimeStart","partTimeEnd","useVibratoSpeed","midBeat","periods","samplesPerPeriod","tempAmplitude","sampleL","sampleR","absL","absR","limitRange","limitTarget","limitedVolume","useArpeggioSpeed","isInteger","isFinite","freeTone","newTone","releaseTone","toneIndex","toneList","toneCount","moveTonesIntoOrderedTempMatchedList","clearTempMatchedPitchTones","adjacentPatternHasCompatibleInstrumentTransition","otherPattern","otherNote","forceContinue","otherInstrument","otherTransition","adjacentNotesHaveMatchingPitches","firstNote","secondNote","firstNoteInterval","notePitches","currentTick","prevNotes","nextNotes","fillCount","modToneCount","newInstrumentIndex","sourceInstrumentState","destInstrumentState","prevNoteForThisInstrument","nextNoteForThisInstrument","oldTone","partsPerBar","tonesInPrevNote","tonesInNextNote","prevPattern","lastNote","patternForcesContinueAtStart","chordOfCompatibleInstrument","nextPattern","nextPatternForcesContinueAtStart","strumOffsetParts","prevNoteForThisTone","noteForThisTone","nextNoteForThisTone","released","modSynth","computeChordExpression","chordExpression","intervalScale","secondsPerPart","sampleTime","beatsPerPart","specialIntervalMult","toneIsOnLastTick","intervalStart","intervalEnd","fadeExpressionStart","fadeExpressionEnd","chordExpressionStart","chordExpressionEnd","expressionReferencePitch","baseExpression","pitchDamping","chipWaveLength","firstOffset","lastOffset","getOperatorWave","startTicksSinceReleased","endTicksSinceReleased","pinStart","pinEnd","noteTicksPassedTickStart","noteTicksPassedTickEnd","pinRatioStart","pinRatioEnd","noteLengthTicks","tmpNoteFilter","noteFilterSettingsStart","noteFilterSettingsEnd","intervalDiff","chordSizeDiff","pitchShiftScalarStart","pitchShiftScalarEnd","modDetuneStart","modDetuneEnd","vibratoAmplitudeStart","vibratoAmplitudeEnd","vibratoStart","POSITIVE_INFINITY","getLFOAmplitude","ticksUntilVibratoStart","lfoEnd","vibratoDepthEnvelopeEnd","vibratoEnd","ticksUntilVibratoEnd","noteFilterExpression","noteAllFreqsEnvelopeStart","noteAllFreqsEnvelopeEnd","noteFreqEnvelopeStart","noteFreqEnvelopeEnd","notePeakEnvelopeStart","notePeakEnvelopeEnd","noteFilterSettings","drumsetFilterEnvelope","drumsetFilterEnvelopeStart","drumsetFilterEnvelopeEnd","sineExpressionBoost","totalCarrierExpression","arpeggioInterval","associatedCarrierIndex","pitchStart","pitchEnd","baseFreqStart","baseFreqEnd","targetFreqStart","targetFreqEnd","freqEnvelopeStart","freqEnvelopeEnd","amplitudeStart","amplitudeEnd","amplitudeCurveStart","amplitudeCurveEnd","expressionStart","expressionEnd","pitchExpressionStart","pitchExpressionEnd","useFeedbackAmplitudeStart","useFeedbackAmplitudeEnd","feedbackAmplitudeStart","feedbackAmplitudeEnd","feedbackStart","feedbackEnd","basePhaseDeltaScale","intervalOffset","endPitch","settingsExpressionMult","basePulseWidth","pulseWidthModStart","pulseWidthModEnd","pulseWidthStart","pulseWidthEnd","decimalOffsetModStart","decimalOffsetStart","useSustainStart","useSustainEnd","startFreq","unisonEnvelopeStart","unisonEnvelopeEnd","unisonAStart","unisonAEnd","unisonBStart","unisonBEnd","sustainEnvelopeStart","sustainEnvelopeEnd","secondsIntoBar","vibratoPeriodSeconds","fingerprint","fmSynthFunctionCache","synthSource","line","fmSourceTemplate","outputs","operatorLine","operatorSourceTemplate","modulatorNumber","feedbackIndices","Function","loopableChipSynth","chipSynth","harmonicsSynth","pulseWidthSynth","pickedStringSynth","noiseSynth","spectrumSynth","drumsetSynth","fm6SynthFunctionCache","wrap","data","chipWaveLoopLength","phaseDeltaA","phaseDeltaB","directionA","directionB","chipWaveCompletionA","chipWaveCompletionB","lastWaveA","lastWaveB","chipWaveCompletionFadeLength","phaseDeltaScaleA","phaseDeltaScaleB","phaseA","phaseB","prevWaveIntegralA","prevWaveIntegralB","phaseAInt","phaseBInt","indexA","indexB","phaseRatioA","phaseRatioB","filters","filterCount","initialFilterInput1","initialFilterInput2","applyFilters","prevWaveA","prevWaveB","sampleIndex","wrapped","waveA","waveB","inputSample","completionFadeA","completionFadeB","nextWaveIntegralA","nextWaveIntegralB","pwia","pwib","phaseA_","phaseB_","output","sanitizeFilters","voiceCount","pickedStringFunction","pickedStringFunctionCache","pickedStringSource","sampleList","voice","lines","usesEqFilter","signature","effectsFunction","effectsFunctionCache","effectsSource","usesDelays","phaseDelta","phase","sawPhaseA","sawPhaseB","pulseWave","t","phaseMask","pitchRelativefilter","findRandomZeroCrossing","phaseInt","waveSample","referenceDelta","stereoBufferIndex","dotTarget","lerpEndRatio","indexPrev","attemptsRemaining","indexNext","waveNext","innerIndexNext","innerWaveNext","slope","instrumentVolume","volumeMultToInstrumentVolume","volumeMult","volumeMultToNoteSize","seconds","ticks","lower","upper","cents","beatsPerSecond","partsPerSecond","tickPerSecond","sanitizeDelayLine","lastIndex","mask","input1","input2","button","div","h1","input","canvas","svg","circle","rect","path","isMobile","colorTheme","getLocalStorage","animationRequest","prevHash","id","toString","pauseButtonDisplayed","zoomEnabled","timelineWidth","outVolumeHistoricTimer","outVolumeHistoricCap","oscilascope","_EventUpdateCanvas","directlinkL","directlinkR","ctx","getContext","fillStyle","fillRect","width","height","yl","yr","display","titleText","editLink","copyLink","href","shareLink","fullscreenLink","draggingPlayhead","playButton","playButtonContainer","loopIcon","d","loopButton","viewBox","volumeIcon","volumeSlider","step","zoomIcon","cx","cy","r","stroke","zoomButton","timeline","timelineContainer","visualizationContainer","outVolumeBarBg","outVolumeBar","stop1","stop","stop2","stop3","gradient","linearGradient","gradientUnits","defs","volumeBarContainer","preserveAspectRatio","setLocalStorage","setItem","loadSong","songString","reuseParams","updatedSongString","hashUpdatedExternally","myHash","parameter","equalsIndex","paramName","renderLoopIcon","renderTimeline","body","pauseIfAnotherPlayerStartsHandle","pauseIfAnotherPlayerStarts","clearInterval","storedPlayerId","onTogglePlay","renderPlayhead","animate","requestAnimationFrame","volumeUpdate","renderPlayButton","useOutVolumeCap","historicOutCap","cancelAnimationFrame","setInterval","onTimelineMouseMove","preventDefault","onTimelineCursorMove","clientX","pageX","onTimelineTouchMove","touches","mouseX","boundingRect","getBoundingClientRect","left","right","onTimelineCursorUp","setSynthVolume","scrollLeft","innerHTML","timelineHeight","windowOctaves","windowPitchCount","semitoneHeight","targetBeatWidth","targetSemitoneHeight","barWidth","partWidth","wavePitchHeight","drumPitchHeight","color","opacity","pitchHeight","configuredOctaveScroll","offsetY","offsetX","drawNote","noteElement","radius","classList","add","renderZoomIcon","top","self","keyCode","nav","clipboard","writeText","prompt","textField","select","succeeded","execCommand","share"],"sources":["../../synth/SynthConfig.ts","../../node_modules/imperative-html/src/elements-base.ts","../../node_modules/imperative-html/src/elements-strict.ts","../../editor/ColorConfig.ts","../../editor/EditorConfig.ts","../../synth/FFT.ts","../../synth/Deque.ts","../../global/Events.ts","../../synth/filtering.ts","../../synth/synth.ts","../../player/main.ts","../../global/Oscilascope.ts"],"sourcesContent":["/*!\nCopyright (c) 2012-2022 John Nesky and contributing authors\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of \nthis software and associated documentation files (the \"Software\"), to deal in \nthe Software without restriction, including without limitation the rights to \nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies \nof the Software, and to permit persons to whom the Software is furnished to do \nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all \ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR \nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, \nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE \nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER \nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, \nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE \nSOFTWARE.\n*/\n\nexport interface Dictionary<T> {\n    [K: string]: T;\n}\n\n// @TODO: Not ideal to make this writable like this.\n// export interface DictionaryArray<T> extends ReadonlyArray<T> {\nexport interface DictionaryArray<T> extends Array<T> {\n    dictionary: Dictionary<T>;\n}\n\nexport const enum FilterType {\n    lowPass,\n    highPass,\n    peak,\n    length,\n}\n\nexport const enum EnvelopeType {\n\tnoteSize,\n    none,\n\tpunch,\n\tflare,\n\ttwang,\n\tswell,\n\ttremolo,\n\ttremolo2,\n    decay,\n    wibble,\n    hard,\n    linear,\n    rise,\n}\n\nexport const enum InstrumentType {\n    chip,\n    fm,\n    noise,\n    spectrum,\n    drumset,\n    harmonics,\n    pwm,\n    pickedString,\n    customChipWave,\n    mod,\n\tfm6op,\n    length,\n}\n\nexport const TypePresets: ReadonlyArray<string> = [\"chip\", \"FM\", \"noise\", \"spectrum\", \"drumset\", \"harmonics\", \"pulse width\", \"picked string\", \"chip (custom)\", \"mod\", \"FM (6-op)\"];\n\nexport const enum DropdownID {\n    Vibrato = 0,\n    Pan = 1,\n    Chord = 2,\n    Transition = 3,\n    FM = 4,\n    PulseWidth = 5,\n    Unison = 6,\n\n}\n\nexport const enum EffectType {\n    reverb,\n    chorus,\n    panning,\n    distortion,\n    bitcrusher,\n    noteFilter,\n    echo,\n    pitchShift,\n    detune,\n    vibrato,\n    transition,\n    chord,\n    // If you add more, you'll also have to extend the bitfield used in Base64 which currently uses two six-bit characters.\n    length,\n}\n\nexport const enum EnvelopeComputeIndex {\n    noteVolume,\n    noteFilterAllFreqs,\n    pulseWidth,\n    stringSustain,\n    unison,\n    operatorFrequency0, operatorFrequency1, operatorFrequency2, operatorFrequency3, operatorFrequency4, operatorFrequency5,\n    operatorAmplitude0, operatorAmplitude1, operatorAmplitude2, operatorAmplitude3, operatorAmplitude4, operatorAmplitude5,\n    feedbackAmplitude,\n    pitchShift,\n    detune,\n    vibratoDepth,\n    noteFilterFreq0, noteFilterFreq1, noteFilterFreq2, noteFilterFreq3, noteFilterFreq4, noteFilterFreq5, noteFilterFreq6, noteFilterFreq7,\n    noteFilterGain0, noteFilterGain1, noteFilterGain2, noteFilterGain3, noteFilterGain4, noteFilterGain5, noteFilterGain6, noteFilterGain7,\n    decimalOffset,\n    length,\n}\n\n/*\nexport const enum InstrumentAutomationIndex {\n    mixVolume,\n    eqFilterAllFreqs,\n    eqFilterFreq0, eqFilterFreq1, eqFilterFreq2, eqFilterFreq3, eqFilterFreq4, eqFilterFreq5, eqFilterFreq6, eqFilterFreq7,\n    eqFilterGain0, eqFilterGain1, eqFilterGain2, eqFilterGain3, eqFilterGain4, eqFilterGain5, eqFilterGain6, eqFilterGain7,\n    distortion,\n    bitcrusherQuantization,\n    bitcrusherFrequency,\n    panning,\n    chorus,\n    echoSustain,\n    //echoDelay, // Wait until tick settings can be computed once for multiple run lengths.\n    reverb,\n    length,\n}\n*/\n\nexport interface BeepBoxOption {\n    readonly index: number;\n    readonly name: string;\n}\n\nexport interface Scale extends BeepBoxOption {\n    readonly flags: ReadonlyArray<boolean>;\n    readonly realName: string;\n}\n\nexport interface Key extends BeepBoxOption {\n    readonly isWhiteKey: boolean;\n    readonly basePitch: number;\n}\n\nexport interface Rhythm extends BeepBoxOption {\n    readonly stepsPerBeat: number;\n    readonly roundUpThresholds: number[] | null;\n}\n\nexport interface ChipWave extends BeepBoxOption {\n    readonly expression: number;\n    samples: Float32Array;\n    isPercussion?: boolean;\n    isCustomSampled?: boolean;\n    isSampled?: boolean;\n    extraSampleDetune?: number;\n    rootKey?: number;\n    sampleRate?: number;\n}\n\nexport interface OperatorWave extends BeepBoxOption {\n    samples: Float32Array;\n}\n\nexport interface ChipNoise extends BeepBoxOption {\n    readonly expression: number;\n    readonly basePitch: number;\n    readonly pitchFilterMult: number;\n    readonly isSoft: boolean;\n    samples: Float32Array | null;\n}\n\nexport interface Transition extends BeepBoxOption {\n    readonly isSeamless: boolean;\n    readonly continues: boolean;\n    readonly slides: boolean;\n    readonly slideTicks: number;\n    readonly includeAdjacentPatterns: boolean;\n}\n\nexport interface Vibrato extends BeepBoxOption {\n    readonly amplitude: number;\n    readonly type: number;\n    readonly delayTicks: number;\n}\n\nexport interface VibratoType extends BeepBoxOption {\n    readonly periodsSeconds: number[];\n    readonly period: number;\n}\n\nexport interface Unison extends BeepBoxOption {\n    readonly voices: number;\n    readonly spread: number;\n    readonly offset: number;\n    readonly expression: number;\n    readonly sign: number;\n}\n\nexport interface Modulator extends BeepBoxOption {\n    readonly name: string; // name that shows up in song editor UI\n    readonly pianoName: string; // short name that shows up in mod piano UI\n    readonly maxRawVol: number; // raw\n    readonly newNoteVol: number; // raw\n    readonly forSong: boolean; // true - setting is song scope\n    convertRealFactor: number; // offset that needs to be applied to get a \"real\" number display of value, for UI purposes\n    readonly associatedEffect: EffectType; // effect that should be enabled for this modulator to work properly. If unused, set to EffectType.length.\n    readonly promptName: string; // long-as-needed name that shows up in tip prompt\n    readonly promptDesc: string[]; // paragraph(s) describing how to use this mod\n    optionalModify?: string;\n\n}\n\nexport interface Chord extends BeepBoxOption {\n    readonly customInterval: boolean;\n    readonly arpeggiates: boolean;\n    readonly strumParts: number;\n    readonly singleTone: boolean;\n}\n\nexport interface Algorithm extends BeepBoxOption {\n    readonly carrierCount: number;\n    readonly associatedCarrier: ReadonlyArray<number>;\n    readonly modulatedBy: ReadonlyArray<ReadonlyArray<number>>;\n}\n\nexport interface OperatorFrequency extends BeepBoxOption {\n    readonly mult: number;\n    readonly hzOffset: number;\n    readonly amplitudeSign: number;\n}\n\nexport interface Feedback extends BeepBoxOption {\n    readonly indices: ReadonlyArray<ReadonlyArray<number>>;\n}\n\nexport interface Envelope extends BeepBoxOption {\n    readonly type: EnvelopeType;\n    readonly speed: number;\n}\n\nexport interface AutomationTarget extends BeepBoxOption {\n    readonly computeIndex: EnvelopeComputeIndex /*| InstrumentAutomationIndex*/ | null;\n    readonly displayName: string;\n    //readonly perNote: boolean; // Whether to compute envelopes on a per-note basis.\n    readonly interleave: boolean; // Whether to interleave this target with the next one in the menu.\n    readonly isFilter: boolean; // Filters have a variable maxCount in practice.\n    //readonly range: number | null; // set if automation is allowed.\n    readonly maxCount: number;\n    readonly effect: EffectType | null;\n    readonly compatibleInstruments: InstrumentType[] | null;\n}\n\nexport const enum SampleLoadingStatus {\n    loading,\n    loaded,\n    error,\n}\n\nexport function getSampleLoadingStatusName(status: SampleLoadingStatus): string {\n    switch (status) {\n\tcase SampleLoadingStatus.loading: return \"loading\";\n\tcase SampleLoadingStatus.loaded: return \"loaded\";\n\tcase SampleLoadingStatus.error: return \"error\";\n    }\n}\n\nexport class SampleLoadingState {\n    public statusTable: Dictionary<SampleLoadingStatus>;\n    public urlTable: Dictionary<string>;\n    public totalSamples: number;\n    public samplesLoaded: number;\n\n    constructor() {\n\tthis.statusTable = {};\n\tthis.urlTable = {};\n\tthis.totalSamples = 0;\n\tthis.samplesLoaded = 0;\n    }\n}\n\nexport const sampleLoadingState: SampleLoadingState = new SampleLoadingState();\n\nexport class SampleLoadedEvent extends Event {\n    public readonly totalSamples: number;\n    public readonly samplesLoaded: number;\n\n    constructor(totalSamples: number, samplesLoaded: number) {\n\tsuper(\"sampleloaded\");\n\tthis.totalSamples = totalSamples;\n\tthis.samplesLoaded = samplesLoaded;\n    }\n}\n\nexport interface SampleLoadEventMap {\n    \"sampleloaded\": SampleLoadedEvent;\n}\n\nexport class SampleLoadEvents extends EventTarget {\n    constructor() {\n\tsuper();\n    }\n}\n\nexport const sampleLoadEvents: SampleLoadEvents = new SampleLoadEvents();\n\nexport function startLoadingSample(url: string, chipWaveIndex: number, presetSettings: Dictionary<any>, rawLoopOptions: any, customSampleRate: number): void {\n    // @TODO: Make parts of the code that expect everything to already be\n    // in memory work correctly.\n    // It would be easy to only instantiate `SongEditor` and company after\n    // everything is loaded, but if dynamic sample loading without a reload\n    // is deemed necessary, anything that involves chip waves has to be\n    // revisited so as to be able to work with a changing list of chip\n    // waves that may or may not be ready to be used.\n    const sampleLoaderAudioContext = new AudioContext({ sampleRate: customSampleRate });\n    let closedSampleLoaderAudioContext: boolean = false;\n    const chipWave = Config.chipWaves[chipWaveIndex];\n    const rawChipWave = Config.rawChipWaves[chipWaveIndex];\n    const rawRawChipWave = Config.rawRawChipWaves[chipWaveIndex];\n    fetch(url).then((response) => {\n\tif (!response.ok) {\n\t    // @TODO: Be specific with the error handling.\n\t    sampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.error;\n\t    return Promise.reject(new Error(\"Couldn't load sample\"));\n\t}\n\treturn response.arrayBuffer();\n    }).then((arrayBuffer) => {\n\treturn sampleLoaderAudioContext.decodeAudioData(arrayBuffer);\n    }).then((audioBuffer) => {\n\t// @TODO: Downmix.\n\tconst samples = centerWave(Array.from(audioBuffer.getChannelData(0)));\n\tconst integratedSamples = performIntegral(samples);\n\tchipWave.samples = integratedSamples;\n\trawChipWave.samples = samples;\n\trawRawChipWave.samples = samples;\n\tif (rawLoopOptions[\"isUsingAdvancedLoopControls\"]) {\n\t    presetSettings[\"chipWaveLoopStart\"] = rawLoopOptions[\"chipWaveLoopStart\"] != null ? rawLoopOptions[\"chipWaveLoopStart\"] : 0;\n\t    presetSettings[\"chipWaveLoopEnd\"] = rawLoopOptions[\"chipWaveLoopEnd\"] != null ? rawLoopOptions[\"chipWaveLoopEnd\"] : samples.length - 1;\n\t    presetSettings[\"chipWaveLoopMode\"] = rawLoopOptions[\"chipWaveLoopMode\"] != null ? rawLoopOptions[\"chipWaveLoopMode\"] : 0;\n\t    presetSettings[\"chipWavePlayBackwards\"] = rawLoopOptions[\"chipWavePlayBackwards\"];\n\t    presetSettings[\"chipWaveStartOffset\"] = rawLoopOptions[\"chipWaveStartOffset\"] != null ? rawLoopOptions[\"chipWaveStartOffset\"] : 0;\n\t}\n\tsampleLoadingState.samplesLoaded++;\n\tsampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loaded;\n\tsampleLoadEvents.dispatchEvent(new SampleLoadedEvent(\n\t    sampleLoadingState.totalSamples,\n\t    sampleLoadingState.samplesLoaded\n\t));\n\tif (!closedSampleLoaderAudioContext) {\n\t    closedSampleLoaderAudioContext = true;\n\t    sampleLoaderAudioContext.close();\n\t}\n    }).catch((error) => {\n\t//console.error(error);\n\tsampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.error;\n\talert(\"Failed to load \" + url + \":\\n\" + error);\n\tif (!closedSampleLoaderAudioContext) {\n\t    closedSampleLoaderAudioContext = true;\n\t    sampleLoaderAudioContext.close();\n\t}\n    });\n}\n\nexport function getLocalStorageItem<T>(key: string, defaultValue: T): T | string {\n    let value: T | string | null = localStorage.getItem(key);\n    if (value == null || value === \"null\" || value === \"undefined\") {\n        value = defaultValue;\n    }\n    return value;\n}\n\n// @HACK: This just assumes these exist, regardless of whether they actually do\n// or not.\ndeclare global {\n    const kicksample: number[];\n    const snaresample: number[];\n    const pianosample: number[];\n    const WOWsample: number[];\n    const overdrivesample: number[];\n    const trumpetsample: number[];\n    const saxophonesample: number[];\n    const orchhitsample: number[];\n    const detatchedviolinsample: number[];\n    const synthsample: number[];\n    const sonic3snaresample: number[];\n    const comeonsample: number[];\n    const choirsample: number[];\n    const overdrivensample: number[];\n    const flutesample: number[];\n    const legatoviolinsample: number[];\n    const tremoloviolinsample: number[];\n    const amenbreaksample: number[];\n    const pizzicatoviolinsample: number[];\n    const timallengruntsample: number[];\n    const tubasample: number[];\n    const loopingcymbalsample: number[];\n    const kickdrumsample: number[];\n    const snaredrumsample: number[];\n    const closedhihatsample: number[];\n    const foothihatsample: number[];\n    const openhihatsample: number[];\n    const crashsample: number[];\n    const pianoC4sample: number[];\n    const liverpadsample: number[];\n    const marimbasample: number[];\n    const susdotwavsample: number[];\n    const wackyboxttssample: number[];\n    const peppersteak1: number[];\n    const peppersteak2: number[];\n    const vinyl: number[];\n    const slapbass: number[];\n    const hdeboverdrive: number[];\n    const sunsoftbass: number[];\n    const masculinechoir: number[];\n    const femininechoir: number[];\n    const southtololoche: number[];\n    const harp: number[];\n    const panflute: number[];\n    const krumhorn: number[];\n    const timpani: number[];\n    const crowdhey: number[];\n    const warioland4brass: number[];\n    const warioland4organ: number[];\n    const warioland4daow: number[];\n    const warioland4hourchime: number[];\n    const warioland4tick: number[];\n    const kirbykick: number[];\n    const kirbysnare: number[];\n    const kirbybongo: number[];\n    const kirbyclick: number[];\n    const funkkick: number[];\n    const funksnare: number[];\n    const funksnareleft: number[];\n    const funksnareright: number[];\n    const funktomhigh: number[];\n    const funktomlow: number[];\n    const funkhihatclosed: number[];\n    const funkhihathalfopen: number[];\n    const funkhihatopen: number[];\n    const funkhihatopentip: number[];\n    const funkhihatfoot: number[];\n    const funkcrash: number[];\n    const funkcrashtip: number[];\n    const funkride: number[];\n    const chronoperc1finalsample: number[];\n    const synthkickfmsample: number[];\n    const woodclicksample: number[];\n    const acousticsnaresample: number[];\n    const catpaintboxsample: number[];\n    const gameboypaintboxsample: number[];\n    const mariopaintboxsample: number[];\n    const drumpaintboxsample: number[];\n    const yoshipaintboxsample: number[];\n    const starpaintboxsample: number[];\n    const fireflowerpaintboxsample: number[];\n    const dogpaintbox: number[];\n    const oinkpaintbox: number[];\n    const swanpaintboxsample: number[];\n    const facepaintboxsample: number[];\n}\n\nfunction loadScript(url: string): Promise<void> {\n    const result: Promise<void> = new Promise((resolve, reject) => {\n\tif (!Config.willReloadForCustomSamples) {\n\t    const script = document.createElement(\"script\");\n\t    script.src = url;\n\t    document.head.appendChild(script);\n\t    script.addEventListener(\"load\", (event) => {\n\t\tresolve();\n\t    });\n\t} else {\n\t    // There's not really any errors that show up if the loading for\n\t    // this script is stopped early, but it won't really do anything\n\t    // particularly useful either in that case.\n\t}\n    });\n    return result;\n}\n\nexport function loadBuiltInSamples(set: number): void {\n    const defaultIndex: number = 0;\n    const defaultIntegratedSamples: Float32Array = Config.chipWaves[defaultIndex].samples;\n    const defaultSamples: Float32Array = Config.rawRawChipWaves[defaultIndex].samples;\n\n    if (set == 0) {\n\t// Create chip waves with the wrong sound.\n\tconst chipWaves = [\n\t    { name: \"paandorasbox kick\", expression: 4.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 },\n\t    { name: \"paandorasbox snare\", expression: 3.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 },\n\t    { name: \"paandorasbox piano1\", expression: 3.0, isSampled: true, isPercussion: false, extraSampleDetune: 2 },\n\t    { name: \"paandorasbox WOW\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: 0 },\n\t    { name: \"paandorasbox overdrive\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -2 },\n\t    { name: \"paandorasbox trumpet\", expression: 3.0, isSampled: true, isPercussion: false, extraSampleDetune: 1.2 },\n\t    { name: \"paandorasbox saxophone\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -5 },\n\t    { name: \"paandorasbox orchestrahit\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: 4.2 },\n\t    { name: \"paandorasbox detatched violin\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: 4.2 },\n\t    { name: \"paandorasbox synth\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -0.8 },\n\t    { name: \"paandorasbox sonic3snare\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 },\n\t    { name: \"paandorasbox come on\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: 0 },\n\t    { name: \"paandorasbox choir\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -3 },\n\t    { name: \"paandorasbox overdriveguitar\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -6.2 },\n\t    { name: \"paandorasbox flute\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -6 },\n\t    { name: \"paandorasbox legato violin\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -28 },\n\t    { name: \"paandorasbox tremolo violin\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -33 },\n\t    { name: \"paandorasbox amen break\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -55 },\n\t    { name: \"paandorasbox pizzicato violin\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -11 },\n\t    { name: \"paandorasbox tim allen grunt\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -20 },\n\t    { name: \"paandorasbox tuba\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: 44 },\n\t    { name: \"paandorasbox loopingcymbal\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -17 },\n\t    { name: \"paandorasbox standardkick\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: -7 },\n\t    { name: \"paandorasbox standardsnare\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 },\n\t    { name: \"paandorasbox closedhihat\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: 5 },\n\t    { name: \"paandorasbox foothihat\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: 4 },\n\t    { name: \"paandorasbox openhihat\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: -31 },\n\t    { name: \"paandorasbox crashcymbal\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: -43 },\n\t    { name: \"paandorasbox pianoC4\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -42.5 },\n\t    { name: \"paandorasbox liver pad\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -22.5 },\n\t    { name: \"paandorasbox marimba\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -15.5 },\n\t    { name: \"paandorasbox susdotwav\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -24.5 },\n\t    { name: \"paandorasbox wackyboxtts\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -17.5 },\n\t    { name: \"paandorasbox peppersteak_1\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -42.2 },\n\t    { name: \"paandorasbox peppersteak_2\", expression: 2.0, isSampled: true, isPercussion: false, extraSampleDetune: -47 },\n\t    { name: \"paandorasbox vinyl_noise\", expression: 2.0, isSampled: true, isPercussion: true, extraSampleDetune: -50 },\n\t    { name: \"paandorasbeta slap bass\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -56 },\n\t    { name: \"paandorasbeta HD EB overdrive guitar\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -60 },\n\t    { name: \"paandorasbeta sunsoft bass\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -18.5 },\n\t    { name: \"paandorasbeta masculine choir\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -50 },\n\t    { name: \"paandorasbeta feminine choir\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -60.5 },\n\t    { name: \"paandorasbeta tololoche\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -29.5 },\n\t    { name: \"paandorasbeta harp\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -54 },\n\t    { name: \"paandorasbeta pan flute\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -58 },\n\t    { name: \"paandorasbeta krumhorn\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -46 },\n\t    { name: \"paandorasbeta timpani\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -50 },\n\t    { name: \"paandorasbeta crowd hey\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -29 },\n\t    { name: \"paandorasbeta wario land 4 brass\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -68 },\n\t    { name: \"paandorasbeta wario land 4 rock organ\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -63 },\n\t    { name: \"paandorasbeta wario land 4 DAOW\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -35 },\n\t    { name: \"paandorasbeta wario land 4 hour chime\", expression: 1.0, isSampled: true, isPercussion: false, extraSampleDetune: -47.5 },\n\t    { name: \"paandorasbeta wario land 4 tick\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -12.5 },\n\t    { name: \"paandorasbeta kirby kick\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -46.5 },\n\t    { name: \"paandorasbeta kirby snare\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -46.5 },\n\t    { name: \"paandorasbeta kirby bongo\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -46.5 },\n\t    { name: \"paandorasbeta kirby click\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -46.5 },\n\t    { name: \"paandorasbeta sonor kick\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -28.5 },\n\t    { name: \"paandorasbeta sonor snare\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -28.5 },\n\t    { name: \"paandorasbeta sonor snare (left hand)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -22.5 },\n\t    { name: \"paandorasbeta sonor snare (right hand)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -22.5 },\n\t    { name: \"paandorasbeta sonor high tom\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -41.5 },\n\t    { name: \"paandorasbeta sonor low tom\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -41.5 },\n\t    { name: \"paandorasbeta sonor hihat (closed)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -17 },\n\t    { name: \"paandorasbeta sonor hihat (half opened)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -21 },\n\t    { name: \"paandorasbeta sonor hihat (open)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -54.5 },\n\t    { name: \"paandorasbeta sonor hihat (open tip)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -43.5 },\n\t    { name: \"paandorasbeta sonor hihat (pedal)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -28 },\n\t    { name: \"paandorasbeta sonor crash\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -51 },\n\t    { name: \"paandorasbeta sonor crash (tip)\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -50.5 },\n\t    { name: \"paandorasbeta sonor ride\", expression: 1.0, isSampled: true, isPercussion: true, extraSampleDetune: -46 }\n\t];\n\n\tsampleLoadingState.totalSamples += chipWaves.length;\n\n\t// This assumes that Config.rawRawChipWaves and Config.chipWaves have\n\t// the same number of elements.\n\tconst startIndex: number = Config.rawRawChipWaves.length;\n\tfor (const chipWave of chipWaves) {\n\t    const chipWaveIndex: number = Config.rawRawChipWaves.length;\n\t    const rawChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultSamples };\n\t    const rawRawChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultSamples };\n\t    const integratedChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultIntegratedSamples };\n\t    Config.rawRawChipWaves[chipWaveIndex] = rawRawChipWave;\n\t    Config.rawRawChipWaves.dictionary[chipWave.name] = rawRawChipWave;\n\t    Config.rawChipWaves[chipWaveIndex] = rawChipWave;\n\t    Config.rawChipWaves.dictionary[chipWave.name] = rawChipWave;\n\t    Config.chipWaves[chipWaveIndex] = integratedChipWave;\n\t    Config.chipWaves.dictionary[chipWave.name] = rawChipWave;\n\t    sampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loading;\n\t    sampleLoadingState.urlTable[chipWaveIndex] = \"legacySamples\";\n\t}\n\n\tloadScript(\"samples.js\")\n\t.then(() => loadScript(\"samples2.js\"))\n\t.then(() => loadScript(\"samples3.js\"))\n\t.then(() => loadScript(\"drumsamples.js\"))\n\t.then(() => loadScript(\"wario_samples.js\"))\n\t.then(() => loadScript(\"kirby_samples.js\"))\n\t.then(() => {\n\t    // Now put the right sounds in there after everything\n\t    // got loaded.\n\t    const chipWaveSamples: Float32Array[] = [\n\t\tcenterWave(kicksample),\n\t\tcenterWave(snaresample),\n\t\tcenterWave(pianosample),\n\t\tcenterWave(WOWsample),\n\t\tcenterWave(overdrivesample),\n\t\tcenterWave(trumpetsample),\n\t\tcenterWave(saxophonesample),\n\t\tcenterWave(orchhitsample),\n\t\tcenterWave(detatchedviolinsample),\n\t\tcenterWave(synthsample),\n\t\tcenterWave(sonic3snaresample),\n\t\tcenterWave(comeonsample),\n\t\tcenterWave(choirsample),\n\t\tcenterWave(overdrivensample),\n\t\tcenterWave(flutesample),\n\t\tcenterWave(legatoviolinsample),\n\t\tcenterWave(tremoloviolinsample),\n\t\tcenterWave(amenbreaksample),\n\t\tcenterWave(pizzicatoviolinsample),\n\t\tcenterWave(timallengruntsample),\n\t\tcenterWave(tubasample),\n\t\tcenterWave(loopingcymbalsample),\n\t\tcenterWave(kickdrumsample),\n\t\tcenterWave(snaredrumsample),\n\t\tcenterWave(closedhihatsample),\n\t\tcenterWave(foothihatsample),\n\t\tcenterWave(openhihatsample),\n\t\tcenterWave(crashsample),\n\t\tcenterWave(pianoC4sample),\n\t\tcenterWave(liverpadsample),\n\t\tcenterWave(marimbasample),\n\t\tcenterWave(susdotwavsample),\n\t\tcenterWave(wackyboxttssample),\n\t\tcenterWave(peppersteak1),\n\t\tcenterWave(peppersteak2),\n\t\tcenterWave(vinyl),\n\t\tcenterWave(slapbass),\n\t\tcenterWave(hdeboverdrive),\n\t\tcenterWave(sunsoftbass),\n\t\tcenterWave(masculinechoir),\n\t\tcenterWave(femininechoir),\n\t\tcenterWave(southtololoche),\n\t\tcenterWave(harp),\n\t\tcenterWave(panflute),\n\t\tcenterWave(krumhorn),\n\t\tcenterWave(timpani),\n\t\tcenterWave(crowdhey),\n\t\tcenterWave(warioland4brass),\n\t\tcenterWave(warioland4organ),\n\t\tcenterWave(warioland4daow),\n\t\tcenterWave(warioland4hourchime),\n\t\tcenterWave(warioland4tick),\n\t\tcenterWave(kirbykick),\n\t\tcenterWave(kirbysnare),\n\t\tcenterWave(kirbybongo),\n\t\tcenterWave(kirbyclick),\n\t\tcenterWave(funkkick),\n\t\tcenterWave(funksnare),\n\t\tcenterWave(funksnareleft),\n\t\tcenterWave(funksnareright),\n\t\tcenterWave(funktomhigh),\n\t\tcenterWave(funktomlow),\n\t\tcenterWave(funkhihatclosed),\n\t\tcenterWave(funkhihathalfopen),\n\t\tcenterWave(funkhihatopen),\n\t\tcenterWave(funkhihatopentip),\n\t\tcenterWave(funkhihatfoot),\n\t\tcenterWave(funkcrash),\n\t\tcenterWave(funkcrashtip),\n\t\tcenterWave(funkride)\n\t    ];\n\t    let chipWaveIndexOffset: number = 0;\n\t    for (const chipWaveSample of chipWaveSamples) {\n\t\tconst chipWaveIndex: number = startIndex + chipWaveIndexOffset;\n\t\tConfig.rawChipWaves[chipWaveIndex].samples = chipWaveSample;\n\t\tConfig.rawRawChipWaves[chipWaveIndex].samples = chipWaveSample;\n\t\tConfig.chipWaves[chipWaveIndex].samples = performIntegral(chipWaveSample);\n\t\tsampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loaded;\n\t\tsampleLoadingState.samplesLoaded++;\n\t\tsampleLoadEvents.dispatchEvent(new SampleLoadedEvent(\n\t\t    sampleLoadingState.totalSamples,\n\t\t    sampleLoadingState.samplesLoaded\n\t\t));\n\t\tchipWaveIndexOffset++;\n\t    }\n\t});\n\t//EditorConfig.presetCategories[EditorConfig.presetCategories.length] = {name: \"Legacy Sample Presets\", presets:  { name: \"Earthbound O. Guitar\", midiProgram: 80, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"chord\": \"arpeggio\", \"wave\": \"paandorasbox overdrive\", \"unison\": \"none\", \"envelopes\": [] } }, index: EditorConfig.presetCategories.length,};\n    }\n    else if (set == 1) {\n\t// Create chip waves with the wrong sound.\n\tconst chipWaves = [\n\t    { name: \"chronoperc1final\", expression: 4.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 },\n\t    { name: \"synthkickfm\", expression: 4.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 },\n\t    { name: \"mcwoodclick1\", expression: 4.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 },\n\t    { name: \"acoustic snare\", expression: 4.0, isSampled: true, isPercussion: true, extraSampleDetune: 0 }\n\t];\n\n\tsampleLoadingState.totalSamples += chipWaves.length;\n\n\t// This assumes that Config.rawRawChipWaves and Config.chipWaves have\n\t// the same number of elements.\n\tconst startIndex: number = Config.rawRawChipWaves.length;\n\tfor (const chipWave of chipWaves) {\n\t    const chipWaveIndex: number = Config.rawRawChipWaves.length;\n\t    const rawChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultSamples };\n\t    const rawRawChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultSamples };\n\t    const integratedChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultIntegratedSamples };\n\t    Config.rawRawChipWaves[chipWaveIndex] = rawRawChipWave;\n\t    Config.rawRawChipWaves.dictionary[chipWave.name] = rawRawChipWave;\n\t    Config.rawChipWaves[chipWaveIndex] = rawChipWave;\n\t    Config.rawChipWaves.dictionary[chipWave.name] = rawChipWave;\n\t    Config.chipWaves[chipWaveIndex] = integratedChipWave;\n\t    Config.chipWaves.dictionary[chipWave.name] = rawChipWave;\n\t    sampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loading;\n\t    sampleLoadingState.urlTable[chipWaveIndex] = \"nintariboxSamples\";\n\t}\n\n\tloadScript(\"nintaribox_samples.js\")\n\t.then(() => {\n\t    // Now put the right sounds in there after everything\n\t    // got loaded.\n\t    const chipWaveSamples: Float32Array[] = [\n\t\tcenterWave(chronoperc1finalsample),\n\t\tcenterWave(synthkickfmsample),\n\t\tcenterWave(woodclicksample),\n\t\tcenterWave(acousticsnaresample)\n\t    ];\n\t    let chipWaveIndexOffset: number = 0;\n\t    for (const chipWaveSample of chipWaveSamples) {\n\t\tconst chipWaveIndex: number = startIndex + chipWaveIndexOffset;\n\t\tConfig.rawChipWaves[chipWaveIndex].samples = chipWaveSample;\n\t\tConfig.rawRawChipWaves[chipWaveIndex].samples = chipWaveSample;\n\t\tConfig.chipWaves[chipWaveIndex].samples = performIntegral(chipWaveSample);\n\t\tsampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loaded;\n\t\tsampleLoadingState.samplesLoaded++;\n\t\tsampleLoadEvents.dispatchEvent(new SampleLoadedEvent(\n\t\t    sampleLoadingState.totalSamples,\n\t\t    sampleLoadingState.samplesLoaded\n\t\t));\n\t\tchipWaveIndexOffset++;\n\t    }\n\t});\n    }\n    else if (set == 2) {\n\t// Create chip waves with the wrong sound.\n\tconst chipWaves = [\n\t    { name: \"cat\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: -3 },\n\t    { name: \"gameboy\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: 7 },\n\t    { name: \"mario\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: 0 },\n\t    { name: \"drum\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: 4 },\n\t    { name: \"yoshi\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: -16 },\n\t    { name: \"star\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: -16 },\n\t    { name: \"fire flower\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: -1 },\n\t    { name: \"dog\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: -1 },\n\t    { name: \"oink\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: 3 },\n\t    { name: \"swan\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: 1 },\n\t    { name: \"face\", expression: 1, isSampled: true, isPercussion: false, extraSampleDetune: -12 }\n\t];\n\n\tsampleLoadingState.totalSamples += chipWaves.length;\n\n\t// This assumes that Config.rawRawChipWaves and Config.chipWaves have\n\t// the same number of elements.\n\tconst startIndex: number = Config.rawRawChipWaves.length;\n\tfor (const chipWave of chipWaves) {\n\t    const chipWaveIndex: number = Config.rawRawChipWaves.length;\n\t    const rawChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultSamples };\n\t    const rawRawChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultSamples };\n\t    const integratedChipWave = { index: chipWaveIndex, name: chipWave.name, expression: chipWave.expression, isSampled: chipWave.isSampled, isPercussion: chipWave.isPercussion, extraSampleDetune: chipWave.extraSampleDetune, samples: defaultIntegratedSamples };\n\t    Config.rawRawChipWaves[chipWaveIndex] = rawRawChipWave;\n\t    Config.rawRawChipWaves.dictionary[chipWave.name] = rawRawChipWave;\n\t    Config.rawChipWaves[chipWaveIndex] = rawChipWave;\n\t    Config.rawChipWaves.dictionary[chipWave.name] = rawChipWave;\n\t    Config.chipWaves[chipWaveIndex] = integratedChipWave;\n\t    Config.chipWaves.dictionary[chipWave.name] = rawChipWave;\n\t    sampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loading;\n\t    sampleLoadingState.urlTable[chipWaveIndex] = \"marioPaintboxSamples\";\n\t}\n\n\tloadScript(\"mario_paintbox_samples.js\")\n\t.then(() => {\n\t    // Now put the right sounds in there after everything\n\t    // got loaded.\n\t    const chipWaveSamples: Float32Array[] = [\n\t\tcenterWave(catpaintboxsample),\n\t\tcenterWave(gameboypaintboxsample),\n\t\tcenterWave(mariopaintboxsample),\n\t\tcenterWave(drumpaintboxsample),\n\t\tcenterWave(yoshipaintboxsample),\n\t\tcenterWave(starpaintboxsample),\n\t\tcenterWave(fireflowerpaintboxsample),\n\t\tcenterWave(dogpaintbox),\n\t\tcenterWave(oinkpaintbox),\n\t\tcenterWave(swanpaintboxsample),\n\t\tcenterWave(facepaintboxsample)\n\t    ];\n\t    let chipWaveIndexOffset: number = 0;\n\t    for (const chipWaveSample of chipWaveSamples) {\n\t\tconst chipWaveIndex: number = startIndex + chipWaveIndexOffset;\n\t\tConfig.rawChipWaves[chipWaveIndex].samples = chipWaveSample;\n\t\tConfig.rawRawChipWaves[chipWaveIndex].samples = chipWaveSample;\n\t\tConfig.chipWaves[chipWaveIndex].samples = performIntegral(chipWaveSample);\n\t\tsampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loaded;\n\t\tsampleLoadingState.samplesLoaded++;\n\t\tsampleLoadEvents.dispatchEvent(new SampleLoadedEvent(\n\t\t    sampleLoadingState.totalSamples,\n\t\t    sampleLoadingState.samplesLoaded\n\t\t));\n\t\tchipWaveIndexOffset++;\n\t    }\n\t});\n    }\n    else {\n        console.log(\"invalid set of built-in samples\");\n    }\n}\n\nexport class Config {\n    // Params for post-processing compressor\n    public static thresholdVal: number = -10;\n    public static kneeVal: number = 40;\n    public static ratioVal: number = 12;\n    public static attackVal: number = 0;\n    public static releaseVal: number = 0.25;\n\n    public static willReloadForCustomSamples: boolean = false;\n\n    public static readonly scales: DictionaryArray<Scale> = toNameMap([\n\n\t\t//   C     Db      D     Eb      E      F     F#      G     Ab      A     Bb      B      C\n\t\t{ name: \"Free\", realName: \"chromatic\", flags: [true, true, true, true, true, true, true, true, true, true, true, true] }, // Free\n        { name: \"Major\", realName: \"ionian\", flags: [true, false, true, false, true, true, false, true, false, true, false, true] }, // Major\n        { name: \"Minor\", realName: \"aeolian\", flags: [true, false, true, true, false, true, false, true, true, false, true, false] }, // Minor\n        { name: \"Mixolydian\", realName: \"mixolydian\", flags: [true, false, true, false, true, true, false, true, false, true, true, false] }, // Mixolydian\n        { name: \"Lydian\", realName: \"lydian\", flags: [true, false, true, false, true, false, true, true, false, true, false, true] }, // Lydian\n        { name: \"Dorian\", realName: \"dorian\", flags: [true, false, true, true, false, true, false, true, false, true, true, false] }, // Dorian\n        { name: \"Phrygian\", realName: \"phrygian\", flags: [true, true, false, true, false, true, false, true, true, false, true, false] }, // Phrygian\n        { name: \"Locrian\", realName: \"locrian\", flags: [true, true, false, true, false, true, true, false, true, false, true, false] }, // Locrian\n        { name: \"Lydian Dominant\", realName: \"lydian dominant\", flags: [true, false, true, false, true, false, true, true, false, true, true, false] }, // Lydian Dominant\n        { name: \"Phrygian Dominant\", realName: \"phrygian dominant\", flags: [true, true, false, false, true, true, false, true, true, false, true, false] }, // Phrygian Dominant\n        { name: \"Harmonic Major\", realName: \"harmonic major\", flags: [true, false, true, false, true, true, false, true, true, false, false, true] }, // Harmonic Major\n        { name: \"Harmonic Minor\", realName: \"harmonic minor\", flags: [true, false, true, true, false, true, false, true, true, false, false, true] }, // Harmonic Minor\n        { name: \"Melodic Minor\", realName: \"melodic minor\", flags: [true, false, true, true, false, true, false, true, false, true, false, true] }, // Melodic Minor\n        { name: \"Blues\", realName: \"blues\", flags: [true, false, false, true, false, true, true, true, false, false, true, false] }, // Blues\n        { name: \"Altered\", realName: \"altered\", flags: [true, true, false, true, true, false, true, false, true, false, true, false] }, // Altered\n        { name: \"Major Pentatonic\", realName: \"major pentatonic\", flags: [true, false, true, false, true, false, false, true, false, true, false, false] }, // Major Pentatonic\n        { name: \"Minor Pentatonic\", realName: \"minor pentatonic\", flags: [true, false, false, true, false, true, false, true, false, false, true, false] }, // Minor Pentatonic\n        { name: \"Whole Tone\", realName: \"whole tone\", flags: [true, false, true, false, true, false, true, false, true, false, true, false] }, // Whole Tone\n        { name: \"Octatonic\", realName: \"octatonic\", flags: [true, false, true, true, false, true, true, false, true, true, false, true] }, // Octatonic\n        { name: \"Hexatonic\", realName: \"hexatonic\", flags: [true, false, false, true, true, false, false, true, true, false, false, true] }, // Hexatonic\n        { name: \"No Dabbing\", realName: \"no dabbing\", flags:[true, true, false, true, true, true, true, true, true, false, true, false] },\n\t//modbox\n\t{ name: \"Jacked Toad\", realName: \"jacked toad\", flags: [true, false, true, true, false, true, true, true, true, false, true, true] },\n\t{ name: \"Dumb\", realName: \"Originally named, currently named, and will always be named 'dumb.'\", flags: [true, false, false, false, false, true, true, true, true, false, false, true] },\n        { name: \"Test Scale\", realName: \"**t\", flags: [true, true, false, false, false, true, true, false, false, true, true, false] },\n\t// todbox\n\t{ name: \"die\", realName: \"death\", flags: [true, false, false, false, false, false, false, false, true, false, false, false] },\n\t//wackybox\n        // { name: \"Rythmic\", realName: \"Pretty straightforward.\", flags: [true, false, false, false, false, false, false, false, false, false, false, false] },\n        //todbox\n\t{ name: \"Custom\", realName: \"custom\", flags: [true, false, true, true, false, false, false, true, true, false, true, true] }, // Custom? considering allowing this one to be be completely configurable\n\t]);\n\tpublic static readonly keys: DictionaryArray<Key> = toNameMap([\n\t\t{ name: \"C\", isWhiteKey: true, basePitch: 12 }, // C0 has index 12 on the MIDI scale. C7 is 96, and C9 is 120. C10 is barely in the audible range.\n\t\t{ name: \"C\", isWhiteKey: false, basePitch: 13 },\n\t\t{ name: \"D\", isWhiteKey: true, basePitch: 14 },\n\t\t{ name: \"D\", isWhiteKey: false, basePitch: 15 },\n\t\t{ name: \"E\", isWhiteKey: true, basePitch: 16 },\n\t\t{ name: \"F\", isWhiteKey: true, basePitch: 17 },\n\t\t{ name: \"F\", isWhiteKey: false, basePitch: 18 },\n\t\t{ name: \"G\", isWhiteKey: true, basePitch: 19 },\n\t\t{ name: \"G\", isWhiteKey: false, basePitch: 20 },\n\t\t{ name: \"A\", isWhiteKey: true, basePitch: 21 },\n\t\t{ name: \"A\", isWhiteKey: false, basePitch: 22 },\n        { name: \"B\", isWhiteKey: true, basePitch: 23 },\n\t\t\t\t// { name: \"C+\", isWhiteKey: false, basePitch: 24 },\n\t\t//taken from todbox, called \"B#\" for some reason lol\n\t\t// { name: \"G- (actually F#-)\", isWhiteKey: false, basePitch: 6 },\n        // { name: \"C-\", isWhiteKey: true, basePitch: 0 },\n\t    //brucebox\n\t\t//g- isn't actually g-???\n\t\t// { name: \"oh no (F-)\", isWhiteKey: true, basePitch: 5 },\n\t\t//shitbox\n\t]);\n\tpublic static readonly blackKeyNameParents: ReadonlyArray<number> = [-1, 1, -1, 1, -1, 1, -1, -1, 1, -1, 1, -1];\n\tpublic static readonly tempoMin: number = 1;\n\tpublic static readonly tempoMax: number = 500;\n\tpublic static readonly octaveMin: number = -2;\n\tpublic static readonly octaveMax: number = 2;\n    public static readonly echoDelayRange: number = 24;\n    public static readonly echoDelayStepTicks: number = 4;\n    public static readonly echoSustainRange: number = 8;\n    public static readonly echoShelfHz: number = 4000.0; // The cutoff freq of the shelf filter that is used to decay echoes.\n    public static readonly echoShelfGain: number = Math.pow(2.0, -0.5);\n    public static readonly reverbShelfHz: number = 8000.0; // The cutoff freq of the shelf filter that is used to decay reverb.\n    public static readonly reverbShelfGain: number = Math.pow(2.0, -1.5);\n\tpublic static readonly reverbRange: number = 32;\n    public static readonly reverbDelayBufferSize: number = 16384; // TODO: Compute a buffer size based on sample rate.\n    public static readonly reverbDelayBufferMask: number = Config.reverbDelayBufferSize - 1; // TODO: Compute a buffer size based on sample rate.\n    public static readonly beatsPerBarMin: number = 1;\n\tpublic static readonly beatsPerBarMax: number = 64;\n\tpublic static readonly barCountMin: number = 1;\n\tpublic static readonly barCountMax: number = 1024;\n    public static readonly instrumentCountMin: number = 1;\n    public static readonly layeredInstrumentCountMax: number = 10;\n\t//this still hasn't been properly tested...\n    public static readonly patternInstrumentCountMax: number = 10;\n\tpublic static readonly partsPerBeat: number = 24;\n\tpublic static readonly ticksPerPart: number = 2;\n\tpublic static readonly ticksPerArpeggio: number = 3;\n\tpublic static readonly arpeggioPatterns: ReadonlyArray<ReadonlyArray<number>> = [[0], [0, 1], [0, 1, 2, 1], [0, 1, 2, 3], [0, 1, 2, 3, 4], [0, 1, 2, 3, 4, 5], [0, 1, 2, 3, 4, 5, 6], [0, 1, 2, 3, 4, 5, 6, 7] ];\n\tpublic static readonly rhythms: DictionaryArray<Rhythm> = toNameMap([\n\t\t{ name: \"1 (whole notes)\", stepsPerBeat: 1, /*ticksPerArpeggio: 6, arpeggioPatterns: [[0], [0, 0, 1, 1], [0, 1, 2, 1]],*/ roundUpThresholds: [3] },\n\t\t{ name: \"2 (half notes)\", stepsPerBeat: 2, /*ticksPerArpeggio: 5, arpeggioPatterns: [[0], [0, 0, 1, 1], [0, 1, 2, 1]],*/ roundUpThresholds: [3, 9] },\n\t\t{ name: \"3 (triplets)\", stepsPerBeat: 3, /*ticksPerArpeggio: 4, arpeggioPatterns: [[0], [0, 0, 1, 1], [0, 1, 2, 1], [0, 1, 2, 3]]*/ roundUpThresholds: [/*0*/ 5, /*8*/ 12, /*16*/ 18 /*24*/] },\n\t\t{ name: \"4 (standard)\", stepsPerBeat: 4, /*ticksPerArpeggio: 3, arpeggioPatterns: [[0], [0, 0, 1, 1], [0, 1, 2, 1], [0, 1, 2, 3]]*/ roundUpThresholds: [/*0*/ 3, /*6*/ 9, /*12*/ 17, /*18*/ 21 /*24*/] },\n\t\t{ name: \"6 (sextuplets)\", stepsPerBeat: 6, /*ticksPerArpeggio: 4, arpeggioPatterns: [[0], [0, 1], [0, 1, 2, 1], [0, 1, 2, 3]]*/ roundUpThresholds: null },\n\t\t{ name: \"8 (eighth notes)\", stepsPerBeat: 8, /*ticksPerArpeggio: 3, arpeggioPatterns: [[0], [0, 1], [0, 1, 2, 1], [0, 1, 2, 3]]*/ roundUpThresholds: null },\n\t\t{ name: \"12 (twelfth notes)\", stepsPerBeat: 12, /*ticksPerArpeggio: 3, arpeggioPatterns: [[0], [0, 1], [0, 1, 2, 1]]*/ roundUpThresholds: null },\n\t\t{ name: \"freehand\", stepsPerBeat: 24, /*ticksPerArpeggio: 3, arpeggioPatterns: [[0], [0, 1], [0, 1, 2, 1], [0, 1, 2, 3]]*/ roundUpThresholds: null },\n\t]);\n\n    public static readonly instrumentTypeNames: ReadonlyArray<string> = [\"chip\", \"FM\", \"noise\", \"spectrum\", \"drumset\", \"harmonics\", \"PWM\", \"Picked String\", \"custom chip\", \"mod\", \"FM6op\"];\n\tpublic static readonly instrumentTypeHasSpecialInterval: ReadonlyArray<boolean> = [true, true, false, false, false, true, false, false, false, false];\n    public static readonly chipBaseExpression: number = 0.03375; // Doubled by unison feature, but affected by expression adjustments per unison setting and wave shape.\n    public static readonly fmBaseExpression: number = 0.03;\n    public static readonly noiseBaseExpression: number = 0.19;\n    public static readonly spectrumBaseExpression: number = 0.3; // Spectrum can be in pitch or noise channels, the expression is doubled for noise.\n    public static readonly drumsetBaseExpression: number = 0.45; // Drums tend to be loud but brief!\n    public static readonly harmonicsBaseExpression: number = 0.025;\n    public static readonly pwmBaseExpression: number = 0.04725; // It's actually closer to half of this, the synthesized pulse amplitude range is only .5 to -.5, but also note that the fundamental sine partial amplitude of a square wave is 4/ times the measured square wave amplitude.\n    public static readonly pickedStringBaseExpression: number = 0.025; // Same as harmonics.\n    public static readonly distortionBaseVolume: number = 0.011; // Distortion is not affected by pitchDamping, which otherwise approximately halves expression for notes around the middle of the range.\n    public static readonly bitcrusherBaseVolume: number = 0.010; // Also not affected by pitchDamping, used when bit crushing is maxed out (aka \"1-bit\" output).\n\tpublic static rawChipWaves: DictionaryArray<ChipWave> = toNameMap([\n        { name: \"rounded\", expression: 0.94, samples: centerWave([0.0, 0.2, 0.4, 0.5, 0.6, 0.7, 0.8, 0.85, 0.9, 0.95, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.95, 0.9, 0.85, 0.8, 0.7, 0.6, 0.5, 0.4, 0.2, 0.0, -0.2, -0.4, -0.5, -0.6, -0.7, -0.8, -0.85, -0.9, -0.95, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -0.95, -0.9, -0.85, -0.8, -0.7, -0.6, -0.5, -0.4, -0.2]) },\n        { name: \"triangle\", expression: 1.0, samples: centerWave([1.0 / 15.0, 3.0 / 15.0, 5.0 / 15.0, 7.0 / 15.0, 9.0 / 15.0, 11.0 / 15.0, 13.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 13.0 / 15.0, 11.0 / 15.0, 9.0 / 15.0, 7.0 / 15.0, 5.0 / 15.0, 3.0 / 15.0, 1.0 / 15.0, -1.0 / 15.0, -3.0 / 15.0, -5.0 / 15.0, -7.0 / 15.0, -9.0 / 15.0, -11.0 / 15.0, -13.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -13.0 / 15.0, -11.0 / 15.0, -9.0 / 15.0, -7.0 / 15.0, -5.0 / 15.0, -3.0 / 15.0, -1.0 / 15.0]) },\n        { name: \"square\", expression: 0.5, samples: centerWave([1.0, -1.0]) },\n        { name: \"1/4 pulse\", expression: 0.5, samples: centerWave([1.0, -1.0, -1.0, -1.0]) },\n        { name: \"1/8 pulse\", expression: 0.5, samples: centerWave([1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0]) },\n        { name: \"sawtooth\", expression: 0.65, samples: centerWave([1.0 / 31.0, 3.0 / 31.0, 5.0 / 31.0, 7.0 / 31.0, 9.0 / 31.0, 11.0 / 31.0, 13.0 / 31.0, 15.0 / 31.0, 17.0 / 31.0, 19.0 / 31.0, 21.0 / 31.0, 23.0 / 31.0, 25.0 / 31.0, 27.0 / 31.0, 29.0 / 31.0, 31.0 / 31.0, -31.0 / 31.0, -29.0 / 31.0, -27.0 / 31.0, -25.0 / 31.0, -23.0 / 31.0, -21.0 / 31.0, -19.0 / 31.0, -17.0 / 31.0, -15.0 / 31.0, -13.0 / 31.0, -11.0 / 31.0, -9.0 / 31.0, -7.0 / 31.0, -5.0 / 31.0, -3.0 / 31.0, -1.0 / 31.0]) },\n        { name: \"double saw\", expression: 0.5, samples: centerWave([0.0, -0.2, -0.4, -0.6, -0.8, -1.0, 1.0, -0.8, -0.6, -0.4, -0.2, 1.0, 0.8, 0.6, 0.4, 0.2]) },\n        { name: \"double pulse\", expression: 0.4, samples: centerWave([1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0]) },\n        { name: \"spiky\", expression: 0.4, samples: centerWave([1.0, -1.0, 1.0, -1.0, 1.0, 0.0]) },\n        { name: \"sine\", expression: 0.88, samples: centerAndNormalizeWave([8.0, 9.0, 11.0, 12.0, 13.0, 14.0, 15.0, 15.0, 15.0, 15.0, 14.0, 14.0, 13.0, 11.0, 10.0, 9.0, 7.0, 6.0, 4.0, 3.0, 2.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 2.0, 4.0, 5.0, 6.0]) },\n        { name: \"flute\", expression: 0.8, samples: centerAndNormalizeWave([3.0, 4.0, 6.0, 8.0, 10.0, 11.0, 13.0, 14.0, 15.0, 15.0, 14.0, 13.0, 11.0, 8.0, 5.0, 3.0]) },\n        { name: \"harp\", expression: 0.8, samples: centerAndNormalizeWave([0.0, 3.0, 3.0, 3.0, 4.0, 5.0, 5.0, 6.0, 7.0, 8.0, 9.0, 11.0, 11.0, 13.0, 13.0, 15.0, 15.0, 14.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 7.0, 5.0, 4.0, 3.0, 2.0, 1.0, 0.0, 0.0]) },\n        { name: \"sharp clarinet\", expression: 0.38, samples: centerAndNormalizeWave([0.0, 0.0, 0.0, 1.0, 1.0, 8.0, 8.0, 9.0, 9.0, 9.0, 8.0, 8.0, 8.0, 8.0, 8.0, 9.0, 9.0, 7.0, 9.0, 9.0, 10.0, 4.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]) },\n        { name: \"soft clarinet\", expression: 0.45, samples: centerAndNormalizeWave([0.0, 1.0, 5.0, 8.0, 9.0, 9.0, 9.0, 9.0, 9.0, 9.0, 9.0, 11.0, 11.0, 12.0, 13.0, 12.0, 10.0, 9.0, 7.0, 6.0, 4.0, 3.0, 3.0, 3.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]) },\n        { name: \"alto sax\", expression: 0.3, samples: centerAndNormalizeWave([5.0, 5.0, 6.0, 4.0, 3.0, 6.0, 8.0, 7.0, 2.0, 1.0, 5.0, 6.0, 5.0, 4.0, 5.0, 7.0, 9.0, 11.0, 13.0, 14.0, 14.0, 14.0, 14.0, 13.0, 10.0, 8.0, 7.0, 7.0, 4.0, 3.0, 4.0, 2.0]) },\n        { name: \"bassoon\", expression: 0.35, samples: centerAndNormalizeWave([9.0, 9.0, 7.0, 6.0, 5.0, 4.0, 4.0, 4.0, 4.0, 5.0, 7.0, 8.0, 9.0, 10.0, 11.0, 13.0, 13.0, 11.0, 10.0, 9.0, 7.0, 6.0, 4.0, 2.0, 1.0, 1.0, 1.0, 2.0, 2.0, 5.0, 11.0, 14.0]) },\n        { name: \"trumpet\", expression: 0.22, samples: centerAndNormalizeWave([10.0, 11.0, 8.0, 6.0, 5.0, 5.0, 5.0, 6.0, 7.0, 7.0, 7.0, 7.0, 6.0, 6.0, 7.0, 7.0, 7.0, 7.0, 7.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 6.0, 7.0, 8.0, 9.0, 11.0, 14.0]) },\n        { name: \"electric guitar\", expression: 0.2, samples: centerAndNormalizeWave([11.0, 12.0, 12.0, 10.0, 6.0, 6.0, 8.0, 0.0, 2.0, 4.0, 8.0, 10.0, 9.0, 10.0, 1.0, 7.0, 11.0, 3.0, 6.0, 6.0, 8.0, 13.0, 14.0, 2.0, 0.0, 12.0, 8.0, 4.0, 13.0, 11.0, 10.0, 13.0]) },\n        { name: \"organ\", expression: 0.2, samples: centerAndNormalizeWave([11.0, 10.0, 12.0, 11.0, 14.0, 7.0, 5.0, 5.0, 12.0, 10.0, 10.0, 9.0, 12.0, 6.0, 4.0, 5.0, 13.0, 12.0, 12.0, 10.0, 12.0, 5.0, 2.0, 2.0, 8.0, 6.0, 6.0, 5.0, 8.0, 3.0, 2.0, 1.0]) },\n        { name: \"pan flute\", expression: 0.35, samples: centerAndNormalizeWave([1.0, 4.0, 7.0, 6.0, 7.0, 9.0, 7.0, 7.0, 11.0, 12.0, 13.0, 15.0, 13.0, 11.0, 11.0, 12.0, 13.0, 10.0, 7.0, 5.0, 3.0, 6.0, 10.0, 7.0, 3.0, 3.0, 1.0, 0.0, 1.0, 0.0, 1.0, 0.0]) },\n        { name: \"glitch\", expression: 0.5, samples: centerWave([1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0]) },\n        { name: \"trapezoid\", expression: 1.0, samples: centerWave([1.0 / 15.0, 6.0 / 15.0, 10.0 / 15.0, 14.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 15.0 / 15.0, 14.0 / 15.0, 10.0 / 15.0, 6.0 / 15.0, 1.0 / 15.0, -1.0 / 15.0, -6.0 / 15.0, -10.0 / 15.0, -14.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -15.0 / 15.0, -14.0 / 15.0, -10.0 / 15.0, -6.0 / 15.0, -1.0 / 15.0,])},\n   \t//normal\n{ name: \"modbox 10% pulse\", expression: 0.5, samples: centerAndNormalizeWave([1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0]) },\n\t{ name: \"modbox sunsoft bass\", expression: 1.0, samples: centerAndNormalizeWave([0.0, 0.1875, 0.3125, 0.5625, 0.5, 0.75, 0.875, 1.0, 1.0, 0.6875, 0.5, 0.625, 0.625, 0.5, 0.375, 0.5625, 0.4375, 0.5625, 0.4375, 0.4375, 0.3125, 0.1875, 0.1875, 0.375, 0.5625, 0.5625, 0.5625, 0.5625, 0.5625, 0.4375, 0.25, 0.0]) },\n\t{ name: \"modbox loud pulse\", expression: 0.5, samples: centerAndNormalizeWave([1.0, 0.7, 0.1, 0.1, 0, 0, 0, 0, 0, 0.1, 0.2, 0.15, 0.25, 0.125, 0.215, 0.345, 4.0]) },\n\t   { name: \"modbox sax\", expression: 0.5, samples: centerAndNormalizeWave([1.0 / 15.0, 3.0 / 15.0, 5.0 / 15.0, 9.0, 0.06]) },\n\t    { name: \"modbox guitar\", expression: 0.5, samples: centerAndNormalizeWave([-0.5, 3.5, 3.0, -0.5, -0.25, -1.0]) },\n\t  { name: \"modbox sine\", expression: 0.5, samples: centerAndNormalizeWave([0.0, 0.05, 0.125, 0.2, 0.25, 0.3, 0.425, 0.475, 0.525, 0.625, 0.675, 0.725, 0.775, 0.8, 0.825, 0.875, 0.9, 0.925, 0.95, 0.975, 0.98, 0.99, 0.995, 1, 0.995, 0.99, 0.98, 0.975, 0.95, 0.925, 0.9, 0.875, 0.825, 0.8, 0.775, 0.725, 0.675, 0.625, 0.525, 0.475, 0.425, 0.3, 0.25, 0.2, 0.125, 0.05, 0.0, -0.05, -0.125, -0.2, -0.25, -0.3, -0.425, -0.475, -0.525, -0.625, -0.675, -0.725, -0.775, -0.8, -0.825, -0.875, -0.9, -0.925, -0.95, -0.975, -0.98, -0.99, -0.995, -1, -0.995, -0.99, -0.98, -0.975, -0.95, -0.925, -0.9, -0.875, -0.825, -0.8, -0.775, -0.725, -0.675, -0.625, -0.525, -0.475, -0.425, -0.3, -0.25, -0.2, -0.125, -0.05]) },\n\t   { name: \"modbox atari bass\", expression: 0.5, samples: centerAndNormalizeWave([1.0, 1.0, 1.0, 1.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0]) },\n\t    { name: \"modbox atari pulse\", expression: 0.5, samples: centerAndNormalizeWave([1.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]) },\n\t  { name: \"modbox 1% pulse\", expression: 0.5, samples: centerAndNormalizeWave([1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0]) },\n\t   { name: \"modbox curved sawtooth\", expression: 0.5, samples: centerAndNormalizeWave([1.0, 1.0 / 2.0, 1.0 / 3.0, 1.0 / 4.0]) },\n\t { name: \"modbox viola\", expression: 0.45, samples: centerAndNormalizeWave([-0.9, -1.0, -0.85, -0.775, -0.7, -0.6, -0.5, -0.4, -0.325, -0.225, -0.2, -0.125, -0.1, -0.11, -0.125, -0.15, -0.175, -0.18, -0.2, -0.21, -0.22, -0.21, -0.2, -0.175, -0.15, -0.1, -0.5, 0.75, 0.11, 0.175, 0.2, 0.25, 0.26, 0.275, 0.26, 0.25, 0.225, 0.2, 0.19, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.275, 0.28, 0.29, 0.3, 0.29, 0.28, 0.27, 0.26, 0.25, 0.225, 0.2, 0.175, 0.15, 0.1, 0.075, 0.0, -0.01, -0.025, 0.025, 0.075, 0.2, 0.3, 0.475, 0.6, 0.75, 0.85, 0.85, 1.0, 0.99, 0.95, 0.8, 0.675, 0.475, 0.275, 0.01, -0.15, -0.3, -0.475, -0.5, -0.6, -0.71, -0.81, -0.9, -1.0, -0.9]) },\n        { name: \"modbox brass\", expression: 0.45, samples: centerAndNormalizeWave([-1.0, -0.95, -0.975, -0.9, -0.85, -0.8, -0.775, -0.65, -0.6, -0.5, -0.475, -0.35, -0.275, -0.2, -0.125, -0.05, 0.0, 0.075, 0.125, 0.15, 0.20, 0.21, 0.225, 0.25, 0.225, 0.21, 0.20, 0.19, 0.175, 0.125, 0.10, 0.075, 0.06, 0.05, 0.04, 0.025, 0.04, 0.05, 0.10, 0.15, 0.225, 0.325, 0.425, 0.575, 0.70, 0.85, 0.95, 1.0, 0.9, 0.675, 0.375, 0.2, 0.275, 0.4, 0.5, 0.55, 0.6, 0.625, 0.65, 0.65, 0.65, 0.65, 0.64, 0.6, 0.55, 0.5, 0.4, 0.325, 0.25, 0.15, 0.05, -0.05, -0.15, -0.275, -0.35, -0.45, -0.55, -0.65, -0.7, -0.78, -0.825, -0.9, -0.925, -0.95, -0.975]) },\n      { name: \"modbox acoustic bass\", expression: 0.5, samples: centerAndNormalizeWave([1.0, 0.0, 0.1, -0.1, -0.2, -0.4, -0.3, -1.0]) },\n\t   { name: \"modbox lyre\", expression: 0.45, samples: centerAndNormalizeWave([1.0, -1.0, 4.0, 2.15, 4.13, 5.15, 0.0, -0.05, 1.0]) },\n\t { name: \"modbox ramp pulse\", expression: 0.5, samples: centerAndNormalizeWave([6.1, -2.9, 1.4, -2.9]) },  \n\t  { name: \"modbox piccolo\", expression: 0.5, samples: centerAndNormalizeWave([1, 4, 2, 1, -0.1, -1, -0.12]) },\n     { name: \"modbox squaretooth\", expression: 0.5, samples: centerAndNormalizeWave([0.2, 1.0, 2.6, 1.0, 0.0, -2.4]) },\n\t  { name: \"modbox flatline\", expression: 1.0, samples: centerAndNormalizeWave([1.0, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9]) },\n\t  { name: \"modbox pnryshk a (u5)\", expression: 0.4, samples: centerAndNormalizeWave([1.0, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0]) },\n\t  { name: \"modbox pnryshk b (riff)\", expression: 0.5, samples: centerAndNormalizeWave([1.0, -0.9, 0.8, -0.7, 0.6, -0.5, 0.4, -0.3, 0.2, -0.1, 0.0, -0.1, 0.2, -0.3, 0.4, -0.5, 0.6, -0.7, 0.8, -0.9, 1.0]) },\n\t//modbox\n\t{ name: \"sandbox shrill lute\", expression: 0.94, samples: centerAndNormalizeWave([1.0, 1.5, 1.25, 1.2, 1.3, 1.5]) },\n        { name: \"sandbox bassoon\", expression: 0.5, samples: centerAndNormalizeWave([1.0, -1.0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0]) },\n        { name: \"sandbox shrill bass\", expression: 0.5, samples: centerAndNormalizeWave([0, 1, 0, 0, 1, 0, 1, 0, 0, 0]) },\n      { name: \"sandbox nes pulse\", expression: 0.4, samples: centerAndNormalizeWave([2.1, -2.2, 1.2, 3]) },\n     { name: \"sandbox saw bass\", expression: 0.25, samples: centerAndNormalizeWave([1, 1, 1, 1, 0, 2, 1, 2, 3, 1, -2, 1, 4, 1, 4, 2, 1, 6, -3, 4, 2, 1, 5, 1, 4, 1, 5, 6, 7, 1, 6, 1, 4, 1, 9]) },\n        { name: \"sandbox euphonium\", expression: 0.3, samples: centerAndNormalizeWave([0, 1, 2, 1, 2, 1, 4, 2, 5, 0, -2, 1, 5, 1, 2, 1, 2, 4, 5, 1, 5, -2, 5, 10, 1]) },\n      { name: \"sandbox shrill pulse\", expression: 0.3, samples: centerAndNormalizeWave([4 -2, 0, 4, 1, 4, 6, 7, 3]) },\n      { name: \"sandbox r-sawtooth\", expression: 0.2, samples: centerAndNormalizeWave([6.1, -2.9, 1.4, -2.9]) },\n        { name: \"sandbox recorder\", expression: 0.2, samples: centerAndNormalizeWave([5.0, -5.1, 4.0, -4.1, 3.0, -3.1, 2.0, -2.1, 1.0, -1.1, 6.0]) },\n        { name: \"sandbox narrow saw\", expression: 1.2, samples: centerAndNormalizeWave([0.1, 0.13 / -0.1 ,0.13 / -0.3 ,0.13 / -0.5 ,0.13 / -0.7 ,0.13 / -0.9 ,0.13 / -0.11 ,0.13 / -0.31 ,0.13 / -0.51 ,0.13 / -0.71 ,0.13 / -0.91 ,0.13 / -0.12 ,0.13 / -0.32 ,0.13 / -0.52 ,0.13 / -0.72 ,0.13 / -0.92 ,0.13 / -0.13 ,0.13 / 0.13 ,0.13 / 0.92 ,0.13 / 0.72 ,0.13 / 0.52 ,0.13 / 0.32 ,0.13 / 0.12 ,0.13 / 0.91 ,0.13 / 0.71 ,0.13 / 0.51 ,0.13 / 0.31 ,0.13 / 0.11 ,0.13 / 0.9 ,0.13 / 0.7 ,0.13 / 0.5 ,0.13 / 0.3 ,0.13]) },\n        { name: \"sandbox deep square\", expression: 1.0, samples: centerAndNormalizeWave([1.0, 2.25, 1.0, -1.0, -2.25, -1.0]) },\n      //cut\n\t  { name: \"sandbox ring pulse\", expression: 1.0, samples: centerAndNormalizeWave([1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0]) },\n      { name: \"sandbox double sine\", expression: 1.0, samples: centerAndNormalizeWave([1.0, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 1.8, 1.7, 1.6, 1.5, 1.4, 1.3, 1.2, 1.1, 1.0, 0.0, -1.0, -1.1, -1.2, -1.3, -1.4, -1.5, -1.6, -1.7, -1.8, -1.9, -1.8, -1.7, -1.6, -1.5, -1.4, -1.3, -1.2, -1.1, -1.0]) },\n        { name: \"sandbox contrabass\", expression: 0.5, samples: centerAndNormalizeWave([4.20, 6.9, 1.337, 6.66]) },\n       { name: \"sandbox double bass\", expression: 0.4, samples: centerAndNormalizeWave([0.0, 0.1875, 0.3125, 0.5625, 0.5, 0.75, 0.875, 1.0, -1.0, -0.6875, -0.5, -0.625, -0.625, -0.5, -0.375, -0.5625, -0.4375, -0.5625, -0.4375, -0.4375, -0.3125, -0.1875, 0.1875, 0.375, 0.5625, -0.5625, 0.5625, 0.5625, 0.5625, 0.4375, 0.25, 0.0]) },\n     //   { name: \"sandbox triple pulse\", expression: 0.4, samples: centerAndNormalizeWave([1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, 1.5, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, 1.5]) },     \n\t//from sandbox, are these correct????\n\t  { name: \"haileybox test1\", expression: 0.5, samples: centerAndNormalizeWave([1.0, 0.5, -1.0]) },\n\t  { name: \"brucebox pokey 4bit lfsr\", expression: 0.5, samples: centerAndNormalizeWave([1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, -1.0]) },\n\t{ name: \"brucebox pokey 5step bass\", expression: 0.5,samples: centerAndNormalizeWave([1.0, -1.0, 1.0, -1.0, 1.0]) },\n\t{ name: \"brucebox isolated spiky\", expression: 0.5, samples: centerAndNormalizeWave([1.0, -1.0, 1.0, -1.0, 1.0, -1.0]) },\n\t//brucebox\n\t{ name: \"nerdbox unnamed 1\", expression: 0.5, samples: centerAndNormalizeWave([0.2 , 0.8 / 0.2, 0.7, -0.4, -1.0, 0.5, -0.5 / 0.6]) },\n\t{ name: \"nerdbox unnamed 2\", expression: 0.5, samples: centerAndNormalizeWave([2.0 , 5.0 / 55.0 , -9.0 , 6.5 / 6.5 , -55.0, 18.5 / -26.0]) },\n//nerdbox\n\t { name: \"zefbox semi-square\", expression: 1.0, samples: centerAndNormalizeWave([1.0, 1.5, 2.0, 2.5, 2.5, 2.5, 2.0, 1.5, 1.0]) },\n\t{ name: \"zefbox deep square\", expression: 1.0, samples: centerAndNormalizeWave([1.0, 2.25, 1.0, -1.0, -2.25, -1.0]) },\n { name: \"zefbox squaretal\", expression: 0.7, samples: centerAndNormalizeWave([1.5, 1.0, 1.5, -1.5, -1.0, -1.5]) },\n//\t{ name: \"zefbox sawtooth\", expression: 0.65, samples: centerAndNormalizeWave([1.0 / 31.0, 3.0 / 31.0, 5.0 / 31.0, 7.0 / 31.0, 9.0 / 31.0, 11.0 / 31.0, 13.0 / 31.0, 15.0 / 31.0, 17.0 / 31.0, 19.0 / 31.0, 21.0 / 31.0, 23.0 / 31.0, 25.0 / 31.0, 27.0 / 31.0, 29.0 / 31.0, 31.0 / 31.0, -31.0 / 31.0, -29.0 / 31.0, -27.0 / 31.0, -25.0 / 31.0, -23.0 / 31.0, -21.0 / 31.0, -19.0 / 31.0, -17.0 / 31.0, -15.0 / 31.0, -13.0 / 31.0, -11.0 / 31.0, -9.0 / 31.0, -7.0 / 31.0, -5.0 / 31.0, -3.0 / 31.0, -1.0 / 31.0]) },\n\t { name: \"zefbox saw wide\", expression: 0.65, samples: centerAndNormalizeWave([0.0, -0.4, -0.8, -1.2, -1.6 , -2.0, 0.0, -0.4, -0.8, -1.2, -1.6]) },\n\t{ name: \"zefbox saw narrow\", expression: 0.65,samples: centerAndNormalizeWave([1, 0.5, 1, 0.5, 1, 0.5, 1, 2, 1, 2 ,1]) },\n\t { name: \"zefbox deep sawtooth\", expression: 0.5, samples: centerAndNormalizeWave([0, 2, 3, 4, 4.5, 5, 5.5, 6, 6.25, 6.5, 6.75, 7, 6.75, 6.5, 6.25, 6, 5.5, 5, 4.5, 4, 3, 2, 1]) },\n\t//{ name: \"zefbox double saw\", expression: 0.5, samples: centerAndNormalizeWave([0.0, -0.2, -0.4, -0.6, -0.8, -1.0, 1.0, -0.8, -0.6, -0.4, -0.2, 1.0, 0.8, 0.6, 0.4, 0.2]) },\n\t { name: \"zefbox sawtal\", expression: 0.3, samples: centerAndNormalizeWave([1.5, 1.0, 1.25, -0.5, 1.5, -0.5, 0.0, -1.5, 1.5, 0.0, 0.5, -1.5, 0.5, 1.25, -1.0, -1.5]) },\n\t{ name: \"zefbox deep sawtal\", expression: 0.7, samples: centerAndNormalizeWave([0.75, 0.25, 0.5, -0.5, 0.5, -0.5, -0.25, -0.75]) },\n//\t { name: \"zefbox squaretooth\", expression: 0.25, samples: centerAndNormalizeWave([0.2, 1.0, 2.6, 1.0, 0.0, -2.4]) },\n\t//identical to the modbox squaretooth, just louder - this was pre-2.0 ultrabox, but I've added backwards compatibility stuff related to it so yeah\n\t{ name: \"zefbox pulse\", expression: 0.5, samples: centerAndNormalizeWave([1.0, -2.0, -2.0, -1.5, -1.5, -1.25, -1.25, -1.0, -1.0]) },\n//{ name: \"zefbox double pulse\", expression: 0.4, samples: centerAndNormalizeWave([1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0]) },\n{ name: \"zefbox triple pulse\", expression: 0.4, samples: centerAndNormalizeWave([1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, 1.5, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, 1.5]) },\n{ name: \"zefbox high pulse\", expression: 0.2, samples: centerAndNormalizeWave([1, -2, 2, -3, 3, -4, 5, -4, 3, -3, 2, -2, 1]) },\n{ name: \"zefbox deep pulse\", expression: 0.2, samples: centerAndNormalizeWave([1, 2, 2, -2, -2, -3, -4, -4, -5, -5, -5, -5, 0, -1, -2]) },\n//from zefbox, are these correct????\n\t //\"triangle\", \"square\", \"semi-square\", \"deep square\", \"squaretal\", \"sawtooth\", \"saw wide\", \"saw narrow\",  \"deep sawtooth\", \"double saw\", \"sawtal\", \"deep sawtal\", \"squaretooth\", \"pulse\", \"pulse wide\", \"pulse narrow\", \"double pulse\", \"triple pulse\", \"high pulse\", \"deep pulse\",  \"nes pulse\", \"spiky\", \"plateau\", \"sinusoid\"\n\t { name: \"wackybox guitar string\", expression: 0.6, samples: centerAndNormalizeWave([0, 63, 63, 63, 63, 19, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 11, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 27, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 34, 63, 63, 63, 63]) },\n\t\t{ name: \"wackybox intense\", expression: 0.6, samples: centerAndNormalizeWave([36, 25, 33, 35, 18, 51, 22, 40, 27, 37, 31, 33, 25, 29, 41, 23, 31, 31, 45, 20, 37, 23, 29, 26, 42, 29, 33, 26, 31, 27, 40, 25, 40, 26, 37, 24, 41, 32, 0, 32, 33, 29, 32, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31]) },\n\t\t{ name: \"wackybox buzz wave\", expression: 0.6, samples: centerAndNormalizeWave([0, 1, 1, 2, 4, 4, 4, 4, 5, 5, 6, 6, 6, 7, 8, 8, 8, 9, 9, 9, 9, 9, 9, 8, 8, 8, 11, 15, 23, 62, 61, 60, 58, 56, 56, 54, 53, 52, 50, 49, 48, 47, 47, 45, 45, 45, 44, 44, 43, 43, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 42, 43, 43, 53]) },\n        //wackybox\n\t\t        { name: \"todbox 1/3 pulse\", expression: 0.5, samples: centerWave([1.0, -1.0, -1.0]) },\n        { name: \"todbox 1/5 pulse\", expression: 0.5, samples: centerWave([1.0, -1.0, -1.0, -1.0, -1.0]) },\n\t\t//these WEREN'T in pre-2.0 ultrabox, but I've added backwards compatibility stuff related to it so yeah\n\t\t{ name: \"todbox slap bass\", expression: 0.5, samples: centerAndNormalizeWave([1, 0.5, 0, 0.5, 1.25, 0.5, -0.25, 0.1, -0.1, 0.1, 1.1, 2.1, 3, 3.5, 2.9, 3.3, 2.7, 2.9, 2.3, 2, 1.9, 1.8, 1, 0.7, 0.9, 0.8, 0.4, 0.1, 0.0, 0.2, 0.4, 0.6, 0.5, 0.8]) },\n\t{ name: \"todbox harsh wave\", expression: 0.45, samples: centerAndNormalizeWave([1.0, -1.0, -1.0, -1.0, 0.5, 0.5, 0.5, 0.7, 0.39, 1.3, 0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0]) },\n\t{ name: \"todbox accordian\", expression: 0.5, samples: centerAndNormalizeWave([0, 1, 1, 2, 2, 1.5, 1.5, 0.8, 0, -2, -3.25, -4, -4.5, -5.5, -6, -5.75, -5.5, -5, -5, -5, -6, -6, -6, -5, -4, -3, -2, -1, 0.75, 1, 2, 3, 4, 5, 6, 6.5, 7.5, 8, 7.75, 6, 5.25, 5, 5, 5, 5, 5, 4.25, 3.75, 3.25, 2.75, 1.25, -0.75, -2, -0.75, 1.25, 1.25, 2, 2, 2, 2, 1.5, -1, -2, -1, 1.5, 2,  2.75, 2.75, 2.75, 3, 2.75, -1, -2, -2.5, -2, -1, -2.25, -2.75, -2, -3, -1.75, 1, 2, 3.5, 4, 5.25, 6, 8, 9.75, 10, 9.5, 9, 8.5, 7.5, 6.5, 5.25, 5, 4.5, 4, 4, 4, 3.25, 2.5, 2, 1, -0.5, -2, -3.5, -4, -4, -4, -3.75, -3, -2, -1]) },\n    //from todbox\n\t{ name: \"todbox beta banana wave\", expression: 0.8, samples: centerAndNormalizeWave([0.0, 0.2, 0.4, 0.5, 0.6, 0.7, 0.8, 0.85, 0.9, 0.95, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.95, 0.9, 0.85, 0.8, 0.7, 0.6, 0.5, 0.4, 0.2, 0.0]) },\n\t{ name: \"todbox beta test wave\", expression: 0.5, samples: centerAndNormalizeWave([56, 0, -52, 16, 3, 3, 2, -35, 20, 147, -53, 0, 0, 5, -6]) },\n\t//I don't like this one.\n\t{ name: \"todbox beta real snare\", expression: 1.0, samples: centerAndNormalizeWave([0.00000,-0.01208,-0.02997,-0.04382,-0.06042,-0.07529,-0.09116,-0.10654,-0.12189,-0.13751,-0.15289,-0.16849,-0.18387,-0.19974,-0.21484,-0.23071,-0.24557,-0.26144,-0.27731,-0.29141,-0.30350,-0.32416,-0.34406,-0.32947,-0.31158,-0.33725,-0.37579,-0.39746,-0.40201,-0.40906,-0.44180,-0.47229,-0.47379,-0.47733,-0.45239,-0.33954,-0.22894,-0.22443,-0.32138,-0.46371,-0.57178,-0.61081,-0.59998,-0.61459,-0.62189,-0.43979,-0.19217,-0.12643,-0.17252,-0.20956,-0.20981,-0.19217,-0.22845,-0.34332,-0.50629,-0.64307,-0.72922,-0.81384,-0.87857,-0.90149,-0.88687,-0.86169,-0.87781,-0.80478,-0.52493,-0.31308,-0.33249,-0.39395,-0.39017,-0.30301,-0.19949,-0.13071,-0.02493,0.14307,0.34961,0.52542,0.63223,0.68613,0.74710,0.87305,0.98184,0.98889,0.97052,0.99066,0.99747,0.99344,0.99469,0.99393,0.99570,0.99393,0.99521,0.99469,0.99420,0.99521,0.99420,0.99521,0.99469,0.99469,0.99521,0.99420,0.99545,0.99445,0.99469,0.99493,0.99420,0.99521,0.99393,0.99493,0.99469,0.99445,0.99570,0.99445,0.99521,0.99469,0.99469,0.99521,0.99420,0.99545,0.99445,0.99445,0.99493,0.99420,0.99545,0.99420,0.99493,0.99493,0.99420,0.99545,0.99445,0.99521,0.99469,0.99445,0.99545,0.99368,0.99393,0.99445,0.99268,0.97983,0.97229,0.95944,0.88486,0.76773,0.64481,0.53098,0.39847,0.19318,-0.03827,-0.20325,-0.39319,-0.68765,-0.88461,-0.93448,-0.96069,-0.97681,-0.98715,-0.99042,-0.99142,-0.99091,-0.99142,-0.99219,-0.99091,-0.99219,-0.99066,-0.99142,-0.99142,-0.99118,-0.99191,-0.99066,-0.99191,-0.99142,-0.99142,-0.99191,-0.99091,-0.99219,-0.99118,-0.99142,-0.99167,-0.99091,-0.99219,-0.99091,-0.99167,-0.99142,-0.99091,-0.99191,-0.99091,-0.99191,-0.99142,-0.99118,-0.99191,-0.99066,-0.99191,-0.99118,-0.99142,-0.99191,-0.99066,-0.99191,-0.99091,-0.99167,-0.99191,-0.99118,-0.99219,-0.99091,-0.99191,-0.99142,-0.99142,-0.99243,-0.98865,-0.98764,-0.99219,-0.98083,-0.92517,-0.92770,-0.91486,-0.59042,-0.15189,0.02945,0.05667,0.06195,0.00629,-0.18008,-0.56497,-0.88010,-0.92770,-0.92871,-0.97705,-0.99167,-0.98663,-0.99118,-0.99042,-0.99219,-0.99142,-0.99118,-0.98941,-0.99219,-1.00000,-0.97580,-0.95993,-0.99948,-0.98236,-0.84659,-0.74860,-0.70679,-0.59747,-0.48035,-0.41687,-0.36826,-0.29745,-0.18185,-0.06219,0.02164,0.07907,0.13123,0.18033,0.19620,0.15692,0.14053,0.20251,0.27530,0.30905,0.29092,0.27252,0.30402,0.32416,0.32214,0.35239,0.39670,0.43198,0.49420,0.58487,0.64154,0.65967,0.67050,0.67026,0.66522,0.65540,0.66119,0.70627,0.75842,0.78738,0.78940,0.78763,0.80402,0.85944,0.94559,0.98990,0.98160,0.98007,0.99368,0.99393,0.98538,0.97580,0.97101,0.93802,0.81812,0.64633,0.46649,0.28613,0.14685,0.08966,0.12543,0.20325,0.24557,0.18866,0.02795,-0.20175,-0.44205,-0.58713,-0.57629,-0.41385,-0.14255,0.18033,0.47882,0.68311,0.72314,0.62064,0.48309,0.43073,0.53577,0.72794,0.90250,0.97354,0.97000,0.98083,0.99191,0.99319,0.99493,0.99393,0.99521,0.99393,0.99545,0.99420,0.99493,0.99493,0.99445,0.99545,0.99420,0.99545,0.99243,0.98917,0.98386,0.97781,0.95844,0.89066,0.81561,0.78134,0.77277,0.75995,0.73022,0.67126,0.57178,0.47000,0.38361,0.29419,0.20703,0.14734,0.15866,0.25162,0.35818,0.45062,0.56750,0.69748,0.81232,0.89697,0.95062,0.97656,0.98615,0.99191,0.99219,0.99243,0.99368,0.99368,0.97028,0.95566,0.94559,0.82617,0.59973,0.38361,0.23901,0.15338,0.12921,0.11206,0.04382,-0.12946,-0.43552,-0.72644,-0.89847,-0.95465,-0.95541,-0.97229,-0.99268,-0.99319,-0.98840,-0.99142,-0.99167,-0.99091,-0.98840,-0.98965,-0.99368,-0.97455,-0.95010,-0.94684,-0.96219,-0.98514,-0.99243,-0.98889,-0.98917,-0.99142,-0.99219,-0.99091,-0.99191,-0.99142,-0.99142,-0.99191,-0.99066,-0.99167,-0.99091,-0.99142,-0.99191,-0.99091,-0.99191,-0.99091,-0.99167,-0.99167,-0.99091,-0.99219,-0.99091,-0.99191,-0.99142,-0.99118,-0.99191,-0.99066,-0.99191,-0.99091,-0.99118,-0.99243,-0.98941,-0.98462,-0.96976,-0.96320,-0.96194,-0.87305,-0.66196,-0.44809,-0.29495,-0.18085,-0.11813,-0.11334,-0.18564,-0.34885,-0.58237,-0.80450,-0.93726,-0.97806,-0.97354,-0.97531,-0.98990,-0.99368,-0.98941,-0.99219,-0.99091,-0.99142,-0.99167,-0.99091,-0.99191,-0.99118,-0.99219,-0.98236,-0.97781,-0.97656,-0.95135,-0.87204,-0.71335,-0.52139,-0.34232,-0.17783,-0.00906,0.14886,0.30450,0.48889,0.67404,0.84030,0.94128,0.97681,0.98462,0.98337,0.99142,0.99521,0.99493,0.99420,0.99445,0.99521,0.99393,0.99545,0.99445,0.99521,0.99521,0.99445,0.99570,0.99445,0.99521,0.99469,0.99445,0.99521,0.99420,0.99521,0.99445,0.99445,0.99521,0.99445,0.99545,0.99445,0.99469,0.99493,0.99393,0.99493,0.99445,0.99393,0.98285,0.97781,0.97479,0.92844,0.82114,0.66095,0.52417,0.46826,0.46722,0.47934,0.47379,0.47076,0.48209,0.42014,0.25439,0.10074,-0.00302,-0.08966,-0.16068,-0.21436,-0.22040,-0.15137,-0.00476,0.18536,0.37631,0.52292,0.62164,0.70425,0.74835,0.72366,0.63928,0.52567,0.40805,0.35666,0.42896,0.60175,0.80200,0.92743,0.96548,0.97632,0.98337,0.99066,0.99521,0.99420,0.99368,0.99292,0.98840,0.98083,0.96774,0.93323,0.85440,0.69470,0.47202,0.20425,-0.08890,-0.36423,-0.60025,-0.77481,-0.90173,-0.96017,-0.97028,-0.98108,-0.98840,-0.99219,-0.98990,-0.99219,-0.99142,-0.99142,-0.99219,-0.99091,-0.99243,-0.99066,-0.99142,-0.99142,-0.99118,-0.99191,-0.99066,-0.99167,-0.99142,-0.99142,-0.99219,-0.99091,-0.99191,-0.99118,-0.99142,-0.99191,-0.99091,-0.99191,-0.99091,-0.99167,-0.99191,-0.99118,-0.99219,-0.99091,-0.99167,-0.99142,-0.99142,-0.99219,-0.99091,-0.99191,-0.99142,-0.99118,-0.98917,-0.99042,-0.99445,-0.97330,-0.95590,-0.96219,-0.89670,-0.72241,-0.55112,-0.44809,-0.39319,-0.37833,-0.35641,-0.26270,-0.14230,-0.11282,-0.13525,-0.11536,-0.09671,-0.11511,-0.18060,-0.26874,-0.33374,-0.42215,-0.51358,-0.44785,-0.30450,-0.28613,-0.30527,-0.25037,-0.15390,-0.08286,-0.11157,-0.12592,-0.00327,0.13803,0.19141,0.12820,0.01788,-0.03952,-0.12592,-0.26773,-0.34634,-0.31384,-0.18060,-0.01080,0.13574,0.26120,0.36975,0.46573,0.55087,0.63626,0.73022,0.83072,0.92014,0.97177,0.98587,0.98413,0.99167,0.99445,0.99292,0.99219,0.98740,0.98007,0.96472,0.92239,0.82166,0.69067,0.57959,0.54962,0.59695,0.64255,0.64633,0.60629,0.55942,0.54910,0.58966,0.61887,0.56952,0.54181,0.59518,0.63248,0.63876,0.65463,0.73398,0.88312,0.96927,0.97101,0.97958,0.99344,0.99420,0.99268,0.99493,0.99469,0.99445,0.99521,0.99445,0.99545,0.99420,0.99493,0.99493,0.99420,0.99545,0.99420,0.99493,0.99420,0.99393,0.99420,0.98840,0.98309,0.98309,0.96069,0.88461,0.79370,0.72064,0.65765,0.59998,0.53247,0.49268,0.48615,0.44205,0.38034,0.36447,0.38715,0.39294,0.32645,0.19595,0.07782,-0.05893,-0.27832,-0.48309,-0.62619,-0.72995,-0.79999,-0.84583,-0.82166,-0.73575,-0.67227,-0.65491,-0.64960,-0.66397,-0.70175,-0.72894,-0.74658,-0.76724,-0.79520,-0.82846,-0.86523,-0.90527,-0.94382,-0.89948,-0.69849,-0.47479,-0.31662,-0.15414,-0.00729,0.07077,0.08237,0.04431,-0.02292,-0.11761,-0.24307,-0.36926,-0.45087,-0.46170,-0.40250,-0.30679,-0.17529,0.00000,0.14331,0.24179,0.36774,0.49545,0.56522,0.57907,0.56775,0.53851,0.51132,0.48688,0.41913,0.26044,0.00955,-0.26297,-0.46396,-0.62341,-0.82214,-0.94684,-0.96774,-0.97531,-0.98413,-0.99017,-0.98990,-0.99219,-0.99066,-0.99142,-0.99167,-0.99118,-0.99219,-0.98990,-0.99118,-0.99368,-0.99142,-0.97757,-0.97403,-0.98007,-0.96170,-0.86826,-0.67783,-0.52719,-0.48788,-0.45490,-0.43146,-0.47681,-0.54105,-0.57983,-0.60904,-0.62317,-0.59949,-0.55566,-0.52063,-0.52115,-0.55112,-0.56244,-0.58337,-0.65540,-0.73373,-0.77228,-0.74759,-0.68890,-0.64609,-0.61887,-0.58060,-0.50351,-0.40729,-0.33929,-0.35110,-0.42944,-0.47028,-0.42267,-0.32718,-0.20224,-0.05640,0.04556,0.10529,0.17630,0.26169,0.33197,0.32138,0.23776,0.20956,0.23148,0.20352,0.23325,0.39267,0.52719,0.58438,0.62289,0.66345,0.70023,0.66296,0.54330,0.42618,0.33475,0.24533,0.14105,0.03851,0.01358,0.09143,0.22845,0.34961,0.41711,0.48740,0.58914,0.69519,0.78186,0.84357,0.89822,0.95389,0.98135,0.98615,0.99167,0.99243,0.99445,0.99420,0.99469,0.99493,0.99393,0.99545,0.99445,0.99521,0.99469,0.99445,0.99521,0.99420,0.99469,0.98965,0.98715,0.98563,0.96295,0.91736,0.86624,0.82367,0.77554,0.68411,0.53549,0.38916,0.26120,0.11435,-0.04053,-0.18161,-0.23172,-0.19394,-0.15237,-0.10730,-0.02997,0.08588,0.22620,0.34305,0.44104,0.55740,0.65765,0.71259,0.69217,0.65363,0.69748,0.79572,0.89368,0.95514,0.97733,0.98413,0.98816,0.99243,0.99445,0.99243,0.97302,0.96674,0.97983,0.90378,0.71005,0.51056,0.40451,0.40982,0.41559,0.32996,0.24356,0.18866,0.11411,0.05365,0.01157,-0.03247,-0.09216,-0.16095,-0.23248,-0.31662,-0.39771,-0.48663,-0.59647,-0.71536,-0.82013,-0.85287,-0.82947,-0.84937,-0.92215,-0.97177,-0.98663,-0.98816,-0.98438,-0.99091,-0.99219,-0.99091,-0.99191,-0.99042,-0.99191,-0.99091,-0.99142,-0.99191,-0.99091,-0.99191,-0.99091,-0.99167,-0.99142]) },\n\t//from todbox beta (obviously)\n\t\n\t//{ name: \"ultrabox nes 12.5%\", expression: 0.5, isSampled: false, samples: centerAndNormalizeWave([0, 1, 0, 0, 0, 0, 0, 0]) },\n\t//{ name: \"ultrabox nes 25%\", expression: 0.5, isSampled: false, samples: centerAndNormalizeWave([0, 1, 1, 0, 0, 0, 0, 0]) },\n//\t{ name: \"ultrabox nes 50%\", expression: 0.5, isSampled: false, samples: centerAndNormalizeWave([0, 1, 1, 1, 1, 0, 0, 0]) },\n//\t{ name: \"ultrabox nes 25% negated\", expression: 0.5, isSampled: false, samples: centerAndNormalizeWave([1, 0, 0, 1, 1, 1, 1, 1]) },\n\t//{ name: \"ultrabox nes triangle\", expression: 0.5, isSampled: true, isPercussion: false, extraSampleDetune: 63.28, samples: centerAndNormalizeWave([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]) },\n\t//{ name: \"ultrabox gameboy kirby triangle\", expression: 1.0, isSampled: false, samples: centerAndNormalizeWave([2,5,7,1,0,2,2,3,2,5,5,9,3,4,8,9,5,4,8,1,3,1,3,5,9,8,9,2,1,6,9,0,7,9,6,8,1,6]) },\n\t//{ name: \"ultrabox gameboy kirby bass\", expression: 1.0, isSampled: false, samples: centerAndNormalizeWave([4,5,7,2,6,8,3,3,0,8,1,4,2,1,1,4,8,6,7,3,7,8,3,8,7,7,7,5,7,4,3,9,8,7,8,7,0,7]) },\n\t\n\t\n\t{ name: \"ultrabox shortened od guitar\", expression: 0.5, samples: centerAndNormalizeWave([-0.82785,-0.67621,-0.40268,-0.43817,-0.45468,-0.22531,-0.18329,0.24750,0.71246,0.52155,0.56082,0.48395,0.33990,0.46957,0.27744,0.42313,0.47104,0.18796,0.12930,-0.13901,-0.07431,-0.16348,-0.74857,-0.73206,-0.35181,-0.26227,-0.41882,-0.27786,-0.19806,-0.19867,0.18643,0.24808,0.08847,-0.06964,0.06912,0.20474,-0.05304,0.29416,0.31967,0.14243,0.27521,-0.23932,-0.14752,0.12360,-0.26123,-0.26111,0.06616,0.26520,0.08090,0.15240,0.16254,-0.12061,0.04562,0.00131,0.04050,0.08182,-0.21729,-0.17041,-0.16312,-0.08563,0.06390,0.05099,0.05627,0.02728,0.00726,-0.13028,-0.05673,-0.14969,-0.17645,0.35492,0.16766,-0.00897,0.24326,-0.00461,-0.04456,0.01776,-0.04950,-0.01221,0.02039,0.07684,0.13397,0.39850,0.35962,0.13754,0.42310,0.27161,-0.17609,0.03659,0.10635,-0.21909,-0.22046,-0.20258,-0.40973,-0.40280,-0.40521,-0.66284]) },\n\t//based off an old mp3 in #modded-beepbox where someone tried to shorten the overdrive guitar into the size of other chip waves \n\t//search \"normie alert\" in beepcord\n]); \n\tpublic static chipWaves: DictionaryArray<ChipWave> = rawChipToIntegrated(Config.rawChipWaves);\n\tpublic static rawRawChipWaves: DictionaryArray<ChipWave> = Config.rawChipWaves;\n\n\tpublic static firstIndexForSamplesInChipWaveList: number = Config.chipWaves.length;\n  \n\t// Noise waves have too many samples to write by hand, they're generated on-demand by getDrumWave instead.\n\tpublic static readonly chipNoises: DictionaryArray<ChipNoise> = toNameMap([\n\t\t{ name: \"retro\", expression: 0.25, basePitch: 69, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t{ name: \"white\", expression: 1.0, basePitch: 69, pitchFilterMult: 8.0, isSoft: true, samples: null },\n\t\t// The \"clang\" and \"buzz\" noises are based on similar noises in the modded beepbox! :D\n\t\t{ name: \"clang\", expression: 0.4, basePitch: 69, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t{ name: \"buzz\", expression: 0.3, basePitch: 69, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t{ name: \"hollow\", expression: 1.5, basePitch: 96, pitchFilterMult: 1.0, isSoft: true, samples: null },\n\t\t{ name: \"shine\", expression: 1.0, basePitch: 69, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t{ name: \"deep\", expression: 1.5, basePitch: 120, pitchFilterMult: 1024.0, isSoft: true, samples: null },\n\t\t{ name: \"cutter\", expression: 0.005, basePitch: 96, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n        { name: \"metallic\", expression: 1.0, basePitch: 96, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n        { name: \"static\", expression: 1.0, basePitch: 96, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t// technically these are from the pandorasbox beta but whatever\n\t\t{ name: \"1-bit white\", expression: 0.5, basePitch: 74.41, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t{ name: \"1-bit metallic\", expression: 0.5, basePitch: 86.41, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t// ultrabox noises\n\t\t{ name: \"crackling\", expression: 0.9, basePitch: 69, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t\t{ name: \"pink\", expression: 1.0, basePitch: 69, pitchFilterMult: 8.0, isSoft: true, samples: null },\n\t\t{ name: \"brownian\", expression: 1.0, basePitch: 69, pitchFilterMult: 8.0, isSoft: true, samples: null },\n\t\t//{ name: \"doom random\", expression: 1.0, basePitch: 84, pitchFilterMult: 1024.0, isSoft: false, samples: null },\n\t]);\n\t\n    public static readonly filterFreqStep: number = 1.0 / 4.0;\n    public static readonly filterFreqRange: number = 34;\n    public static readonly filterFreqReferenceSetting: number = 28;\n    public static readonly filterFreqReferenceHz: number = 8000.0;\n    public static readonly filterFreqMaxHz: number = Config.filterFreqReferenceHz * Math.pow(2.0, Config.filterFreqStep * (Config.filterFreqRange - 1 - Config.filterFreqReferenceSetting)); // ~19khz\n    public static readonly filterFreqMinHz: number = 8.0;\n    public static readonly filterGainRange: number = 15;\n    public static readonly filterGainCenter: number = 7;\n    public static readonly filterGainStep: number = 1.0 / 2.0;\n    public static readonly filterMaxPoints: number = 8;\n    public static readonly filterTypeNames: ReadonlyArray<string> = [\"low-pass\", \"high-pass\", \"peak\"]; // See FilterType enum above.\n    public static readonly filterMorphCount: number = 10; // Number of filter shapes allowed for modulating between. Counts the 0/default position.\n\n    public static readonly filterSimpleCutRange: number = 11;\n    public static readonly filterSimplePeakRange: number = 8;\n\n    public static readonly fadeInRange: number = 10;\n    public static readonly fadeOutTicks: ReadonlyArray<number> = [-24, -12, -6, -3, -1, 6, 12, 24, 48, 72, 96];\n    public static readonly fadeOutNeutral: number = 4;\n    public static readonly drumsetFadeOutTicks: number = 48;\n\tpublic static readonly transitions: DictionaryArray<Transition> = toNameMap([\n        { name: \"normal\", isSeamless: false, continues: false, slides: false, slideTicks: 3, includeAdjacentPatterns: false },\n        { name: \"interrupt\", isSeamless: true, continues: false, slides: false, slideTicks: 3, includeAdjacentPatterns: true },\n        { name: \"continue\", isSeamless: true, continues: true, slides: false, slideTicks: 3, includeAdjacentPatterns: true },\n        { name: \"slide\", isSeamless: true, continues: false, slides: true, slideTicks: 3, includeAdjacentPatterns: true },\n        { name: \"slide in pattern\", isSeamless: true, continues: false, slides: true, slideTicks: 3, includeAdjacentPatterns: false }\n\t]);\n\tpublic static readonly vibratos: DictionaryArray<Vibrato> = toNameMap([\n        { name: \"none\", amplitude: 0.0, type: 0, delayTicks: 0 },\n        { name: \"light\", amplitude: 0.15, type: 0, delayTicks: 0 },\n        { name: \"delayed\", amplitude: 0.3, type: 0, delayTicks: 37 }, // It will fade in over the previous two ticks.\n        { name: \"heavy\", amplitude: 0.45, type: 0, delayTicks: 0 },\n        { name: \"shaky\", amplitude: 0.1, type: 1, delayTicks: 0 },\n\t\t\t//    { name: \"very shaky\", amplitude: 1, type: 0, delayTicks: 0 },\n\t//{ name: \"insane\", amplitude: 10, type: 1, delayTicks: 0 },\n\t    //todbox vibratos\n\t//\t{ name: \"super insane\", amplitude: 30, type: 1, delayTicks: 1 },\n\t\t//wackybox\n\t//\t { name: \"quiver\", amplitude: 0.001, type: 0, delayTicks: 0 },\n      //  { name: \"wub-wub\", amplitude: 10.0, type: 0, delayTicks: 0 },\n   //     { name: \"quiver delayed\", amplitude: 0.001, type: 0, delayTicks: 18 },\n      //  { name: \"vibrate\", amplitude: 0.08, type: 0, delayTicks: 0 },\n    //    { name: \"too much wub\", amplitude: 30.0, type: 0, delayTicks: 18 },\n\t //too much wub breaks things just a little bit at it's original amplitude\n\t\t//sandbox\n\t]);\n\tpublic static readonly vibratoTypes: DictionaryArray<VibratoType> = toNameMap([\n\t\t{ name: \"normal\", periodsSeconds: [0.14], period: 0.14 },\n\t\t{ name: \"shaky\", periodsSeconds: [0.11, 1.618 * 0.11, 3 * 0.11], period: 266.97 }, // LCM of all periods\n\t]);\n\t// This array is more or less a linear step by 0.1 but there's a bit of range added at the start to hit specific ratios, and the end starts to grow faster.\n\t//                                                             0       1      2    3     4      5    6    7      8     9   10   11 12   13   14   15   16   17   18   19   20   21 22   23   24   25   26   27   28   29   30   31 32   33   34   35   36   37   38    39  40   41 42    43   44   45   46 47   48 49 50\n\tpublic static readonly arpSpeedScale: ReadonlyArray<number> = [0, 0.0625, 0.125, 0.2, 0.25, 1 / 3, 0.4, 0.5, 2 / 3, 0.75, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9, 3, 3.1, 3.2, 3.3, 3.4, 3.5, 3.6, 3.7, 3.8, 3.9, 4, 4.15, 4.3, 4.5, 4.8, 5, 5.5, 6, 8];\n\tpublic static readonly unisons: DictionaryArray<Unison> = toNameMap([\n        { name: \"none\", voices: 1, spread: 0.0, offset: 0.0, expression: 1.4, sign: 1.0 },\n        { name: \"shimmer\", voices: 2, spread: 0.018, offset: 0.0, expression: 0.8, sign: 1.0 },\n        { name: \"hum\", voices: 2, spread: 0.045, offset: 0.0, expression: 1.0, sign: 1.0 },\n        { name: \"honky tonk\", voices: 2, spread: 0.09, offset: 0.0, expression: 1.0, sign: 1.0 },\n        { name: \"dissonant\", voices: 2, spread: 0.25, offset: 0.0, expression: 0.9, sign: 1.0 },\n        { name: \"fifth\", voices: 2, spread: 3.5, offset: 3.5, expression: 0.9, sign: 1.0 },\n        { name: \"octave\", voices: 2, spread: 6.0, offset: 6.0, expression: 0.8, sign: 1.0 },\n        { name: \"bowed\", voices: 2, spread: 0.02, offset: 0.0, expression: 1.0, sign: -1.0 },\n        { name: \"piano\", voices: 2, spread: 0.01, offset: 0.0, expression: 1.0, sign: 0.7 },\n        { name: \"warbled\", voices: 2, spread: 0.25, offset: 0.05, expression: 0.9, sign: -0.8 },\n        { name: \"hecking gosh\", voices: 2, spread: 6.25, offset: -6.0, expression: 0.8, sign: -0.7 },\n\t\t{ name: \"spinner\", voices: 2, spread: 0.02, offset: 0.0, expression: 1.0, sign: 1.0 },\n\t\t{ name: \"detune\", voices: 1, spread: 0.0, offset: 0.25, expression: 1.0, sign: 1.0 },\n\t\t{ name: \"rising\", voices: 2, spread: 1.0, offset: 0.7, expression: 0.95, sign: 1.0 },\n\t\t{ name: \"vibrate\", voices: 2, spread: 3.5, offset: 7, expression: 0.975, sign: 1.0 },\n\t\t{ name: \"fourths\", voices: 2, spread: 4, offset: 4, expression: 0.95, sign: 1.0 },\n\t\t{ name: \"bass\", voices: 1, spread: 0, offset: -7, expression: 1.0, sign: 1.0 },\n\t\t{ name: \"dirty\", voices: 2, spread: 0, offset: 0.1, expression: 0.975, sign: 1.0 },\n\t\t{ name: \"stationary\", voices: 2, spread: 3.5, offset: 0.0, expression: 0.9, sign: 1.0 },\n\t\t{ name: \"recurve\", voices: 2, spread: 0.005, offset: 0.0, expression: 1.0, sign: 1.0 },\n\t\t{ name: \"voiced\", voices: 2, spread: 9.5, offset: 0.0, expression: 1.0, sign: 1.0 },\n\t\t{ name: \"fluctuate\", voices: 2, spread: 12, offset: 0.0, expression: 1.0, sign: 1.0 },\n\t\t{ name: \"thin\", voices: 1, spread: 0.0, offset: 50.0, expression: 1.0, sign: 1.0 },\n\t\t{ name: \"inject\", voices: 2, spread: 6.0, offset: 0.4, expression: 1.0, sign: 1.0 },\n\t    { name: \"askewed\", voices: 2, spread: 0.0, offset: 0.42, expression: 0.7, sign: 1.0 },\n        { name: \"resonance\", voices: 2, spread: 0.0025, offset: 0.1, expression: 0.8, sign: -1.5 },\n\t\t{ name: \"FART\", voices: 2, spread: 13, offset: -5, expression: 1.0, sign: -3 },\n\t\t\n\t //for modbox; voices = riffapp, spread = intervals, offset = offsets, expression = volume, and sign = signs\n\t]);\n    public static readonly effectNames: ReadonlyArray<string> = [\"reverb\", \"chorus\", \"panning\", \"distortion\", \"bitcrusher\", \"note filter\", \"echo\", \"pitch shift\", \"detune\", \"vibrato\", \"transition type\", \"chord type\"];\n    public static readonly effectOrder: ReadonlyArray<EffectType> = [EffectType.panning, EffectType.transition, EffectType.chord, EffectType.pitchShift, EffectType.detune, EffectType.vibrato, EffectType.noteFilter, EffectType.distortion, EffectType.bitcrusher, EffectType.chorus, EffectType.echo, EffectType.reverb];\n    public static readonly noteSizeMax: number = 6;\n\tpublic static readonly volumeRange: number = 50;\n\t// Beepbox's old volume scale used factor -0.5 and was [0~7] had roughly value 6 = 0.125 power. This new value is chosen to have -21 be the same,\n\t// given that the new scale is [-25~25]. This is such that conversion between the scales is roughly equivalent by satisfying (0.5*6 = 0.1428*21)\n\tpublic static readonly volumeLogScale: number = 0.1428;\n\tpublic static readonly panCenter: number = 50;\n\tpublic static readonly panMax: number = Config.panCenter * 2;\n\tpublic static readonly panDelaySecondsMax: number = 0.001;\n    public static readonly chorusRange: number = 8;\n    public static readonly chorusPeriodSeconds: number = 2.0;\n    public static readonly chorusDelayRange: number = 0.0034;\n    public static readonly chorusDelayOffsets: ReadonlyArray<ReadonlyArray<number>> = [[1.51, 2.10, 3.35], [1.47, 2.15, 3.25]];\n    public static readonly chorusPhaseOffsets: ReadonlyArray<ReadonlyArray<number>> = [[0.0, 2.1, 4.2], [3.2, 5.3, 1.0]];\n    public static readonly chorusMaxDelay: number = Config.chorusDelayRange * (1.0 + Config.chorusDelayOffsets[0].concat(Config.chorusDelayOffsets[1]).reduce((x, y) => Math.max(x, y)));\n\tpublic static readonly chords: DictionaryArray<Chord> = toNameMap([\n        { name: \"simultaneous\", customInterval: false, arpeggiates: false, strumParts: 0, singleTone: false },\n        { name: \"strum\", customInterval: false, arpeggiates: false, strumParts: 1, singleTone: false },\n        { name: \"arpeggio\", customInterval: false, arpeggiates: true, strumParts: 0, singleTone: true },\n        { name: \"custom interval\", customInterval: true, arpeggiates: false, strumParts: 0, singleTone: true },\n    ]);\n    public static readonly maxChordSize: number = 9;\n    public static readonly operatorCount: number = 4;\n\tpublic static readonly maxPitchOrOperatorCount: number = Math.max(Config.maxChordSize, Config.operatorCount+2);\n    public static readonly algorithms: DictionaryArray<Algorithm> = toNameMap([\n        { name: \"1(234)\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1], modulatedBy: [[2, 3, 4], [], [], []] },\n        { name: \"1(234)\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1], modulatedBy: [[2, 3], [], [4], []] },\n        { name: \"12(34)\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1], modulatedBy: [[2], [3, 4], [], []] },\n        { name: \"1(23)4\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1], modulatedBy: [[2, 3], [4], [4], []] },\n        { name: \"1234\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1], modulatedBy: [[2], [3], [4], []] },\n        { name: \"1324\", carrierCount: 2, associatedCarrier: [1, 2, 1, 2], modulatedBy: [[3], [4], [], []] },\n        { name: \"12(34)\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2], modulatedBy: [[], [3, 4], [], []] },\n        { name: \"1234\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2], modulatedBy: [[], [3], [4], []] },\n        { name: \"(12)34\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2], modulatedBy: [[3], [3], [4], []] },\n        { name: \"(12)(34)\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2], modulatedBy: [[3, 4], [3, 4], [], []] },\n        { name: \"1234\", carrierCount: 3, associatedCarrier: [1, 2, 3, 3], modulatedBy: [[], [], [4], []] },\n        { name: \"(123)4\", carrierCount: 3, associatedCarrier: [1, 2, 3, 3], modulatedBy: [[4], [4], [4], []] },\n        { name: \"1234\", carrierCount: 4, associatedCarrier: [1, 2, 3, 4], modulatedBy: [[], [], [], []] },\n        { name: \"1(2 3)24\", carrierCount: 2, associatedCarrier: [1, 2, 1, 2], modulatedBy: [[2, 3], [4], [], []] },\n        { name: \"1(2 (3 (4\", carrierCount: 3, associatedCarrier: [1, 2, 3, 3], modulatedBy: [[2, 3, 4], [3, 4], [4], []] },\n    ]);\n    public static readonly algorithms6Op: DictionaryArray<Algorithm> = toNameMap([\n        //placeholder makes life easier for later\n        { name: \"Custom\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1, 1, 1], modulatedBy: [[2, 3, 4, 5, 6], [], [], [], [], []] },\n        //yoinked from SynthBox\n        //algortihm Section 1\n        { name: \"123456\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1, 1, 1], modulatedBy: [[2], [3], [4], [5], [6], []] },\n        { name: \"132456\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2, 2, 2], modulatedBy: [[3], [4], [], [5], [6], []] },\n        { name: \"134256\", carrierCount: 2, associatedCarrier: [1, 1, 1, 2, 2, 2], modulatedBy: [[3], [5], [4], [], [6], []] },\n        { name: \"142536\", carrierCount: 3, associatedCarrier: [1, 2, 3, 1, 2, 3], modulatedBy: [[4], [5], [6], [], [], []] },\n        //Algorithm Section 2\n        { name: \"132(456)\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2, 2, 2], modulatedBy: [[3], [4, 5], [], [], [6], []] },\n        { name: \"1(34)256\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2, 2, 2], modulatedBy: [[3, 4], [5], [], [], [6], []] },\n        { name: \"132(456)\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2, 2, 2], modulatedBy: [[3], [4, 5, 6], [], [], [], []] },\n        { name: \"132(45)6\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2, 2, 2], modulatedBy: [[3], [4, 5], [], [6], [6], []] },\n        { name: \"1324(56)\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2, 2, 2], modulatedBy: [[3], [4], [], [5, 6], [], []] },\n        { name: \"1(23456)\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1, 1, 1], modulatedBy: [[2, 3, 4, 5, 6], [], [], [], [], []] },\n        { name: \"1(23546)\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1, 1, 1], modulatedBy: [[2, 3, 4], [], [5], [6], [], []] },\n        { name: \"1(23456)\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1, 1, 1], modulatedBy: [[2, 3, 4], [], [], [5], [6], []] },\n        //Algorithm Section 3\n        { name: \"145(23)6\", carrierCount: 3, associatedCarrier: [1, 2, 3, 1, 2, 3], modulatedBy: [[4], [6], [6], [5], [], []] },\n        { name: \"1(34)5 26\", carrierCount: 2, associatedCarrier: [1, 2, 2, 2, 2, 2], modulatedBy: [[3, 4], [6], [5], [5], [], []] },\n        { name: \"(12)43(56)\", carrierCount: 3, associatedCarrier: [1, 2, 3, 1, 2, 3], modulatedBy: [[4], [4], [5, 6], [], [], []] },\n        { name: \"(12)5(34)6\", carrierCount: 4, associatedCarrier: [1, 2, 3, 4, 4, 4], modulatedBy: [[5], [5], [6], [6], [], []] },\n        { name: \"(123)(456)\", carrierCount: 3, associatedCarrier: [1, 2, 3, 1, 2, 3], modulatedBy: [[4, 5, 6], [4, 5, 6], [4, 5, 6], [], [], []] },\n        { name: \"15(234)6\", carrierCount: 4, associatedCarrier: [1, 2, 3, 4, 4, 4], modulatedBy: [[5], [6], [6], [6], [], []] },\n        { name: \"125(34)6\", carrierCount: 4, associatedCarrier: [1, 2, 3, 4, 4, 4], modulatedBy: [[], [5], [6], [6], [], []] },\n        { name: \"12(345)6\", carrierCount: 5, associatedCarrier: [1, 2, 3, 4, 5, 5], modulatedBy: [[], [], [6], [6], [6], []] },\n        { name: \"123(45)6\", carrierCount: 5, associatedCarrier: [1, 2, 3, 4, 5, 5], modulatedBy: [[], [], [], [6], [6], []] },\n        //Algorithm Section 3\n        { name: \"1243(56)\", carrierCount: 3, associatedCarrier: [1, 2, 3, 3, 3, 3], modulatedBy: [[], [4], [5, 6], [], [], []] },\n        { name: \"142(56)3\", carrierCount: 3, associatedCarrier: [1, 2, 3, 3, 3, 3,], modulatedBy: [[4], [5, 6], [], [], [], []] },\n        { name: \"123546\", carrierCount: 4, associatedCarrier: [1, 2, 3, 4, 4, 4], modulatedBy: [[], [], [5], [6], [], []] },\n        { name: \"1(23)564\", carrierCount: 4, associatedCarrier: [1, 2, 3, 4, 4, 4,], modulatedBy: [[], [5], [5], [], [6], []] },\n        { name: \"123564\", carrierCount: 4, associatedCarrier: [1, 2, 3, 4, 4, 4], modulatedBy: [[], [], [5, 6], [], [], []] },\n        { name: \"(12345)6\", carrierCount: 5, associatedCarrier: [1, 2, 3, 4, 5, 5], modulatedBy: [[6], [6], [6], [6], [6], []] },\n        { name: \"123456\", carrierCount: 5, associatedCarrier: [1, 2, 3, 4, 5, 5], modulatedBy: [[], [], [], [], [6], []] },\n        { name: \"123456\", carrierCount: 6, associatedCarrier: [1, 2, 3, 4, 5, 6], modulatedBy: [[], [], [], [], [], []] },\n        //Section 4 where we take our own previous ones for 4op and it gets weird\n        { name: \"1(2 (3 (4 (5 (6\", carrierCount: 5, associatedCarrier: [1, 2, 3, 4, 5, 5], modulatedBy: [[2, 3, 4, 5, 6], [3, 4, 5, 6], [4, 5, 6], [5, 6], [6], []] },\n        { name: \"1(2(3(4(5(6\", carrierCount: 1, associatedCarrier: [1, 1, 1, 1, 1, 1], modulatedBy: [[2, 3, 4, 5, 6], [3, 4, 5, 6], [4, 5, 6], [5, 6], [6], []] },\n        { name: \"14(25(36\", carrierCount: 3, associatedCarrier: [1, 2, 3, 1, 2, 3], modulatedBy: [[2, 3, 4], [3, 5], [6], [], [], []] },\n        { name: \"14(25 36\", carrierCount: 3, associatedCarrier: [1, 2, 3, 1, 2, 3], modulatedBy: [[2, 3, 4], [5], [6], [], [], []] },\n    ]);\n    public static readonly operatorCarrierInterval: ReadonlyArray<number> = [0.0, 0.04, -0.073, 0.091, 0.061, 0.024];\n\tpublic static readonly operatorAmplitudeMax: number = 15;\n    public static readonly operatorFrequencies: DictionaryArray<OperatorFrequency> = toNameMap([\n        { name: \"0.12\", mult: 0.125, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"0.25\", mult: 0.25, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"0.5\", mult: 0.5, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"0.75\", mult: 0.75, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"1\", mult: 1.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"~1\", mult: 1.0, hzOffset: 1.5, amplitudeSign: -1.0 },\n        { name: \"2\", mult: 2.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"~2\", mult: 2.0, hzOffset: -1.3, amplitudeSign: -1.0 },\n        { name: \"3\", mult: 3.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"3.5\", mult: 3.5, hzOffset: -0.05, amplitudeSign: 1.0 },\n        { name: \"4\", mult: 4.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"~4\", mult: 4.0, hzOffset: -2.4, amplitudeSign: -1.0 },\n        { name: \"5\", mult: 5.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"6\", mult: 6.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"7\", mult: 7.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"8\", mult: 8.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"9\", mult: 9.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"10\", mult: 10.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"11\", mult: 11.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"12\", mult: 12.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"13\", mult: 13.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n        { name: \"14\", mult: 14.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t    \t\t{ name: \"15\", mult: 15.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t\t//ultrabox\n        { name: \"16\", mult: 16.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t    \t\t{ name: \"17\", mult: 17.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t\t//ultrabox\n        { name: \"18\", mult: 18.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t    \t\t{ name: \"19\", mult: 19.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t\t//ultrabox\n        { name: \"20\", mult: 20.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t    \t{ name: \"~20\", mult: 20.0, hzOffset: -5.0, amplitudeSign: -1.0 },\n\t    // dogebox (maybe another mod also adds this? I got it from dogebox)\n\t\t{ name: \"25\", mult: 25.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t{ name: \"50\", mult: 50.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t{ name: \"75\", mult: 75.0, hzOffset: 0.0, amplitudeSign: 1.0 },\n\t{ name: \"100\", mult: 100.0, hzOffset: 0.0, amplitudeSign: 1.0 }\n\t    //50 and 100 are from dogebox\n    ]);\n\n    public static readonly envelopes: DictionaryArray<Envelope> = toNameMap([\n        { name: \"none\", type: EnvelopeType.none, speed: 0.0 },\n        { name: \"note size\", type: EnvelopeType.noteSize, speed: 0.0 },\n        { name: \"punch\", type: EnvelopeType.punch, speed: 0.0 },\n        { name: \"flare -1\", type: EnvelopeType.flare, speed: 128.0 },\n        { name: \"flare 1\", type: EnvelopeType.flare, speed: 32.0 },\n        { name: \"flare 2\", type: EnvelopeType.flare, speed: 8.0 },\n        { name: \"flare 3\", type: EnvelopeType.flare, speed: 2.0 },\n        { name: \"twang -1\", type: EnvelopeType.twang, speed: 128.0 },\n        { name: \"twang 1\", type: EnvelopeType.twang, speed: 32.0 },\n        { name: \"twang 2\", type: EnvelopeType.twang, speed: 8.0 },\n        { name: \"twang 3\", type: EnvelopeType.twang, speed: 2.0 },\n        { name: \"swell -1\", type: EnvelopeType.swell, speed: 128.0 },\n        { name: \"swell 1\", type: EnvelopeType.swell, speed: 32.0 },\n        { name: \"swell 2\", type: EnvelopeType.swell, speed: 8.0 },\n        { name: \"swell 3\", type: EnvelopeType.swell, speed: 2.0 },\n        { name: \"tremolo0\", type: EnvelopeType.tremolo, speed: 8.0 },\n        { name: \"tremolo1\", type: EnvelopeType.tremolo, speed: 4.0 },\n        { name: \"tremolo2\", type: EnvelopeType.tremolo, speed: 2.0 },\n        { name: \"tremolo3\", type: EnvelopeType.tremolo, speed: 1.0 },\n        { name: \"tremolo4\", type: EnvelopeType.tremolo2, speed: 4.0 },\n        { name: \"tremolo5\", type: EnvelopeType.tremolo2, speed: 2.0 },\n        { name: \"tremolo6\", type: EnvelopeType.tremolo2, speed: 1.0 },\n        { name: \"decay -1\", type: EnvelopeType.decay, speed: 40.0 },\n        { name: \"decay 1\", type: EnvelopeType.decay, speed: 10.0 },\n        { name: \"decay 2\", type: EnvelopeType.decay, speed: 7.0 },\n        { name: \"decay 3\", type: EnvelopeType.decay, speed: 4.0 },\n        { name: \"wibble-1\", type: EnvelopeType.wibble, speed: 96.0 },\n        { name: \"wibble 1\", type: EnvelopeType.wibble, speed: 24.0 },\n        { name: \"wibble 2\", type: EnvelopeType.wibble, speed: 12.0 },\n        { name: \"wibble 3\", type: EnvelopeType.wibble, speed: 4.0 },\n        { name: \"linear-2\", type: EnvelopeType.linear, speed: 256.0 },\n        { name: \"linear-1\", type: EnvelopeType.linear, speed: 128.0 },\n        { name: \"linear 1\", type: EnvelopeType.linear, speed: 32.0 },\n        { name: \"linear 2\", type: EnvelopeType.linear, speed: 8.0 },\n        { name: \"linear 3\", type: EnvelopeType.linear, speed: 2.0 },\n        { name: \"rise -2\", type: EnvelopeType.rise, speed: 256.0 },\n        { name: \"rise -1\", type: EnvelopeType.rise, speed: 128.0 },\n        { name: \"rise 1\", type: EnvelopeType.rise, speed: 32.0 },\n        { name: \"rise 2\", type: EnvelopeType.rise, speed: 8.0 },\n        { name: \"rise 3\", type: EnvelopeType.rise, speed: 2.0 },\n\t    \t\t{ name: \"flute 1\", type: 9, speed: 16.0 },\n\t\t{ name: \"flute 2\", type: 9, speed: 8.0 },\n\t\t{ name: \"flute 3\", type: 9, speed: 4.0 },\n\t\t//modbox\n\t\t{ name: \"tripolo1\", type: 6, speed: 9.0 },\n        { name: \"tripolo2\", type: 6, speed: 6.0 },\n        { name: \"tripolo3\", type: 6, speed: 3.0 },\n        { name: \"tripolo4\", type: 7, speed: 9.0 },\n        { name: \"tripolo5\", type: 7, speed: 6.0 },\n        { name: \"tripolo6\", type: 7, speed: 3.0 },\n        { name: \"pentolo1\", type: 6, speed: 10.0 },\n        { name: \"pentolo2\", type: 6, speed: 5.0 },\n        { name: \"pentolo3\", type: 6, speed: 2.5 },\n        { name: \"pentolo4\", type: 7, speed: 10.0 },\n        { name: \"pentolo5\", type: 7, speed: 5.0 },\n        { name: \"pentolo6\", type: 7, speed: 2.5 },\t\n\t\t//sandbox\n\t    { name: \"flutter 1\", type: 6, speed: 14.0 },\n        { name: \"flutter 2\", type: 7, speed: 11.0 },\n        { name: \"water-y flutter\", type: 6, speed: 9.0 },\n\t    //todbox\n    ]);\n\tpublic static readonly feedbacks: DictionaryArray<Feedback> = toNameMap([\n\t\t{ name: \"1\", indices: [[1], [], [], []] },\n\t\t{ name: \"2\", indices: [[], [2], [], []] },\n\t\t{ name: \"3\", indices: [[], [], [3], []] },\n\t\t{ name: \"4\", indices: [[], [], [], [4]] },\n\t\t{ name: \"12\", indices: [[1], [2], [], []] },\n\t\t{ name: \"34\", indices: [[], [], [3], [4]] },\n\t\t{ name: \"123\", indices: [[1], [2], [3], []] },\n\t\t{ name: \"234\", indices: [[], [2], [3], [4]] },\n\t\t{ name: \"1 2 3 4\", indices: [[1], [2], [3], [4]] },\n\t\t{ name: \"12\", indices: [[], [1], [], []] },\n\t\t{ name: \"13\", indices: [[], [], [1], []] },\n\t\t{ name: \"14\", indices: [[], [], [], [1]] },\n\t\t{ name: \"23\", indices: [[], [], [2], []] },\n\t\t{ name: \"24\", indices: [[], [], [], [2]] },\n\t\t{ name: \"34\", indices: [[], [], [], [3]] },\n\t\t{ name: \"1324\", indices: [[], [], [1], [2]] },\n\t\t{ name: \"1423\", indices: [[], [], [2], [1]] },\n        { name: \"1234\", indices: [[], [1], [2], [3]] },\n        { name: \"12 34\", indices: [[2], [1], [4], [3]] },\n        { name: \"14 23\", indices: [[4], [3], [2], [1]] },\n        { name: \"21432\", indices: [[2], [3], [4], [1]] },\n        { name: \"12341\", indices: [[4], [1], [2], [3]] },\n        { name: \"(1 2 3)4\", indices: [[], [], [], [1, 2, 3]] },\n        { name: \"ALL\", indices: [[1,2,3,4], [1,2,3,4], [1,2,3,4], [1, 2, 3,4]] },\n    ]);\n    public static readonly feedbacks6Op: DictionaryArray<Feedback> = toNameMap([\n        //placeholder makes life easier for later\n        { name: \"Custom\", indices: [[2, 3, 4, 5, 6], [], [], [], [], []] },\n\n        { name: \"1\", indices: [[1], [], [], [], [], []] },\n        { name: \"2\", indices: [[], [2], [], [], [], []] },\n        { name: \"3\", indices: [[], [], [3], [], [], []] },\n        { name: \"4\", indices: [[], [], [], [4], [], []] },\n        { name: \"5\", indices: [[], [], [], [], [5], []] },\n        { name: \"6\", indices: [[], [], [], [], [], [6]] },\n        { name: \"12\", indices: [[1], [2], [], [], [], []] },\n        { name: \"34\", indices: [[], [], [3], [4], [], []] },\n        { name: \"123\", indices: [[1], [2], [3], [], [], []] },\n        { name: \"234\", indices: [[], [2], [3], [4], [], []] },\n        { name: \"1 2 3 4\", indices: [[1], [2], [3], [4], [], []] },\n        { name: \"1 2 3 4 5\", indices: [[1], [2], [3], [4], [5], []] },\n        { name: \"1 2 3 4 5 6\", indices: [[1], [2], [3], [4], [5], [6]] },\n        { name: \"12\", indices: [[], [1], [], [], [], []] },\n        { name: \"13\", indices: [[], [], [1], [], [], []] },\n        { name: \"14\", indices: [[], [], [], [1], [], []] },\n        { name: \"15\", indices: [[], [], [], [], [1], []] },\n        { name: \"16\", indices: [[], [], [], [], [], [1]] },\n        { name: \"23\", indices: [[], [], [2], [], [], []] },\n        { name: \"24\", indices: [[], [], [], [2], [], []] },\n        { name: \"34\", indices: [[], [], [], [3], [], []] },\n        { name: \"45\", indices: [[], [], [], [], [4], []] },\n        { name: \"1425 36\", indices: [[], [], [], [1], [2], [3]] },\n        { name: \"1526 34\", indices: [[], [], [], [3], [1], [2]] },\n        { name: \"123456\", indices: [[], [1], [2], [3], [4], [5]] },\n        { name: \"2165432\", indices: [[2], [3], [4], [5], [6], [1]] },\n        { name: \"1234561\", indices: [[6], [1], [2], [3], [4], [5]] },\n        { name: \"12 34 56\", indices: [[2], [1], [4], [3], [6], [5]] },\n        { name: \"14 25 36\", indices: [[4], [5], [6], [1], [2], [3]] },\n        { name: \"(1,2,3,4,5)6\", indices: [[], [], [], [], [], [1, 2, 3, 4, 5]] },\n        { name: \"ALL\", indices: [[1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6], [1, 2, 3, 4, 5, 6]] },\n    ]);\n    public static readonly chipNoiseLength: number = 1 << 15; // 32768\n    public static readonly spectrumNoiseLength: number = 1 << 15; // 32768\n    public static readonly spectrumBasePitch: number = 24;\n    public static readonly spectrumControlPoints: number = 30;\n    public static readonly spectrumControlPointsPerOctave: number = 7;\n    public static readonly spectrumControlPointBits: number = 3;\n    public static readonly spectrumMax: number = (1 << Config.spectrumControlPointBits) - 1;\n    public static readonly harmonicsControlPoints: number = 28;\n    public static readonly harmonicsRendered: number = 64;\n    public static readonly harmonicsRenderedForPickedString: number = 1 << 8; // 256\n    public static readonly harmonicsControlPointBits: number = 3;\n    public static readonly harmonicsMax: number = (1 << Config.harmonicsControlPointBits) - 1;\n    public static readonly harmonicsWavelength: number = 1 << 11; // 2048\n    public static readonly pulseWidthRange: number = 50;\n    public static readonly pulseWidthStepPower: number = 0.5;\n    public static readonly pitchChannelCountMin: number = 1;\n    public static readonly pitchChannelCountMax: number = 60;\n    public static readonly noiseChannelCountMin: number = 0;\n    public static readonly noiseChannelCountMax: number = 32;\n    public static readonly modChannelCountMin: number = 0;\n    public static readonly modChannelCountMax: number = 24;\n    public static readonly noiseInterval: number = 6;\n    public static readonly pitchesPerOctave: number = 12; // TODO: Use this for converting pitch to frequency.\n    public static readonly drumCount: number = 12;\n    public static readonly pitchOctaves: number = 8;\n    public static readonly modCount: number = 6;\n    public static readonly maxPitch: number = Config.pitchOctaves * Config.pitchesPerOctave;\n    public static readonly maximumTonesPerChannel: number = Config.maxChordSize * 2;\n    public static readonly justIntonationSemitones: number[] = [1.0 / 2.0, 8.0 / 15.0, 9.0 / 16.0, 3.0 / 5.0, 5.0 / 8.0, 2.0 / 3.0, 32.0 / 45.0, 3.0 / 4.0, 4.0 / 5.0, 5.0 / 6.0, 8.0 / 9.0, 15.0 / 16.0, 1.0, 16.0 / 15.0, 9.0 / 8.0, 6.0 / 5.0, 5.0 / 4.0, 4.0 / 3.0, 45.0 / 32.0, 3.0 / 2.0, 8.0 / 5.0, 5.0 / 3.0, 16.0 / 9.0, 15.0 / 8.0, 2.0].map(x => Math.log2(x) * Config.pitchesPerOctave);\n    public static readonly pitchShiftRange: number = Config.justIntonationSemitones.length;\n    public static readonly pitchShiftCenter: number = Config.pitchShiftRange >> 1;\n    public static readonly detuneCenter: number = 200;\n    public static readonly detuneMax: number = 400;\n    public static readonly detuneMin: number = 0;\n    public static readonly songDetuneMin: number = 0;\n    public static readonly songDetuneMax: number = 500;\n    public static readonly sineWaveLength: number = 1 << 8; // 256\n    public static readonly sineWaveMask: number = Config.sineWaveLength - 1;\n    public static readonly sineWave: Float32Array = generateSineWave();\n\n    // Picked strings have an all-pass filter with a corner frequency based on the tone fundamental frequency, in order to add a slight inharmonicity. (Which is important for distortion.)\n    public static readonly pickedStringDispersionCenterFreq: number = 6000.0; // The tone fundamental freq is pulled toward this freq for computing the all-pass corner freq.\n    public static readonly pickedStringDispersionFreqScale: number = 0.3; // The tone fundamental freq freq moves this much toward the center freq for computing the all-pass corner freq.\n    public static readonly pickedStringDispersionFreqMult: number = 4.0; // The all-pass corner freq is based on this times the adjusted tone fundamental freq.\n    public static readonly pickedStringShelfHz: number = 4000.0; // The cutoff freq of the shelf filter that is used to decay the high frequency energy in the picked string.\n\n    public static readonly distortionRange: number = 8;\n    public static readonly stringSustainRange: number = 15;\n    public static readonly stringDecayRate: number = 0.12;\n    public static readonly bitcrusherFreqRange: number = 14;\n    public static readonly bitcrusherOctaveStep: number = 0.5;\n    public static readonly bitcrusherQuantizationRange: number = 8;\n\n    public static readonly maxEnvelopeCount: number = 12;\n    public static readonly defaultAutomationRange: number = 13;\n    public static readonly instrumentAutomationTargets: DictionaryArray<AutomationTarget> = toNameMap([\n        { name: \"none\", computeIndex: null, displayName: \"none\",             /*perNote: false,*/ interleave: false, isFilter: false, /*range: 0,                              */    maxCount: 1, effect: null, compatibleInstruments: null },\n        { name: \"noteVolume\", computeIndex: EnvelopeComputeIndex.noteVolume, displayName: \"note volume\",      /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.volumeRange,             */    maxCount: 1, effect: null, compatibleInstruments: null },\n        { name: \"pulseWidth\", computeIndex: EnvelopeComputeIndex.pulseWidth, displayName: \"pulse width\",      /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.pulseWidthRange,         */    maxCount: 1, effect: null, compatibleInstruments: [InstrumentType.pwm] },\n        { name: \"stringSustain\", computeIndex: EnvelopeComputeIndex.stringSustain, displayName: \"sustain\",          /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.stringSustainRange,      */    maxCount: 1, effect: null, compatibleInstruments: [InstrumentType.pickedString] },\n        { name: \"unison\", computeIndex: EnvelopeComputeIndex.unison, displayName: \"unison\",           /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.defaultAutomationRange,  */    maxCount: 1, effect: null, compatibleInstruments: [InstrumentType.chip, InstrumentType.harmonics, InstrumentType.pickedString, InstrumentType.customChipWave] },\n        { name: \"operatorFrequency\", computeIndex: EnvelopeComputeIndex.operatorFrequency0, displayName: \"fm# freq\",         /*perNote:  true,*/ interleave: true, isFilter: false, /*range: Config.defaultAutomationRange,  */    maxCount: Config.operatorCount+2, effect: null, compatibleInstruments: [InstrumentType.fm, InstrumentType.fm6op] },\n        { name: \"operatorAmplitude\", computeIndex: EnvelopeComputeIndex.operatorAmplitude0, displayName: \"fm# volume\",       /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.operatorAmplitudeMax + 1,*/    maxCount: Config.operatorCount+2, effect: null, compatibleInstruments: [InstrumentType.fm, InstrumentType.fm6op] },\n        { name: \"feedbackAmplitude\", computeIndex: EnvelopeComputeIndex.feedbackAmplitude, displayName: \"fm feedback\",      /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.operatorAmplitudeMax + 1,*/    maxCount: 1, effect: null, compatibleInstruments: [InstrumentType.fm, InstrumentType.fm6op] },\n        { name: \"pitchShift\", computeIndex: EnvelopeComputeIndex.pitchShift, displayName: \"pitch shift\",      /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.pitchShiftRange,         */    maxCount: 1, effect: EffectType.pitchShift, compatibleInstruments: null },\n        { name: \"detune\", computeIndex: EnvelopeComputeIndex.detune, displayName: \"detune\",           /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.detuneMax + 1,           */    maxCount: 1, effect: EffectType.detune, compatibleInstruments: null },\n        { name: \"vibratoDepth\", computeIndex: EnvelopeComputeIndex.vibratoDepth, displayName: \"vibrato range\",    /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.defaultAutomationRange,  */    maxCount: 1, effect: EffectType.vibrato, compatibleInstruments: null },\n        { name: \"noteFilterAllFreqs\", computeIndex: EnvelopeComputeIndex.noteFilterAllFreqs, displayName: \"n. filter freqs\",  /*perNote:  true,*/ interleave: false, isFilter: true, /*range: null,                           */    maxCount: 1, effect: EffectType.noteFilter, compatibleInstruments: null },\n        { name: \"noteFilterFreq\", computeIndex: EnvelopeComputeIndex.noteFilterFreq0, displayName: \"n. filter # freq\", /*perNote:  true,*/ interleave: false/*true*/, isFilter: true, /*range: Config.filterFreqRange,     */        maxCount: Config.filterMaxPoints, effect: EffectType.noteFilter, compatibleInstruments: null },\n        { name: \"decimalOffset\", computeIndex: EnvelopeComputeIndex.decimalOffset, displayName: \"decimal offset\",      /*perNote:  true,*/ interleave: false, isFilter: false, /*range: Config.pulseWidthRange,         */    maxCount: 1, effect: null, compatibleInstruments: [InstrumentType.pwm] },\n        \n        // Controlling filter gain is less obvious and intuitive than controlling filter freq, so to avoid confusion I've disabled it for now...\n        //{name: \"noteFilterGain\",         computeIndex:       EnvelopeComputeIndex.noteFilterGain0,        displayName: \"n. filter # vol\",  /*perNote:  true,*/ interleave: false, isFilter:  true, range: Config.filterGainRange,             maxCount: Config.filterMaxPoints, effect: EffectType.noteFilter, compatibleInstruments: null},\n        /*\n        {name: \"distortion\",             computeIndex: InstrumentAutomationIndex.distortion,             displayName: \"distortion\",       perNote: false, interleave: false, isFilter: false, range: Config.distortionRange,             maxCount: 1,    effect: EffectType.distortion,   compatibleInstruments: null},\n        {name: \"bitcrusherQuantization\", computeIndex: InstrumentAutomationIndex.bitcrusherQuantization, displayName: \"bit crush\",        perNote: false, interleave: false, isFilter: false, range: Config.bitcrusherQuantizationRange, maxCount: 1,    effect: EffectType.bitcrusher,   compatibleInstruments: null},\n        {name: \"bitcrusherFrequency\",    computeIndex: InstrumentAutomationIndex.bitcrusherFrequency,    displayName: \"freq crush\",       perNote: false, interleave: false, isFilter: false, range: Config.bitcrusherFreqRange,         maxCount: 1,    effect: EffectType.bitcrusher,   compatibleInstruments: null},\n        {name: \"eqFilterAllFreqs\",       computeIndex: InstrumentAutomationIndex.eqFilterAllFreqs,       displayName: \"eq filter freqs\",  perNote: false, interleave: false, isFilter:  true, range: null,                               maxCount: 1,    effect: null,                    compatibleInstruments: null},\n        {name: \"eqFilterFreq\",           computeIndex: InstrumentAutomationIndex.eqFilterFreq0,          displayName: \"eq filter # freq\", perNote: false, interleave:  true, isFilter:  true, range: Config.filterFreqRange,             maxCount: Config.filterMaxPoints, effect: null,  compatibleInstruments: null},\n        {name: \"eqFilterGain\",           computeIndex: InstrumentAutomationIndex.eqFilterGain0,          displayName: \"eq filter # vol\",  perNote: false, interleave: false, isFilter:  true, range: Config.filterGainRange,             maxCount: Config.filterMaxPoints, effect: null,  compatibleInstruments: null},\n        {name: \"panning\",                computeIndex: InstrumentAutomationIndex.panning,                displayName: \"panning\",          perNote: false, interleave: false, isFilter: false, range: Config.panMax + 1,                  maxCount: 1,    effect: EffectType.panning,      compatibleInstruments: null},\n        {name: \"chorus\",                 computeIndex: InstrumentAutomationIndex.chorus,                 displayName: \"chorus\",           perNote: false, interleave: false, isFilter: false, range: Config.chorusRange,                 maxCount: 1,    effect: EffectType.chorus,       compatibleInstruments: null},\n        {name: \"echoSustain\",            computeIndex: InstrumentAutomationIndex.echoSustain,            displayName: \"echo\",             perNote: false, interleave: false, isFilter: false, range: Config.echoSustainRange,            maxCount: 1,    effect: EffectType.echo,         compatibleInstruments: null},\n        {name: \"echoDelay\",              computeIndex: InstrumentAutomationIndex.echoDelay,              displayName: \"echo delay\",       perNote: false, interleave: false, isFilter: false, range: Config.echoDelayRange,              maxCount: 1,    effect: EffectType.echo,         compatibleInstruments: null}, // wait until after we're computing a tick's settings for multiple run lengths.\n        {name: \"reverb\",                 computeIndex: InstrumentAutomationIndex.reverb,                 displayName: \"reverb\",           perNote: false, interleave: false, isFilter: false, range: Config.reverbRange,                 maxCount: 1,    effect: EffectType.reverb,       compatibleInstruments: null},\n        {name: \"mixVolume\",              computeIndex: InstrumentAutomationIndex.mixVolume,              displayName: \"mix volume\",       perNote: false, interleave: false, isFilter: false, range: Config.volumeRange,                 maxCount: 1,    effect: null,                    compatibleInstruments: null},\n        {name: \"envelope#\",              computeIndex: null,                                             displayName: \"envelope\",         perNote: false, interleave: false, isFilter: false, range: Config.defaultAutomationRange,      maxCount: Config.maxEnvelopeCount, effect: null, compatibleInstruments: null}, // maxCount special case for envelopes to be allowed to target earlier ones.\n        */\n    ]);\n    public static readonly operatorWaves: DictionaryArray<OperatorWave> = toNameMap([\n\t\t{ name: \"sine\", samples: Config.sineWave },\n\t\t{ name: \"triangle\", samples: generateTriWave() },\n\t\t{ name: \"pulse width\", samples: generateSquareWave() },\n\t\t{ name: \"sawtooth\", samples: generateSawWave() },\n\t\t{ name: \"ramp\", samples: generateSawWave(true) },\n\t\t{ name: \"trapezoid\", samples: generateTrapezoidWave(2) },\n\t    { name: \"rounded\", samples: generateRoundedSineWave() },\n\t\t//{ name: \"white noise\", samples: generateWhiteNoiseFmWave() },\n\t\t//{ name: \"1-bit white noise\", samples: generateOneBitWhiteNoiseFmWave() },\n    ]);\n    public static readonly pwmOperatorWaves: DictionaryArray<OperatorWave> = toNameMap([\n        { name: \"1%\", samples: generateSquareWave(0.01) },\n        { name: \"5%\", samples: generateSquareWave(0.05) },\n        { name: \"12.5%\", samples: generateSquareWave(0.125) },\n        { name: \"25%\", samples: generateSquareWave(0.25) },\n        { name: \"33%\", samples: generateSquareWave(1 / 3) },\n        { name: \"50%\", samples: generateSquareWave(0.5) },\n        { name: \"66%\", samples: generateSquareWave(2 / 3) },\n        { name: \"75%\", samples: generateSquareWave(0.75) },\n        { name: \"87.5%\", samples: generateSquareWave(0.875) },\n        { name: \"95%\", samples: generateSquareWave(0.95) },\n        { name: \"99%\", samples: generateSquareWave(0.99) },\n    ]);\n\n\n    // Height of the small editor column for inserting/deleting rows, in pixels.\n    public static readonly barEditorHeight: number = 10;\n\n    // Careful about changing index ordering for this. Index is stored in URL/JSON etc.\n    public static readonly modulators: DictionaryArray<Modulator> = toNameMap([\n        { name: \"none\", pianoName: \"None\", maxRawVol: 6, newNoteVol: 6, forSong: true, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"No Mod Setting\", promptDesc: [ \"No setting has been chosen yet, so this modulator will have no effect. Try choosing a setting with the dropdown, then click this '?' again for more info.\", \"[$LO - $HI]\" ] },\n        { name: \"song volume\", pianoName: \"Volume\", maxRawVol: 100, newNoteVol: 100, forSong: true, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"Song Volume\", promptDesc: [ \"This setting affects the overall volume of the song, just like the main volume slider.\", \"At $HI, the volume will be unchanged from default, and it will get gradually quieter down to $LO.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\" ] },\n        { name: \"tempo\", pianoName: \"Tempo\", maxRawVol: Config.tempoMax - Config.tempoMin, newNoteVol: Math.ceil((Config.tempoMax - Config.tempoMin) / 2), forSong: true, convertRealFactor: Config.tempoMin, associatedEffect: EffectType.length,\n            promptName: \"Song Tempo\", promptDesc: [ \"This setting controls the speed your song plays at, just like the tempo slider.\", \"When you first make a note for this setting, it will default to your current tempo. Raising it speeds up the song, up to $HI BPM, and lowering it slows it down, to a minimum of $LO BPM.\", \"Note that you can make a 'swing' effect by rapidly changing between two tempo values.\", \"[OVERWRITING] [$LO - $HI] [BPM]\" ] },\n        { name: \"song reverb\", pianoName: \"Reverb\", maxRawVol: Config.reverbRange * 2, newNoteVol: Config.reverbRange, forSong: true, convertRealFactor: -Config.reverbRange, associatedEffect: EffectType.length,\n            promptName: \"Song Reverb\", promptDesc: [ \"This setting affects the overall reverb of your song. It works by multiplying existing reverb for instruments, so those with no reverb set will be unaffected.\", \"At $MID, all instruments' reverb will be unchanged from default. This increases up to double the reverb value at $HI, or down to no reverb at $LO.\", \"[MULTIPLICATIVE] [$LO - $HI]\" ] },\n        { name: \"next bar\", pianoName: \"Next Bar\", maxRawVol: 1, newNoteVol: 1, forSong: true, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"Go To Next Bar\", promptDesc: [ \"This setting functions a little different from most. Wherever a note is placed, the song will jump immediately to the next bar when it is encountered.\", \"This jump happens at the very start of the note, so the length of a next-bar note is irrelevant. Also, the note can be value 0 or 1, but the value is also irrelevant - wherever you place a note, the song will jump.\", \"You can make mixed-meter songs or intro sections by cutting off unneeded beats with a next-bar modulator.\", \"[$LO - $HI]\" ] },\n        { name: \"note volume\", pianoName: \"Note Vol.\", maxRawVol: Config.volumeRange, newNoteVol: Math.ceil(Config.volumeRange / 2), forSong: false, convertRealFactor: Math.ceil(-Config.volumeRange / 2.0), associatedEffect: EffectType.length,\n            promptName: \"Note Volume\", promptDesc: [ \"This setting affects the volume of your instrument as if its note size had been scaled.\", \"At $MID, an instrument's volume will be unchanged from default. This means you can still use the volume sliders to mix the base volume of instruments. The volume gradually increases up to $HI, or decreases down to mute at $LO.\", \"This setting was the default for volume modulation in JummBox for a long time. Due to some new effects like distortion and bitcrush, note volume doesn't always allow fine volume control. Also, this modulator affects the value of FM modulator waves instead of just carriers. This can distort the sound which may be useful, but also may be undesirable. In those cases, use the 'mix volume' modulator instead, which will always just scale the volume with no added effects.\", \"For display purposes, this mod will show up on the instrument volume slider, as long as there is not also an active 'mix volume' modulator anyhow. However, as mentioned, it works more like changing note volume.\", \"[MULTIPLICATIVE] [$LO - $HI]\" ] },\n        { name: \"pan\", pianoName: \"Pan\", maxRawVol: Config.panMax, newNoteVol: Math.ceil(Config.panMax / 2), forSong: false, convertRealFactor: 0, associatedEffect: EffectType.panning,\n            promptName: \"Instrument Panning\", promptDesc: [ \"This setting controls the panning of your instrument, just like the panning slider.\", \"At $LO, your instrument will sound like it is coming fully from the left-ear side. At $MID it will be right in the middle, and at $HI, it will sound like it's on the right.\", \"[OVERWRITING] [$LO - $HI] [L-R]\" ] },\n        { name: \"reverb\", pianoName: \"Reverb\", maxRawVol: Config.reverbRange, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.reverb,\n            promptName: \"Instrument Reverb\", promptDesc: [ \"This setting controls the reverb of your insturment, just like the reverb slider.\", \"At $LO, your instrument will have no reverb. At $HI, it will be at maximum.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"distortion\", pianoName: \"Distortion\", maxRawVol: Config.distortionRange-1, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.distortion,\n            promptName: \"Instrument Distortion\", promptDesc: [ \"This setting controls the amount of distortion for your instrument, just like the distortion slider.\", \"At $LO, your instrument will have no distortion. At $HI, it will be at maximum.\", \"[OVERWRITING] [$LO - $HI]\" ] },\n        { name: \"fm slider 1\", pianoName: \"FM 1\", maxRawVol: 15, newNoteVol: 15, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"FM Slider 1\", promptDesc: [ \"This setting affects the strength of the first FM slider, just like the corresponding slider on your instrument.\", \"It works in a multiplicative way, so at $HI your slider will sound the same is its default value, and at $LO it will sound like it has been moved all the way to the left.\", \"For the full range of control with this mod, move your underlying slider all the way to the right.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\"] },\n        { name: \"fm slider 2\", pianoName: \"FM 2\", maxRawVol: 15, newNoteVol: 15, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"FM Slider 2\", promptDesc: [\"This setting affects the strength of the second FM slider, just like the corresponding slider on your instrument.\", \"It works in a multiplicative way, so at $HI your slider will sound the same is its default value, and at $LO it will sound like it has been moved all the way to the left.\", \"For the full range of control with this mod, move your underlying slider all the way to the right.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\" ] },\n        { name: \"fm slider 3\", pianoName: \"FM 3\", maxRawVol: 15, newNoteVol: 15, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"FM Slider 3\", promptDesc: [\"This setting affects the strength of the third FM slider, just like the corresponding slider on your instrument.\", \"It works in a multiplicative way, so at $HI your slider will sound the same is its default value, and at $LO it will sound like it has been moved all the way to the left.\", \"For the full range of control with this mod, move your underlying slider all the way to the right.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\" ] },\n        { name: \"fm slider 4\", pianoName: \"FM 4\", maxRawVol: 15, newNoteVol: 15, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"FM Slider 4\", promptDesc: [\"This setting affects the strength of the fourth FM slider, just like the corresponding slider on your instrument.\", \"It works in a multiplicative way, so at $HI your slider will sound the same is its default value, and at $LO it will sound like it has been moved all the way to the left.\", \"For the full range of control with this mod, move your underlying slider all the way to the right.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\"] },\n        { name: \"fm feedback\", pianoName: \"FM Feedback\", maxRawVol: 15, newNoteVol: 15, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"FM Feedback\", promptDesc: [\"This setting affects the strength of the FM feedback slider, just like the corresponding slider on your instrument.\", \"It works in a multiplicative way, so at $HI your slider will sound the same is its default value, and at $LO it will sound like it has been moved all the way to the left.\", \"For the full range of control with this mod, move your underlying slider all the way to the right.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\"] },\n        { name: \"pulse width\", pianoName: \"Pulse Width\", maxRawVol: Config.pulseWidthRange, newNoteVol: Config.pulseWidthRange, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"Pulse Width\", promptDesc: [\"This setting controls the width of this instrument's pulse wave, just like the pulse width slider.\", \"At $HI, your instrument will sound like a pure square wave (on 50% of the time). It will gradually sound narrower down to $LO, where it will be inaudible (as it is on 0% of the time).\", \"Changing pulse width randomly between a few values is a common strategy in chiptune music to lend some personality to a lead instrument.\", \"[OVERWRITING] [$LO - $HI] [%Duty]\"] },\n        { name: \"detune\", pianoName: \"Detune\", maxRawVol: Config.detuneMax - Config.detuneMin, newNoteVol: Config.detuneCenter, forSong: false, convertRealFactor: -Config.detuneCenter, associatedEffect: EffectType.detune,\n            promptName: \"Instrument Detune\", promptDesc: [\"This setting controls the detune for this instrument, just like the detune slider.\", \"At $MID, your instrument will have no detune applied. Each tick corresponds to one cent, or one-hundredth of a pitch. Thus, each change of 100 ticks corresponds to one half-step of detune, up to two half-steps up at $HI, or two half-steps down at $LO.\", \"[OVERWRITING] [$LO - $HI] [cents]\"] },\n        { name: \"vibrato depth\", pianoName: \"Vibrato Depth\", maxRawVol: 50, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.vibrato,\n            promptName: \"Vibrato Depth\", promptDesc: [\"This setting controls the amount that your pitch moves up and down by during vibrato, just like the vibrato depth slider.\", \"At $LO, your instrument will have no vibrato depth so its vibrato would be inaudible. This increases up to $HI, where an extreme pitch change will be noticeable.\", \"[OVERWRITING] [$LO - $HI] [pitch 25]\"] },\n        { name: \"song detune\", pianoName: \"Detune\", maxRawVol: Config.songDetuneMax - Config.songDetuneMin, newNoteVol: Math.ceil((Config.songDetuneMax - Config.songDetuneMin) / 2), forSong: true, convertRealFactor: -250, associatedEffect: EffectType.length,\n            promptName: \"Song Detune\", promptDesc: [\"This setting controls the overall detune of the entire song. There is no associated slider.\", \"At $MID, your song will have no extra detune applied and sound unchanged from default. Each tick corresponds to four cents, or four hundredths of a pitch. Thus, each change of 25 ticks corresponds to one half-step of detune, up to 10 half-steps up at $HI, or 10 half-steps down at $LO.\", \"[MULTIPLICATIVE] [$LO - $HI] [cents x4]\"] },\n        { name: \"vibrato speed\", pianoName: \"Vibrato Speed\", maxRawVol: 30, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.vibrato,\n            promptName: \"Vibrato Speed\", promptDesc: [\"This setting controls the speed your instrument will vibrato at, just like the slider.\", \"A setting of $LO means there will be no oscillation, and vibrato will be disabled. Higher settings will increase the speed, up to a dramatic trill at the max value, $HI.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"vibrato delay\", pianoName: \"Vibrato Delay\", maxRawVol: 50, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.vibrato,\n            promptName: \"Vibrato Delay\", promptDesc: [\"This setting controls the amount of time vibrato will be held off for before triggering for every new note, just like the slider.\", \"A setting of $LO means there will be no delay. A setting of 24 corresponds to one full beat of delay. As a sole exception to this scale, setting delay to $HI will completely disable vibrato (as if it had infinite delay).\", \"[OVERWRITING] [$LO - $HI] [beats 24]\"] },\n        { name: \"arp speed\", pianoName: \"Arp Speed\", maxRawVol: 50, newNoteVol: 10, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.chord,\n            promptName: \"Arpeggio Speed\", promptDesc: [\"This setting controls the speed at which your instrument's chords arpeggiate, just like the arpeggio speed slider.\", \"Each setting corresponds to a different speed, from the slowest to the fastest. The speeds are listed below.\",\n                \"[0-4]: x0, x1/16, x, x, x,\", \"[5-9]: x, x, x, x, x,\", \"[10-14]: x, x0.9, x1, x1.1, x1.2,\", \"[15-19]: x1.3, x1.4, x1.5, x1.6, x1.7,\", \"[20-24]: x1.8, x1.9, x2, x2.1, x2.2,\", \"[25-29]: x2.3, x2.4, x2.5, x2.6, x2.7,\", \"[30-34]: x2.8, x2.9, x3, x3.1, x3.2,\", \"[35-39]: x3.3, x3.4, x3.5, x3.6, x3.7,\" ,\"[40-44]: x3.8, x3.9, x4, x4.15, x4.3,\", \"[45-50]: x4.5, x4.8, x5, x5.5, x6, x8\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"pan delay\", pianoName: \"Pan Delay\", maxRawVol: 20, newNoteVol: 10, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.panning,\n            promptName: \"Panning Delay\", promptDesc: [\"This setting controls the delay applied to panning for your instrument, just like the pan delay slider.\", \"With more delay, the panning effect will generally be more pronounced. $MID is the default value, whereas $LO will remove any delay at all. No delay can be desirable for chiptune songs.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"reset arp\", pianoName: \"Reset Arp\", maxRawVol: 1, newNoteVol: 1, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.chord,\n            promptName: \"Reset Arpeggio\", promptDesc: [\"This setting functions a little different from most. Wherever a note is placed, the arpeggio of this instrument will reset at the very start of that note. This is most noticeable with lower arpeggio speeds. The lengths and values of notes for this setting don't matter, just the note start times.\", \"This mod can be used to sync up your apreggios so that they always sound the same, even if you are using an odd-ratio arpeggio speed or modulating arpeggio speed.\", \"[$LO - $HI]\"] },\n        { name: \"eq filter\", pianoName: \"EQFlt\", maxRawVol: 10, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"EQ Filter\", promptDesc: [\"This setting controls a few separate things for your instrument's EQ filter.\", \"When the option 'morph' is selected, your modulator values will indicate a sub-filter index of your EQ filter to 'morph' to over time. For example, a change from 0 to 1 means your main filter (default) will morph to sub-filter 1 over the specified duration. You can shape the main filter and sub-filters in the large filter editor ('+' button). If your two filters' number, type, and order of filter dots all match up, the morph will happen smoothly and you'll be able to hear them changing. If they do not match up, the filters will simply jump between each other.\", \"Note that filters will morph based on endpoints in the pattern editor. So, if you specify a morph from sub-filter 1 to 4 but do not specifically drag in new endpoints for 2 and 3, it will morph directly between 1 and 4 without going through the others.\", \"If you target Dot X or Dot Y, you can finely tune the coordinates of a single dot for your filter. The number of available dots to choose is dependent on your main filter's dot count.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"note filter\", pianoName: \"N.Flt\", maxRawVol: 10, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.noteFilter,\n            promptName: \"Note Filter\", promptDesc: [\"This setting controls a few separate things for your instrument's note filter.\", \"When the option 'morph' is selected, your modulator values will indicate a sub-filter index of your note filter to 'morph' to over time. For example, a change from 0 to 1 means your main filter (default) will morph to sub-filter 1 over the specified duration. You can shape the main filter and sub-filters in the large filter editor ('+' button). If your two filters' number, type, and order of filter dots all match up, the morph will happen smoothly and you'll be able to hear them changing. If they do not match up, the filters will simply jump between each other.\", \"Note that filters will morph based on endpoints in the pattern editor. So, if you specify a morph from sub-filter 1 to 4 but do not specifically drag in new endpoints for 2 and 3, it will morph directly between 1 and 4 without going through the others.\", \"If you target Dot X or Dot Y, you can finely tune the coordinates of a single dot for your filter. The number of available dots to choose is dependent on your main filter's dot count.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"bit crush\", pianoName: \"Bitcrush\", maxRawVol: Config.bitcrusherQuantizationRange-1, newNoteVol: Math.round(Config.bitcrusherQuantizationRange / 2), forSong: false, convertRealFactor: 0, associatedEffect: EffectType.bitcrusher,\n            promptName: \"Instrument Bit Crush\", promptDesc: [\"This setting controls the bit crush of your instrument, just like the bit crush slider.\", \"At a value of $LO, no bit crush will be applied. This increases and the bit crush effect gets more noticeable up to the max value, $HI.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"freq crush\", pianoName: \"Freq Crush\", maxRawVol: Config.bitcrusherFreqRange-1, newNoteVol: Math.round(Config.bitcrusherFreqRange / 2), forSong: false, convertRealFactor: 0, associatedEffect: EffectType.bitcrusher,\n            promptName: \"Instrument Frequency Crush\", promptDesc: [\"This setting controls the frequency crush of your instrument, just like the freq crush slider.\", \"At a value of $LO, no frequency crush will be applied. This increases and the frequency crush effect gets more noticeable up to the max value, $HI.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"echo\", pianoName: \"Echo\", maxRawVol: Config.echoSustainRange-1, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.echo,\n            promptName: \"Instrument Echo Sustain\", promptDesc: [\"This setting controls the echo sustain (echo loudness) of your instrument, just like the echo slider.\", \"At $LO, your instrument will have no echo sustain and echo will not be audible. Echo sustain increases and the echo effect gets more noticeable up to the max value, $HI.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"echo delay\", pianoName: \"Echo Delay\", maxRawVol: Config.echoDelayRange, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"Instrument Echo Delay\", promptDesc: [\"This setting controls the echo delay of your instrument, just like the echo delay slider.\", \"At $LO, your instrument will have very little echo delay, and this increases up to 2 beats of delay at $HI.\", \"[OVERWRITING] [$LO - $HI] [~beats 12]\" ]\n        }, // Disabled via associatedEffect and manually in list build in SongEditor, enable and set back to echo after fixing bugginess!\n        { name: \"chorus\", pianoName: \"Chorus\", maxRawVol: Config.chorusRange, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.chorus,\n            promptName: \"Instrument Chorus\", promptDesc: [\"This setting controls the chorus strength of your instrument, just like the chorus slider.\", \"At $LO, the chorus effect will be disabled. The strength of the chorus effect increases up to the max value, $HI.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"eq filt cut\", pianoName: \"EQFlt Cut\", maxRawVol: Config.filterSimpleCutRange - 1, newNoteVol: Config.filterSimpleCutRange - 1, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"EQ Filter Cutoff Frequency\", promptDesc: [\"This setting controls the filter cut position of your instrument, just like the filter cut slider.\", \"This setting is roughly analagous to the horizontal position of a single low-pass dot on the advanced filter editor. At lower values, a wider range of frequencies is cut off.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"eq filt peak\", pianoName: \"EQFlt Peak\", maxRawVol: Config.filterSimplePeakRange - 1, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"EQ Filter Peak Gain\", promptDesc: [\"This setting controls the filter peak position of your instrument, just like the filter peak slider.\", \"This setting is roughly analagous to the vertical position of a single low-pass dot on the advanced filter editor. At lower values, the cutoff frequency will not be emphasized, and at higher values you will hear emphasis on the cutoff frequency.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"note filt cut\", pianoName: \"N.Flt Cut\", maxRawVol: Config.filterSimpleCutRange - 1, newNoteVol: Config.filterSimpleCutRange - 1, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.noteFilter,\n            promptName: \"Note Filter Cutoff Frequency\", promptDesc: [\"This setting controls the filter cut position of your instrument, just like the filter cut slider.\", \"This setting is roughly analagous to the horizontal position of a single low-pass dot on the advanced filter editor. At lower values, a wider range of frequencies is cut off.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"note filt peak\", pianoName: \"N.Flt Peak\", maxRawVol: Config.filterSimplePeakRange - 1, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.noteFilter,\n            promptName: \"Note Filter Peak Gain\", promptDesc: [\"This setting controls the filter peak position of your instrument, just like the filter peak slider.\", \"This setting is roughly analagous to the vertical position of a single low-pass dot on the advanced filter editor. At lower values, the cutoff frequency will not be emphasized, and at higher values you will hear emphasis on the cutoff frequency.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"pitch shift\", pianoName: \"Pitch Shift\", maxRawVol: Config.pitchShiftRange - 1, newNoteVol: Config.pitchShiftCenter, forSong: false, convertRealFactor: -Config.pitchShiftCenter, associatedEffect: EffectType.pitchShift,\n            promptName: \"Pitch Shift\", promptDesc: [\"This setting controls the pitch offset of your instrument, just like the pitch shift slider.\", \"At $MID your instrument will have no pitch shift. This increases as you decrease toward $LO pitches (half-steps) at the low end, or increases towards +$HI pitches at the high end.\", \"[OVERWRITING] [$LO - $HI] [pitch]\"] },\n        { name: \"sustain\", pianoName: \"Sustain\", maxRawVol: Config.stringSustainRange - 1, newNoteVol: 0, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"Picked String Sustain\", promptDesc: [\"This setting controls the sustain of your picked string instrument, just like the sustain slider.\", \"At $LO, your instrument will have minimum sustain and sound 'plucky'. This increases to a more held sound as your modulator approaches the maximum, $HI.\", \"[OVERWRITING] [$LO - $HI]\"] },\n        { name: \"mix volume\", pianoName: \"Mix Vol.\", maxRawVol: Config.volumeRange, newNoteVol: Math.ceil(Config.volumeRange / 2), forSong: false, convertRealFactor: Math.ceil(-Config.volumeRange / 2.0), associatedEffect: EffectType.length,\n            promptName: \"Mix Volume\", promptDesc: [\"This setting affects the volume of your instrument as if its volume slider had been moved.\", \"At $MID, an instrument's volume will be unchanged from default. This means you can still use the volume sliders to mix the base volume of instruments, since this setting and the default value work multiplicatively. The volume gradually increases up to $HI, or decreases down to mute at $LO.\", \"Unlike the 'note volume' setting, mix volume is very straightforward and simply affects the resultant instrument volume after all effects are applied.\", \"[MULTIPLICATIVE] [$LO - $HI]\"] },\n        { name: \"fm slider 5\", pianoName: \"FM 5\", maxRawVol: 15, newNoteVol: 15, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"FM Slider 5\", promptDesc: [\"This setting affects the strength of the fifth FM slider, just like the corresponding slider on your instrument.\", \"It works in a multiplicative way, so at $HI your slider will sound the same is its default value, and at $LO it will sound like it has been moved all the way to the left.\", \"For the full range of control with this mod, move your underlying slider all the way to the right.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\"] },\n        { name: \"fm slider 6\", pianoName: \"FM 6\", maxRawVol: 15, newNoteVol: 15, forSong: false, convertRealFactor: 0, associatedEffect: EffectType.length,\n            promptName: \"FM Slider 6\", promptDesc: [\"This setting affects the strength of the sixth FM slider, just like the corresponding slider on your instrument.\", \"It works in a multiplicative way, so at $HI your slider will sound the same is its default value, and at $LO it will sound like it has been moved all the way to the left.\", \"For the full range of control with this mod, move your underlying slider all the way to the right.\", \"[MULTIPLICATIVE] [$LO - $HI] [%]\"] },\n        { name: \"decimal offset\", pianoName: \"Decimal Offset\", maxRawVol: 99, newNoteVol: 0, forSong: false, convertRealFactor: 0, optionalModify: \"invert-0to99\", associatedEffect: EffectType.length,\n            promptName: \"Decimal Offset\", promptDesc: [\"This setting controls the decimal offset that is subtracted from the pulse width; use this for creating values like 12.5 or 6.25.\", \"[$LO - $HI] [%Duty]\"] },\n        \n        ]);\n}\n\nfunction centerWave(wave: Array<number>): Float32Array {\n    let sum: number = 0.0;\n    for (let i: number = 0; i < wave.length; i++) sum += wave[i];\n    const average: number = sum / wave.length;\n    for (let i: number = 0; i < wave.length; i++) wave[i] -= average;\n    performIntegral(wave);\n    // The first sample should be zero, and we'll duplicate it at the end for easier interpolation.\n    wave.push(0);\n    return new Float32Array(wave);\n}\nfunction centerAndNormalizeWave(wave: Array<number>): Float32Array {\n    let magn: number = 0.0;\n\n    centerWave(wave);\n\n    // Going to length-1 because an extra 0 sample is added on the end as part of centerWave, which shouldn't impact magnitude calculation.\n    for (let i: number = 0; i < wave.length - 1; i++) {\n        magn += Math.abs(wave[i]);\n    }\n    const magnAvg: number = magn / (wave.length - 1);\n\n    for (let i: number = 0; i < wave.length - 1; i++) {\n        wave[i] = wave[i] / magnAvg;\n    }\n\n    return new Float32Array(wave);\n\n}\nexport function performIntegral(wave: { length: number, [index: number]: number }): Float32Array {\n    // Perform the integral on the wave. The synth function will perform the derivative to get the original wave back but with antialiasing.\n    let cumulative: number = 0.0;\n    let newWave: Float32Array = new Float32Array(wave.length);\n    for (let i: number = 0; i < wave.length; i++) {\n        newWave[i] = cumulative;\n        cumulative += wave[i];\n    }\n\n    return newWave;\n}\nexport function performIntegralOld(wave: { length: number, [index: number]: number }): void {\n\t// Old ver used in harmonics/picked string instruments, manipulates wave in place.\n\tlet cumulative: number = 0.0;\n\tfor (let i: number = 0; i < wave.length; i++) {\n\t\tconst temp = wave[i];\n\t\twave[i] = cumulative;\n\t\tcumulative += temp;\n\t}\n}\n\nexport function getPulseWidthRatio(pulseWidth: number): number {\n    // BeepBox formula for reference\n    //return Math.pow(0.5, (Config.pulseWidthRange - 1 - pulseWidth) * Config.pulseWidthStepPower) * 0.5;\n\n    return pulseWidth / (Config.pulseWidthRange * 2);\n}\n\n\n// The function arguments will be defined in FFT.ts, but I want\n// SynthConfig.ts to be at the top of the compiled JS so I won't directly\n// depend on FFT here. synth.ts will take care of importing FFT.ts.\n//function inverseRealFourierTransform(array: {length: number, [index: number]: number}, fullArrayLength: number): void;\n//function scaleElementsByFactor(array: {length: number, [index: number]: number}, factor: number): void;\nexport function getDrumWave(index: number, inverseRealFourierTransform: Function | null, scaleElementsByFactor: Function | null): Float32Array {\n    let wave: Float32Array | null = Config.chipNoises[index].samples;\n    if (wave == null) {\n        wave = new Float32Array(Config.chipNoiseLength + 1);\n        Config.chipNoises[index].samples = wave;\n\n\t\tif (index == 0) {\n\t\t\t// The \"retro\" drum uses a \"Linear Feedback Shift Register\" similar to the NES noise channel.\n\t\t\tlet drumBuffer: number = 1;\n\t\t\tfor (let i: number = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\twave[i] = (drumBuffer & 1) * 2.0 - 1.0;\n\t\t\t\tlet newBuffer: number = drumBuffer >> 1;\n\t\t\t\tif (((drumBuffer + newBuffer) & 1) == 1) {\n\t\t\t\t\tnewBuffer += 1 << 14;\n\t\t\t\t}\n\t\t\t\tdrumBuffer = newBuffer;\n\t\t\t}\n\t\t} else if (index == 1) {\n\t\t\t// White noise is just random values for each sample.\n\t\t\tfor (let i: number = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\twave[i] = Math.random() * 2.0 - 1.0;\n\t\t\t}\n\t\t} else if (index == 2) {\n\t\t\t// The \"clang\" noise wave is based on a similar noise wave in the modded beepbox made by DAzombieRE.\n\t\t\tlet drumBuffer: number = 1;\n\t\t\tfor (let i: number = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\twave[i] = (drumBuffer & 1) * 2.0 - 1.0;\n\t\t\t\tlet newBuffer: number = drumBuffer >> 1;\n\t\t\t\tif (((drumBuffer + newBuffer) & 1) == 1) {\n\t\t\t\t\tnewBuffer += 2 << 14;\n\t\t\t\t}\n\t\t\t\tdrumBuffer = newBuffer;\n\t\t\t}\n\t\t} else if (index == 3) {\n\t\t\t// The \"buzz\" noise wave is based on a similar noise wave in the modded beepbox made by DAzombieRE.\n\t\t\tlet drumBuffer: number = 1;\n\t\t\tfor (let i: number = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\twave[i] = (drumBuffer & 1) * 2.0 - 1.0;\n\t\t\t\tlet newBuffer: number = drumBuffer >> 1;\n\t\t\t\tif (((drumBuffer + newBuffer) & 1) == 1) {\n\t\t\t\t\tnewBuffer += 10 << 2;\n\t\t\t\t}\n\t\t\t\tdrumBuffer = newBuffer;\n\t\t\t}\n\t\t} else if (index == 4) {\n\t\t\t// \"hollow\" drums, designed in frequency space and then converted via FFT:\n\t\t\tdrawNoiseSpectrum(wave, Config.chipNoiseLength, 10, 11, 1, 1, 0);\n\t\t\tdrawNoiseSpectrum(wave, Config.chipNoiseLength, 11, 14, .6578, .6578, 0);\n\t\t\tinverseRealFourierTransform!(wave, Config.chipNoiseLength);\n\t\t\tscaleElementsByFactor!(wave, 1.0 / Math.sqrt(Config.chipNoiseLength));\n\t\t} else if (index == 5) {\n\t\t\t// \"Shine\" drums from modbox!\n\t\t\tvar drumBuffer = 1;\n\t\t\tfor (var i = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\twave[i] = (drumBuffer & 1) * 2.0 - 1.0;\n\t\t\t\tvar newBuffer = drumBuffer >> 1;\n\t\t\t\tif (((drumBuffer + newBuffer) & 1) == 1) {\n\t\t\t\t\tnewBuffer += 10 << 2;\n\t\t\t\t}\n\t\t\t\tdrumBuffer = newBuffer;\n\t\t\t}\n\t\t} else if (index == 6) {\n\t\t\t// \"Deep\" drums from modbox!\n\t\t\tdrawNoiseSpectrum(wave, Config.chipNoiseLength, 1, 10, 1, 1, 0);\n\t\t\tdrawNoiseSpectrum(wave, Config.chipNoiseLength, 20, 14, -2, -2, 0);\n\t\t\tinverseRealFourierTransform!(wave, Config.chipNoiseLength);\n\t\t\tscaleElementsByFactor!(wave, 1.0 / Math.sqrt(Config.chipNoiseLength));\n\t\t} else if (index == 7) {\n\t\t\t// \"Cutter\" drums from modbox!\n\t\t\tvar drumBuffer = 1;\n\t\t\tfor (var i = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\twave[i] = (drumBuffer & 1) * 4.0 * (Math.random() * 14 + 1);\n\t\t\t\tvar newBuffer = drumBuffer >> 1;\n\t\t\t\tif (((drumBuffer + newBuffer) & 1) == 1) {\n\t\t\t\t\tnewBuffer += 15 << 2;\n\t\t\t\t}\n\t\t\t\tdrumBuffer = newBuffer;\n\t\t\t}\n\t\t} else if (index == 8) {\n\t\t\t// \"Metallic\" drums from modbox!\n\t\t\tvar drumBuffer = 1;\n\t\t\tfor (var i = 0; i < 32768; i++) {\n\t\t\t\twave[i] = (drumBuffer & 1) / 2.0 + 0.5;\n\t\t\t\tvar newBuffer = drumBuffer >> 1;\n\t\t\t\tif (((drumBuffer + newBuffer) & 1) == 1) {\n\t\t\t\t\tnewBuffer -= 10 << 2;\n\t\t\t\t}\n\t\t\t\tdrumBuffer = newBuffer;\n            }\n        } else if (index == 9) {\n            // a noise more like old static than white noise\n            let drumBuffer: number = 1;\n            for (let i: number = 0; i < Config.chipNoiseLength; i++) {\n                wave[i] = (drumBuffer & 1) * 2.0 - 1.1;\n                let newBuffer: number = drumBuffer >> 1;\n                if (((drumBuffer + newBuffer) & 1) == 1) {\n                    newBuffer += 8 ^ 2 << 16;\n                }\n                drumBuffer = newBuffer;\n            }\n\t\t}\n\t\t\t\t\telse if (index == 10) {\n                for (let i = 0; i < Config.chipNoiseLength; i++) {\n                    wave[i] = Math.round(Math.random());\n                }\n            }\n\t\t\t else if (index == 11) {\n                var drumBuffer = 1;\n                for (var i = 0; i < 32768; i++) {\n                    wave[i] = Math.round((drumBuffer & 1));\n                    var newBuffer = drumBuffer >> 1;\n                    if (((drumBuffer + newBuffer) & 1) == 1) {\n                        newBuffer -= 10 << 2;\n                    }\n                    drumBuffer = newBuffer;\n                }\n            }\n\t\t\telse if (index == 12) {\n                for (let i = 0; i < Config.chipNoiseLength; i++) {\n                   var ultraboxnewchipnoiserand = Math.random();\n\t\t\t\t   wave[i] = Math.pow(ultraboxnewchipnoiserand, Math.clz32(ultraboxnewchipnoiserand));\n                }\n            }\n\t\t\telse if (index == 13) {\n\t\t\t\tvar b0 = 0, b1 = 0, b2 = 0, b3, b4, b5, b6;\n\t\t\t\tb0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;\n\t\t\t\t\n\t\t\t\tfor (let i = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\t\tvar white = Math.random() * 2 - 1;\n\t\t\t\t\tb0 = 0.99886 * b0 + white * 0.0555179;\n\t\t\t\t\tb1 = 0.99332 * b1 + white * 0.0750759;\n\t\t\t\t\tb2 = 0.96900 * b2 + white * 0.1538520;\n\t\t\t\t\tb3 = 0.86650 * b3 + white * 0.3104856;\n\t\t\t\t\tb4 = 0.55000 * b4 + white * 0.5329522;\n\t\t\t\t\tb5 = -0.7616 * b5 - white * 0.0168980;\n\t\t\t\t\twave[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;\n\t\t\t\t\twave[i] *= 0.44;\n\t\t\t\t\tb6 = white * 0.115926;\n\t\t\t\t\t// from https://github.com/zacharydenton/noise.js, MIT license soooo\n                }\n            }\n\t\t\telse if (index == 14) {\n\t\t\t\tvar lastOut = 0.0;\n\t\t\t\t\n                for (let i = 0; i < Config.chipNoiseLength; i++) {\n\t\t\t\t\tvar white = Math.random() * 2 - 1;\n\t\t\t\t\twave[i] = (lastOut + (0.02 * white)) / 1.02;\n\t\t\t\t\tlastOut = wave[i];\n\t\t\t\t\twave[i] *= 14;\n\t\t\t\t\t// this is also from noise.js\n                }\n            }\n\t\t//\telse if (index == 15) {\n\t\t//\t\tconst doomRandArray = [0, 8, 109, 220, 222, 241, 149, 107, 75, 248, 254, 140, 16, 66 , 74, 21, 211, 47, 80, 242, 154, 27, 205, 128, 161, 89, 77, 36 , 95, 110, 85, 48, 212, 140, 211, 249, 22, 79, 200, 50, 28, 188 , 52, 140, 202, 120, 68, 145, 62, 70, 184, 190, 91, 197, 152, 224 , 149, 104, 25, 178, 252, 182, 202, 182, 141, 197, 4, 81, 181, 242 , 145, 42, 39, 227, 156, 198, 225, 193, 219, 93, 122, 175, 249, 0 , 175, 143, 70, 239, 46, 246, 163, 53, 163, 109, 168, 135, 2, 235 , 25, 92, 20, 145, 138, 77, 69, 166, 78, 176, 173, 212, 166, 113 , 94, 161, 41, 50, 239, 49, 111, 164, 70, 60, 2, 37, 171, 75 , 136, 156, 11, 56, 42, 146, 138, 229, 73, 146, 77, 61, 98, 196 , 135, 106, 63, 197, 195, 86, 96, 203, 113, 101, 170, 247, 181, 113 , 80, 250, 108, 7, 255, 237, 129, 226, 79, 107, 112, 166, 103, 241 , 24, 223, 239, 120, 198, 58, 60, 82, 128, 3, 184, 66, 143, 224 , 145, 224, 81, 206, 163, 45, 63, 90, 168, 114, 59, 33, 159, 95 , 28, 139, 123, 98, 125, 196, 15, 70, 194, 253, 54, 14, 109, 226 , 71, 17, 161, 93, 186, 87, 244, 138, 20, 52, 123, 251, 26, 36 , 17, 46, 52, 231, 232, 76, 31, 221, 84, 37, 216, 165, 212, 106 , 197, 242, 98, 43, 39, 175, 254, 145, 190, 84, 118, 222, 187, 136 , 120, 163, 236, 249];\n\t\t//\t\tconst randomSeed = Math.floor(Math.random() * 256);\n\t\t//\t\tvar amountOfLoops = 0;\n\t\t//\t\tvar newWaveValue = 0;\n       //         for (let i = 0; i < Config.chipNoiseLength; i++) {\n\t\t//\t\t\tif (i / 256 > amountOfLoops) {amountOfLoops++;}\n\t\t//\t\t\tnewWaveValue = doomRandArray.at(i - amountOfLoops * 256 + randomSeed);\n\t\t//\t\t\tif (newWaveValue > 256) {newWaveValue += - 256;}\n\t\t//\t\t\twave[i] = newWaveValue * 0.0025;\n\t\t\t\t\t//this sucks\n\t\t\t\t\t//also the randomized starting point code I spent 5 minutes on does nothing (auditorily)\n        //        }\n            //}\n\t\t\n\t\telse {\n\t\t\tthrow new Error(\"Unrecognized drum index: \" + index);\n\t\t}\n\n        wave[Config.chipNoiseLength] = wave[0];\n    }\n\n    return wave;\n}\n\nexport function drawNoiseSpectrum(wave: Float32Array, waveLength: number, lowOctave: number, highOctave: number, lowPower: number, highPower: number, overallSlope: number): number {\n    const referenceOctave: number = 11;\n    const referenceIndex: number = 1 << referenceOctave;\n    const lowIndex: number = Math.pow(2, lowOctave) | 0;\n    const highIndex: number = Math.min(waveLength >> 1, Math.pow(2, highOctave) | 0);\n    const retroWave: Float32Array = getDrumWave(0, null, null);\n    let combinedAmplitude: number = 0.0;\n    for (let i: number = lowIndex; i < highIndex; i++) {\n\n        let lerped: number = lowPower + (highPower - lowPower) * (Math.log2(i) - lowOctave) / (highOctave - lowOctave);\n        let amplitude: number = Math.pow(2, (lerped - 1) * 7 + 1) * lerped;\n\n        amplitude *= Math.pow(i / referenceIndex, overallSlope);\n\n        combinedAmplitude += amplitude;\n\n        // Add two different sources of psuedo-randomness to the noise\n        // (individually they aren't random enough) but in a deterministic\n        // way so that live spectrum editing doesn't result in audible pops.\n        // Multiply all the sine wave amplitudes by 1 or -1 based on the\n        // LFSR retro wave (effectively random), and also rotate the phase\n        // of each sine wave based on the golden angle to disrupt the symmetry.\n        amplitude *= retroWave[i];\n        const radians: number = 0.61803398875 * i * i * Math.PI * 2.0;\n\n        wave[i] = Math.cos(radians) * amplitude;\n        wave[waveLength - i] = Math.sin(radians) * amplitude;\n    }\n\n    return combinedAmplitude;\n}\n\nfunction generateSineWave(): Float32Array {\n    const wave: Float32Array = new Float32Array(Config.sineWaveLength + 1);\n    for (let i: number = 0; i < Config.sineWaveLength + 1; i++) {\n        wave[i] = Math.sin(i * Math.PI * 2.0 / Config.sineWaveLength);\n    }\n    return wave;\n}\n\nfunction generateTriWave(): Float32Array {\n    const wave: Float32Array = new Float32Array(Config.sineWaveLength + 1);\n    for (let i: number = 0; i < Config.sineWaveLength + 1; i++) {\n        wave[i] = Math.asin(Math.sin(i * Math.PI * 2.0 / Config.sineWaveLength)) / (Math.PI / 2);\n    }\n    return wave;\n}\n\nfunction generateTrapezoidWave(drive: number = 2): Float32Array {\n    const wave: Float32Array = new Float32Array(Config.sineWaveLength + 1);\n    for (let i: number = 0; i < Config.sineWaveLength + 1; i++) {\n        wave[i] = Math.max(-1.0, Math.min(1.0, Math.asin(Math.sin(i * Math.PI * 2.0 / Config.sineWaveLength)) * drive));\n    }\n    return wave;\n}\n\nfunction generateSquareWave(phaseWidth: number = 0): Float32Array {\n    const wave: Float32Array = new Float32Array(Config.sineWaveLength + 1);\n    const centerPoint: number = Config.sineWaveLength / 4;\n    for (let i: number = 0; i < Config.sineWaveLength + 1; i++) {\n        wave[i] = +((Math.abs(i - centerPoint) < phaseWidth * Config.sineWaveLength / 2)\n            || ((Math.abs(i - Config.sineWaveLength - centerPoint) < phaseWidth * Config.sineWaveLength / 2))) * 2 - 1;\n    }\n    return wave;\n}\n\nfunction generateSawWave(inverse: boolean = false): Float32Array {\n    const wave: Float32Array = new Float32Array(Config.sineWaveLength + 1);\n    for (let i: number = 0; i < Config.sineWaveLength + 1; i++) {\n        wave[i] = ((i + (Config.sineWaveLength / 4.0)) * 2.0 / Config.sineWaveLength) % 2 - 1;\n        wave[i] = inverse ? -wave[i] : wave[i];\n    }\n    return wave;\n}\n\n\t// function generateWhiteNoiseFmWave() {\n        // const wave = new Float32Array(Config.sineWaveLength + 1);\n        // for (let i = 0; i < Config.sineWaveLength + 1; i++) {\n            // wave[i] = Math.random() * 2.0 - 1.0;\n        // }\n        // return wave;\n    // }\n\t// function generateOneBitWhiteNoiseFmWave() {\n        // const wave = new Float32Array(Config.sineWaveLength + 1);\n        // for (let i = 0; i < Config.sineWaveLength + 1; i++) {\n            // wave[i] = Math.round(Math.random());\n        // }\n        // return wave;\n    // }\n\tfunction generateRoundedSineWave() {\n        const wave = new Float32Array(Config.sineWaveLength + 1);\n        for (let i = 0; i < Config.sineWaveLength + 1; i++) {\n            wave[i] = Math.round(Math.sin(i * Math.PI * 2.0 / Config.sineWaveLength));\n        }\n        return wave;\n\t}\n\nexport function getArpeggioPitchIndex(pitchCount: number, useFastTwoNoteArp: boolean, arpeggio: number): number {\n    let arpeggioPattern: ReadonlyArray<number> = Config.arpeggioPatterns[pitchCount - 1];\n    if (arpeggioPattern != null) {\n        if (pitchCount == 2 && useFastTwoNoteArp == false) {\n            arpeggioPattern = [0, 0, 1, 1];\n        }\n        return arpeggioPattern[arpeggio % arpeggioPattern.length];\n    } else {\n        return arpeggio % pitchCount;\n    }\n}\n\n// Pardon the messy type casting. This allows accessing array members by numerical index or string name.\nexport function toNameMap<T extends BeepBoxOption>(array: Array<Pick<T, Exclude<keyof T, \"index\">>>): DictionaryArray<T> {\n    const dictionary: Dictionary<T> = {};\n    for (let i: number = 0; i < array.length; i++) {\n        const value: any = array[i];\n        value.index = i;\n        dictionary[value.name] = <T>value;\n    }\n    const result: DictionaryArray<T> = <DictionaryArray<T>><any>array;\n    result.dictionary = dictionary;\n    return result;\n}\n\nexport function effectsIncludeTransition(effects: number): boolean {\n    return (effects & (1 << EffectType.transition)) != 0;\n}\nexport function effectsIncludeChord(effects: number): boolean {\n    return (effects & (1 << EffectType.chord)) != 0;\n}\nexport function effectsIncludePitchShift(effects: number): boolean {\n    return (effects & (1 << EffectType.pitchShift)) != 0;\n}\nexport function effectsIncludeDetune(effects: number): boolean {\n    return (effects & (1 << EffectType.detune)) != 0;\n}\nexport function effectsIncludeVibrato(effects: number): boolean {\n    return (effects & (1 << EffectType.vibrato)) != 0;\n}\nexport function effectsIncludeNoteFilter(effects: number): boolean {\n    return (effects & (1 << EffectType.noteFilter)) != 0;\n}\nexport function effectsIncludeDistortion(effects: number): boolean {\n    return (effects & (1 << EffectType.distortion)) != 0;\n}\nexport function effectsIncludeBitcrusher(effects: number): boolean {\n    return (effects & (1 << EffectType.bitcrusher)) != 0;\n}\nexport function effectsIncludePanning(effects: number): boolean {\n    return (effects & (1 << EffectType.panning)) != 0;\n}\nexport function effectsIncludeChorus(effects: number): boolean {\n    return (effects & (1 << EffectType.chorus)) != 0;\n}\nexport function effectsIncludeEcho(effects: number): boolean {\n    return (effects & (1 << EffectType.echo)) != 0;\n}\nexport function effectsIncludeReverb(effects: number): boolean {\n    return (effects & (1 << EffectType.reverb)) != 0;\n}\nexport function rawChipToIntegrated(raw: DictionaryArray<ChipWave>): DictionaryArray<ChipWave> {\n    const newArray: Array<ChipWave> = new Array<ChipWave>(raw.length);\n    const dictionary: Dictionary<ChipWave> = {};\n    for (let i: number = 0; i < newArray.length; i++) {\n        newArray[i] = Object.assign([], raw[i]);\n        const value: any = newArray[i];\n        value.index = i;\n        dictionary[value.name] = <ChipWave>value;\n    }\n    for (let key in dictionary) {\n        dictionary[key].samples = performIntegral(dictionary[key].samples);\n    }\n    const result: DictionaryArray<ChipWave> = <DictionaryArray<ChipWave>><any>newArray;\n    result.dictionary = dictionary;\n    return result;\n}\n","// Copyright (C) 2020 John Nesky, distributed under the MIT license.\n\nexport function applyElementArgs<T extends HTMLElement | SVGElement | DocumentFragment>(element: T, args: Array<any>): T {\n\tfor (const arg of args) {\n\t\tif (arg instanceof Node) {\n\t\t\telement.appendChild(arg);\n\t\t} else if (typeof arg === \"string\") {\n\t\t\telement.appendChild(document.createTextNode(arg));\n\t\t} else if (typeof arg === \"function\") {\n\t\t\tapplyElementArgs(element, [arg()]);\n\t\t} else if (Array.isArray(arg)) {\n\t\t\tapplyElementArgs(element, arg);\n\t\t} else if (arg && typeof Symbol !== \"undefined\" && typeof arg[Symbol.iterator] === \"function\") {\n\t\t\tapplyElementArgs(element, [...arg]);\n\t\t} else if (arg && arg.constructor === Object && element instanceof Element) {\n\t\t\t// If the argument is a literal {} Object\n\t\t\tfor (const key of Object.keys(arg)) {\n\t\t\t\tconst value = arg[key];\n\t\t\t\t/*if (key === \"classList\") {\n\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\telement.classList.add(...value.split(\" \"));\n\t\t\t\t\t} else if (Array.isArray(arg) || (value && typeof Symbol !== \"undefined\" && typeof value[Symbol.iterator] === \"function\")) {\n\t\t\t\t\t\telement.classList.add(...value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn(\"Invalid classList value \\\"\" + value + \"\\\" on \" + element.tagName + \" element.\");\n\t\t\t\t\t}\n\t\t\t\t} else*/ if (key === \"class\" /* || key === \"className\" */) {\n\t\t\t\t\tif (typeof value === \"string\") {\n\t\t\t\t\t\telement.setAttribute(\"class\", value);\n\t\t\t\t\t} else if (Array.isArray(arg) || (value && typeof Symbol !== \"undefined\" && typeof value[Symbol.iterator] === \"function\")) {\n\t\t\t\t\t\telement.setAttribute(\"class\", [...value].join(\" \"));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn(\"Invalid \" + key + \" value \\\"\" + value + \"\\\" on \" + element.tagName + \" element.\");\n\t\t\t\t\t}\n\t\t\t\t} else if (key === \"style\") {\n\t\t\t\t\tif (value && value.constructor === Object) {\n\t\t\t\t\t\tfor (const styleKey of Object.keys(value)) {\n\t\t\t\t\t\t\tif (styleKey in (<HTMLElement | SVGElement>element).style) {\n\t\t\t\t\t\t\t\t// In practice, camelCase and kebab-case properties both work as properties on CSSStyleDeclaration objects.\n\t\t\t\t\t\t\t\t(<any> element).style[styleKey] = value[styleKey];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// CSS variables start with -- and must be set with setProperty.\n\t\t\t\t\t\t\t\t(<HTMLElement | SVGElement>element).style.setProperty(styleKey, value[styleKey]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.setAttribute(key, value);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof(value) === \"function\") {\n\t\t\t\t\t// If value is a callback, set as a property instead trying to coerce to string.\n\t\t\t\t\t(<any>element)[key] = value;\n\t\t\t\t} else if (typeof(value) === \"boolean\") {\n\t\t\t\t\t// If value is boolean, set attribute if true, remove if false.\n\t\t\t\t\tif (value) element.setAttribute(key, \"\");\n\t\t\t\t\telse element.removeAttribute(key);\n\t\t\t\t} else {\n\t\t\t\t\t// Default to setting attribute, as if writing html directly.\n\t\t\t\t\telement.setAttribute(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Just convert unrecognized objects to text and append them.\n\t\t\telement.appendChild(document.createTextNode(arg));\n\t\t}\n\t}\n\treturn element;\n}\n\nexport const svgNS: string = \"http://www.w3.org/2000/svg\";\n\nexport function parseHTML(...args: Array<any>): DocumentFragment {\n\treturn document.createRange().createContextualFragment(args.join());\n}\n\n//let svgParser: SVGSVGElement | null = null;\nexport function parseSVG(...args: Array<any>): DocumentFragment {\n\tconst fragment: DocumentFragment = document.createDocumentFragment();\n\t\n\t// Internet Explorer doesn't support the first method here, so I commented it out and used a slightly more complex one involving DOMParser below.\n\t/*\n\tif (svgParser === null) svgParser = <SVGSVGElement>document.createElementNS(svgNS, \"svg\");\n\tsvgParser.innerHTML = args.join();\n\twhile (svgParser.firstChild !== null) fragment.appendChild(svgParser.firstChild);\n\t*/\n\tconst svgParser: Element = new DOMParser().parseFromString(\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + args.join() + \"</svg>\", \"image/svg+xml\").documentElement;\n\twhile (svgParser.firstChild !== null) {\n\t\tdocument.importNode(svgParser.firstChild, true);\n\t\tfragment.appendChild(svgParser.firstChild);\n\t}\n\t\n\treturn fragment;\n}\n\nexport function replaceScriptWith(...args: Array<any>): void {\n\tlet currentScript: HTMLScriptElement | SVGScriptElement | null = document.currentScript;\n\tif (currentScript == null) { // double-equals to intentionally include undefined in Internet Explorer.\n\t\t\n\t\t// Internet Explorer doens't support currentScript, try this method instead:\n\t\tif (document.readyState === \"loading\") {\n\t\t\tconst scripts: HTMLCollectionOf<HTMLScriptElement> = document.getElementsByTagName(\"script\");\n\t\t\tcurrentScript = scripts[scripts.length - 1];\n\t\t}\n\t\t\n\t\tif (currentScript == null) {\n\t\t\tconsole.warn(\"Couldn't replace script because no script is currently being parsed and executed, maybe this is happening in a callback function or event handler instead?\");\n\t\t\treturn;\n\t\t}\n\t}\n\tif (currentScript.parentNode === null) {\n\t\tconsole.warn(\"Couldn't replace script element because it is not attached to a parent anymore, did you try to replace the same script more than once?\");\n\t\treturn;\n\t}\n\tcurrentScript.parentNode.replaceChild(applyElementArgs(document.createDocumentFragment(), args), currentScript);\n}\n\nexport function applyToElement<T extends HTMLElement | SVGElement | DocumentFragment>(element: T, ...args: Array<any>): T {\n\tif (!(element instanceof Element || element instanceof DocumentFragment)) {\n\t\tconsole.warn(\"Couldn't apply to provided argument because it's not an element or DocumentFragment.\");\n\t\treturn element;\n\t}\n\treturn applyElementArgs(element, args);\n}\n","// Copyright (C) 2020 John Nesky, distributed under the MIT license.\n\nimport {applyElementArgs, svgNS, parseHTML, parseSVG, replaceScriptWith, applyToElement} from \"./elements-base\";\nexport {replaceScriptWith, applyToElement};\n\ninterface HTMLElementFactory {\n\t(...args: Array<string>): DocumentFragment;\n\t//readonly [key: string]: (...args: Array<any>) => HTMLElement;\n\ta(...args: Array<any>): HTMLAnchorElement;\n\tabbr(...args: Array<any>): HTMLElement;\n\taddress(...args: Array<any>): HTMLElement;\n\tarea(...args: Array<any>): HTMLAreaElement;\n\tarticle(...args: Array<any>): HTMLElement;\n\taside(...args: Array<any>): HTMLElement;\n\taudio(...args: Array<any>): HTMLAudioElement;\n\tb(...args: Array<any>): HTMLElement;\n\tbase(...args: Array<any>): HTMLBaseElement;\n\tbdi(...args: Array<any>): HTMLElement;\n\tbdo(...args: Array<any>): HTMLElement;\n\tblockquote(...args: Array<any>): HTMLQuoteElement;\n\tbr(...args: Array<any>): HTMLBRElement;\n\tbutton(...args: Array<any>): HTMLButtonElement;\n\tcanvas(...args: Array<any>): HTMLCanvasElement;\n\tcaption(...args: Array<any>): HTMLTableCaptionElement;\n\tcite(...args: Array<any>): HTMLElement;\n\tcode(...args: Array<any>): HTMLElement;\n\tcol(...args: Array<any>): HTMLTableColElement;\n\tcolgroup(...args: Array<any>): HTMLTableColElement;\n\tdatalist(...args: Array<any>): HTMLDataListElement;\n\tdd(...args: Array<any>): HTMLElement;\n\tdel(...args: Array<any>): HTMLModElement;\n\tdetails(...args: Array<any>): HTMLDetailsElement;\n\tdfn(...args: Array<any>): HTMLElement;\n\tdialog(...args: Array<any>): HTMLDialogElement;\n\tdiv(...args: Array<any>): HTMLDivElement;\n\tdl(...args: Array<any>): HTMLDListElement;\n\tdt(...args: Array<any>): HTMLElement;\n\tem(...args: Array<any>): HTMLElement;\n\tembed(...args: Array<any>): HTMLEmbedElement;\n\tfieldset(...args: Array<any>): HTMLFieldSetElement;\n\tfigcaption(...args: Array<any>): HTMLElement;\n\tfigure(...args: Array<any>): HTMLElement;\n\tfooter(...args: Array<any>): HTMLElement;\n\tform(...args: Array<any>): HTMLFormElement;\n\th1(...args: Array<any>): HTMLHeadingElement;\n\th2(...args: Array<any>): HTMLHeadingElement;\n\th3(...args: Array<any>): HTMLHeadingElement;\n\th4(...args: Array<any>): HTMLHeadingElement;\n\th5(...args: Array<any>): HTMLHeadingElement;\n\th6(...args: Array<any>): HTMLHeadingElement;\n\theader(...args: Array<any>): HTMLElement;\n\thr(...args: Array<any>): HTMLHRElement;\n\ti(...args: Array<any>): HTMLElement;\n\tiframe(...args: Array<any>): HTMLIFrameElement;\n\timg(...args: Array<any>): HTMLImageElement;\n\tinput(...args: Array<any>): HTMLInputElement;\n\tins(...args: Array<any>): HTMLModElement;\n\tkbd(...args: Array<any>): HTMLElement;\n\tlabel(...args: Array<any>): HTMLLabelElement;\n\tlegend(...args: Array<any>): HTMLLegendElement;\n\tli(...args: Array<any>): HTMLLIElement;\n\tlink(...args: Array<any>): HTMLLinkElement;\n\tmain(...args: Array<any>): HTMLElement;\n\tmap(...args: Array<any>): HTMLMapElement;\n\tmark(...args: Array<any>): HTMLElement;\n\tmenu(...args: Array<any>): HTMLMenuElement;\n\tmenuitem(...args: Array<any>): HTMLUnknownElement;\n\tmeta(...args: Array<any>): HTMLMetaElement;\n\tmeter(...args: Array<any>): HTMLMeterElement;\n\tnav(...args: Array<any>): HTMLElement;\n\tnoscript(...args: Array<any>): HTMLElement;\n\tobject(...args: Array<any>): HTMLObjectElement;\n\tol(...args: Array<any>): HTMLOListElement;\n\toptgroup(...args: Array<any>): HTMLOptGroupElement;\n\toption(...args: Array<any>): HTMLOptionElement;\n\toutput(...args: Array<any>): HTMLOutputElement;\n\tp(...args: Array<any>): HTMLParagraphElement;\n\tparam(...args: Array<any>): HTMLParamElement;\n\tpicture(...args: Array<any>): HTMLPictureElement;\n\tpre(...args: Array<any>): HTMLPreElement;\n\tprogress(...args: Array<any>): HTMLProgressElement;\n\tq(...args: Array<any>): HTMLQuoteElement;\n\trp(...args: Array<any>): HTMLElement;\n\trt(...args: Array<any>): HTMLElement;\n\truby(...args: Array<any>): HTMLElement;\n\ts(...args: Array<any>): HTMLElement;\n\tsamp(...args: Array<any>): HTMLElement;\n\tscript(...args: Array<any>): HTMLScriptElement;\n\tsection(...args: Array<any>): HTMLElement;\n\tselect(...args: Array<any>): HTMLSelectElement;\n\tsmall(...args: Array<any>): HTMLElement;\n\tsource(...args: Array<any>): HTMLSourceElement;\n\tspan(...args: Array<any>): HTMLSpanElement;\n\tstrong(...args: Array<any>): HTMLElement;\n\tstyle(...args: Array<any>): HTMLStyleElement;\n\tsub(...args: Array<any>): HTMLElement;\n\tsummary(...args: Array<any>): HTMLElement;\n\tsup(...args: Array<any>): HTMLElement;\n\ttable(...args: Array<any>): HTMLTableElement;\n\ttbody(...args: Array<any>): HTMLTableSectionElement;\n\ttd(...args: Array<any>): HTMLTableCellElement;\n\ttemplate(...args: Array<any>): HTMLTemplateElement;\n\ttextarea(...args: Array<any>): HTMLTextAreaElement;\n\ttfoot(...args: Array<any>): HTMLTableSectionElement;\n\tth(...args: Array<any>): HTMLTableCellElement;\n\tthead(...args: Array<any>): HTMLTableSectionElement;\n\ttime(...args: Array<any>): HTMLTimeElement;\n\ttitle(...args: Array<any>): HTMLTitleElement;\n\ttr(...args: Array<any>): HTMLTableRowElement;\n\ttrack(...args: Array<any>): HTMLTrackElement;\n\tu(...args: Array<any>): HTMLElement;\n\tul(...args: Array<any>): HTMLUListElement;\n\tvar(...args: Array<any>): HTMLElement;\n\tvideo(...args: Array<any>): HTMLVideoElement;\n\twbr(...args: Array<any>): HTMLElement;\n}\n\ninterface SVGElementFactory {\n\t(...args: Array<string>): DocumentFragment;\n\t//readonly [key: string]: (...args: Array<any>) => SVGElement;\n\ta(...args: Array<any>): SVGAElement;\n\taltGlyph(...args: Array<any>): SVGElement;\n\taltGlyphDef(...args: Array<any>): SVGElement;\n\taltGlyphItem(...args: Array<any>): SVGElement;\n\tanimate(...args: Array<any>): SVGAnimateElement;\n\tanimateMotion(...args: Array<any>): SVGAnimateMotionElement;\n\tanimateTransform(...args: Array<any>): SVGAnimateTransformElement;\n\tcircle(...args: Array<any>): SVGCircleElement;\n\tclipPath(...args: Array<any>): SVGClipPathElement;\n\t\"color-profile\"(...args: Array<any>): SVGElement;\n\tcolor_profile(...args: Array<any>): SVGElement;\n\tcursor(...args: Array<any>): SVGElement;\n\tdefs(...args: Array<any>): SVGDefsElement;\n\tdesc(...args: Array<any>): SVGDescElement;\n\tdiscard(...args: Array<any>): SVGElement;\n\tellipse(...args: Array<any>): SVGEllipseElement;\n\tfeBlend(...args: Array<any>): SVGFEBlendElement;\n\tfeColorMatrix(...args: Array<any>): SVGFEColorMatrixElement;\n\tfeComponentTransfer(...args: Array<any>): SVGFEComponentTransferElement;\n\tfeComposite(...args: Array<any>): SVGFECompositeElement;\n\tfeConvolveMatrix(...args: Array<any>): SVGFEConvolveMatrixElement;\n\tfeDiffuseLighting(...args: Array<any>): SVGFEDiffuseLightingElement;\n\tfeDisplacementMap(...args: Array<any>): SVGFEDisplacementMapElement;\n\tfeDistantLight(...args: Array<any>): SVGFEDistantLightElement;\n\tfeDropShadow(...args: Array<any>): SVGElement;\n\tfeFlood(...args: Array<any>): SVGFEFloodElement;\n\tfeFuncA(...args: Array<any>): SVGFEFuncAElement;\n\tfeFuncB(...args: Array<any>): SVGFEFuncBElement;\n\tfeFuncG(...args: Array<any>): SVGFEFuncGElement;\n\tfeFuncR(...args: Array<any>): SVGFEFuncRElement;\n\tfeGaussianBlur(...args: Array<any>): SVGFEGaussianBlurElement;\n\tfeImage(...args: Array<any>): SVGFEImageElement;\n\tfeMerge(...args: Array<any>): SVGFEMergeElement;\n\tfeMergeNode(...args: Array<any>): SVGFEMergeNodeElement;\n\tfeMorphology(...args: Array<any>): SVGFEMorphologyElement;\n\tfeOffset(...args: Array<any>): SVGFEOffsetElement;\n\tfePointLight(...args: Array<any>): SVGFEPointLightElement;\n\tfeSpecularLighting(...args: Array<any>): SVGFESpecularLightingElement;\n\tfeSpotLight(...args: Array<any>): SVGFESpotLightElement;\n\tfeTile(...args: Array<any>): SVGFETileElement;\n\tfeTurbulence(...args: Array<any>): SVGFETurbulenceElement;\n\tfilter(...args: Array<any>): SVGFilterElement;\n\tfont(...args: Array<any>): SVGElement;\n\t\"font-face\"(...args: Array<any>): SVGElement;\n\tfont_face(...args: Array<any>): SVGElement;\n\t\"font-face-format\"(...args: Array<any>): SVGElement;\n\tfont_face_format(...args: Array<any>): SVGElement;\n\t\"font-face-name\"(...args: Array<any>): SVGElement;\n\tfont_face_name(...args: Array<any>): SVGElement;\n\t\"font-face-src\"(...args: Array<any>): SVGElement;\n\tfont_face_src(...args: Array<any>): SVGElement;\n\t\"font-face-uri\"(...args: Array<any>): SVGElement;\n\tfont_face_uri(...args: Array<any>): SVGElement;\n\tforeignObject(...args: Array<any>): SVGForeignObjectElement;\n\tg(...args: Array<any>): SVGGElement;\n\tglyph(...args: Array<any>): SVGElement;\n\tglyphRef(...args: Array<any>): SVGElement;\n\thkern(...args: Array<any>): SVGElement;\n\timage(...args: Array<any>): SVGImageElement;\n\tline(...args: Array<any>): SVGLineElement;\n\tlinearGradient(...args: Array<any>): SVGLinearGradientElement;\n\tmarker(...args: Array<any>): SVGMarkerElement;\n\tmask(...args: Array<any>): SVGMaskElement;\n\tmetadata(...args: Array<any>): SVGMetadataElement;\n\t\"missing-glyph\"(...args: Array<any>): SVGElement;\n\tmissing_glyph(...args: Array<any>): SVGElement;\n\tmpath(...args: Array<any>): SVGElement;\n\tpath(...args: Array<any>): SVGPathElement;\n\tpattern(...args: Array<any>): SVGPatternElement;\n\tpolygon(...args: Array<any>): SVGPolygonElement;\n\tpolyline(...args: Array<any>): SVGPolylineElement;\n\tradialGradient(...args: Array<any>): SVGRadialGradientElement;\n\trect(...args: Array<any>): SVGRectElement;\n\tscript(...args: Array<any>): SVGScriptElement;\n\tset(...args: Array<any>): SVGElement;\n\tstop(...args: Array<any>): SVGStopElement;\n\tstyle(...args: Array<any>): SVGStyleElement;\n\tsvg(...args: Array<any>): SVGSVGElement;\n\tswitch(...args: Array<any>): SVGSwitchElement;\n\tsymbol(...args: Array<any>): SVGSymbolElement;\n\ttext(...args: Array<any>): SVGTextElement;\n\ttextPath(...args: Array<any>): SVGTextPathElement;\n\ttitle(...args: Array<any>): SVGTitleElement;\n\ttref(...args: Array<any>): SVGElement;\n\ttspan(...args: Array<any>): SVGTSpanElement;\n\tuse(...args: Array<any>): SVGUseElement;\n\tview(...args: Array<any>): SVGViewElement;\n\tvkern(...args: Array<any>): SVGElement;\n}\n\nexport const HTML: HTMLElementFactory = <HTMLElementFactory> <unknown> parseHTML;\nexport const SVG: SVGElementFactory = <SVGElementFactory> <unknown> parseSVG;\n\nfor (const name of \"a abbr address area article aside audio b base bdi bdo blockquote br button canvas caption cite code col colgroup datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 header hr i iframe img input ins kbd label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td template textarea tfoot th thead time title tr track u ul var video wbr\".split(\" \")) {\n\t(<any>HTML)[name] = (...args: Array<any>) => applyElementArgs(document.createElement(name), args);\n}\nfor (const name of \"a altGlyph altGlyphDef altGlyphItem animate animateMotion animateTransform circle clipPath color-profile cursor defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph mpath path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern\".split(\" \")) {\n\t(<any>SVG)[name] = (...args: Array<any>) => applyElementArgs(<SVGElement> document.createElementNS(svgNS, name), args);\n\tif (/-/.test(name)) {\n\t\tconst snakeCaseName = name.replace(/-/g, \"_\");\n\t\t(<any>SVG)[snakeCaseName] = (...args: Array<any>) => applyElementArgs(<SVGElement> document.createElementNS(svgNS, name), args);\n\t}\n}\n","// Copyright (c) 2012-2022 John Nesky and contributing authors, distributed under the MIT license, see accompanying the LICENSE.md file.\n\nimport { BeepBoxOption, DictionaryArray, toNameMap, Config } from \"../synth/SynthConfig\";\nimport { Song } from \"../synth/synth\";\nimport { HTML } from \"imperative-html/dist/esm/elements-strict\";\n\nexport interface ChannelColors extends BeepBoxOption {\n    readonly secondaryChannel: string;\n    readonly primaryChannel: string;\n    readonly secondaryNote: string;\n    readonly primaryNote: string;\n}\n\nexport class ColorConfig {\n    public static colorLookup: Map<number, ChannelColors> = new Map<number, ChannelColors>();\n\n    public static readonly themes: { [name: string]: string } = {\n      \"AbyssBox Classic\": `\n\t\t\t:root {\t\t\n\t\t\t--page-margin: #1e0915; \t\t\n\t\t\t--editor-background: #1e0915; \t\t\n\t\t\t--hover-preview: white; \t\t\n\t\t\t--playhead: rgba(255, 255, 255, 0.9); \t\t\n\t\t\t--primary-text: white; \t\t\n\t\t\t--secondary-text: #ffcedd; \t\t\n\t\t\t--inverted-text: black;\t \t\t\n\t\t\t--text-selection: rgba(119,68,255,0.99); \t\t\n\t\t\t--box-selection-fill: #bf2c5d; \t\t\n\t\t\t--loop-accent: #873a51; \t\t\n\t\t\t--link-accent: #df88ff; \t\t\n\t\t\t--ui-widget-background: #581b3e; \t\t\n\t\t\t--ui-widget-focus: #762b4c; \t\t\n\t\t\t--pitch-background: #381d24; \t\t\n\t\t\t--tonic: #873a51; \t\t\n\t\t\t--fifth-note: #75001e; \t\t\n\t\t\t--white-piano-key: #cca5c7; \t\t\n\t\t\t--black-piano-key: #402f2f; \t\t\n\t\t\t--use-color-formula: true; \t\t\n\t\t\t--track-editor-bg-pitch: #571c40; \t\t\n\t\t\t--track-editor-bg-pitch-dim: #290d0d; \t\t\n\t\t\t--track-editor-bg-noise: #571131; \t\t\n\t\t\t--track-editor-bg-noise-dim: #330a28; \t\t\n\t\t\t--track-editor-bg-mod: #54083c; \t\t\n\t\t\t--track-editor-bg-mod-dim: #360426; \t\t\n\t\t\t--multiplicative-mod-slider: #9f6082; \t\t\n\t\t\t--overwriting-mod-slider: #9e3470; \t\t\n\t\t\t--indicator-primary: #b3498f; \t\t\n\t\t\t--indicator-secondary: #541d40; \t\t\n\t\t\t--select2-opt-group: #4f191e; \t\t\n\t\t\t--input-box-outline: #18041a; \t\t\n\t\t\t--mute-button-normal: #dd5d94;\t \t\t\n\t\t\t--mute-button-mod: #ba364c; \t\t\n\t\t\t--mod-label-primary: #541625; \t\t\n\t\t\t--mod-label-secondary-text: rgb(120, 87, 86); \n\t\t\t--mod-label-primary-text: gray; \n\t\t\n\t\t\t--pitch-secondary-channel-hue: -80; \t\t\n\t\t\t--pitch-secondary-channel-hue-scale 0; \t\t\n\t\t\t--pitch-secondary-channel-sat: 43; \t\t\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1; \t\t\n\t\t\t--pitch-secondary-channel-lum: 40; \t\t\n\t\t\t--pitch-secondary-channel-lum-scale: 0.05; \n\t\t\n\t\t\t--pitch-primary-channel-hue: -53; \t\t\n\t\t\t--pitch-primary-channel-hue-scale: 6.1; \t\t\n\t\t\t--pitch-primary-channel-sat: 75; \t\t\n\t\t\t--pitch-primary-channel-sat-scale: 0.1; \t\t\n\t\t\t--pitch-primary-channel-lum: 67.5; \t\t\n\t\t\t--pitch-primary-channel-lum-scale: 0.05; \t\n\t\n\t\t\t--pitch-secondary-note-hue: -34; \t\t\n\t\t\t--pitch-secondary-note-hue-scale: 6.1; \t\t\n\t\t\t--pitch-secondary-note-sat: 93.9; \t\t\n\t\t\t--pitch-secondary-note-sat-scale: 0.1; \t\t\n\t\t\t--pitch-secondary-note-lum: 25; \t\t\n\t\t\t--pitch-secondary-note-lum-scale: 0.05; \n\t\t\n\t\t\t--pitch-primary-note-hue: -53; \t\t\n\t\t\t--pitch-primary-note-hue-scale: 6.1; \t\t\n\t\t\t--pitch-primary-note-sat: 100; \t\t\n\t\t\t--pitch-primary-note-sat-scale: 0.05; \t\t\n\t\t\t--pitch-primary-note-lum: 85.6; \t\t\n\t\t\t--pitch-primary-note-lum-scale: 0.025; \n\t\t\n\t\t\t--noise-secondary-channel-hue: 0; \t\t\n\t\t\t--noise-secondary-channel-hue-scale: 2; \t\t\n\t\t\t--noise-secondary-channel-sat: 65; \t\t\n\t\t\t--noise-secondary-channel-sat-scale: 0; \t\t\n\t\t\t--noise-secondary-channel-lum: 42; \t\t\n\t\t\t--noise-secondary-channel-lum-scale: 0; \n\t\t\n\t\t\t--noise-primary-channel-hue: 0; \t\t\n\t\t\t--noise-primary-channel-hue-scale: 1; \t\t\n\t\t\t--noise-primary-channel-sat: 100; \t\t\n\t\t\t--noise-primary-channel-sat-scale: 1; \t\t\n\t\t\t--noise-primary-channel-lum: 63.5; \t\t\n\t\t\t--noise-primary-channel-lum-scale: 0; \n\t\t\n\t\t\t--noise-secondary-note-hue: 24; \t\t\n\t\t\t--noise-secondary-note-hue-scale: 2; \t\t\n\t\t\t--noise-secondary-note-sat: 100; \t\t\n\t\t\t--noise-secondary-note-sat-scale: 0; \t\t\n\t\t\t--noise-secondary-note-lum: 35; \t\t\n\t\t\t--noise-secondary-note-lum-scale: 0; \t\n\t\n\t\t\t--noise-primary-note-hue: 24; \t\t\n\t\t\t--noise-primary-note-hue-scale: 2; \t\t\n\t\t\t--noise-primary-note-sat: 100; \t\t\n\t\t\t--noise-primary-note-sat-scale: 1; \t\t\n\t\t\t--noise-primary-note-lum: 60; \t\t\n\t\t\t--noise-primary-note-lum-scale: 1; \t\n\t\n\t\t\t--mod-secondary-channel-hue: 55; \t\t\n\t\t\t--mod-secondary-channel-hue-scale: 1.5; \t\t\n\t\t\t--mod-secondary-channel-sat: 100; \t\t\n\t\t\t--mod-secondary-channel-sat-scale: 0; \t\t\n\t\t\t--mod-secondary-channel-lum: 20; \t\t\n\t\t\t--mod-secondary-channel-lum-scale: 0; \n\t\t\n\t\t\t--mod-primary-channel-hue: 55; \t\t\n\t\t\t--mod-primary-channel-hue-scale: 1.5; \t\t\n\t\t\t--mod-primary-channel-sat: 96; \t\t\n\t\t\t--mod-primary-channel-sat-scale: 0; \t\t\n\t\t\t--mod-primary-channel-lum: 50; \t\t\n\t\t\t--mod-primary-channel-lum-scale: 0; \n\t\t\n\t\t\t--mod-secondary-note-hue: 55; \t\t\n\t\t\t--mod-secondary-note-hue-scale: 1.5; \t\t\n\t\t\t--mod-secondary-note-sat: 92; \t\t\n\t\t\t--mod-secondary-note-sat-scale: 0; \t\t\n\t\t\t--mod-secondary-note-lum: 45; \t\t\n\t\t\t--mod-secondary-note-lum-scale: 0; \n\t\t\n\t\t\t--mod-primary-note-hue: 55; \t\t\n\t\t\t--mod-primary-note-hue-scale: 1.5; \t\t\n\t\t\t--mod-primary-note-sat: 96; \t\t\n\t\t\t--mod-primary-note-sat-scale: 0; \t\t\n\t\t\t--mod-primary-note-lum: 85; \t\t\n\t\t\t--mod-primary-note-lum-scale: 0; \t\n\t\t\t\t}\n\t\t* {\n\t\tcursor: url(\"abyssbox_cursor.png\"), auto !important;\n\t\t}\n\n\t\t\t@font-face {\n\t\t   font-family: \"AbyssType\";\n\t\t   src:\n \t\t   url(\"abysstype.otf\") format(\"opentype\") tech(color-COLRv1),\n\t\t\t}\n\n\t\t\t@font-face {\n\t\t   font-family: \"AbyssType_small\";\n\t\t   src:\n \t\t   url(\"abysstype_small.otf\") format(\"opentype\") tech(color-COLRv1),\n\t\t\t}\n\n\t\t\thtml {\n \t\t   font-family: 'AbyssType';\n\t\t\t}\n\n\t\t   var(--track-font): 'AbyssType';\n\n\t\t\t`,\n  \"AbyssBox Competative\": `\n\t\t\t:root { \t\t\n\t\t\t--page-margin: #000000; \t\t\n\t\t\t--editor-background: #000000; \t\t\n\t\t\t--hover-preview: white; \t\t\n\t\t\t--playhead: rgba(255, 255, 255, 0.9); \t\t\n\t\t\t--primary-text: white; \t\t\n\t\t\t--secondary-text: #ffcedd; \t\t\n\t\t\t--inverted-text: black;\t \t\t\n\t\t\t--text-selection: rgba(119,68,255,0.99); \t\t\n\t\t\t--box-selection-fill: #bf2c5d; \t\t\n\t\t\t--loop-accent: #873a51; \t\t\n\t\t\t--link-accent: #df88ff; \t\t\n\t\t\t--ui-widget-background: #581b3e; \t\t\n\t\t\t--ui-widget-focus: #000000; \t\t\n\t\t\t--pitch-background: #240f15; \t\t\n\t\t\t--tonic: #a34b65; \t\t\n\t\t\t--fifth-note: #75001e; \t\t\n\t\t\t--white-piano-key: #cca5c7; \t\t\n\t\t\t--black-piano-key: #402f2f; \t\t\n\t\t\t--use-color-formula: true; \t\t\n\t\t\t--track-editor-bg-pitch: #571c40; \t\t\n\t\t\t--track-editor-bg-pitch-dim: #290d0d; \t\t\n\t\t\t--track-editor-bg-noise: #571131; \t\t\n\t\t\t--track-editor-bg-noise-dim: #330a28; \t\t\n\t\t\t--track-editor-bg-mod: #54083c; \t\t\n\t\t\t--track-editor-bg-mod-dim: #360426; \t\t\n\t\t\t--multiplicative-mod-slider: #9f6082; \t\t\n\t\t\t--overwriting-mod-slider: #9e3470; \t\t\n\t\t\t--indicator-primary: #b3498f; \t\t\n\t\t\t--indicator-secondary: #541d40; \t\t\n\t\t\t--select2-opt-group: #4f191e; \t\t\n\t\t\t--input-box-outline: #18041a; \t\t\n\t\t\t--mute-button-normal: #dd5d94;\t \t\t\n\t\t\t--mute-button-mod: #ba364c; \t\t\n\t\t\t--mod-label-primary: #541625; \t\t\n\t\t\t--mod-label-secondary-text: rgb(120, 87, 86); \n\t\t\t--mod-label-primary-text: gray; \n\t\t\n\t\t\t--pitch-secondary-channel-hue: -80; \t\t\n\t\t\t--pitch-secondary-channel-hue-scale 0; \t\t\n\t\t\t--pitch-secondary-channel-sat: 43; \t\t\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1; \t\t\n\t\t\t--pitch-secondary-channel-lum: 40; \t\t\n\t\t\t--pitch-secondary-channel-lum-scale: 0.05; \n\t\t\n\t\t\t--pitch-primary-channel-hue: -53; \t\t\n\t\t\t--pitch-primary-channel-hue-scale: 6.1; \t\t\n\t\t\t--pitch-primary-channel-sat: 75; \t\t\n\t\t\t--pitch-primary-channel-sat-scale: 0.1; \t\t\n\t\t\t--pitch-primary-channel-lum: 67.5; \t\t\n\t\t\t--pitch-primary-channel-lum-scale: 0.05; \t\n\t\n\t\t\t--pitch-secondary-note-hue: -34; \t\t\n\t\t\t--pitch-secondary-note-hue-scale: 6.1; \t\t\n\t\t\t--pitch-secondary-note-sat: 93.9; \t\t\n\t\t\t--pitch-secondary-note-sat-scale: 0.1; \t\t\n\t\t\t--pitch-secondary-note-lum: 25; \t\t\n\t\t\t--pitch-secondary-note-lum-scale: 0.05; \n\t\t\n\t\t\t--pitch-primary-note-hue: -53; \t\t\n\t\t\t--pitch-primary-note-hue-scale: 6.1; \t\t\n\t\t\t--pitch-primary-note-sat: 100; \t\t\n\t\t\t--pitch-primary-note-sat-scale: 0.05; \t\t\n\t\t\t--pitch-primary-note-lum: 85.6; \t\t\n\t\t\t--pitch-primary-note-lum-scale: 0.025; \n\t\t\n\t\t\t--noise-secondary-channel-hue: 0; \t\t\n\t\t\t--noise-secondary-channel-hue-scale: 2; \t\t\n\t\t\t--noise-secondary-channel-sat: 65; \t\t\n\t\t\t--noise-secondary-channel-sat-scale: 0; \t\t\n\t\t\t--noise-secondary-channel-lum: 42; \t\t\n\t\t\t--noise-secondary-channel-lum-scale: 0; \n\t\t\n\t\t\t--noise-primary-channel-hue: 0; \t\t\n\t\t\t--noise-primary-channel-hue-scale: 1; \t\t\n\t\t\t--noise-primary-channel-sat: 100; \t\t\n\t\t\t--noise-primary-channel-sat-scale: 1; \t\t\n\t\t\t--noise-primary-channel-lum: 63.5; \t\t\n\t\t\t--noise-primary-channel-lum-scale: 0; \n\t\t\n\t\t\t--noise-secondary-note-hue: 24; \t\t\n\t\t\t--noise-secondary-note-hue-scale: 2; \t\t\n\t\t\t--noise-secondary-note-sat: 100; \t\t\n\t\t\t--noise-secondary-note-sat-scale: 0; \t\t\n\t\t\t--noise-secondary-note-lum: 35; \t\t\n\t\t\t--noise-secondary-note-lum-scale: 0; \t\n\t\n\t\t\t--noise-primary-note-hue: 24; \t\t\n\t\t\t--noise-primary-note-hue-scale: 2; \t\t\n\t\t\t--noise-primary-note-sat: 100; \t\t\n\t\t\t--noise-primary-note-sat-scale: 1; \t\t\n\t\t\t--noise-primary-note-lum: 60; \t\t\n\t\t\t--noise-primary-note-lum-scale: 1; \t\n\t\n\t\t\t--mod-secondary-channel-hue: 55; \t\t\n\t\t\t--mod-secondary-channel-hue-scale: 1.5; \t\t\n\t\t\t--mod-secondary-channel-sat: 100; \t\t\n\t\t\t--mod-secondary-channel-sat-scale: 0; \t\t\n\t\t\t--mod-secondary-channel-lum: 20; \t\t\n\t\t\t--mod-secondary-channel-lum-scale: 0; \n\t\t\n\t\t\t--mod-primary-channel-hue: 55; \t\t\n\t\t\t--mod-primary-channel-hue-scale: 1.5; \t\t\n\t\t\t--mod-primary-channel-sat: 96; \t\t\n\t\t\t--mod-primary-channel-sat-scale: 0; \t\t\n\t\t\t--mod-primary-channel-lum: 50; \t\t\n\t\t\t--mod-primary-channel-lum-scale: 0; \n\t\t\n\t\t\t--mod-secondary-note-hue: 55; \t\t\n\t\t\t--mod-secondary-note-hue-scale: 1.5; \t\t\n\t\t\t--mod-secondary-note-sat: 92; \t\t\n\t\t\t--mod-secondary-note-sat-scale: 0; \t\t\n\t\t\t--mod-secondary-note-lum: 45; \t\t\n\t\t\t--mod-secondary-note-lum-scale: 0; \n\t\t\n\t\t\t--mod-primary-note-hue: 55; \t\t\n\t\t\t--mod-primary-note-hue-scale: 1.5; \t\t\n\t\t\t--mod-primary-note-sat: 96; \t\t\n\t\t\t--mod-primary-note-sat-scale: 0; \t\t\n\t\t\t--mod-primary-note-lum: 85; \t\t\n\t\t\t--mod-primary-note-lum-scale: 0; \n\t\t\t--track-font: \"AbyssType\";\t\n\t\t\t\t}\n\t\t/* sets cursor */ \n\t\t* {\n\t\tcursor: url(\"abyssbox_cursor.png\"), auto !important;\n\t\t}\n\t\t\t@font-face {\n\t\t   font-family: \"AbyssType\";\n\t\t   src:\n \t\t   url(\"abysstype.otf\") format(\"opentype\") tech(color-COLRv1),\n\t\t\t}\n\n\t\t\t@font-face {\n\t\t   font-family: \"AbyssType_small\";\n\t\t   src:\n \t\t   url(\"abysstype_small.otf\") format(\"opentype\") tech(color-COLRv1),\n\t\t\t}\n\n\t\t\thtml {\n \t\t   font-family: 'AbyssType_small';\n\t\t\t}\n\t\t   var(--track-font): 'AbyssType';\n\n\t\t\t`,\n  \"AbyssBox Light\": `\n\t\t\t:root { \t\t\n\t\t\t--page-margin: #e8bcc9; \t\t\n\t\t\t--editor-background: #e8bcc9; \t\t\n\t\t\t--hover-preview: white; \t\t\n\t\t\t--playhead: rgba(255, 255, 255, 0.9); \t\t\n\t\t\t--primary-text: #c763a0; \t\t\n\t\t\t--secondary-text: #c763a0; \t\t\n\t\t\t--inverted-text:  #e8bcc9;\t \t\t\n\t\t\t--text-selection: rgba(119,68,255,0.99); \t\t\n\t\t\t--box-selection-fill: #bf2c5d; \t\t\n\t\t\t--loop-accent: #8c346a; \t\t\n\t\t\t--link-accent: #8c346a; \t\t\n\t\t\t--ui-widget-background: #f5e9f0;\t\t\n\t\t\t--ui-widget-focus: #8c346a; \t\t\n\t\t\t--pitch-background: #eddadf; \t\t\n\t\t\t--tonic: #f2e6e9; \t\t\n\t\t\t--fifth-note: #75001e; \t\t\n\t\t\t--white-piano-key: #cca5c7; \t\t\n\t\t\t--black-piano-key: #402f2f; \t\t\n\t\t\t--use-color-formula: true; \t\t\n\t\t\t--track-editor-bg-pitch: #decad8; \t\t\n\t\t\t--track-editor-bg-pitch-dim: #bfb0bb; \t\t\n\t\t\t--track-editor-bg-noise: #d6a3ca; \t\t\n\t\t\t--track-editor-bg-noise-dim: #b389a9; \t\t\n\t\t\t--track-editor-bg-mod: #b0649e; \t\t\n\t\t\t--track-editor-bg-mod-dim: #915683; \t\t\n\t\t\t--multiplicative-mod-slider: #9f6082; \t\t\n\t\t\t--overwriting-mod-slider: #9e3470; \t\t\n\t\t\t--indicator-primary: #b3498f; \t\t\n\t\t\t--indicator-secondary: #541d40; \t\t\n\t\t\t--select2-opt-group: #4f191e; \t\t\n\t\t\t--input-box-outline: #18041a; \t\t\n\t\t\t--mute-button-normal: #dd5d94;\t \t\t\n\t\t\t--mute-button-mod: #ba364c; \t\t\n\t\t\t--mod-label-primary: #541625; \t\t\n\t\t\t--mod-label-secondary-text: rgb(120, 87, 86); \n\t\t\t--mod-label-primary-text: gray; \n\t\t\n\t\t\t--pitch-secondary-channel-hue: -80; \t\t\n\t\t\t--pitch-secondary-channel-hue-scale 0; \t\t\n\t\t\t--pitch-secondary-channel-sat: 43; \t\t\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1; \t\t\n\t\t\t--pitch-secondary-channel-lum: 20; \t\t\n\t\t\t--pitch-secondary-channel-lum-scale: 0.05; \n\t\t\n\t\t\t--pitch-primary-channel-hue: -53; \t\t\n\t\t\t--pitch-primary-channel-hue-scale: 6.1; \t\t\n\t\t\t--pitch-primary-channel-sat: 75; \t\t\n\t\t\t--pitch-primary-channel-sat-scale: 0.1; \t\t\n\t\t\t--pitch-primary-channel-lum: 47.5; \t\t\n\t\t\t--pitch-primary-channel-lum-scale: 0.05; \t\n\t\n\t\t\t--pitch-secondary-note-hue: -34; \t\t\n\t\t\t--pitch-secondary-note-hue-scale: 6.1; \t\t\n\t\t\t--pitch-secondary-note-sat: 93.9; \t\t\n\t\t\t--pitch-secondary-note-sat-scale: 0.1; \t\t\n\t\t\t--pitch-secondary-note-lum: 15; \t\t\n\t\t\t--pitch-secondary-note-lum-scale: 0.05; \n\t\t\n\t\t\t--pitch-primary-note-hue: -53; \t\t\n\t\t\t--pitch-primary-note-hue-scale: 6.1; \t\t\n\t\t\t--pitch-primary-note-sat: 45; \t\t\n\t\t\t--pitch-primary-note-sat-scale: 0.05; \t\t\n\t\t\t--pitch-primary-note-lum: 45.6; \t\t\n\t\t\t--pitch-primary-note-lum-scale: 0.025; \n\t\t\n\t\t\t--noise-secondary-channel-hue: 0; \t\t\n\t\t\t--noise-secondary-channel-hue-scale: 2; \t\t\n\t\t\t--noise-secondary-channel-sat: 65; \t\t\n\t\t\t--noise-secondary-channel-sat-scale: 0; \t\t\n\t\t\t--noise-secondary-channel-lum: 42; \t\t\n\t\t\t--noise-secondary-channel-lum-scale: 0; \n\t\t\n\t\t\t--noise-primary-channel-hue: 0; \t\t\n\t\t\t--noise-primary-channel-hue-scale: 1; \t\t\n\t\t\t--noise-primary-channel-sat: 100; \t\t\n\t\t\t--noise-primary-channel-sat-scale: 1; \t\t\n\t\t\t--noise-primary-channel-lum: 63.5; \t\t\n\t\t\t--noise-primary-channel-lum-scale: 0; \n\t\t\n\t\t\t--noise-secondary-note-hue: 24; \t\t\n\t\t\t--noise-secondary-note-hue-scale: 2; \t\t\n\t\t\t--noise-secondary-note-sat: 100; \t\t\n\t\t\t--noise-secondary-note-sat-scale: 0; \t\t\n\t\t\t--noise-secondary-note-lum: 35; \t\t\n\t\t\t--noise-secondary-note-lum-scale: 0; \t\n\t\n\t\t\t--noise-primary-note-hue: 24; \t\t\n\t\t\t--noise-primary-note-hue-scale: 2; \t\t\n\t\t\t--noise-primary-note-sat: 75; \t\t\n\t\t\t--noise-primary-note-sat-scale: 1; \t\t\n\t\t\t--noise-primary-note-lum: 60; \t\t\n\t\t\t--noise-primary-note-lum-scale: 1; \t\n\t\n\t\t\t--mod-secondary-channel-hue: 55; \t\t\n\t\t\t--mod-secondary-channel-hue-scale: 1.5; \t\t\n\t\t\t--mod-secondary-channel-sat: 100; \t\t\n\t\t\t--mod-secondary-channel-sat-scale: 0; \t\t\n\t\t\t--mod-secondary-channel-lum: 20; \t\t\n\t\t\t--mod-secondary-channel-lum-scale: 0; \n\t\t\n\t\t\t--mod-primary-channel-hue: 55; \t\t\n\t\t\t--mod-primary-channel-hue-scale: 1.5; \t\t\n\t\t\t--mod-primary-channel-sat: 96; \t\t\n\t\t\t--mod-primary-channel-sat-scale: 0; \t\t\n\t\t\t--mod-primary-channel-lum: 50; \t\t\n\t\t\t--mod-primary-channel-lum-scale: 0; \n\t\t\n\t\t\t--mod-secondary-note-hue: 55; \t\t\n\t\t\t--mod-secondary-note-hue-scale: 1.5; \t\t\n\t\t\t--mod-secondary-note-sat: 92; \t\t\n\t\t\t--mod-secondary-note-sat-scale: 0; \t\t\n\t\t\t--mod-secondary-note-lum: 45; \t\t\n\t\t\t--mod-secondary-note-lum-scale: 0; \n\t\t\n\t\t\t--mod-primary-note-hue: 55; \t\t\n\t\t\t--mod-primary-note-hue-scale: 1.5; \t\t\n\t\t\t--mod-primary-note-sat: 96; \t\t\n\t\t\t--mod-primary-note-sat-scale: 0; \t\t\n\t\t\t--mod-primary-note-lum: 85; \t\t\n\t\t\t--mod-primary-note-lum-scale: 0; \t\n\t\t\t--track-font: \"AbyssType\";\n\t\t\t\t}\n\t\t/* sets cursor */ \n\t\t* {\n\t\tcursor: url(\"abyssbox_cursor.png\"), auto !important;\n\t\t}\n\t\t\t@font-face {\n\t\t   font-family: \"AbyssType\";\n\t\t   src:\n \t\t   url(\"abysstype.otf\") format(\"opentype\") tech(color-COLRv1),\n\t\t\t}\n\n\t\t\t@font-face {\n\t\t   font-family: \"AbyssType_small\";\n\t\t   src:\n \t\t   url(\"abysstype_small.otf\") format(\"opentype\") tech(color-COLRv1),\n\t\t\t}\n\n\t\t\thtml {\n \t\t   font-family: 'AbyssType_small';\n\t\t\t}\n\t\t   var(--track-font): 'AbyssType';\n\n\t\t\t`,\n      \"dark classic\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #74f;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t--pitch1-secondary-channel: #0099A1;\n\t\t\t\t--pitch1-primary-channel:   #25F3FF;\n\t\t\t\t--pitch1-secondary-note:    #00BDC7;\n\t\t\t\t--pitch1-primary-note:      #92F9FF;\n\t\t\t\t--pitch2-secondary-channel: #A1A100;\n\t\t\t\t--pitch2-primary-channel:   #FFFF25;\n\t\t\t\t--pitch2-secondary-note:    #C7C700;\n\t\t\t\t--pitch2-primary-note:      #FFFF92;\n\t\t\t\t--pitch3-secondary-channel: #C75000;\n\t\t\t\t--pitch3-primary-channel:   #FF9752;\n\t\t\t\t--pitch3-secondary-note:    #FF771C;\n\t\t\t\t--pitch3-primary-note:      #FFCDAB;\n\t\t\t\t--pitch4-secondary-channel: #00A100;\n\t\t\t\t--pitch4-primary-channel:   #50FF50;\n\t\t\t\t--pitch4-secondary-note:    #00C700;\n\t\t\t\t--pitch4-primary-note:      #A0FFA0;\n\t\t\t\t--pitch5-secondary-channel: #D020D0;\n\t\t\t\t--pitch5-primary-channel:   #FF90FF;\n\t\t\t\t--pitch5-secondary-note:    #E040E0;\n\t\t\t\t--pitch5-primary-note:      #FFC0FF;\n\t\t\t\t--pitch6-secondary-channel: #7777B0;\n\t\t\t\t--pitch6-primary-channel:   #A0A0FF;\n\t\t\t\t--pitch6-secondary-note:    #8888D0;\n\t\t\t\t--pitch6-primary-note:      #D0D0FF;\n\t\t\t\t--pitch7-secondary-channel: #8AA100;\n\t\t\t\t--pitch7-primary-channel:   #DEFF25;\n\t\t\t\t--pitch7-secondary-note:    #AAC700;\n\t\t\t\t--pitch7-primary-note:      #E6FF92;\n\t\t\t\t--pitch8-secondary-channel: #DF0019;\n\t\t\t\t--pitch8-primary-channel:   #FF98A4;\n\t\t\t\t--pitch8-secondary-note:    #FF4E63;\n\t\t\t\t--pitch8-primary-note:      #FFB2BB;\n\t\t\t\t--pitch9-secondary-channel: #00A170;\n\t\t\t\t--pitch9-primary-channel:   #50FFC9;\n\t\t\t\t--pitch9-secondary-note:    #00C78A;\n\t\t\t\t--pitch9-primary-note:      #83FFD9;\n\t\t\t\t--pitch10-secondary-channel:#A11FFF;\n\t\t\t\t--pitch10-primary-channel:  #CE8BFF;\n\t\t\t\t--pitch10-secondary-note:   #B757FF;\n\t\t\t\t--pitch10-primary-note:     #DFACFF;\n\t\t\t\t--noise1-secondary-channel: #6F6F6F;\n\t\t\t\t--noise1-primary-channel:   #AAAAAA;\n\t\t\t\t--noise1-secondary-note:    #A7A7A7;\n\t\t\t\t--noise1-primary-note:      #E0E0E0;\n\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t--noise2-primary-channel:   #DDAA77;\n\t\t\t\t--noise2-secondary-note:    #CC9966;\n\t\t\t\t--noise2-primary-note:      #F0D0BB;\n\t\t\t\t--noise3-secondary-channel: #4A6D8F;\n\t\t\t\t--noise3-primary-channel:   #77AADD;\n\t\t\t\t--noise3-secondary-note:    #6F9FCF;\n\t\t\t\t--noise3-primary-note:      #BBD7FF;\n\t\t\t\t--noise4-secondary-channel: #7A4F9A;\n\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t--noise4-primary-note:      #D4C1EA;\n\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n          --mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77fc55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #cdffee;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ffb8de;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:\t    #f8ddff;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #fff6d3;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n        \"dark competition\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: black;\n\t\t\t\t\t--editor-background: black;\n\t\t\t\t\t--hover-preview: #ddd;\n\t\t\t\t\t--playhead: #ddd;\n\t\t\t\t\t--primary-text: #ddd;\n\t\t\t\t\t--secondary-text: #8e695b;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t\t--text-selection: rgba(169,0,255,0.99);\n\t\t\t\t\t--box-selection-fill: rgba(221,221,221,0.2);\n\t\t\t\t\t--loop-accent: #bf15ba;\n\t\t\t\t\t--link-accent: #f888ff;\n\t\t\t\t\t--ui-widget-background: #443a3a;\n\t\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t\t--pitch-background: #353333;\n\t\t\t\t\t--tonic: #884a44;\n\t\t\t\t\t--fifth-note: #415498;\n\t\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t\t--black-piano-key: #444;\n                    --white-piano-key-text: #131200;\n                    --black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch1-secondary-channel: #0099a1;\n\t\t\t\t\t--pitch1-primary-channel:   #25f3ff;\n\t\t\t\t\t--pitch1-secondary-note:    #00bdc7;\n\t\t\t\t\t--pitch1-primary-note:      #92f9ff;\n\t\t\t\t\t--pitch2-secondary-channel: #a1a100;\n\t\t\t\t\t--pitch2-primary-channel:   #ffff25;\n\t\t\t\t\t--pitch2-secondary-note:    #c7c700;\n\t\t\t\t\t--pitch2-primary-note:      #ffff92;\n\t\t\t\t\t--pitch3-secondary-channel: #c75000;\n\t\t\t\t\t--pitch3-primary-channel:   #ff9752;\n\t\t\t\t\t--pitch3-secondary-note:    #ff771c;\n\t\t\t\t\t--pitch3-primary-note:      #ffcdab;\n\t\t\t\t\t--pitch4-secondary-channel: #00a100;\n\t\t\t\t\t--pitch4-primary-channel:   #50ff50;\n\t\t\t\t\t--pitch4-secondary-note:    #00c700;\n\t\t\t\t\t--pitch4-primary-note:      #a0ffa0;\n\t\t\t\t\t--pitch5-secondary-channel: #d020d0;\n\t\t\t\t\t--pitch5-primary-channel:   #ff90ff;\n\t\t\t\t\t--pitch5-secondary-note:    #e040e0;\n\t\t\t\t\t--pitch5-primary-note:      #ffc0ff;\n\t\t\t\t\t--pitch6-secondary-channel: #7777b0;\n\t\t\t\t\t--pitch6-primary-channel:   #a0a0ff;\n\t\t\t\t\t--pitch6-secondary-note:    #8888d0;\n\t\t\t\t\t--pitch6-primary-note:      #d0d0ff;\n\t\t\t\t\t--pitch7-secondary-channel: #8AA100;\n\t\t\t\t\t--pitch7-primary-channel:   #DEFF25;\n\t\t\t\t\t--pitch7-secondary-note:\t  #AAC700;\n\t\t\t\t\t--pitch7-primary-note:\t\t\t#E6FF92;\n\t\t\t\t\t--pitch8-secondary-channel: #DF0019;\n\t\t\t\t\t--pitch8-primary-channel:   #FF98A4;\n\t\t\t\t\t--pitch8-secondary-note:    #FF4E63;\n\t\t\t\t\t--pitch8-primary-note:      #FFB2BB;\n\t\t\t\t\t--pitch9-secondary-channel: #00A170;\n\t\t\t\t\t--pitch9-primary-channel:   #50FFC9;\n\t\t\t\t\t--pitch9-secondary-note:    #00C78A;\n\t\t\t\t\t--pitch9-primary-note:\t\t\t#83FFD9;\n\t\t\t\t\t--pitch10-secondary-channel:#A11FFF;\n\t\t\t\t\t--pitch10-primary-channel:  #CE8BFF;\n\t\t\t\t\t--pitch10-secondary-note:   #B757FF;\n\t\t\t\t\t--pitch10-primary-note:     #DFACFF;\n\t\t\t\t\t--noise1-secondary-channel: #6f6f6f;\n\t\t\t\t\t--noise1-primary-channel:   #aaaaaa;\n\t\t\t\t\t--noise1-secondary-note:    #a7a7a7;\n\t\t\t\t\t--noise1-primary-note:      #e0e0e0;\n\t\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t\t--noise2-primary-channel:   #ddaa77;\n\t\t\t\t\t--noise2-secondary-note:    #cc9966;\n\t\t\t\t\t--noise2-primary-note:      #f0d0bb;\n\t\t\t\t\t--noise3-secondary-channel: #4a6d8f;\n\t\t\t\t\t--noise3-primary-channel:   #77aadd;\n\t\t\t\t\t--noise3-secondary-note:    #6f9fcf;\n\t\t\t\t\t--noise3-primary-note:      #bbd7ff;\n\t\t\t\t\t--noise4-secondary-channel: #6B3E8E;\n\t\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t\t--noise5-primary-note:      #C5E2B2;\n\t\t\t\t\t--mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77fc55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #cdffee;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ffb8de;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:\t\t\t  #f8ddff;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #fff6d3;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\n\t\t\t}\n\t\t`,\n        \"light classic\": `\n\t\t\t:root {\n\t\t\t\t-webkit-text-stroke-width: 0.5px;\n\t\t\t\t--page-margin: #685d88;\n\t\t\t\t--editor-background: white;\n\t\t\t\t--hover-preview: black;\n\t\t\t\t--playhead: rgba(0,0,0,0.5);\n\t\t\t\t--primary-text: black;\n\t\t\t\t--secondary-text: #777;\n\t\t\t\t--inverted-text: white;\n\t\t\t\t--text-selection: rgba(200,170,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(0,0,0,0.1);\n\t\t\t\t--loop-accent: #98f;\n\t\t\t\t--link-accent: #74f;\n\t\t\t\t--ui-widget-background: #ececec;\n\t\t\t\t--ui-widget-focus: #eee;\n\t\t\t\t--pitch-background: #ececec;\n\t\t\t\t--tonic: #f0d6b6;\n\t\t\t\t--fifth-note: #bbddf0;\n\t\t\t\t--white-piano-key: #eee;\n\t\t\t\t--black-piano-key: #666;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #ececec;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #fdfdfd;\n\t\t\t\t\t--track-editor-bg-noise: #ececec;\n\t\t\t\t\t--track-editor-bg-noise-dim: #fdfdfd;\n\t\t\t\t\t--track-editor-bg-mod: #dbecfd;\n\t\t\t\t\t--track-editor-bg-mod-dim: #ecfdff;\n\t\t\t\t\t--multiplicative-mod-slider: #789;\n\t\t\t\t\t--overwriting-mod-slider: #987;\n\t\t\t\t\t--indicator-primary: #98f;\n\t\t\t\t\t--indicator-secondary: #cde;\n\t\t\t\t\t--select2-opt-group: #cecece;\n\t\t\t\t\t--input-box-outline: #ddd;\n\t\t\t\t\t--mute-button-normal: #c0b47f;\n\t\t\t\t\t--mute-button-mod: #bd7fc0;\n\t\t\t\t--pitch1-secondary-channel: #6CD9ED;\n\t\t\t\t--pitch1-primary-channel:   #00A0BD;\n\t\t\t\t--pitch1-secondary-note:    #34C2DC;\n\t\t\t\t--pitch1-primary-note:      #00758A;\n\t\t\t\t--pitch2-secondary-channel: #E3C941;\n\t\t\t\t--pitch2-primary-channel:   #B49700;\n\t\t\t\t--pitch2-secondary-note:    #D1B628;\n\t\t\t\t--pitch2-primary-note:      #836E00;\n\t\t\t\t--pitch3-secondary-channel: #FF9D61;\n\t\t\t\t--pitch3-primary-channel:   #E14E00;\n\t\t\t\t--pitch3-secondary-note:    #F67D3C;\n\t\t\t\t--pitch3-primary-note:      #B64000;\n\t\t\t\t--pitch4-secondary-channel: #4BE24B;\n\t\t\t\t--pitch4-primary-channel:   #00A800;\n\t\t\t\t--pitch4-secondary-note:    #2DC82D;\n\t\t\t\t--pitch4-primary-note:      #008000;\n\t\t\t\t--pitch5-secondary-channel: #FF90FF;\n\t\t\t\t--pitch5-primary-channel:   #E12EDF;\n\t\t\t\t--pitch5-secondary-note:    #EC6EEC;\n\t\t\t\t--pitch5-primary-note:      #A600A5;\n\t\t\t\t--pitch6-secondary-channel: #B5B5FE;\n\t\t\t\t--pitch6-primary-channel:   #6969FD;\n\t\t\t\t--pitch6-secondary-note:    #9393FE;\n\t\t\t\t--pitch6-primary-note:      #4A4AD7;\n\t\t\t\t--pitch7-secondary-channel: #C2D848;\n\t\t\t\t--pitch7-primary-channel:   #8EA800;\n\t\t\t\t--pitch7-secondary-note:    #B0C82D;\n\t\t\t\t--pitch7-primary-note:      #6C8000;\n\t\t\t\t--pitch8-secondary-channel: #FF90A4;\n\t\t\t\t--pitch8-primary-channel:   #E12E4D;\n\t\t\t\t--pitch8-secondary-note:    #EC6E85;\n\t\t\t\t--pitch8-primary-note:      #A6001D;\n\t\t\t\t--pitch9-secondary-channel: #41E3B5;\n\t\t\t\t--pitch9-primary-channel:   #00B481;\n\t\t\t\t--pitch9-secondary-note:    #28D1A1;\n\t\t\t\t--pitch9-primary-note:      #00835E;\n\t\t\t\t--pitch10-secondary-channel:#CA77FF;\n\t\t\t\t--pitch10-primary-channel:  #9609FF;\n\t\t\t\t--pitch10-secondary-note:   #B54FFF;\n\t\t\t\t--pitch10-primary-note:     #8400E3;\n\t\t\t\t--noise1-secondary-channel: #C1C1C1;\n\t\t\t\t--noise1-primary-channel:   #898989;\n\t\t\t\t--noise1-secondary-note:    #ADADAD;\n\t\t\t\t--noise1-primary-note:      #6C6C6C;\n\t\t\t\t--noise2-secondary-channel: #E8BB8C;\n\t\t\t\t--noise2-primary-channel:   #BD7D3A;\n\t\t\t\t--noise2-secondary-note:    #D1A374;\n\t\t\t\t--noise2-primary-note:      #836342;\n\t\t\t\t--noise3-secondary-channel: #9BC4EB;\n\t\t\t\t--noise3-primary-channel:   #4481BE;\n\t\t\t\t--noise3-secondary-note:    #7CA7D3;\n\t\t\t\t--noise3-primary-note:      #476685;\n\t\t\t\t--noise4-secondary-channel: #C5A5E0;\n\t\t\t\t--noise4-primary-channel:   #8553AE;\n\t\t\t\t--noise4-secondary-note:    #B290CC;\n\t\t\t\t--noise4-primary-note:      #684F7D;\n\t\t\t\t--noise5-secondary-channel: #B8CE93;\n\t\t\t\t--noise5-primary-channel:   #87A74F;\n\t\t\t\t--noise5-secondary-note:    #ABC183;\n\t\t\t\t--noise5-primary-note:      #68784C;\n\t\t\t\t\t--mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77dd55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #2ad84a;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ba124a;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:        #7a1caa;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #a86810;\n\t\t\t\t\t--mod-label-primary:        #dddddd;\n\t\t\t\t\t--mod-label-secondary-text: #777;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #666;\n\t\t\t\t\t--disabled-note-secondary:  #aaa;\n\t\t\t}\n\t\t\t\n\t\t\t.beepboxEditor button, .beepboxEditor select {\n\t\t\t\tbox-shadow: inset 0 0 0 1px var(--secondary-text);\n\t\t\t}\n\n\t\t\t\t.select2-selection__rendered {\n\t\t\t\t\tbox-shadow: inset 0 0 0 1px var(--secondary-text);\n\t\t\t\t}\n\t\t`,\n        \"jummbox classic\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: #040410;\n\t\t\t\t\t--editor-background: #040410;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: rgba(255, 255, 255, 0.9);\n\t\t\t\t\t--primary-text: white;\n\t\t\t\t\t--secondary-text: #84859a;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t\t--box-selection-fill: #044b94;\n\t\t\t\t\t--loop-accent: #74f;\n\t\t\t\t\t--link-accent: #98f;\n\t\t\t\t\t--ui-widget-background: #393e4f;\n\t\t\t\t\t--ui-widget-focus: #6d6886;\n\t\t\t\t\t--pitch-background: #393e4f;\n\t\t\t\t\t--tonic: #725491;\n\t\t\t\t\t--fifth-note: #54547a;\n\t\t\t\t\t--white-piano-key: #eee;\n\t\t\t\t\t--black-piano-key: #666;\n                    --white-piano-key-text: #131200;\n                    --black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: true;\n\t\t\t\t\t--track-editor-bg-pitch: #393e4f;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #1c1d28;\n\t\t\t\t\t--track-editor-bg-noise: #3d3535;\n\t\t\t\t\t--track-editor-bg-noise-dim: #161313;\n\t\t\t\t\t--track-editor-bg-mod: #283560;\n\t\t\t\t\t--track-editor-bg-mod-dim: #0a101f;\n\t\t\t\t\t--multiplicative-mod-slider: #606c9f;\n\t\t\t\t\t--overwriting-mod-slider: #6850b5;\n\t\t\t\t\t--indicator-primary: #9c64f7;\n\t\t\t\t\t--indicator-secondary: #393e4f;\n\t\t\t\t\t--select2-opt-group: #5d576f;\n\t\t\t\t\t--input-box-outline: #222;\n\t\t\t\t\t--mute-button-normal: #dda85d;\n\t\t\t\t\t--mute-button-mod: #886eae;\n\t\t\t\t\t--mod-label-primary: #282840;\n\t\t\t\t\t--mod-label-secondary-text: rgb(87, 86, 120);\n\t\t\t\t\t--mod-label-primary-text: white;\n\t\t\t\t\t--pitch-secondary-channel-hue: 0;\n\t\t\t\t\t--pitch-secondary-channel-hue-scale: 6.1;\n\t\t\t\t\t--pitch-secondary-channel-sat: 83.3;\n\t\t\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-channel-hue: 0;\n\t\t\t\t\t--pitch-primary-channel-hue-scale: 6.1;\n\t\t\t\t\t--pitch-primary-channel-sat: 100;\n\t\t\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-secondary-note-hue: 0;\n\t\t\t\t\t--pitch-secondary-note-hue-scale: 6.1;\n\t\t\t\t\t--pitch-secondary-note-sat: 93.9;\n\t\t\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-note-lum: 25;\n\t\t\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-hue: 0;\n\t\t\t\t\t--pitch-primary-note-hue-scale: 6.1;\n\t\t\t\t\t--pitch-primary-note-sat: 100;\n\t\t\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t\t\t--noise-secondary-channel-hue: 0;\n\t\t\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-primary-channel-hue: 0;\n\t\t\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-secondary-note-hue: 0;\n\t\t\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t\t\t--noise-primary-note-hue: 0;\n\t\t\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t\t\t--noise-primary-note-lum: 74;\n\t\t\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-hue: 192;\n\t\t\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-primary-channel-hue: 192;\n\t\t\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-note-hue: 192;\n\t\t\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-note-lum: 45;\n\t\t\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t\t\t--mod-primary-note-hue: 192;\n\t\t\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-note-sat: 96;\n\t\t\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t\t\t--mod-primary-note-lum: 85;\n\t\t\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t\t\t--disabled-note-primary:    #91879f;\n\t\t\t\t\t--disabled-note-secondary:  #6a677a;\n\t\t\t\t}\n\t\t\t`,\n        \"forest\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: #010c03;\n\t\t\t\t\t--editor-background: #010c03;\n\t\t\t\t\t--hover-preview: #efe;\n\t\t\t\t\t--playhead: rgba(232, 255, 232, 0.9);\n\t\t\t\t\t--primary-text: #efe;\n\t\t\t\t\t--secondary-text: #70A070;\n\t\t\t\t\t--inverted-text: #280228;\n\t\t\t\t\t--text-selection: rgba(255,68,199,0.99);\n\t\t\t\t\t--box-selection-fill: #267aa3;\n\t\t\t\t\t--loop-accent: #ffe845;\n\t\t\t\t\t--link-accent: #9f8;\n\t\t\t\t\t--ui-widget-background: #203829;\n\t\t\t\t\t--ui-widget-focus: #487860;\n\t\t\t\t\t--pitch-background: #203829;\n\t\t\t\t\t--tonic: #2b8d20;\n\t\t\t\t\t--fifth-note: #385840;\n\t\t\t\t\t--white-piano-key: #bda;\n\t\t\t\t\t--black-piano-key: #573;\n                    --white-piano-key-text: #131200;\n                    --black-piano-key-text: #ffffff;\n\t\t\t\t\t--use-color-formula: true;\n\t\t\t\t\t--track-editor-bg-pitch: #254820;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #102819;\n\t\t\t\t\t--track-editor-bg-noise: #304050;\n\t\t\t\t\t--track-editor-bg-noise-dim: #102030;\n\t\t\t\t\t--track-editor-bg-mod: #506030;\n\t\t\t\t\t--track-editor-bg-mod-dim: #2a300a;\n\t\t\t\t\t--multiplicative-mod-slider: #205c8f;\n\t\t\t\t\t--overwriting-mod-slider: #20ac6f;\n\t\t\t\t\t--indicator-primary: #dcd866;\n\t\t\t\t\t--indicator-secondary: #203829;\n\t\t\t\t\t--select2-opt-group: #1a6f5a;\n\t\t\t\t\t--input-box-outline: #242;\n\t\t\t\t\t--mute-button-normal: #49e980;\n\t\t\t\t\t--mute-button-mod: #c2e502;\n\t\t\t\t\t--mod-label-primary: #133613;\n\t\t\t\t\t--mod-label-secondary-text: rgb(27, 126, 40);\n\t\t\t\t\t--mod-label-primary-text: #efe;\n\t\t\t\t\t--pitch-secondary-channel-hue: 120;\n\t\t\t\t\t--pitch-secondary-channel-hue-scale: 8.1;\n\t\t\t\t\t--pitch-secondary-channel-sat: 59;\n\t\t\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-channel-lum: 50;\n\t\t\t\t\t--pitch-secondary-channel-lum-scale: 0.04;\n\t\t\t\t\t--pitch-primary-channel-hue: 120;\n\t\t\t\t\t--pitch-primary-channel-hue-scale: 8.1;\n\t\t\t\t\t--pitch-primary-channel-sat: 86;\n\t\t\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-primary-channel-lum: 70;\n\t\t\t\t\t--pitch-primary-channel-lum-scale: 0.04;\n\t\t\t\t\t--pitch-secondary-note-hue: 120;\n\t\t\t\t\t--pitch-secondary-note-hue-scale: 8.1;\n\t\t\t\t\t--pitch-secondary-note-sat: 85;\n\t\t\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-note-lum: 30;\n\t\t\t\t\t--pitch-secondary-note-lum-scale: 0.04;\n\t\t\t\t\t--pitch-primary-note-hue: 120;\n\t\t\t\t\t--pitch-primary-note-hue-scale: 8.1;\n\t\t\t\t\t--pitch-primary-note-sat: 90;\n\t\t\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-lum: 80;\n\t\t\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t\t\t--noise-secondary-channel-hue: 200;\n\t\t\t\t\t--noise-secondary-channel-hue-scale: 1.1;\n\t\t\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-channel-lum: 22;\n\t\t\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-primary-channel-hue: 200;\n\t\t\t\t\t--noise-primary-channel-hue-scale: 1.1;\n\t\t\t\t\t--noise-primary-channel-sat: 48;\n\t\t\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-primary-channel-lum: 65;\n\t\t\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-secondary-note-hue: 200;\n\t\t\t\t\t--noise-secondary-note-hue-scale: 1.1;\n\t\t\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-note-lum: 33;\n\t\t\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t\t\t--noise-primary-note-hue: 200;\n\t\t\t\t\t--noise-primary-note-hue-scale: 1.1;\n\t\t\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t\t\t--noise-primary-note-lum: 64;\n\t\t\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-hue: 40;\n\t\t\t\t\t--mod-secondary-channel-hue-scale: 1.8;\n\t\t\t\t\t--mod-secondary-channel-sat: 44;\n\t\t\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-primary-channel-hue: 40;\n\t\t\t\t\t--mod-primary-channel-hue-scale: 1.8;\n\t\t\t\t\t--mod-primary-channel-sat: 60;\n\t\t\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-note-hue: 40;\n\t\t\t\t\t--mod-secondary-note-hue-scale: 1.8;\n\t\t\t\t\t--mod-secondary-note-sat: 62;\n\t\t\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-note-lum: 55;\n\t\t\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t\t\t--mod-primary-note-hue: 40;\n\t\t\t\t\t--mod-primary-note-hue-scale: 1.8;\n\t\t\t\t\t--mod-primary-note-sat: 66;\n\t\t\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t\t\t--mod-primary-note-lum: 85;\n\t\t\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t\t\t--disabled-note-primary:    #536e5c;\n\t\t\t\t\t--disabled-note-secondary:  #395440;\n\t\t\t\t}\n\t\t\t`,\n        \"canyon\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: #0a0000;\n\t\t\t\t\t--editor-background: #0a0000;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: rgba(247, 172, 196, 0.9);\n\t\t\t\t\t--primary-text: #f5d6bf;\n\t\t\t\t\t--secondary-text: #934050;\n\t\t\t\t\t--inverted-text: #290505;\n\t\t\t\t\t--text-selection: rgba(255, 208, 68, 0.99);\n\t\t\t\t\t--box-selection-fill: #94044870;\n\t\t\t\t\t--loop-accent: #ff1e1e;\n\t\t\t\t\t--link-accent: #da7b76;\n\t\t\t\t\t--ui-widget-background: #533137;\n\t\t\t\t\t--ui-widget-focus: #743e4b;\n\t\t\t\t\t--pitch-background: #4f3939;\n\t\t\t\t\t--tonic: #9e4145;\n\t\t\t\t\t--fifth-note: #5b3e6b;\n\t\t\t\t\t--white-piano-key: #d89898;\n\t\t\t\t\t--black-piano-key: #572b29;\n                    --white-piano-key-text: #131200;\n                    --black-piano-key-text: #ffffff;\n\t\t\t\t\t--use-color-formula: true;\n\t\t\t\t\t--track-editor-bg-pitch: #5e3a41;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #281d1c;\n\t\t\t\t\t--track-editor-bg-noise: #3a3551;\n\t\t\t\t\t--track-editor-bg-noise-dim: #272732;\n\t\t\t\t\t--track-editor-bg-mod: #552045;\n\t\t\t\t\t--track-editor-bg-mod-dim: #3e1442;\n\t\t\t\t\t--multiplicative-mod-slider: #9f6095;\n\t\t\t\t\t--overwriting-mod-slider: #b55050;\n\t\t\t\t\t--indicator-primary: #f2f764;\n\t\t\t\t\t--indicator-secondary: #4f3939;\n\t\t\t\t\t--select2-opt-group: #673030;\n\t\t\t\t\t--input-box-outline: #443131;\n\t\t\t\t\t--mute-button-normal: #d81833;\n\t\t\t\t\t--mute-button-mod: #9e2691;\n\t\t\t\t\t--mod-label-primary: #5f2b39;\n\t\t\t\t\t--mod-label-secondary-text: rgb(158, 66, 122);\n\t\t\t\t\t--mod-label-primary-text: #e6caed;\n\t\t\t\t\t--pitch-secondary-channel-hue: 0;\n\t\t\t\t\t--pitch-secondary-channel-hue-scale: 11.8;\n\t\t\t\t\t--pitch-secondary-channel-sat: 73.3;\n\t\t\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-channel-hue: 0;\n\t\t\t\t\t--pitch-primary-channel-hue-scale: 11.8;\n\t\t\t\t\t--pitch-primary-channel-sat: 90;\n\t\t\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-secondary-note-hue: 0;\n\t\t\t\t\t--pitch-secondary-note-hue-scale: 11.8;\n\t\t\t\t\t--pitch-secondary-note-sat: 83.9;\n\t\t\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-note-lum: 35;\n\t\t\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-hue: 0;\n\t\t\t\t\t--pitch-primary-note-hue-scale: 11.8;\n\t\t\t\t\t--pitch-primary-note-sat: 100;\n\t\t\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t\t\t--noise-secondary-channel-hue: 60;\n\t\t\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-primary-channel-hue: 60;\n\t\t\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-secondary-note-hue: 60;\n\t\t\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t\t\t--noise-primary-note-hue: 60;\n\t\t\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t\t\t--noise-primary-note-lum: 74;\n\t\t\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-hue: 222;\n\t\t\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-primary-channel-hue: 222;\n\t\t\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-note-hue: 222;\n\t\t\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-note-lum: 54;\n\t\t\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t\t\t--mod-primary-note-hue: 222;\n\t\t\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-note-sat: 96;\n\t\t\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t\t\t--mod-primary-note-lum: 75;\n\t\t\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t\t\t--disabled-note-primary:    #515164;\n\t\t\t\t\t--disabled-note-secondary:  #2a2a3a;\n\t\t\t\t}\n\t\t\t`,\n        \"midnight\": `\n\t\t:root {\n\t\t\t--page-margin: #000;\n\t\t\t--editor-background: #000;\n\t\t\t--hover-preview: #757575;\n\t\t\t--playhead: #fff;\n\t\t\t--primary-text: #fff;\n\t\t\t--secondary-text: #acacac;\n\t\t\t--inverted-text: #290505;\n\t\t\t--text-selection: rgba(155, 155, 155, 0.99);\n\t\t\t--box-selection-fill: #79797970;\n\t\t\t--loop-accent: #646464;\n\t\t\t--link-accent: #707070;\n\t\t\t--ui-widget-background: #353535;\n\t\t\t--ui-widget-focus: #464646;\n\t\t\t--pitch-background: #222121;\n\t\t\t--tonic: #555955;\n\t\t\t--fifth-note: #1a1818;\n\t\t\t--white-piano-key: #a89e9e;\n\t\t\t--black-piano-key: #2d2424;\n            --white-piano-key-text: #131200;\n            --black-piano-key-text: #ffffff;\n\t\t\t--use-color-formula: true;\n\t\t\t--track-editor-bg-pitch: #373737;\n\t\t\t--track-editor-bg-pitch-dim: #131313;\n\t\t\t--track-editor-bg-noise: #484848;\n\t\t\t--track-editor-bg-noise-dim: #131313;\n\t\t\t--track-editor-bg-mod: #373737;\n\t\t\t--track-editor-bg-mod-dim: #131313;\n\t\t\t--multiplicative-mod-slider: #555;\n\t\t\t--overwriting-mod-slider: #464545;\n\t\t\t--indicator-primary: #e0e0e0;\n\t\t\t--indicator-secondary: #404040;\n\t\t\t--select2-opt-group: #3c3b3b;\n\t\t\t--input-box-outline: #757575;\n\t\t\t--mute-button-normal: #8e8d8d;\n\t\t\t--mute-button-mod: #ddd;\n\t\t\t--mod-label-primary: #262526;\n\t\t\t--mod-label-secondary-text: rgb(227, 222, 225);\n\t\t\t--mod-label-primary-text: #b9b9b9;\n\t\t\t--pitch-secondary-channel-hue: 240;\n\t\t\t--pitch-secondary-channel-hue-scale: 228;\n\t\t\t--pitch-secondary-channel-sat: 73.3;\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t--pitch-secondary-channel-lum: 25;\n\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t--pitch-primary-channel-hue: 240;\n\t\t\t--pitch-primary-channel-hue-scale: 228;\n\t\t\t--pitch-primary-channel-sat: 80;\n\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t--pitch-primary-channel-lum: 60.5;\n\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t--pitch-secondary-note-hue: 240;\n\t\t\t--pitch-secondary-note-hue-scale: 228;\n\t\t\t--pitch-secondary-note-sat: 73.9;\n\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t--pitch-secondary-note-lum: 32;\n\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t--pitch-primary-note-hue: 240;\n\t\t\t--pitch-primary-note-hue-scale: 228;\n\t\t\t--pitch-primary-note-sat: 90;\n\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t--pitch-primary-note-lum: 80.6;\n\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t--noise-secondary-channel-hue: 160;\n\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t--noise-primary-channel-hue: 160;\n\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t--noise-secondary-note-hue: 160;\n\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t--noise-primary-note-hue: 160;\n\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t--noise-primary-note-lum: 74;\n\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t--mod-secondary-channel-hue: 62;\n\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t--mod-secondary-channel-lum: 30;\n\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t--mod-primary-channel-hue: 62;\n\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t--mod-secondary-note-hue: 62;\n\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t--mod-secondary-note-lum: 34;\n\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t--mod-primary-note-hue: 62;\n\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t--mod-primary-note-sat: 96;\n\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t--mod-primary-note-lum: 75;\n\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t--disabled-note-primary:    #66a;\n\t\t\t--disabled-note-secondary:  #447;\n\t\t}\n\t`,\n        \"jummbox light\": `\n\t\t\t\t:root {\n\t\t\t\t\t-webkit-text-stroke-width: 0.5px;\n\t\t\t\t\t--page-margin: #cab1d3;\n\t\t\t\t\t--editor-background: #f4f4f4;\n\t\t\t\t\t--hover-preview: #2d26a2;\n\t\t\t\t\t--playhead: rgb(20 25 153 / 90%);\n\t\t\t\t\t--primary-text: #b686c3;\n\t\t\t\t\t--secondary-text: #970f38;\n\t\t\t\t\t--inverted-text: #fefdff;\n\t\t\t\t\t--text-selection: rgb(56 21 8 / 99%);\n\t\t\t\t\t--box-selection-fill: rgb(20 203 160 / 61%);\n\t\t\t\t\t--loop-accent: #09dc0e;\n\t\t\t\t\t--link-accent: #3ee669;\n\t\t\t\t\t--ui-widget-background: #0e0a42;\n\t\t\t\t\t--ui-widget-focus: #380c42;\n\t\t\t\t\t--pitch-background: #8daf96;\n\t\t\t\t\t--tonic: #a16fb1;\n\t\t\t\t\t--fifth-note: #d08c8c;\n\t\t\t\t\t--white-piano-key: #fbffee;\n\t\t\t\t\t--black-piano-key: #c9d8e5;\n\t\t\t\t\t--white-piano-key-text: #101160;\n\t\t\t\t\t--black-piano-key-text: #231b03;\n\t\t\t\t\t--use-color-formula: true;\n\t\t\t\t\t--track-editor-bg-pitch: #34456a;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #88afad;\n\t\t\t\t\t--track-editor-bg-noise: #564566;\n\t\t\t\t\t--track-editor-bg-noise-dim: #aaa;\n\t\t\t\t\t--track-editor-bg-mod: #7f779d;\n\t\t\t\t\t--track-editor-bg-mod-dim: #aaa;\n\t\t\t\t\t--multiplicative-mod-slider: #807caf;\n\t\t\t\t\t--overwriting-mod-slider: #909cdf;\n\t\t\t\t\t--indicator-primary: #ae38ff;\n\t\t\t\t\t--indicator-secondary: #5c8dbb;\n\t\t\t\t\t--select2-opt-group: #581b50;\n\t\t\t\t\t--input-box-outline: #6f7074;\n\t\t\t\t\t--mute-button-normal: #db1e00;\n\t\t\t\t\t--mute-button-mod: #883bf9;\n\t\t\t\t\t--mod-label-primary: #525297;\n\t\t\t\t\t--mod-label-secondary-text: rgb(197 147 245);\n\t\t\t\t\t--mod-label-primary-text: #a3aae9;\n                    --pitch-secondary-channel-hue: 26;\n                    --pitch-secondary-channel-hue-scale: 214.5;\n                    --pitch-secondary-channel-sat: 74.3;\n                    --pitch-secondary-channel-sat-scale: -0.1;\n\t\t\t\t\t--pitch-secondary-channel-lum: 55;\n\t\t\t\t\t--pitch-secondary-channel-lum-scale: -0.05;\n\t\t\t\t\t--pitch-primary-channel-hue: 26;\n\t\t\t\t\t--pitch-primary-channel-hue-scale: 214.5;\n\t\t\t\t\t--pitch-primary-channel-sat: 74;\n\t\t\t\t\t--pitch-primary-channel-sat-scale: -0.1;\n\t\t\t\t\t--pitch-primary-channel-lum: 65.5;\n\t\t\t\t\t--pitch-primary-channel-lum-scale: -0.05;\n\t\t\t\t\t--pitch-secondary-note-hue: 26;\n\t\t\t\t\t--pitch-secondary-note-hue-scale: 214.5;\n\t\t\t\t\t--pitch-secondary-note-sat: 74.9;\n\t\t\t\t\t--pitch-secondary-note-sat-scale: -0.1;\n\t\t\t\t\t--pitch-secondary-note-lum: 70;\n\t\t\t\t\t--pitch-secondary-note-lum-scale: -0.05;\n\t\t\t\t\t--pitch-primary-note-hue: 26;\n\t\t\t\t\t--pitch-primary-note-hue-scale: 214.5;\n\t\t\t\t\t--pitch-primary-note-sat: 85;\n\t\t\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-lum: 64.6;\n\t\t\t\t\t--pitch-primary-note-lum-scale: -0.025;\n\t\t\t\t\t--noise-secondary-channel-hue: 220;\n\t\t\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-channel-lum: 62;\n\t\t\t\t\t--noise-secondary-channel-lum-scale: -0.1;\n\t\t\t\t\t--noise-primary-channel-hue: 220;\n\t\t\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-primary-channel-sat: 53;\n\t\t\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-primary-channel-lum: 53.5;\n\t\t\t\t\t--noise-primary-channel-lum-scale: -0.1;\n\t\t\t\t\t--noise-secondary-note-hue: 220;\n\t\t\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-note-sat: 58.5;\n\t\t\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-note-lum: 85;\n\t\t\t\t\t--noise-secondary-note-lum-scale: -1;\n\t\t\t\t\t--noise-primary-note-hue: 220;\n\t\t\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t\t\t--noise-primary-note-sat: 56.5;\n\t\t\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t\t\t--noise-primary-note-lum: 54;\n\t\t\t\t\t--noise-primary-note-lum-scale: -1;\n\t\t\t\t\t--mod-secondary-channel-hue: 90;\n\t\t\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-lum: 60;\n\t\t\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-primary-channel-hue: 90;\n\t\t\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-channel-sat: 89;\n\t\t\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-primary-channel-lum: 65;\n\t\t\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-note-hue: 90;\n\t\t\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-note-sat: 79;\n\t\t\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-note-lum: 95;\n\t\t\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t\t\t--mod-primary-note-hue: 90;\n\t\t\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-note-sat: 79;\n\t\t\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t\t\t--mod-primary-note-lum: 55;\n\t\t\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t\t\t--disabled-note-primary:    #868;\n\t\t\t\t\t--disabled-note-secondary:  #767;\n\t\t\t\t}\n\n\t\t\t\t.beepboxEditor button, .beepboxEditor select {\n\t\t\t\t\tbackground-color: var(--secondary-text);\n\t\t\t\t}\n\n\t\t\t\t.select2-selection__rendered {\n\t\t\t\t\tbackground-color: var(--secondary-text);\n\t\t\t\t}\n\n\t\t\t\t.beepboxEditor .piano-button::before {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t`,\n        \"amoled dark\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: #000;\n\t\t\t\t\t--editor-background: #020406;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: rgba(255, 255, 255, 0.9);\n\t\t\t\t\t--primary-text: white;\n\t\t\t\t\t--secondary-text: #8e88ce;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t\t--box-selection-fill: #044b94;\n\t\t\t\t\t--loop-accent: #ad38f9;\n\t\t\t\t\t--link-accent: #bd25ff;\n\t\t\t\t\t--ui-widget-background: #080d1f;\n\t\t\t\t\t--ui-widget-focus: #060f2d;\n\t\t\t\t\t--pitch-background: #02060b;\n\t\t\t\t\t--tonic: #00113a;\n\t\t\t\t\t--fifth-note: #1b0019;\n\t\t\t\t\t--white-piano-key: #02040c;\n\t\t\t\t\t--black-piano-key: #02040c;\n                    --white-piano-key-text: #fff;\n                    --black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: true;\n\t\t\t\t\t--track-editor-bg-pitch: #050829;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #010213;\n\t\t\t\t\t--track-editor-bg-noise: #051529;\n\t\t\t\t\t--track-editor-bg-noise-dim: #010b13;\n\t\t\t\t\t--track-editor-bg-mod: #150529;\n\t\t\t\t\t--track-editor-bg-mod-dim: #0a0113;\n\t\t\t\t\t--multiplicative-mod-slider: #2b409c;\n\t\t\t\t\t--overwriting-mod-slider: #6850b5;\n\t\t\t\t\t--indicator-primary: #7f3bec;\n\t\t\t\t\t--indicator-secondary: #213888;\n\t\t\t\t\t--select2-opt-group: #1d123c;\n\t\t\t\t\t--input-box-outline: #1b1e48;\n\t\t\t\t\t--mute-button-normal: #d234b0;\n\t\t\t\t\t--mute-button-mod: #263d98;\n\t\t\t\t\t--mod-label-primary: #090910;\n\t\t\t\t\t--mod-label-secondary-text: rgb(73, 69, 214);\n\t\t\t\t\t--mod-label-primary-text: white;\n\t\t\t\t\t--pitch-secondary-channel-hue: 183;\n\t\t\t\t\t--pitch-secondary-channel-hue-scale: 158.7;\n\t\t\t\t\t--pitch-secondary-channel-sat: 83.3;\n\t\t\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-channel-hue: 183;\n\t\t\t\t\t--pitch-primary-channel-hue-scale: 158.7;\n\t\t\t\t\t--pitch-primary-channel-sat: 100;\n\t\t\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-secondary-note-hue: 183;\n\t\t\t\t\t--pitch-secondary-note-hue-scale: 158.7;\n\t\t\t\t\t--pitch-secondary-note-sat: 93.9;\n\t\t\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-note-lum: 25;\n\t\t\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-hue: 183;\n\t\t\t\t\t--pitch-primary-note-hue-scale: 158.7;\n\t\t\t\t\t--pitch-primary-note-sat: 100;\n\t\t\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t\t\t--noise-secondary-channel-hue: 30;\n\t\t\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-primary-channel-hue: 30;\n\t\t\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-secondary-note-hue: 30;\n\t\t\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t\t\t--noise-primary-note-hue: 30;\n\t\t\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t\t\t--noise-primary-note-lum: 74;\n\t\t\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-hue: 0;\n\t\t\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-primary-channel-hue: 0;\n\t\t\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-note-hue: 0;\n\t\t\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-note-lum: 45;\n\t\t\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t\t\t--mod-primary-note-hue: 0;\n\t\t\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-note-sat: 96;\n\t\t\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t\t\t--mod-primary-note-lum: 85;\n\t\t\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t\t\t--disabled-note-primary: #91879f;\n\t\t\t\t\t--disabled-note-secondary: #6a677a;\n\t\t\t\t}\n\n\t\t\t`,\n        \"beachcombing\": `\n\t\t\t:root {\n\t\t\t  --page-margin: #010121;\n  --editor-background: #020222;\n  --hover-preview: #f3ffff;\n  --playhead: #fff;\n  --primary-text: #c1f1ff;\n  --secondary-text: #546775;\n  --inverted-text: black;\n  --text-selection: rgba(119,68,255,0.99);\n  --box-selection-fill: #3e0028;\n  --loop-accent: #5e68fffc;\n  --link-accent: #ff3ad5fc;\n  --ui-widget-background: #1f2b52;\n  --ui-widget-focus: #384e91;\n  --pitch-background: #2c3155;\n  --tonic: #935175;\n  --fifth-note: #1f569f;\n  --white-piano-key: #f3f2ff;\n  --black-piano-key: #4b4471;\n  --white-piano-key-text: #4b4471;\n  --black-piano-key-text: #fff;\n  --use-color-formula: false;\n  --track-editor-bg-pitch: #34406c;\n  --track-editor-bg-pitch-dim: #121931;\n  --track-editor-bg-noise: #562e3b;\n  --track-editor-bg-noise-dim: #161313;\n  --track-editor-bg-mod: #372e66;\n  --track-editor-bg-mod-dim: #2a1640;\n  --multiplicative-mod-slider: #606c9f;\n  --overwriting-mod-slider: #6850b5;\n  --indicator-primary: #ff8bd1;\n  --indicator-secondary: #393e4f;\n  --select2-opt-group: #5d576f;\n  --input-box-outline: #222;\n  --mute-button-normal: #7ce1ff;\n  --mute-button-mod: #db519d;\n  --pitch1-secondary-channel: #329b70;\n  --pitch1-primary-channel: #53ffb8;\n  --pitch1-secondary-note: #4cb98c;\n  --pitch1-primary-note: #98ffd4;\n  --pitch2-secondary-channel: #b08e4d;\n  --pitch2-primary-channel: #ffe185;\n  --pitch2-secondary-note: #91782e;\n  --pitch2-primary-note: #ffd968;\n  --pitch3-secondary-channel: #018e8e;\n  --pitch3-primary-channel: #3de4ff;\n  --pitch3-secondary-note: #24b7b7;\n  --pitch3-primary-note: #a7ffff;\n  --pitch4-secondary-channel: #792354;\n  --pitch4-primary-channel: #ff68bd;\n  --pitch4-secondary-note: #a73c78;\n  --pitch4-primary-note: #ff98d2;\n  --pitch5-secondary-channel: #185aab;\n  --pitch5-primary-channel: #6493ff;\n  --pitch5-secondary-note: #3e99d9;\n  --pitch5-primary-note: #b3e3ff;\n  --pitch6-secondary-channel: #953C47;\n  --pitch6-primary-channel: #FF7888;\n  --pitch6-secondary-note: #DF4F60;\n  --pitch6-primary-note: #FFB2BB;\n  --pitch7-secondary-channel: #4f007d;\n  --pitch7-primary-channel: #a54cd9;\n  --pitch7-secondary-note: #732b9d;\n  --pitch7-primary-note: #d386ff;\n  --pitch8-secondary-channel: #323c99;\n  --pitch8-primary-channel: #1b61ff;\n  --pitch8-secondary-note: #1848b3;\n  --pitch8-primary-note: #6f9bff;\n  --pitch9-secondary-channel: #1F605A;\n  --pitch9-primary-channel: #69FFEA;\n  --pitch9-secondary-note: #178076;\n  --pitch9-primary-note: #83FFD9;\n  --pitch10-secondary-channel: #6D438C;\n  --pitch10-primary-channel: #CE8BFF;\n  --pitch10-secondary-note: #8040B0;\n  --pitch10-primary-note: #DFACFF;\n  --noise1-secondary-channel: #635070;\n  --noise1-primary-channel: #9071db;\n  --noise1-secondary-note: #915dc1;\n  --noise1-primary-note: #c5a5ff;\n  --noise2-secondary-channel: #993367;\n  --noise2-primary-channel: #dd777c;\n  --noise2-secondary-note: #cc6695;\n  --noise2-primary-note: #f0bbd1;\n  --noise3-secondary-channel: #4a8c8f;\n  --noise3-primary-channel: #77c5dd;\n  --noise3-secondary-note: #6fb4cf;\n  --noise3-primary-note: #bbf2ff;\n  --noise4-secondary-channel: #8e3e7d;\n  --noise4-primary-channel: #c682d2;\n  --noise4-secondary-note: #b871c1;\n  --noise4-primary-note: #ffb8f0;\n  --noise5-secondary-channel: #785e37;\n  --noise5-primary-channel: #bb9d77;\n  --noise5-secondary-note: #aa8c66;\n  --noise5-primary-note: #e2d1b2;\n  --mod1-secondary-channel: #4e8397;\n  --mod1-primary-channel: #92e6f3;\n  --mod1-secondary-note: #76b9d9;\n  --mod1-primary-note: #cde3ff;\n  --mod2-secondary-channel: #ad5774;\n  --mod2-primary-channel: #eba4ae;\n  --mod2-secondary-note: #c9719b;\n  --mod2-primary-note: #fdcee7;\n  --mod3-secondary-channel: #6f579f;\n  --mod3-primary-channel: #b192f7;\n  --mod3-secondary-note: #7c3fc8;\n  --mod3-primary-note: #f8ddff;\n  --mod4-secondary-channel: #a88a36;\n  --mod4-primary-channel: #bec825;\n  --mod4-secondary-note: #aecb57;\n  --mod4-primary-note: #dee9bd;\n  --mod-label-primary: #2c2c56;\n  --mod-label-secondary-text: rgb(71,69,147);\n  --mod-label-primary-text: white;\n  --disabled-note-primary: #91879f;\n  --disabled-note-secondary: #6a677a;\n\n\n\t\t\t}\n\t\t`,\n        \"roe\": `\n\t\t\t:root {\n\t\t\t--page-margin: #050000;\n\t\t\t--editor-background: #050000;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: #b8cee0;\n\t\t\t--secondary-text: #cb3434;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgb(255 68 68 / 99%);\n\t\t\t--box-selection-fill: rgb(255 0 0 / 30%);\n\t\t\t--loop-accent: #7744FF;\n\t\t\t--link-accent: #FF2A2A;\n\t\t\t--ui-widget-background: #1a2642;\n\t\t\t--ui-widget-focus: #2c3f6d;\n\t\t\t--pitch-background: #15111a;\n\t\t\t--tonic: #1b3041;\n\t\t\t--fifth-note: #381818;\n\t\t\t--white-piano-key: #cdcdcd;\n\t\t\t--black-piano-key: #232323;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #302938;\n\t\t\t--track-editor-bg-pitch-dim: #211c26;\n\t\t\t--track-editor-bg-noise: #261f42;\n\t\t\t--track-editor-bg-noise-dim: #1a152d;\n\t\t\t--track-editor-bg-mod: #183049;\n\t\t\t--track-editor-bg-mod-dim: #102132;\n\t\t\t--multiplicative-mod-slider: #344a7f;\n\t\t\t--overwriting-mod-slider: #344a7f;\n\t\t\t--indicator-primary: #FF2A2A;\n\t\t\t--indicator-secondary: #800000;\n\t\t\t--select2-opt-group: #141e34;\n\t\t\t--input-box-outline: #141e34;\n\t\t\t--mute-button-normal: #299eff;\n\t\t\t--mute-button-mod: #165a93;\n\t\t\t--pitch1-secondary-channel: #273c90;\n\t\t\t--pitch1-primary-channel: #476BFF;\n\t\t\t--pitch1-secondary-note: #273c90;\n\t\t\t--pitch1-primary-note: #476BFF;\n\t\t\t--pitch2-secondary-channel: #3a3898;\n\t\t\t--pitch2-primary-channel: #625FFB;\n\t\t\t--pitch2-secondary-note: #3a3898;\n\t\t\t--pitch2-primary-note: #625FFB;\n\t\t\t--pitch3-secondary-channel: #542780;\n\t\t\t--pitch3-primary-channel: #9C49EC;\n\t\t\t--pitch3-secondary-note: #542780;\n\t\t\t--pitch3-primary-note: #9C49EC;\n\t\t\t--pitch4-secondary-channel: #84225d;\n\t\t\t--pitch4-primary-channel: #fd3fb1;\n\t\t\t--pitch4-secondary-note: #84225d;\n\t\t\t--pitch4-primary-note: #fd3fb1;\n\t\t\t--pitch5-secondary-channel: #8d2323;\n\t\t\t--pitch5-primary-channel: #ff3f3f;\n\t\t\t--pitch5-secondary-note: #8d2323;\n\t\t\t--pitch5-primary-note: #ff3f3f;\n\t\t\t--pitch6-secondary-channel: #84225d;\n\t\t\t--pitch6-primary-channel: #fd3fb1;\n\t\t\t--pitch6-secondary-note: #84225d;\n\t\t\t--pitch6-primary-note: #fd3fb1;\n\t\t\t--pitch7-secondary-channel: #542780;\n\t\t\t--pitch7-primary-channel: #9C49EC;\n\t\t\t--pitch7-secondary-note: #542780;\n\t\t\t--pitch7-primary-note: #9C49EC;\n\t\t\t--pitch8-secondary-channel: #3a3898;\n\t\t\t--pitch8-primary-channel: #625FFB;\n\t\t\t--pitch8-secondary-note: #3a3898;\n\t\t\t--pitch8-primary-note: #625FFB;\n\t\t\t--pitch9-secondary-channel: #273c90;\n\t\t\t--pitch9-primary-channel: #476BFF;\n\t\t\t--pitch9-secondary-note: #273c90;\n\t\t\t--pitch9-primary-note: #476BFF;\n\t\t\t--pitch10-secondary-channel: #165a93;\n\t\t\t--pitch10-primary-channel: #299EFF;\n\t\t\t--pitch10-secondary-note: #165a93;\n\t\t\t--pitch10-primary-note: #299EFF;\n\t\t\t--noise1-secondary-channel: #4281FF;\n\t\t\t--noise1-primary-channel: #96b9ff;\n\t\t\t--noise1-secondary-note: #4281FF;\n\t\t\t--noise1-primary-note: #96b9ff;\n\t\t\t--noise2-secondary-channel: #7347FF;\n\t\t\t--noise2-primary-channel: #c3b0ff;\n\t\t\t--noise2-secondary-note: #7347FF;\n\t\t\t--noise2-primary-note: #c3b0ff;\n\t\t\t--noise3-secondary-channel: #9F3CBF;\n\t\t\t--noise3-primary-channel: #e29cf9;\n\t\t\t--noise3-secondary-note: #9F3CBF;\n\t\t\t--noise3-primary-note: #e29cf9;\n\t\t\t--noise4-secondary-channel: #D3326F;\n\t\t\t--noise4-primary-channel: #fb9bbf;\n\t\t\t--noise4-secondary-note: #D3326F;\n\t\t\t--noise4-primary-note: #fb9bbf;\n\t\t\t--noise5-secondary-channel: #FF2A2A;\n\t\t\t--noise5-primary-channel: #ffa2a2;\n\t\t\t--noise5-secondary-note: #FF2A2A;\n\t\t\t--noise5-primary-note: #ffa2a2;\n\t\t\t--mod1-secondary-channel: #47587a;\n\t\t\t--mod1-primary-channel: #96b9ff;\n\t\t\t--mod1-secondary-note: #47587a;\n\t\t\t--mod1-primary-note: #96b9ff;\n\t\t\t--mod2-secondary-channel: #716791;\n\t\t\t--mod2-primary-channel: #c3b0ff;\n\t\t\t--mod2-secondary-note: #716791;\n\t\t\t--mod2-primary-note: #c3b0ff;\n\t\t\t--mod3-secondary-channel: #6f4c7b;\n\t\t\t--mod3-primary-channel: #e29cf9;\n\t\t\t--mod3-secondary-note: #6f4c7b;\n\t\t\t--mod3-primary-note: #e29cf9;\n\t\t\t--mod4-secondary-channel: #9e6279;\n\t\t\t--mod4-primary-channel: #fb9bbf;\n\t\t\t--mod4-secondary-note: #9e6279;\n\t\t\t--mod4-primary-note: #fb9bbf;\n\t\t\t--mod-label-primary: #15111a;\n\t\t\t--mod-label-secondary-text: #cb3434;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--disabled-note-primary: #c9c9c9;\n\t\t\t--disabled-note-secondary: #616161;\n\t\t}`,\n        \"moonlight\": `\n\t\t\t:root {\n\t\t\t--page-margin: #020514;\n\t\t\t--editor-background: #020514;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: #D4DCE9;\n\t\t\t--secondary-text: #3E87DA;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: #03599bd9;\n\t\t\t--box-selection-fill: hsl(206deg 66% 41% / 85%);\n\t\t\t--loop-accent: #639BD6;\n\t\t\t--link-accent: #A8C6E8;\n\t\t\t--ui-widget-background: #1e2940;\n\t\t\t--ui-widget-focus: #324b81;\n\t\t\t--pitch-background: #223849;\n\t\t\t--tonic: #33536c;\n\t\t\t--fifth-note: hsl(206deg 36% 16%);\n\t\t\t--white-piano-key: #c1bfe9;\n\t\t\t--black-piano-key: #454354;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #25568d80;\n\t\t\t--track-editor-bg-pitch-dim: #10253c80;\n\t\t\t--track-editor-bg-noise: #25568d80;\n\t\t\t--track-editor-bg-noise-dim: #10253c80;\n\t\t\t--track-editor-bg-mod: #25568d80;\n\t\t\t--track-editor-bg-mod-dim: #10253c80;\n\t\t\t--multiplicative-mod-slider: #0476cd;\n\t\t\t--overwriting-mod-slider: #035899;\n\t\t\t--indicator-primary: #57a1f4;\n\t\t\t--indicator-secondary: #2e5684;\n\t\t\t--select2-opt-group: #24355c;\n\t\t\t--input-box-outline: #141e34;\n\t\t\t--mute-button-normal: #6ebffc;\n\t\t\t--mute-button-mod: #0a92fa;\n\t\t\t--pitch1-secondary-channel: #47425c;\n\t\t\t--pitch1-primary-channel: #918bac;\n\t\t\t--pitch1-secondary-note: #6b6489;\n\t\t\t--pitch1-primary-note: #a8a3bf;\n\t\t\t--pitch2-secondary-channel: #626493;\n\t\t\t--pitch2-primary-channel: #bdbed3;\n\t\t\t--pitch2-secondary-note: #626493;\n\t\t\t--pitch2-primary-note: #bdbed3;\n\t\t\t--pitch3-secondary-channel: #6e89b4;\n\t\t\t--pitch3-primary-channel: #d4dce9;\n\t\t\t--pitch3-secondary-note: #6e89b4;\n\t\t\t--pitch3-primary-note: #d4dce9;\n\t\t\t--pitch4-secondary-channel: #4c77a9;\n\t\t\t--pitch4-primary-channel: #a8c6e8;\n\t\t\t--pitch4-secondary-note: #4c77a9;\n\t\t\t--pitch4-primary-note: #a8c6e8;\n\t\t\t--pitch5-secondary-channel: #314e6d;\n\t\t\t--pitch5-primary-channel: #639bd6;\n\t\t\t--pitch5-secondary-note: #46698f;\n\t\t\t--pitch5-primary-note: #639bd6;\n\t\t\t--pitch6-secondary-channel: #143d6b;\n\t\t\t--pitch6-primary-channel: #3e87da;\n\t\t\t--pitch6-secondary-note: #143d6b;\n\t\t\t--pitch6-primary-note: #3e87da;\n\t\t\t--pitch7-secondary-channel: #314e6d;\n\t\t\t--pitch7-primary-channel: #639bd6;\n\t\t\t--pitch7-secondary-note: #314e6d;\n\t\t\t--pitch7-primary-note: #639bd6;\n\t\t\t--pitch8-secondary-channel: #4c77a9;\n\t\t\t--pitch8-primary-channel: #a8c6e8;\n\t\t\t--pitch8-secondary-note: #4c77a9;\n\t\t\t--pitch8-primary-note: #a8c6e8;\n\t\t\t--pitch9-secondary-channel: #6e89b4;\n\t\t\t--pitch9-primary-channel: #d4dce9;\n\t\t\t--pitch9-secondary-note: #6e89b4;\n\t\t\t--pitch9-primary-note: #d4dce9;\n\t\t\t--pitch10-secondary-channel: #626493;\n\t\t\t--pitch10-primary-channel: #bdbed3;\n\t\t\t--pitch10-secondary-note: #626493;\n\t\t\t--pitch10-primary-note: #bdbed3;\n\t\t\t--noise1-secondary-channel: #4b4a55;\n\t\t\t--noise1-primary-channel: #9795a3;\n\t\t\t--noise1-secondary-note: #4b4a55;\n\t\t\t--noise1-primary-note: #9795a3;\n\t\t\t--noise2-secondary-channel: #858e9d;\n\t\t\t--noise2-primary-channel: #d7dce5;\n\t\t\t--noise2-secondary-note: #858e9d;\n\t\t\t--noise2-primary-note: #d7dce5;\n\t\t\t--noise3-secondary-channel: #394e65;\n\t\t\t--noise3-primary-channel: #809bb7;\n\t\t\t--noise3-secondary-note: #394e65;\n\t\t\t--noise3-primary-note: #809bb7;\n\t\t\t--noise4-secondary-channel: #37577b;\n\t\t\t--noise4-primary-channel: #6189b8;\n\t\t\t--noise4-secondary-note: #37577b;\n\t\t\t--noise4-primary-note: #6189b8;\n\t\t\t--noise5-secondary-channel: #223849;\n\t\t\t--noise5-primary-channel: #5588af;\n\t\t\t--noise5-secondary-note: #223849;\n\t\t\t--noise5-primary-note: #5588af;\n\t\t\t--mod1-secondary-channel: #3e336c;\n\t\t\t--mod1-primary-channel: #6d60a4;\n\t\t\t--mod1-secondary-note: #3e336c;\n\t\t\t--mod1-primary-note: #6d60a4;\n\t\t\t--mod2-secondary-channel: #716791;\n\t\t\t--mod2-primary-channel: #bdbed3;\n\t\t\t--mod2-secondary-note: #716791;\n\t\t\t--mod2-primary-note: #bdbed3;\n\t\t\t--mod3-secondary-channel: #6b91bd;\n\t\t\t--mod3-primary-channel: #4b8fdd;\n\t\t\t--mod3-secondary-note: #597ca7;\n\t\t\t--mod3-primary-note: #7eade3;\n\t\t\t--mod4-secondary-channel: #14559f;\n\t\t\t--mod4-primary-channel: #3386e6;\n\t\t\t--mod4-secondary-note: #14559f;\n\t\t\t--mod4-primary-note: #3386e6;\n\t\t\t--mod-label-primary: #1e2940;\n\t\t\t--mod-label-secondary-text: #748ebe;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--disabled-note-primary: #828282;\n\t\t\t--disabled-note-secondary: #4f4f4f;\n\t\t\t}`,\n        \"autumn\": `\n\t\t:root {\n\t\t\t--page-margin: #060304;\n\t\t\t--editor-background: #060304;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #999;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgb(115 80 76);\n\t\t\t--box-selection-fill: rgb(174 73 81 / 45%);\n\t\t\t--loop-accent: #834A69;\n\t\t\t--link-accent: #98f;\n\t\t\t--ui-widget-background: #2a2523;\n\t\t\t--ui-widget-focus: #4e4c44;\n\t\t\t--pitch-background: #121212;\n\t\t\t--tonic: #4f4f4f;\n\t\t\t--fifth-note: #222;\n\t\t\t--white-piano-key: #b59b9b;\n\t\t\t--black-piano-key: #231e1e;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #352f38;\n\t\t\t--track-editor-bg-pitch-dim: #232025;\n\t\t\t--track-editor-bg-noise: #3c3029;\n\t\t\t--track-editor-bg-noise-dim: #251d19;\n\t\t\t--track-editor-bg-mod: #202623;\n\t\t\t--track-editor-bg-mod-dim: #131715;\n\t\t\t--multiplicative-mod-slider: #D9D16E;\n\t\t\t--overwriting-mod-slider: #2D826F;\n\t\t\t--indicator-primary: #D9D16E;\n\t\t\t--indicator-secondary: #444226;\n\t\t\t--select2-opt-group: #20191c;\n\t\t\t--input-box-outline: #20191c;\n\t\t\t--mute-button-normal: var(--pitch2-primary-channel);\n\t\t\t--mute-button-mod: var(--pitch4-primary-channel);\n\t\t\t--pitch1-secondary-channel: #704a34;\n\t\t\t--pitch1-primary-channel: #D9895A;\n\t\t\t--pitch1-secondary-note: #704a34;\n\t\t\t--pitch1-primary-note: #D9895A;\n\t\t\t--pitch2-secondary-channel: #5f3538;\n\t\t\t--pitch2-primary-channel: #AE4951;\n\t\t\t--pitch2-secondary-note: #5f3538;\n\t\t\t--pitch2-primary-note: #AE4951;\n\t\t\t--pitch3-secondary-channel: #5c4336;\n\t\t\t--pitch3-primary-channel: #CA9A81;\n\t\t\t--pitch3-secondary-note: #5c4336;\n\t\t\t--pitch3-primary-note: #CA9A81;\n\t\t\t--pitch4-secondary-channel: #1d3143;\n\t\t\t--pitch4-primary-channel: #386995;\n\t\t\t--pitch4-secondary-note: #1d3143;\n\t\t\t--pitch4-primary-note: #386995;\n\t\t\t--pitch5-secondary-channel: #9c8a58;\n\t\t\t--pitch5-primary-channel: #D9D16E;\n\t\t\t--pitch5-secondary-note: #7c783f;\n\t\t\t--pitch5-primary-note: #D9D16E;\n\t\t\t--pitch6-secondary-channel: #886562;\n\t\t\t--pitch6-primary-channel: #D3A9A5;\n\t\t\t--pitch6-secondary-note: #886562;\n\t\t\t--pitch6-primary-note: #D3A9A5;\n\t\t\t--pitch7-secondary-channel: #1c3f37;\n\t\t\t--pitch7-primary-channel: #2D826F;\n\t\t\t--pitch7-secondary-note: #1c3f37;\n\t\t\t--pitch7-primary-note: #2D826F;\n\t\t\t--pitch8-secondary-channel: #442e2d;\n\t\t\t--pitch8-primary-channel: #815150;\n\t\t\t--pitch8-secondary-note: #442e2d;\n\t\t\t--pitch8-primary-note: #815150;\n\t\t\t--pitch9-secondary-channel: #8e6f60;\n\t\t\t--pitch9-primary-channel: #E5B8A1;\n\t\t\t--pitch9-secondary-note: #8e6f60;\n\t\t\t--pitch9-primary-note: #E5B8A1;\n\t\t\t--pitch10-secondary-channel: #4f3142;\n\t\t\t--pitch10-primary-channel: #834A69;\n\t\t\t--pitch10-secondary-note: #4f3142;\n\t\t\t--pitch10-primary-note: #834A69;\n\t\t\t--noise1-secondary-channel: #6b5346;\n\t\t\t--noise1-primary-channel: #b99c89;\n\t\t\t--noise1-secondary-note: #6b5346;\n\t\t\t--noise1-primary-note: #F0D0BB;\n\t\t\t--noise2-secondary-channel: #4a3839;\n\t\t\t--noise2-primary-channel: #9c6b6e;\n\t\t\t--noise2-secondary-note: #4a3839;\n\t\t\t--noise2-primary-note: #c18b8f;\n\t\t\t--noise3-secondary-channel: #2d3c4a;\n\t\t\t--noise3-primary-channel: #536e86;\n\t\t\t--noise3-secondary-note: #2d3c4a;\n\t\t\t--noise3-primary-note: #8fa8c0;\n\t\t\t--noise4-secondary-channel: #273f3a;\n\t\t\t--noise4-primary-channel: #4e8377;\n\t\t\t--noise4-secondary-note: #273f3a;\n\t\t\t--noise4-primary-note: #87baae;\n\t\t\t--noise5-secondary-channel: #372730;\n\t\t\t--noise5-primary-channel: #7f5e70;\n\t\t\t--noise5-secondary-note: #372730;\n\t\t\t--noise5-primary-note: #cc96b3;\n\t\t\t--mod1-secondary-channel: #783f1f;\n\t\t\t--mod1-primary-channel: #dc6d2c;\n\t\t\t--mod1-secondary-note: #783f1f;\n\t\t\t--mod1-primary-note: #dc6d2c;\n\t\t\t--mod2-secondary-channel: #0b3153;\n\t\t\t--mod2-primary-channel: #1464ac;\n\t\t\t--mod2-secondary-note: #0b3153;\n\t\t\t--mod2-primary-note: #1464ac;\n\t\t\t--mod3-secondary-channel: #075040;\n\t\t\t--mod3-primary-channel: #08a17f;\n\t\t\t--mod3-secondary-note: #075040;\n\t\t\t--mod3-primary-note: #08a17f;\n\t\t\t--mod4-secondary-channel: #631640;\n\t\t\t--mod4-primary-channel: #b4186d;\n\t\t\t--mod4-secondary-note: #631640;\n\t\t\t--mod4-primary-note: #b4186d;\n\t\t\t--mod-label-primary: #000;\n\t\t\t--mod-label-secondary-text: #707070;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--disabled-note-primary: #5d5d5d;\n\t\t\t--disabled-note-secondary: #292929;\n\t\t}`,\n        \"fruit\": `\n\t\t:root {\n\t\t\t--page-margin: #040507;\n\t\t\t--editor-background: #040507;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #999;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgb(115 103 76);\n\t\t\t--box-selection-fill: rgb(174 109 73 / 45%);\n\t\t\t--loop-accent: #EC897D;\n\t\t\t--link-accent: #FDE484;\n\t\t\t--ui-widget-background: #22222c;\n\t\t\t--ui-widget-focus: #39394c;\n\t\t\t--pitch-background: #101010;\n\t\t\t--tonic: #2c2d34;\n\t\t\t--fifth-note: #191a20;\n\t\t\t--white-piano-key: #bbbaba;\n\t\t\t--black-piano-key: #2d2d2d;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #2b2d40;\n\t\t\t--track-editor-bg-pitch-dim: #191a25;\n\t\t\t--track-editor-bg-noise: #3c3644;\n\t\t\t--track-editor-bg-noise-dim: #26222b;\n\t\t\t--track-editor-bg-mod: #322a2a;\n\t\t\t--track-editor-bg-mod-dim: #191515;\n\t\t\t--multiplicative-mod-slider: #977da9;\n\t\t\t--overwriting-mod-slider: #798FA7;\n\t\t\t--indicator-primary: #EAAC9D;\n\t\t\t--indicator-secondary: #5e413a;\n\t\t\t--select2-opt-group: #191920;\n\t\t\t--input-box-outline: #191920;\n\t\t\t--mute-button-normal: #798FA7;\n\t\t\t--mute-button-mod: #354457;\n\t\t\t--pitch1-secondary-channel: #91655a;\n\t\t\t--pitch1-primary-channel: #EAAC9D;\n\t\t\t--pitch1-secondary-note: #91655a;\n\t\t\t--pitch1-primary-note: #EAAC9D;\n\t\t\t--pitch2-secondary-channel: #8f6513;\n\t\t\t--pitch2-primary-channel: #FFAF12;\n\t\t\t--pitch2-secondary-note: #8f6513;\n\t\t\t--pitch2-primary-note: #FFAF12;\n\t\t\t--pitch3-secondary-channel: #212f46;\n\t\t\t--pitch3-primary-channel: #34558B;\n\t\t\t--pitch3-secondary-note: #212f46;\n\t\t\t--pitch3-primary-note: #34558B;\n\t\t\t--pitch4-secondary-channel: #2e6b5b;\n\t\t\t--pitch4-primary-channel: #4EC5A7;\n\t\t\t--pitch4-secondary-note: #2e6b5b;\n\t\t\t--pitch4-primary-note: #4EC5A7;\n\t\t\t--pitch5-secondary-channel: #555D46;\n\t\t\t--pitch5-primary-channel: #aabf84;\n\t\t\t--pitch5-secondary-note: #555D46;\n\t\t\t--pitch5-primary-note: #aabf84;\n\t\t\t--pitch6-secondary-channel: #A2553B;\n\t\t\t--pitch6-primary-channel: #e59a81;\n\t\t\t--pitch6-secondary-note: #A2553B;\n\t\t\t--pitch6-primary-note: #e59a81;\n\t\t\t--pitch7-secondary-channel: #7b4021;\n\t\t\t--pitch7-primary-channel: #FE813E;\n\t\t\t--pitch7-secondary-note: #7b4021;\n\t\t\t--pitch7-primary-note: #FE813E;\n\t\t\t--pitch8-secondary-channel: #847753;\n\t\t\t--pitch8-primary-channel: #EFDAA3;\n\t\t\t--pitch8-secondary-note: #847753;\n\t\t\t--pitch8-primary-note: #EFDAA3;\n\t\t\t--pitch9-secondary-channel: #2c3642;\n\t\t\t--pitch9-primary-channel: #798FA7;\n\t\t\t--pitch9-secondary-note: #2c3642;\n\t\t\t--pitch9-primary-note: #798FA7;\n\t\t\t--pitch10-secondary-channel: #0d4453;\n\t\t\t--pitch10-primary-channel: #107895;\n\t\t\t--pitch10-secondary-note: #0d4453;\n\t\t\t--pitch10-primary-note: #107895;\n\t\t\t--noise1-secondary-channel: #71617C;\n\t\t\t--noise1-primary-channel: #977da9;\n\t\t\t--noise1-secondary-note: #71617C;\n\t\t\t--noise1-primary-note: #977da9;\n\t\t\t--noise2-secondary-channel: #3B3D4A;\n\t\t\t--noise2-primary-channel: #707591;\n\t\t\t--noise2-secondary-note: #3B3D4A;\n\t\t\t--noise2-primary-note: #707591;\n\t\t\t--noise3-secondary-channel: #625f5e;\n\t\t\t--noise3-primary-channel: #A19D9C;\n\t\t\t--noise3-secondary-note: #625f5e;\n\t\t\t--noise3-primary-note: #A19D9C;\n\t\t\t--noise4-secondary-channel: #ab847b;\n\t\t\t--noise4-primary-channel: #EAAC9D;\n\t\t\t--noise4-secondary-note: #ab847b;\n\t\t\t--noise4-primary-note: #EAAC9D;\n\t\t\t--noise5-secondary-channel: #B49D74;\n\t\t\t--noise5-primary-channel: #dec69b;\n\t\t\t--noise5-secondary-note: #B49D74;\n\t\t\t--noise5-primary-note: #dec69b;\n\t\t\t--mod1-secondary-channel: #722124;\n\t\t\t--mod1-primary-channel: #D13A41;\n\t\t\t--mod1-secondary-note: #722124;\n\t\t\t--mod1-primary-note: #D13A41;\n\t\t\t--mod2-secondary-channel: #213657;\n\t\t\t--mod2-primary-channel: #34558B;\n\t\t\t--mod2-secondary-note: #213657;\n\t\t\t--mod2-primary-note: #34558B;\n\t\t\t--mod3-secondary-channel: #555D46;\n\t\t\t--mod3-primary-channel: #848f6d;\n\t\t\t--mod3-secondary-note: #555D46;\n\t\t\t--mod3-primary-note: #848f6d;\n\t\t\t--mod4-secondary-channel: #71617C;\n\t\t\t--mod4-primary-channel: #a68ab9;\n\t\t\t--mod4-secondary-note: #71617C;\n\t\t\t--mod4-primary-note: #a68ab9;\n\t\t\t--mod-label-primary: #282828;\n\t\t\t--mod-label-secondary-text: #707070;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--disabled-note-primary: #5d5d5d;\n\t\t\t--disabled-note-secondary: #292929;\n\t\t}`,\n        \"sunset\": `\n\t\t:root {\n\t\t\t--page-margin: #040300;\n\t\t\t--editor-background: #040300;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #999;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgb(94 0 157);\n\t\t\t--box-selection-fill: rgb(174 173 73 / 45%);\n\t\t\t--loop-accent: #EC897D;\n\t\t\t--link-accent: #FDE484;\n\t\t\t--ui-widget-background: #241b24;\n\t\t\t--ui-widget-focus: #3a2e39;\n\t\t\t--pitch-background: #141414;\n\t\t\t--tonic: #2C212B;\n\t\t\t--fifth-note: #2E2A15;\n\t\t\t--white-piano-key: #bbbaba;\n\t\t\t--black-piano-key: #2d2d2d;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #2d2e42;\n\t\t\t--track-editor-bg-pitch-dim: #191a25;\n\t\t\t--track-editor-bg-noise: #393340;\n\t\t\t--track-editor-bg-noise-dim: #26222b;\n\t\t\t--track-editor-bg-mod: #232a2c;\n\t\t\t--track-editor-bg-mod-dim: #151819;\n\t\t\t--multiplicative-mod-slider: #977da9;\n\t\t\t--overwriting-mod-slider: #798FA7;\n\t\t\t--indicator-primary: #F28891;\n\t\t\t--indicator-secondary: #601d23;\n\t\t\t--select2-opt-group: #151015;\n\t\t\t--input-box-outline: #151015;\n\t\t\t--mute-button-normal: #E4739D;\n\t\t\t--mute-button-mod: #9650A6;\n\t\t\t--pitch1-secondary-channel: #7F7721;\n\t\t\t--pitch1-primary-channel: #F3E79A;\n\t\t\t--pitch1-secondary-note: #7F7721;\n\t\t\t--pitch1-primary-note: #F3E79A;\n\t\t\t--pitch2-secondary-channel: #785E20;\n\t\t\t--pitch2-primary-channel: #F7D086;\n\t\t\t--pitch2-secondary-note: #785E20;\n\t\t\t--pitch2-primary-note: #F7D086;\n\t\t\t--pitch3-secondary-channel: #6E4219;\n\t\t\t--pitch3-primary-channel: #F9B881;\n\t\t\t--pitch3-secondary-note: #6E4219;\n\t\t\t--pitch3-primary-note: #F9B881;\n\t\t\t--pitch4-secondary-channel: #79351F;\n\t\t\t--pitch4-primary-channel: #F7A086;\n\t\t\t--pitch4-secondary-note: #79351F;\n\t\t\t--pitch4-primary-note: #F7A086;\n\t\t\t--pitch5-secondary-channel: #81272F;\n\t\t\t--pitch5-primary-channel: #F28891;\n\t\t\t--pitch5-secondary-note: #81272F;\n\t\t\t--pitch5-primary-note: #F28891;\n\t\t\t--pitch6-secondary-channel: #8F224D;\n\t\t\t--pitch6-primary-channel: #E4739D;\n\t\t\t--pitch6-secondary-note: #8F224D;\n\t\t\t--pitch6-primary-note: #E4739D;\n\t\t\t--pitch7-secondary-channel: #611548;\n\t\t\t--pitch7-primary-channel: #CF63A6;\n\t\t\t--pitch7-secondary-note: #611548;\n\t\t\t--pitch7-primary-note: #CF63A6;\n\t\t\t--pitch8-secondary-channel: #561253;\n\t\t\t--pitch8-primary-channel: #B557A9;\n\t\t\t--pitch8-secondary-note: #4D104A;\n\t\t\t--pitch8-primary-note: #B557A9;\n\t\t\t--pitch9-secondary-channel: #4c1260;\n\t\t\t--pitch9-primary-channel: #9650A6;\n\t\t\t--pitch9-secondary-note: #3C0F4C;\n\t\t\t--pitch9-primary-note: #9650A6;\n\t\t\t--pitch10-secondary-channel: #3e1d78;\n\t\t\t--pitch10-primary-channel: #704D9E;\n\t\t\t--pitch10-secondary-note: #27124C;\n\t\t\t--pitch10-primary-note: #704D9E;\n\t\t\t--noise1-secondary-channel: #A7A578;\n\t\t\t--noise1-primary-channel: #EFE9AC;\n\t\t\t--noise1-secondary-note: #A7A578;\n\t\t\t--noise1-primary-note: #EFE9AC;\n\t\t\t--noise2-secondary-channel: #947A5F;\n\t\t\t--noise2-primary-channel: #FBCEA8;\n\t\t\t--noise2-secondary-note: #947A5F;\n\t\t\t--noise2-primary-note: #FBCEA8;\n\t\t\t--noise3-secondary-channel: #A3635D;\n\t\t\t--noise3-primary-channel: #F4A5AB;\n\t\t\t--noise3-secondary-note: #A3635D;\n\t\t\t--noise3-primary-note: #F4A5AB;\n\t\t\t--noise4-secondary-channel: #724D60;\n\t\t\t--noise4-primary-channel: #CD90B6;\n\t\t\t--noise4-secondary-note: #724D60;\n\t\t\t--noise4-primary-note: #CD90B6;\n\t\t\t--noise5-secondary-channel: #503F5C;\n\t\t\t--noise5-primary-channel: #7C6A9E;\n\t\t\t--noise5-secondary-note: #503F5C;\n\t\t\t--noise5-primary-note: #7C6A9E;\n\t\t\t--mod1-secondary-channel: #371883;\n\t\t\t--mod1-primary-channel: #6416C6;\n\t\t\t--mod1-secondary-note: #1F0A52;\n\t\t\t--mod1-primary-note: #6416C6;\n\t\t\t--mod2-secondary-channel: #690645;\n\t\t\t--mod2-primary-channel: #E52FA2;\n\t\t\t--mod2-secondary-note: #690645;\n\t\t\t--mod2-primary-note: #E52FA2;\n\t\t\t--mod3-secondary-channel: #943618;\n\t\t\t--mod3-primary-channel: #eb5b2c;\n\t\t\t--mod3-secondary-note: #943618;\n\t\t\t--mod3-primary-note: #eb5b2c;\n\t\t\t--mod4-secondary-channel: #928409;\n\t\t\t--mod4-primary-channel: #ecd50e;\n\t\t\t--mod4-secondary-note: #928409;\n\t\t\t--mod4-primary-note: #ecd50e;\n\t\t\t--mod-label-primary: #282828;\n\t\t\t--mod-label-secondary-text: #707070;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--disabled-note-primary: #5d5d5d;\n\t\t\t--disabled-note-secondary: #292929;\n\t\t}`,\n        \"toxic\": `\n\t\t:root {\n\t\t\t--page-margin: #010003;\n\t\t\t--editor-background: #010003;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #999;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgb(147 195 0);\n\t\t\t--box-selection-fill: rgb(145 174 73 / 49%);\n\t\t\t--loop-accent: #BCDE2C;\n\t\t\t--link-accent: #edff9f;\n\t\t\t--ui-widget-background: #261e2e;\n\t\t\t--ui-widget-focus: #322042;\n\t\t\t--pitch-background: #141c15;\n\t\t\t--tonic: #282c21;\n\t\t\t--fifth-note: #18221a;\n\t\t\t--white-piano-key: #e3e3e3;\n\t\t\t--black-piano-key: #2d2d2d;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #38293e;\n\t\t\t--track-editor-bg-pitch-dim: #251c29;\n\t\t\t--track-editor-bg-noise: #2c304c;\n\t\t\t--track-editor-bg-noise-dim: #191b2b;\n\t\t\t--track-editor-bg-mod: #311b32;\n\t\t\t--track-editor-bg-mod-dim: #1d101e;\n\t\t\t--multiplicative-mod-slider: #977da9;\n\t\t\t--overwriting-mod-slider: #798FA7;\n\t\t\t--indicator-primary: #aae9ff;\n\t\t\t--indicator-secondary: #253e46;\n\t\t\t--select2-opt-group: #110d15;\n\t\t\t--input-box-outline: #110d15;\n\t\t\t--mute-button-normal: #8f5ad1;\n\t\t\t--mute-button-mod: #482574;\n\t\t\t--pitch1-secondary-channel: #6b7f19;\n\t\t\t--pitch1-primary-channel: #BCDE2C;\n\t\t\t--pitch1-secondary-note: #6b7f19;\n\t\t\t--pitch1-primary-note: #BCDE2C;\n\t\t\t--pitch2-secondary-channel: #497a31;\n\t\t\t--pitch2-primary-channel: #7BD152;\n\t\t\t--pitch2-secondary-note: #497a31;\n\t\t\t--pitch2-primary-note: #7BD152;\n\t\t\t--pitch3-secondary-channel: #286b40;\n\t\t\t--pitch3-primary-channel: #45BE71;\n\t\t\t--pitch3-secondary-note: #286b40;\n\t\t\t--pitch3-primary-note: #45BE71;\n\t\t\t--pitch4-secondary-channel: #125140;\n\t\t\t--pitch4-primary-channel: #25A884;\n\t\t\t--pitch4-secondary-note: #125140;\n\t\t\t--pitch4-primary-note: #25A884;\n\t\t\t--pitch5-secondary-channel: #114c49;\n\t\t\t--pitch5-primary-channel: #21908C;\n\t\t\t--pitch5-secondary-note: #114c49;\n\t\t\t--pitch5-primary-note: #21908C;\n\t\t\t--pitch6-secondary-channel: #143843;\n\t\t\t--pitch6-primary-channel: #2B788E;\n\t\t\t--pitch6-secondary-note: #143843;\n\t\t\t--pitch6-primary-note: #2B788E;\n\t\t\t--pitch7-secondary-channel: #1d354e;\n\t\t\t--pitch7-primary-channel: #355F8D;\n\t\t\t--pitch7-secondary-note: #1a2f46;\n\t\t\t--pitch7-primary-note: #355F8D;\n\t\t\t--pitch8-secondary-channel: #2c2e5a;\n\t\t\t--pitch8-primary-channel: #414486;\n\t\t\t--pitch8-secondary-note: #1e1f3d;\n\t\t\t--pitch8-primary-note: #414486;\n\t\t\t--pitch9-secondary-channel: #3c1f5e;\n\t\t\t--pitch9-primary-channel: #5e3b89;\n\t\t\t--pitch9-secondary-note: #25133b;\n\t\t\t--pitch9-primary-note: #5e3b89;\n\t\t\t--pitch10-secondary-channel: #510264;\n\t\t\t--pitch10-primary-channel: #720d8a;\n\t\t\t--pitch10-secondary-note: #440154;\n\t\t\t--pitch10-primary-note: #720d8a;\n\t\t\t--noise1-secondary-channel: #BCDE2C;\n\t\t\t--noise1-primary-channel: #edff9f;\n\t\t\t--noise1-secondary-note: #BCDE2C;\n\t\t\t--noise1-primary-note: #edff9f;\n\t\t\t--noise2-secondary-channel: #45BE71;\n\t\t\t--noise2-primary-channel: #89ffb4;\n\t\t\t--noise2-secondary-note: #45BE71;\n\t\t\t--noise2-primary-note: #89ffb4;\n\t\t\t--noise3-secondary-channel: #21908C;\n\t\t\t--noise3-primary-channel: #72fffa;\n\t\t\t--noise3-secondary-note: #21908C;\n\t\t\t--noise3-primary-note: #72fffa;\n\t\t\t--noise4-secondary-channel: #355F8D;\n\t\t\t--noise4-primary-channel: #7cb6f5;\n\t\t\t--noise4-secondary-note: #355F8D;\n\t\t\t--noise4-primary-note: #7cb6f5;\n\t\t\t--noise5-secondary-channel: #482574;\n\t\t\t--noise5-primary-channel: #8f5ad1;\n\t\t\t--noise5-secondary-note: #48257A;\n\t\t\t--noise5-primary-note: #8f5ad1;\n\t\t\t--mod1-secondary-channel: #815a16;\n\t\t\t--mod1-primary-channel: #F5AB29;\n\t\t\t--mod1-secondary-note: #815a16;\n\t\t\t--mod1-primary-note: #F5AB29;\n\t\t\t--mod2-secondary-channel: #4d341a;\n\t\t\t--mod2-primary-channel: #C98540;\n\t\t\t--mod2-secondary-note: #4d341a;\n\t\t\t--mod2-primary-note: #C98540;\n\t\t\t--mod3-secondary-channel: #643734;\n\t\t\t--mod3-primary-channel: #A75D58;\n\t\t\t--mod3-secondary-note: #643734;\n\t\t\t--mod3-primary-note: #A75D58;\n\t\t\t--mod4-secondary-channel: #461430;\n\t\t\t--mod4-primary-channel: #812359;\n\t\t\t--mod4-secondary-note: #3f112b;\n\t\t\t--mod4-primary-note: #812359;\n\t\t\t--mod-label-primary: #282828;\n\t\t\t--mod-label-secondary-text: #707070;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--disabled-note-primary: #5d5d5d;\n\t\t\t--disabled-note-secondary: #292929;\n\t\t}`,\n        \"violet verdant\": `\n\t\t:root {\n\t\t\t--page-margin: #0e031a;\n\t\t\t--editor-background: #0e031a;\n\t\t\t--hover-preview: #e5ffea;\n\t\t\t--playhead: rgba(255, 255, 255, 0.9);\n\t\t\t--primary-text: #f0e0ff;\n\t\t\t--secondary-text: #706087;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t--box-selection-fill: #225835;\n\t\t\t--loop-accent: #8f00fb;\n\t\t\t--link-accent: #82dd5d;\n\t\t\t--ui-widget-background: #303c66;\n\t\t\t--ui-widget-focus: #62559b;\n\t\t\t--pitch-background: #293b52;\n\t\t\t--tonic: #5b46ad;\n\t\t\t--fifth-note: #42604d;\n\t\t\t--white-piano-key: #f6e8ff;\n\t\t\t--black-piano-key: #5a4972;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: true;\n\t\t\t--track-editor-bg-pitch: #392a46;\n\t\t\t--track-editor-bg-pitch-dim: #1c1d28;\n\t\t\t--track-editor-bg-noise: #403150;\n\t\t\t--track-editor-bg-noise-dim: #161313;\n\t\t\t--track-editor-bg-mod: #253c25;\n\t\t\t--track-editor-bg-mod-dim: #0c1811;\n\t\t\t--multiplicative-mod-slider: #606c9f;\n\t\t\t--overwriting-mod-slider: #6850b5;\n\t\t\t--indicator-primary: #9c64f7;\n\t\t\t--indicator-secondary: #393e4f;\n\t\t\t--select2-opt-group: #5d576f;\n\t\t\t--input-box-outline: #403150;\n\t\t\t--mute-button-normal: #82dd5d;\n\t\t\t--mute-button-mod: #945de5;\n\t\t\t--mod-label-primary: #312840;\n\t\t\t--mod-label-secondary-text: rgb(88 70 104);\n\t\t\t--mod-label-primary-text: #82dd5d;\n\t\t\t--pitch-secondary-channel-hue: 64;\n\t\t\t--pitch-secondary-channel-hue-scale: 6.1;\n\t\t\t--pitch-secondary-channel-sat: 63.3;\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t--pitch-primary-channel-hue: 64;\n\t\t\t--pitch-primary-channel-hue-scale: 6.1;\n\t\t\t--pitch-primary-channel-sat: 90;\n\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t--pitch-secondary-note-hue: 32;\n\t\t\t--pitch-secondary-note-hue-scale: 6.1;\n\t\t\t--pitch-secondary-note-sat: 87.9;\n\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t--pitch-secondary-note-lum: 25;\n\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t--pitch-primary-note-hue: 64;\n\t\t\t--pitch-primary-note-hue-scale: 6.1;\n\t\t\t--pitch-primary-note-sat: 90;\n\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t--noise-secondary-channel-hue: 192;\n\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t--noise-secondary-channel-sat: 45;\n\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t--noise-secondary-channel-lum: 32;\n\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t--noise-primary-channel-hue: 192;\n\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t--noise-primary-channel-lum: 43.5;\n\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t--noise-secondary-note-hue: 160;\n\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t--noise-secondary-note-lum: 45;\n\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t--noise-primary-note-hue: 192;\n\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t--noise-primary-note-lum: 74;\n\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t--mod-secondary-channel-hue: 132;\n\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t--mod-primary-channel-hue: 132;\n\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t--mod-secondary-note-hue: 100;\n\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t--mod-secondary-note-lum: 45;\n\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t--mod-primary-note-hue: 132;\n\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t--mod-primary-note-sat: 96;\n\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t--mod-primary-note-lum: 85;\n\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t--disabled-note-primary: #91879f;\n\t\t\t--disabled-note-secondary: #6a677a;\n\t\t}`,\n        \"portal\": `\n\t\t:root {\n\t\t\t--page-margin: #04081a;\n\t\t\t--editor-background: #04081a;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #999;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t--box-selection-fill: rgb(0 72 181);\n\t\t\t--loop-accent: #44d4ff;\n\t\t\t--link-accent: #ffa500;\n\t\t\t--ui-widget-background: #212c4a;\n\t\t\t--ui-widget-focus: #121f42;\n\t\t\t--pitch-background: #1b263e;\n\t\t\t--tonic: #995d00;\n\t\t\t--fifth-note: #0898a1;\n\t\t\t--white-piano-key: #ffffff;\n\t\t\t--black-piano-key: #516d7a;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #213352;\n\t\t\t--track-editor-bg-pitch-dim: #152032;\n\t\t\t--track-editor-bg-noise: #403524;\n\t\t\t--track-editor-bg-noise-dim: #2a1f0e;\n\t\t\t--track-editor-bg-mod: #234;\n\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t--overwriting-mod-slider: #654;\n\t\t\t--indicator-primary: #5490ff;\n\t\t\t--indicator-secondary: #444;\n\t\t\t--select2-opt-group: #585858;\n\t\t\t--input-box-outline: #333;\n\t\t\t--mute-button-normal: #3372ff;\n\t\t\t--mute-button-mod: #dd872f;\n\t\t\t--pitch1-secondary-channel: #0099A1;\n\t\t\t--pitch1-primary-channel: #77f7ff;\n\t\t\t--pitch1-secondary-note: #00BDC7;\n\t\t\t--pitch1-primary-note: #92F9FF;\n\t\t\t--pitch2-secondary-channel: #0083a1;\n\t\t\t--pitch2-primary-channel: #35d9ff;\n\t\t\t--pitch2-secondary-note: #0083a1;\n\t\t\t--pitch2-primary-note: #a4eeff;\n\t\t\t--pitch3-secondary-channel: #0074c7;\n\t\t\t--pitch3-primary-channel: #3caeff;\n\t\t\t--pitch3-secondary-note: #00477a;\n\t\t\t--pitch3-primary-note: #aadcff;\n\t\t\t--pitch4-secondary-channel: #0039a1;\n\t\t\t--pitch4-primary-channel: #2673ff;\n\t\t\t--pitch4-secondary-note: #001f56;\n\t\t\t--pitch4-primary-note: #9bbeff;\n\t\t\t--pitch5-secondary-channel: #31148b;\n\t\t\t--pitch5-primary-channel: #7042ff;\n\t\t\t--pitch5-secondary-note: #190656;\n\t\t\t--pitch5-primary-note: #b79fff;\n\t\t\t--pitch6-secondary-channel: #979934;\n\t\t\t--pitch6-primary-channel: #fbff2f;\n\t\t\t--pitch6-secondary-note: #5d5e0a;\n\t\t\t--pitch6-primary-note: #fdff9a;\n\t\t\t--pitch7-secondary-channel: #b78f00;\n\t\t\t--pitch7-primary-channel: #ffd747;\n\t\t\t--pitch7-secondary-note: #5e3d00;\n\t\t\t--pitch7-primary-note: #ffe381;\n\t\t\t--pitch8-secondary-channel: #9d6500;\n\t\t\t--pitch8-primary-channel: #ffa400;\n\t\t\t--pitch8-secondary-note: #583900;\n\t\t\t--pitch8-primary-note: #ffd07c;\n\t\t\t--pitch9-secondary-channel: #744203;\n\t\t\t--pitch9-primary-channel: #ff8e00;\n\t\t\t--pitch9-secondary-note: #502d00;\n\t\t\t--pitch9-primary-note: #ffcb89;\n\t\t\t--pitch10-secondary-channel: #a32d00;\n\t\t\t--pitch10-primary-channel: #ff885b;\n\t\t\t--pitch10-secondary-note: #521700;\n\t\t\t--pitch10-primary-note: #ffb397;\n\t\t\t--noise1-secondary-channel: #6e2210;\n\t\t\t--noise1-primary-channel: #ff4600;\n\t\t\t--noise1-secondary-note: #4c1a08;\n\t\t\t--noise1-primary-note: #ffc9b4;\n\t\t\t--noise2-secondary-channel: #6a3110;\n\t\t\t--noise2-primary-channel: #ff782a;\n\t\t\t--noise2-secondary-note: #4c1f05;\n\t\t\t--noise2-primary-note: #ffb488;\n\t\t\t--noise3-secondary-channel: #72460e;\n\t\t\t--noise3-primary-channel: #d9871f;\n\t\t\t--noise3-secondary-note: #442905;\n\t\t\t--noise3-primary-note: #ffdcae;\n\t\t\t--noise4-secondary-channel: #837a0f;\n\t\t\t--noise4-primary-channel: #f7ea55;\n\t\t\t--noise4-secondary-note: #605906;\n\t\t\t--noise4-primary-note: #fff9ab;\n\t\t\t--noise5-secondary-channel: #8c8f00;\n\t\t\t--noise5-primary-channel: #fdff90;\n\t\t\t--noise5-secondary-note: #606200;\n\t\t\t--noise5-primary-note: #feffbc;\n\t\t\t--mod1-secondary-channel: #561b97;\n\t\t\t--mod1-primary-channel: #aa66f5;\n\t\t\t--mod1-secondary-note: #30075c;\n\t\t\t--mod1-primary-note: #cd9fff;\n\t\t\t--mod2-secondary-channel: #5116df;\n\t\t\t--mod2-primary-channel: #6b2dff;\n\t\t\t--mod2-secondary-note: #36138b;\n\t\t\t--mod2-primary-note: #bea3ff;\n\t\t\t--mod3-secondary-channel: #2535a1;\n\t\t\t--mod3-primary-channel: #3f57ff;\n\t\t\t--mod3-secondary-note: #0e185c;\n\t\t\t--mod3-primary-note: #8494ff;\n\t\t\t--mod4-secondary-channel: #1b5883;\n\t\t\t--mod4-primary-channel: #5eb7f5;\n\t\t\t--mod4-secondary-note: #072f4a;\n\t\t\t--mod4-primary-note: #63beff;\n\t\t\t--mod-label-primary: #24293a;\n\t\t\t--mod-label-secondary-text: #454d4e;\n\t\t\t--mod-label-primary-text: #7bd4ff;\n\t\t\t--disabled-note-primary: #072f4a;\n\t\t\t--disabled-note-secondary: #6585a7;\n\t\t}`,\n        \"fusion\": `:root {\n\t\t\t--page-margin: #0c0306;\n\t\t\t--editor-background: #0c0306;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: #26d9cd;\n\t\t\t--secondary-text: #ff6666;\n\t\t\t--inverted-text: white;\n\t\t\t--text-selection: #ffffff;\n\t\t\t--box-selection-fill: #ff00004d;\n\t\t\t--loop-accent: #ff6666;\n\t\t\t--link-accent: white;\n\t\t\t--ui-widget-background: #232323;\n\t\t\t--ui-widget-focus: #303030;\n\t\t\t--pitch-background: hsl(61deg 100% 70% / 25%);\n\t\t\t--tonic: #66a3ff40;\n\t\t\t--fifth-note: #ff666640;\n\t\t\t--white-piano-key: #cdcdcd;\n\t\t\t--black-piano-key: #232323;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #404040bf;\n\t\t\t--track-editor-bg-pitch-dim: #151515;\n\t\t\t--track-editor-bg-noise: #404040bf;\n\t\t\t--track-editor-bg-noise-dim: #151515;\n\t\t\t--track-editor-bg-mod: #404040bf;\n\t\t\t--track-editor-bg-mod-dim: #151515;\n\t\t\t--multiplicative-mod-slider: #ef7692;\n\t\t\t--overwriting-mod-slider: #f43e69;\n\t\t\t--indicator-primary: #26d9cd;\n\t\t\t--indicator-secondary: hsl(176deg 70% 25%);\n\t\t\t--select2-opt-group: #232323;\n\t\t\t--input-box-outline: #141e34;\n\t\t\t--mute-button-normal: #26d9cd;\n\t\t\t--mute-button-mod: hsl(346deg 70% 50%);\n\t\t\t--pitch1-secondary-channel: #bf4040;\n\t\t\t--pitch1-primary-channel: #ff6666;\n\t\t\t--pitch1-secondary-note: #bf4040;\n\t\t\t--pitch1-primary-note: #ff6666;\n\t\t\t--pitch2-secondary-channel: #bf5b40;\n\t\t\t--pitch2-primary-channel: #ff8766;\n\t\t\t--pitch2-secondary-note: #bf5b40;\n\t\t\t--pitch2-primary-note: #ff8766;\n\t\t\t--pitch3-secondary-channel: #bf7940;\n\t\t\t--pitch3-primary-channel: #ffab66;\n\t\t\t--pitch3-secondary-note: #bf7940;\n\t\t\t--pitch3-primary-note: #ffab66;\n\t\t\t--pitch4-secondary-channel: #bf9b40;\n\t\t\t--pitch4-primary-channel: #ffd466;\n\t\t\t--pitch4-secondary-note: #bf9b40;\n\t\t\t--pitch4-primary-note: #ffd466;\n\t\t\t--pitch5-secondary-channel: #bdbf40;\n\t\t\t--pitch5-primary-channel: #fcff66;\n\t\t\t--pitch5-secondary-note: #bdbf40;\n\t\t\t--pitch5-primary-note: #fcff66;\n\t\t\t--pitch6-secondary-channel: #9dbf40;\n\t\t\t--pitch6-primary-channel: #d6ff66;\n\t\t\t--pitch6-secondary-note: #9dbf40;\n\t\t\t--pitch6-primary-note: #d6ff66;\n\t\t\t--pitch7-secondary-channel: #9dbf40;\n\t\t\t--pitch7-primary-channel: #fcff66;\n\t\t\t--pitch7-secondary-note: #9dbf40;\n\t\t\t--pitch7-primary-note: #fcff66;\n\t\t\t--pitch8-secondary-channel: #bf9b40;\n\t\t\t--pitch8-primary-channel: #ffd466;\n\t\t\t--pitch8-secondary-note: #bf9b40;\n\t\t\t--pitch8-primary-note: #ffd466;\n\t\t\t--pitch9-secondary-channel: #bf5b40;\n\t\t\t--pitch9-primary-channel: #ffab66;\n\t\t\t--pitch9-secondary-note: #bf5b40;\n\t\t\t--pitch9-primary-note: #ffab66;\n\t\t\t--pitch10-secondary-channel: #d15a1f;\n\t\t\t--pitch10-primary-channel: #ff8766;\n\t\t\t--pitch10-secondary-note: #d15a1f;\n\t\t\t--pitch10-primary-note: #ff8766;\n\t\t\t--noise1-secondary-channel: #4073bf;\n\t\t\t--noise1-primary-channel: #66a3ff;\n\t\t\t--noise1-secondary-note: #4073bf;\n\t\t\t--noise1-primary-note: #66a3ff;\n\t\t\t--noise2-secondary-channel: #405dbf;\n\t\t\t--noise2-primary-channel: #668aff;\n\t\t\t--noise2-secondary-note: #405dbf;\n\t\t\t--noise2-primary-note: #668aff;\n\t\t\t--noise3-secondary-channel: #4f40bf;\n\t\t\t--noise3-primary-channel: #7866ff;\n\t\t\t--noise3-secondary-note: #4f40bf;\n\t\t\t--noise3-primary-note: #7866ff;\n\t\t\t--noise4-secondary-channel: #8840bf;\n\t\t\t--noise4-primary-channel: #bd66ff;\n\t\t\t--noise4-secondary-note: #8840bf;\n\t\t\t--noise4-primary-note: #bd66ff;\n\t\t\t--noise5-secondary-channel: #bf40b5;\n\t\t\t--noise5-primary-channel: #ff66f2;\n\t\t\t--noise5-secondary-note: #bf40b5;\n\t\t\t--noise5-primary-note: #ff66f2;\n\t\t\t--mod1-secondary-channel: #cc6666;\n\t\t\t--mod1-primary-channel: #ff9999;\n\t\t\t--mod1-secondary-note: #cc6666;\n\t\t\t--mod1-primary-note: #ff9999;\n\t\t\t--mod2-secondary-channel: #cc7766;\n\t\t\t--mod2-primary-channel: #ffaa99;\n\t\t\t--mod2-secondary-note: #bf5540;\n\t\t\t--mod2-primary-note: #ffaa99;\n\t\t\t--mod3-secondary-channel: #cc8866;\n\t\t\t--mod3-primary-channel: #ffbb99;\n\t\t\t--mod3-secondary-note: #cc8866;\n\t\t\t--mod3-primary-note: #ffbb99;\n\t\t\t--mod4-secondary-channel: #cc9966;\n\t\t\t--mod4-primary-channel: #ffcc99;\n\t\t\t--mod4-secondary-note: #cc9966;\n\t\t\t--mod4-primary-note: #ffcc99;\n\t\t\t--mod-label-primary: #999;\n\t\t\t--mod-label-secondary-text: #333;\n\t\t\t--mod-label-primary-text: black;\n\t\t\t--disabled-note-primary: #696969;\n\t\t\t--disabled-note-secondary: #232323;\n\t\t}`,\n        \"inverse\": `:root {\n\t\t\t--page-margin: #c4c8e3;\n\t\t\t--editor-background: #c4c8e3;\n\t\t\t--hover-preview: #000000;\n\t\t\t--playhead: #243953;\n\t\t\t--primary-text: black;\n\t\t\t--secondary-text: #855b95;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgb(132 125 255);\n\t\t\t--box-selection-fill: rgb(174 109 73 / 65%);\n\t\t\t--loop-accent: #EC897D;\n\t\t\t--link-accent: #4e00c8;\n\t\t\t--ui-widget-background: #e7e7ff;\n\t\t\t--ui-widget-focus: #d0d3e9;\n\t\t\t--pitch-background: #ffffff;\n\t\t\t--tonic: #bbbbbb;\n\t\t\t--fifth-note: #dcdcdc;\n\t\t\t--white-piano-key: #ffffff;\n\t\t\t--black-piano-key: #615f66;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #e9ebff;\n\t\t\t--track-editor-bg-pitch-dim: #e9ebff;\n\t\t\t--track-editor-bg-noise: #fdf2fe;\n\t\t\t--track-editor-bg-noise-dim: #fdf2fe;\n\t\t\t--track-editor-bg-mod: #dbdefe;\n\t\t\t--track-editor-bg-mod-dim: #dbdefe;\n\t\t\t--multiplicative-mod-slider: #6900b3;\n\t\t\t--overwriting-mod-slider: #004b9d;\n\t\t\t--indicator-primary: #ff633d;\n\t\t\t--indicator-secondary: #933822;\n\t\t\t--select2-opt-group: #e7e7ff;\n\t\t\t--input-box-outline: #e7e7ff;\n\t\t\t--mute-button-normal: #0072ef;\n\t\t\t--mute-button-mod: #002e67;\n\t\t\t--pitch1-secondary-channel: #b77d6e;\n\t\t\t--pitch1-primary-channel: #ff9d85;\n\t\t\t--pitch1-secondary-note: #b77d6e;\n\t\t\t--pitch1-primary-note: #ff9d85;\n\t\t\t--pitch2-secondary-channel: #be8821;\n\t\t\t--pitch2-primary-channel: #FFAF12;\n\t\t\t--pitch2-secondary-note: #be8821;\n\t\t\t--pitch2-primary-note: #FFAF12;\n\t\t\t--pitch3-secondary-channel: #3a62a4;\n\t\t\t--pitch3-primary-channel: #528ae6;\n\t\t\t--pitch3-secondary-note: #3a62a4;\n\t\t\t--pitch3-primary-note: #528ae6;\n\t\t\t--pitch4-secondary-channel: #3e8d78;\n\t\t\t--pitch4-primary-channel: #4EC5A7;\n\t\t\t--pitch4-secondary-note: #3e8d78;\n\t\t\t--pitch4-primary-note: #4EC5A7;\n\t\t\t--pitch5-secondary-channel: #84906d;\n\t\t\t--pitch5-primary-channel: #aabf84;\n\t\t\t--pitch5-secondary-note: #84906d;\n\t\t\t--pitch5-primary-note: #aabf84;\n\t\t\t--pitch6-secondary-channel: #bd6345;\n\t\t\t--pitch6-primary-channel: #e59a81;\n\t\t\t--pitch6-secondary-note: #bd6345;\n\t\t\t--pitch6-primary-note: #e59a81;\n\t\t\t--pitch7-secondary-channel: #aa592f;\n\t\t\t--pitch7-primary-channel: #FE813E;\n\t\t\t--pitch7-secondary-note: #aa592f;\n\t\t\t--pitch7-primary-note: #FE813E;\n\t\t\t--pitch8-secondary-channel: #b2a171;\n\t\t\t--pitch8-primary-channel: #ffd76d;\n\t\t\t--pitch8-secondary-note: #b2a171;\n\t\t\t--pitch8-primary-note: #ffd76d;\n\t\t\t--pitch9-secondary-channel: #4f6177;\n\t\t\t--pitch9-primary-channel: #798FA7;\n\t\t\t--pitch9-secondary-note: #4f6177;\n\t\t\t--pitch9-primary-note: #798FA7;\n\t\t\t--pitch10-secondary-channel: #165162;\n\t\t\t--pitch10-primary-channel: #107895;\n\t\t\t--pitch10-secondary-note: #165162;\n\t\t\t--pitch10-primary-note: #107895;\n\t\t\t--noise1-secondary-channel: #71617C;\n\t\t\t--noise1-primary-channel: #977da9;\n\t\t\t--noise1-secondary-note: #71617C;\n\t\t\t--noise1-primary-note: #977da9;\n\t\t\t--noise2-secondary-channel: #4a4c5b;\n\t\t\t--noise2-primary-channel: #707591;\n\t\t\t--noise2-secondary-note: #4a4c5b;\n\t\t\t--noise2-primary-note: #707591;\n\t\t\t--noise3-secondary-channel: #817c7b;\n\t\t\t--noise3-primary-channel: #A19D9C;\n\t\t\t--noise3-secondary-note: #817c7b;\n\t\t\t--noise3-primary-note: #A19D9C;\n\t\t\t--noise4-secondary-channel: #ab847b;\n\t\t\t--noise4-primary-channel: #EAAC9D;\n\t\t\t--noise4-secondary-note: #ab847b;\n\t\t\t--noise4-primary-note: #EAAC9D;\n\t\t\t--noise5-secondary-channel: #B49D74;\n\t\t\t--noise5-primary-channel: #dec69b;\n\t\t\t--noise5-secondary-note: #B49D74;\n\t\t\t--noise5-primary-note: #dec69b;\n\t\t\t--mod1-secondary-channel: #722124;\n\t\t\t--mod1-primary-channel: #D13A41;\n\t\t\t--mod1-secondary-note: #722124;\n\t\t\t--mod1-primary-note: #D13A41;\n\t\t\t--mod2-secondary-channel: #213657;\n\t\t\t--mod2-primary-channel: #34558B;\n\t\t\t--mod2-secondary-note: #213657;\n\t\t\t--mod2-primary-note: #34558B;\n\t\t\t--mod3-secondary-channel: #555D46;\n\t\t\t--mod3-primary-channel: #848f6d;\n\t\t\t--mod3-secondary-note: #555D46;\n\t\t\t--mod3-primary-note: #848f6d;\n\t\t\t--mod4-secondary-channel: #71617C;\n\t\t\t--mod4-primary-channel: #a68ab9;\n\t\t\t--mod4-secondary-note: #71617C;\n\t\t\t--mod4-primary-note: #a68ab9;\n\t\t\t--mod-label-primary: #e9e9e9;\n\t\t\t--mod-label-secondary-text: #707070;\n\t\t\t--mod-label-primary-text: black;\n\t\t\t--disabled-note-primary: #959595;\n\t\t\t--disabled-note-secondary: #6e6e6e;\n\t\t\t}`,\n        \"nebula\": `\n\t\t:root {\n\t\t\t--page-margin: #040410;\n\t\t\t--editor-background: #150e1f;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: rgba(255, 255, 255, 0.9);\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #8C849A;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgba(141,79,201,0.99);\n\t\t\t--box-selection-fill: #311E44;\n\t\t\t--loop-accent: #CC688C;\n\t\t\t--link-accent: #817DC9;\n\t\t\t--ui-widget-background: #44394F;\n\t\t\t--ui-widget-focus: #7A6386;\n\t\t\t--pitch-background: #393e4f40;\n\t\t\t--tonic: #7D5C9EC0;\n\t\t\t--fifth-note: #ab77bd50;\n\t\t\t--white-piano-key: #EEEEEE;\n\t\t\t--black-piano-key: #5F5566;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: true;\n\t\t\t--track-editor-bg-pitch: #46374C;\n\t\t\t--track-editor-bg-pitch-dim: #1F1C2850;\n\t\t\t--track-editor-bg-noise: #3D353B;\n\t\t\t--track-editor-bg-noise-dim: #16131550;\n\t\t\t--track-editor-bg-mod: #623F4C;\n\t\t\t--track-editor-bg-mod-dim: #361A2450;\n\t\t\t--multiplicative-mod-slider: #9F6E6A;\n\t\t\t--overwriting-mod-slider: #A664B5;\n\t\t\t--indicator-primary: #CC6B8E;\n\t\t\t--indicator-secondary: #44394F;\n\t\t\t--select2-opt-group: #6A576F;\n\t\t\t--input-box-outline: #222;\n\t\t\t--mute-button-normal: #BF91DC;\n\t\t\t--mute-button-mod: #DC8C9A;\n\t\t\t--mod-label-primary: #3A2840;\n\t\t\t--mod-label-secondary-text: #62485E;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--pitch-secondary-channel-hue: -96;\n\t\t\t--pitch-secondary-channel-hue-scale: 4.2;\n\t\t\t--pitch-secondary-channel-sat: 50.3;\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t--pitch-primary-channel-hue: -96;\n\t\t\t--pitch-primary-channel-hue-scale: 4.2;\n\t\t\t--pitch-primary-channel-sat: 70;\n\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t--pitch-secondary-note-hue: -96;\n\t\t\t--pitch-secondary-note-hue-scale: 4.2;\n\t\t\t--pitch-secondary-note-sat: 70.9;\n\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t--pitch-secondary-note-lum: 25;\n\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t--pitch-primary-note-hue: -96;\n\t\t\t--pitch-primary-note-hue-scale: 4.2;\n\t\t\t--pitch-primary-note-sat: 90;\n\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t--noise-secondary-channel-hue: 16;\n\t\t\t--noise-secondary-channel-hue-scale: -1.33;\n\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t--noise-primary-channel-hue: 16;\n\t\t\t--noise-primary-channel-hue-scale: -1.33;\n\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t--noise-secondary-note-hue: 12;\n\t\t\t--noise-secondary-note-hue-scale: -1.33;\n\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t--noise-primary-note-hue: 12;\n\t\t\t--noise-primary-note-hue-scale: -1.33;\n\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t--noise-primary-note-lum: 74;\n\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t--mod-secondary-channel-hue: 12;\n\t\t\t--mod-secondary-channel-hue-scale: -.75;\n\t\t\t--mod-secondary-channel-sat: 50;\n\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t--mod-primary-channel-hue: 12;\n\t\t\t--mod-primary-channel-hue-scale: -.75;\n\t\t\t--mod-primary-channel-sat: 70;\n\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t--mod-secondary-note-hue: 12;\n\t\t\t--mod-secondary-note-hue-scale: -.75;\n\t\t\t--mod-secondary-note-sat: 75;\n\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t--mod-secondary-note-lum: 45;\n\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t--mod-primary-note-hue: 12;\n\t\t\t--mod-primary-note-hue-scale: -.75;\n\t\t\t--mod-primary-note-sat: 85;\n\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t--mod-primary-note-lum: 85;\n\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t--disabled-note-primary: #aaa;\n\t\t\t--disabled-note-secondary: #666;\n\t\t}`,\n        \"roe light\": `\n\t\t:root {\n\t\t\t--page-margin: #fff5f5;\n\t\t\t--editor-background: #fff5f5;\n\t\t\t--hover-preview: #0e8bf1;\n\t\t\t--playhead: 000;\n\t\t\t--primary-text: #0e8bf1;\n\t\t\t--secondary-text: #f10e0e;\n\t\t\t--inverted-text: white;\n\t\t\t--text-selection: #ff4444fc;\n\t\t\t--box-selection-fill: #ff00004d;\n\t\t\t--loop-accent: #9a75ff;\n\t\t\t--link-accent: #ff7070;\n\t\t\t--ui-widget-background: #bdc9e5;\n\t\t\t--ui-widget-focus: #a3b7e5;\n\t\t\t--pitch-background: #d0c7db;\n\t\t\t--tonic: #bed3e4;\n\t\t\t--fifth-note: #e7c6c6;\n\t\t\t--white-piano-key: #cdcdcd;\n\t\t\t--black-piano-key: #232323;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #e5e1ea;\n\t\t\t--track-editor-bg-pitch-dim: #cbc4d4;\n\t\t\t--track-editor-bg-noise: #e0ddee;\n\t\t\t--track-editor-bg-noise-dim: #c1bade;\n\t\t\t--track-editor-bg-mod: #d8e6f3;\n\t\t\t--track-editor-bg-mod-dim: #b1cce7;\n\t\t\t--multiplicative-mod-slider: #8097cb;\n\t\t\t--overwriting-mod-slider: #8097cb;\n\t\t\t--indicator-primary: #FF2A2A;\n\t\t\t--indicator-secondary: #92a6d3;\n\t\t\t--select2-opt-group: #b6c4e2;\n\t\t\t--input-box-outline: #bdc9e5;\n\t\t\t--mute-button-normal: #66baff;\n\t\t\t--mute-button-mod: #1a98ff;\n\t\t\t--pitch1-secondary-channel: #273c90;\n\t\t\t--pitch1-primary-channel: #476BFF;\n\t\t\t--pitch1-secondary-note: #273c90;\n\t\t\t--pitch1-primary-note: #476BFF;\n\t\t\t--pitch2-secondary-channel: #3a3898;\n\t\t\t--pitch2-primary-channel: #625FFB;\n\t\t\t--pitch2-secondary-note: #3a3898;\n\t\t\t--pitch2-primary-note: #625FFB;\n\t\t\t--pitch3-secondary-channel: #542780;\n\t\t\t--pitch3-primary-channel: #9C49EC;\n\t\t\t--pitch3-secondary-note: #542780;\n\t\t\t--pitch3-primary-note: #9C49EC;\n\t\t\t--pitch4-secondary-channel: #84225d;\n\t\t\t--pitch4-primary-channel: #fd3fb1;\n\t\t\t--pitch4-secondary-note: #84225d;\n\t\t\t--pitch4-primary-note: #fd3fb1;\n\t\t\t--pitch5-secondary-channel: #8d2323;\n\t\t\t--pitch5-primary-channel: #ff3f3f;\n\t\t\t--pitch5-secondary-note: #8d2323;\n\t\t\t--pitch5-primary-note: #ff3f3f;\n\t\t\t--pitch6-secondary-channel: #84225d;\n\t\t\t--pitch6-primary-channel: #fd3fb1;\n\t\t\t--pitch6-secondary-note: #84225d;\n\t\t\t--pitch6-primary-note: #fd3fb1;\n\t\t\t--pitch7-secondary-channel: #542780;\n\t\t\t--pitch7-primary-channel: #9C49EC;\n\t\t\t--pitch7-secondary-note: #542780;\n\t\t\t--pitch7-primary-note: #9C49EC;\n\t\t\t--pitch8-secondary-channel: #3a3898;\n\t\t\t--pitch8-primary-channel: #625FFB;\n\t\t\t--pitch8-secondary-note: #3a3898;\n\t\t\t--pitch8-primary-note: #625FFB;\n\t\t\t--pitch9-secondary-channel: #273c90;\n\t\t\t--pitch9-primary-channel: #476BFF;\n\t\t\t--pitch9-secondary-note: #273c90;\n\t\t\t--pitch9-primary-note: #476BFF;\n\t\t\t--pitch10-secondary-channel: #165a93;\n\t\t\t--pitch10-primary-channel: #299EFF;\n\t\t\t--pitch10-secondary-note: #165a93;\n\t\t\t--pitch10-primary-note: #299EFF;\n\t\t\t--noise1-secondary-channel: #336bdb;\n\t\t\t--noise1-primary-channel: #4281FF;\n\t\t\t--noise1-secondary-note: #336bdb;\n\t\t\t--noise1-primary-note: #4281FF;\n\t\t\t--noise2-secondary-channel: #5e38dc;\n\t\t\t--noise2-primary-channel: #7347FF;\n\t\t\t--noise2-secondary-note: #5e38dc;\n\t\t\t--noise2-primary-note: #7347FF;\n\t\t\t--noise3-secondary-channel: #7d3097;\n\t\t\t--noise3-primary-channel: #9F3CBF;\n\t\t\t--noise3-secondary-note: #7d3097;\n\t\t\t--noise3-primary-note: #9F3CBF;\n\t\t\t--noise4-secondary-channel: #ad2559;\n\t\t\t--noise4-primary-channel: #D3326F;\n\t\t\t--noise4-secondary-note: #ad2559;\n\t\t\t--noise4-primary-note: #D3326F;\n\t\t\t--noise5-secondary-channel: #d02525;\n\t\t\t--noise5-primary-channel: #FF2A2A;\n\t\t\t--noise5-secondary-note: #d02525;\n\t\t\t--noise5-primary-note: #FF2A2A;\n\t\t\t--mod1-secondary-channel: #35415a;\n\t\t\t--mod1-primary-channel: #47587a;\n\t\t\t--mod1-secondary-note: #35415a;\n\t\t\t--mod1-primary-note: #47587a;\n\t\t\t--mod2-secondary-channel: #5a5374;\n\t\t\t--mod2-primary-channel: #716791;\n\t\t\t--mod2-secondary-note: #5a5374;\n\t\t\t--mod2-primary-note: #716791;\n\t\t\t--mod3-secondary-channel: #53385c;\n\t\t\t--mod3-primary-channel: #6f4c7b;\n\t\t\t--mod3-secondary-note: #53385c;\n\t\t\t--mod3-primary-note: #6f4c7b;\n\t\t\t--mod4-secondary-channel: #7e4e60;\n\t\t\t--mod4-primary-channel: #9e6279;\n\t\t\t--mod4-secondary-note: #7e4e60;\n\t\t\t--mod4-primary-note: #9e6279;\n\t\t\t--mod-label-primary: #d0c7db;\n\t\t\t--mod-label-secondary-text: #cb3434;\n\t\t\t--mod-label-primary-text: black;\n\t\t\t--disabled-note-primary: #616161;\n\t\t\t--disabled-note-secondary: #474747;\n\t\t}`,\n        \"energized\": `\n\t\t:root {\n\t\t\t--page-margin: #000a08;\n\t\t\t--editor-background: #000a08;\n\t\t\t--hover-preview: #ffffcc;\n\t\t\t--playhead: #ccfff5;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #d9d98c;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: #ffff6659;\n\t\t\t--box-selection-fill: #ffffff33;\n\t\t\t--loop-accent: #ffff00;\n\t\t\t--link-accent: #00ffcc;\n\t\t\t--ui-widget-background: #141f1d;\n\t\t\t--ui-widget-focus: #24423d;\n\t\t\t--pitch-background: #001410;\n\t\t\t--tonic: #00241d;\n\t\t\t--fifth-note: #ffff6633;\n\t\t\t--white-piano-key: #66998f;\n\t\t\t--black-piano-key: #141f1d;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #66998f40;\n\t\t\t--track-editor-bg-pitch-dim: #293d3940;\n\t\t\t--track-editor-bg-noise: #66998f40;\n\t\t\t--track-editor-bg-noise-dim: #293d3940;\n\t\t\t--track-editor-bg-mod: #99996640;\n\t\t\t--track-editor-bg-mod-dim: #3d3d2940;\n\t\t\t--multiplicative-mod-slider: #ffff00;\n\t\t\t--overwriting-mod-slider: #00ffcc;\n\t\t\t--indicator-primary: #ffff00;\n\t\t\t--indicator-secondary: #141f1d;\n\t\t\t--select2-opt-group: #1b312e;\n\t\t\t--input-box-outline: #141f1d;\n\t\t\t--mute-button-normal: #00ffcc;\n\t\t\t--mute-button-mod: #00997a;\n\t\t\t--pitch1-secondary-channel: #bfbf40;\n\t\t\t--pitch1-primary-channel: #ffff64;\n\t\t\t--pitch1-secondary-note: #bfbf40;\n\t\t\t--pitch1-primary-note: #ffff64;\n\t\t\t--pitch2-secondary-channel: #a2bf40;\n\t\t\t--pitch2-primary-channel: #e0ff7d;\n\t\t\t--pitch2-secondary-note: #a2bf40;\n\t\t\t--pitch2-primary-note: #e0ff7d;\n\t\t\t--pitch3-secondary-channel: #75bf40;\n\t\t\t--pitch3-primary-channel: #c1ff96;\n\t\t\t--pitch3-secondary-note: #75bf40;\n\t\t\t--pitch3-primary-note: #c1ff96;\n\t\t\t--pitch4-secondary-channel: #40bf51;\n\t\t\t--pitch4-primary-channel: #a2ffaf;\n\t\t\t--pitch4-secondary-note: #40bf51;\n\t\t\t--pitch4-primary-note: #a2ffaf;\n\t\t\t--pitch5-secondary-channel: #40bf86;\n\t\t\t--pitch5-primary-channel: #83ffc8;\n\t\t\t--pitch5-secondary-note: #40bf86;\n\t\t\t--pitch5-primary-note: #83ffc8;\n\t\t\t--pitch6-secondary-channel: #40bfa6;\n\t\t\t--pitch6-primary-channel: #64ffe1;\n\t\t\t--pitch6-secondary-note: #40bfa6;\n\t\t\t--pitch6-primary-note: #64ffe1;\n\t\t\t--pitch7-secondary-channel: #40bf86;\n\t\t\t--pitch7-primary-channel: #83ffc8;\n\t\t\t--pitch7-secondary-note: #40bf86;\n\t\t\t--pitch7-primary-note: #83ffc8;\n\t\t\t--pitch8-secondary-channel: #40bf51;\n\t\t\t--pitch8-primary-channel: #a2ffaf;\n\t\t\t--pitch8-secondary-note: #40bf51;\n\t\t\t--pitch8-primary-note: #a2ffaf;\n\t\t\t--pitch9-secondary-channel: #75bf40;\n\t\t\t--pitch9-primary-channel: #c1ff96;\n\t\t\t--pitch9-secondary-note: #75bf40;\n\t\t\t--pitch9-primary-note: #c1ff96;\n\t\t\t--pitch10-secondary-channel: #a2bf40;\n\t\t\t--pitch10-primary-channel: #e0ff7d;\n\t\t\t--pitch10-secondary-note: #a2bf40;\n\t\t\t--pitch10-primary-note: #e0ff7d;\n\t\t\t--noise1-secondary-channel: #a6a659;\n\t\t\t--noise1-primary-channel: #ffffcc;\n\t\t\t--noise1-secondary-note: #a6a659;\n\t\t\t--noise1-primary-note: #ffffcc;\n\t\t\t--noise2-secondary-channel: #94a659;\n\t\t\t--noise2-primary-channel: #f3ffcc;\n\t\t\t--noise2-secondary-note: #94a659;\n\t\t\t--noise2-primary-note: #f3ffcc;\n\t\t\t--noise3-secondary-channel: #79a659;\n\t\t\t--noise3-primary-channel: #e1ffcc;\n\t\t\t--noise3-secondary-note: #79a659;\n\t\t\t--noise3-primary-note: #e1ffcc;\n\t\t\t--noise4-secondary-channel: #94a659;\n\t\t\t--noise4-primary-channel: #f3ffcc;\n\t\t\t--noise4-secondary-note: #94a659;\n\t\t\t--noise4-primary-note: #f3ffcc;\n\t\t\t--noise5-secondary-channel: #a6a659;\n\t\t\t--noise5-primary-channel: #ffffcc;\n\t\t\t--noise5-secondary-note: #a6a659;\n\t\t\t--noise5-primary-note: #ffffcc;\n\t\t\t--mod1-secondary-channel: #a3a329;\n\t\t\t--mod1-primary-channel: #ffff00;\n\t\t\t--mod1-secondary-note: #a3a329;\n\t\t\t--mod1-primary-note: #ffff00;\n\t\t\t--mod2-secondary-channel: #a38529;\n\t\t\t--mod2-primary-channel: #ffbf00;\n\t\t\t--mod2-secondary-note: #a38529;\n\t\t\t--mod2-primary-note: #ffbf00;\n\t\t\t--mod3-secondary-channel: #a36629;\n\t\t\t--mod3-primary-channel: #ff7f00;\n\t\t\t--mod3-secondary-note: #a36629;\n\t\t\t--mod3-primary-note: #ff7f00;\n\t\t\t--mod4-secondary-channel: #a38529;\n\t\t\t--mod4-primary-channel: #ffbf00;\n\t\t\t--mod4-secondary-note: #a38529;\n\t\t\t--mod4-primary-note: #ffbf00;\n\t\t\t--mod-label-primary: #141f1d;\n\t\t\t--mod-label-secondary-text: #d9d98c;\n\t\t\t--mod-label-primary-text: white;\n\t\t\t--disabled-note-primary: #808080;\n\t\t\t--disabled-note-secondary: #666666;\n\t\t}`,\n        \"neapolitan\": `:root {\n\t\t\t--page-margin: #120807;\n\t\t\t--editor-background: #120807;\n\t\t\t--hover-preview: #e79a82;\n\t\t\t--playhead: #e79a82;\n\t\t\t--primary-text: #decdbf;\n\t\t\t--secondary-text: #fa99bb;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: #990036;\n\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t--loop-accent: #f6377a;\n\t\t\t--link-accent: #f6377a;\n\t\t\t--ui-widget-background: #24160f;\n\t\t\t--ui-widget-focus: #362217;\n\t\t\t--pitch-background: #1e1106;\n\t\t\t--tonic: #382414;\n\t\t\t--fifth-note: #41240c;\n\t\t\t--white-piano-key: #e1c5b7;\n\t\t\t--black-piano-key: #482c1e;\n\t\t\t--white-piano-key-text: black;\n\t\t\t--black-piano-key-text: white;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #4d2a19;\n\t\t\t--track-editor-bg-pitch-dim: #27150c;\n\t\t\t--track-editor-bg-noise: #4d2a19;\n\t\t\t--track-editor-bg-noise-dim: #27150c;\n\t\t\t--track-editor-bg-mod: #4d2a19;\n\t\t\t--track-editor-bg-mod-dim: #27150c;\n\t\t\t--multiplicative-mod-slider: #decdbf;\n\t\t\t--overwriting-mod-slider: #decdbf;\n\t\t\t--indicator-primary: #decdbf;\n\t\t\t--indicator-secondary: #362217;\n\t\t\t--select2-opt-group: #24160f;\n\t\t\t--input-box-outline: #24160f;\n\t\t\t--mute-button-normal: #ff66a1;\n\t\t\t--mute-button-mod: #e61968;\n\t\t\t--pitch1-secondary-channel: #680029;\n\t\t\t--pitch1-primary-channel: #cc0052;\n\t\t\t--pitch1-secondary-note: #660029;\n\t\t\t--pitch1-primary-note: #cc0052;\n\t\t\t--pitch2-secondary-channel: #7e1b43;\n\t\t\t--pitch2-primary-channel: #d32e71;\n\t\t\t--pitch2-secondary-note: #7e1b43;\n\t\t\t--pitch2-primary-note: #d32e71;\n\t\t\t--pitch3-secondary-channel: #aa275e;\n\t\t\t--pitch3-primary-channel: #da5d91;\n\t\t\t--pitch3-secondary-note: #aa275e;\n\t\t\t--pitch3-primary-note: #da5d91;\n\t\t\t--pitch4-secondary-channel: #cc3878;\n\t\t\t--pitch4-primary-channel: #e18bb0;\n\t\t\t--pitch4-secondary-note: #cc3878;\n\t\t\t--pitch4-primary-note: #e18bb0;\n\t\t\t--pitch5-secondary-channel: #d06c9b;\n\t\t\t--pitch5-primary-channel: #e9bad0;\n\t\t\t--pitch5-secondary-note: #d06c9b;\n\t\t\t--pitch5-primary-note: #e9bad0;\n\t\t\t--pitch6-secondary-channel: #c9acc5;\n\t\t\t--pitch6-primary-channel: #f0e8ef;\n\t\t\t--pitch6-secondary-note: #c9acc5;\n\t\t\t--pitch6-primary-note: #f0e8ef;\n\t\t\t--pitch7-secondary-channel: #d06c9b;\n\t\t\t--pitch7-primary-channel: #e9bad0;\n\t\t\t--pitch7-secondary-note: #d06c9b;\n\t\t\t--pitch7-primary-note: #e9bad0;\n\t\t\t--pitch8-secondary-channel: #cc3878;\n\t\t\t--pitch8-primary-channel: #e18bb0;\n\t\t\t--pitch8-secondary-note: #cc3878;\n\t\t\t--pitch8-primary-note: #e18bb0;\n\t\t\t--pitch9-secondary-channel: #aa275e;\n\t\t\t--pitch9-primary-channel: #da5d91;\n\t\t\t--pitch9-secondary-note: #aa275e;\n\t\t\t--pitch9-primary-note: #da5d91;\n\t\t\t--pitch10-secondary-channel: #7e1b43;\n\t\t\t--pitch10-primary-channel: #d32e71;\n\t\t\t--pitch10-secondary-note: #7e1b43;\n\t\t\t--pitch10-primary-note: #d32e71;\n\t\t\t--noise1-secondary-channel: #683a37;\n\t\t\t--noise1-primary-channel: #A85F5A;\n\t\t\t--noise1-secondary-note: #683a37;\n\t\t\t--noise1-primary-note: #A85F5A;\n\t\t\t--noise2-secondary-channel: #7c4a41;\n\t\t\t--noise2-primary-channel: #B47A70;\n\t\t\t--noise2-secondary-note: #7c4a41;\n\t\t\t--noise2-primary-note: #B47A70;\n\t\t\t--noise3-secondary-channel: #935f4d;\n\t\t\t--noise3-primary-channel: #c09587;\n\t\t\t--noise3-secondary-note: #935f4d;\n\t\t\t--noise3-primary-note: #C09587;\n\t\t\t--noise4-secondary-channel: #aa795a;\n\t\t\t--noise4-primary-channel: #cdb09d;\n\t\t\t--noise4-secondary-note: #aa795a;\n\t\t\t--noise4-primary-note: #CDAF9D;\n\t\t\t--noise5-secondary-channel: #bb987c;\n\t\t\t--noise5-primary-channel: #decdbf;\n\t\t\t--noise5-secondary-note: #bb987c;\n\t\t\t--noise5-primary-note: #decdbf;\n\t\t\t--mod1-secondary-channel: #6ca784;\n\t\t\t--mod1-primary-channel: #accdb9;\n\t\t\t--mod1-secondary-note: #6ca784;\n\t\t\t--mod1-primary-note: #accdb9;\n\t\t\t--mod2-secondary-channel: #7daa9f;\n\t\t\t--mod2-primary-channel: #bbd3cd;\n\t\t\t--mod2-secondary-note: #7daa9f;\n\t\t\t--mod2-primary-note: #bbd3cd;\n\t\t\t--mod3-secondary-channel: #70a3a9;\n\t\t\t--mod3-primary-channel: #afcccf;\n\t\t\t--mod3-secondary-note: #70a3a9;\n\t\t\t--mod3-primary-note: #afcccf;\n\t\t\t--mod4-secondary-channel: #5698b8;\n\t\t\t--mod4-primary-channel: #9ec3d6;\n\t\t\t--mod4-secondary-note: #5698b8;\n\t\t\t--mod4-primary-note: #9ec3d6;\n\t\t\t--mod-label-primary: #24160f;\n\t\t\t--mod-label-secondary-text: #E5AFC2;\n\t\t\t--mod-label-primary-text: #decdbf;\n\t\t\t--disabled-note-primary: #bababa;\n\t\t\t--disabled-note-secondary: #878787;\n\t\t}`,\n        \"mono\": `:root {\n\t\t\t--page-margin: #000;\n\t\t\t--editor-background: #000;\n\t\t\t--hover-preview: #808080;\n\t\t\t--playhead: #808080;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #cccccc;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: #696969;\n\t\t\t--box-selection-fill: #cccccc40;\n\t\t\t--loop-accent: #808080;\n\t\t\t--link-accent: white;\n\t\t\t--ui-widget-background: #232323;\n\t\t\t--ui-widget-focus: #303030;\n\t\t\t--pitch-background: #1a1a1a;\n\t\t\t--tonic: #262626;\n\t\t\t--fifth-note: #0d0d0d;\n\t\t\t--white-piano-key: #808080;\n\t\t\t--black-piano-key: #232323;\n\t\t\t--use-color-formula: true;\n\t\t\t--track-editor-bg-pitch: #262626;\n\t\t\t--track-editor-bg-pitch-dim: #1a1a1a;\n\t\t\t--track-editor-bg-noise: #262626;\n\t\t\t--track-editor-bg-noise-dim: #1a1a1a;\n\t\t\t--track-editor-bg-mod: #262626;\n\t\t\t--track-editor-bg-mod-dim: #1a1a1a;\n\t\t\t--multiplicative-mod-slider: #808080;\n\t\t\t--overwriting-mod-slider: #808080;\n\t\t\t--indicator-primary: #808080;\n\t\t\t--indicator-secondary: #333333;\n\t\t\t--select2-opt-group: #232323;\n\t\t\t--input-box-outline: #222;\n\t\t\t--mute-button-normal: #808080;\n\t\t\t--mute-button-mod: #808080;\n\t\t\t--mod-label-primary: #232323;\n\t\t\t--mod-label-secondary-text: #696969;\n\t\t\t--mod-label-primary-text: #cdcdcd;\n\t\t\t--pitch-secondary-channel-hue: 0;\n\t\t\t--pitch-secondary-channel-hue-scale: 25;\n\t\t\t--pitch-secondary-channel-sat: 10;\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t--pitch-secondary-channel-lum: 70;\n\t\t\t--pitch-secondary-channel-lum-scale: 0;\n\t\t\t--pitch-primary-channel-hue: 0;\n\t\t\t--pitch-primary-channel-hue-scale: 25;\n\t\t\t--pitch-primary-channel-sat: 50;\n\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t--pitch-primary-channel-lum: 95;\n\t\t\t--pitch-primary-channel-lum-scale: 0;\n\t\t\t--pitch-secondary-note-hue: 0;\n\t\t\t--pitch-secondary-note-hue-scale: 25;\n\t\t\t--pitch-secondary-note-sat: 10;\n\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t--pitch-secondary-note-lum: 70;\n\t\t\t--pitch-secondary-note-lum-scale: 0;\n\t\t\t--pitch-primary-note-hue: 0;\n\t\t\t--pitch-primary-note-hue-scale: 25;\n\t\t\t--pitch-primary-note-sat: 50;\n\t\t\t--pitch-primary-note-sat-scale: 0.1;\n\t\t\t--pitch-primary-note-lum: 95;\n\t\t\t--pitch-primary-note-lum-scale: 0;\n\t\t\t--noise-secondary-channel-hue: 125;\n\t\t\t--noise-secondary-channel-hue-scale: 50;\n\t\t\t--noise-secondary-channel-sat: 10;\n\t\t\t--noise-secondary-channel-sat-scale: 0.1;\n\t\t\t--noise-secondary-channel-lum: 70;\n\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t--noise-primary-channel-hue: 125;\n\t\t\t--noise-primary-channel-hue-scale: 50;\n\t\t\t--noise-primary-channel-sat: 50;\n\t\t\t--noise-primary-channel-sat-scale: 0.1;\n\t\t\t--noise-primary-channel-lum: 95;\n\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t--noise-secondary-note-hue: 125;\n\t\t\t--noise-secondary-note-hue-scale: 50;\n\t\t\t--noise-secondary-note-sat: 10;\n\t\t\t--noise-secondary-note-sat-scale: 0.1;\n\t\t\t--noise-secondary-note-lum: 70;\n\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t--noise-primary-note-hue: 125;\n\t\t\t--noise-primary-note-hue-scale: 50;\n\t\t\t--noise-primary-note-sat: 50;\n\t\t\t--noise-primary-note-sat-scale: 0.1;\n\t\t\t--noise-primary-note-lum: 95;\n\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t--mod-secondary-channel-hue: 255;\n\t\t\t--mod-secondary-channel-hue-scale: 75;\n\t\t\t--mod-secondary-channel-sat: 10;\n\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t--mod-secondary-channel-lum: 70;\n\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t--mod-primary-channel-hue: 255;\n\t\t\t--mod-primary-channel-hue-scale: 75;\n\t\t\t--mod-primary-channel-sat: 50;\n\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t--mod-primary-channel-lum: 95;\n\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t--mod-secondary-note-hue: 255;\n\t\t\t--mod-secondary-note-hue-scale: 75;\n\t\t\t--mod-secondary-note-sat: 10;\n\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t--mod-secondary-note-lum: 70;\n\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t--mod-primary-note-hue: 255;\n\t\t\t--mod-primary-note-hue-scale: 75;\n\t\t\t--mod-primary-note-sat: 50;\n\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t--mod-primary-note-lum: 95;\n\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t--disabled-note-primary: #c6c6c6;\n\t\t\t--disabled-note-secondary: #8c8c8c;\n\t\t}`,\n\t\t\"modbox classic\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #9900cc;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 4;\n\t\t\t\t--pitch1-secondary-channel: #0099a1;\n\t\t\t\t--pitch1-primary-channel:   #25f3ff;\n\t\t\t\t--pitch1-secondary-note:    #0099a1;\n\t\t\t\t--pitch1-primary-note:      #25f3ff;\n\t\t\t\t--pitch2-secondary-channel: #439143;\n\t\t\t\t--pitch2-primary-channel:   #44ff44;\n\t\t\t\t--pitch2-secondary-note:    #439143;\n\t\t\t\t--pitch2-primary-note:      #44ff44;\n\t\t\t\t--pitch3-secondary-channel: #a1a100;\n\t\t\t\t--pitch3-primary-channel:   #ffff25;\n\t\t\t\t--pitch3-secondary-note:    #a1a100;\n\t\t\t\t--pitch3-primary-note:      #ffff25;\n\t\t\t\t--pitch4-secondary-channel: #c75000;\n\t\t\t\t--pitch4-primary-channel:   #ff9752;\n\t\t\t\t--pitch4-secondary-note:    #c75000;\n\t\t\t\t--pitch4-primary-note:      #ff9752;\n\t\t\t\t--pitch5-secondary-channel: #d020d0;\n\t\t\t\t--pitch5-primary-channel:   #FF90FF;\n\t\t\t\t--pitch5-secondary-note:    #d020d0;\n\t\t\t\t--pitch5-primary-note:      #ff90ff;\n\t\t\t\t--pitch6-secondary-channel: #552377;\n\t\t\t\t--pitch6-primary-channel:   #9f31ea;\n\t\t\t\t--pitch6-secondary-note:    #552377;\n\t\t\t\t--pitch6-primary-note:      #9f31ea;\n\t\t\t\t--pitch7-secondary-channel: #221b89;\n\t\t\t\t--pitch7-primary-channel:   #2b6aff;\n\t\t\t\t--pitch7-secondary-note:    #221b89;\n\t\t\t\t--pitch7-primary-note:      #2b6aff;\n\t\t\t\t--pitch8-secondary-channel: #00995f;\n\t\t\t\t--pitch8-primary-channel:   #00ff9f;\n\t\t\t\t--pitch8-secondary-note:    #00995f;\n\t\t\t\t--pitch8-primary-note:      #00ff9f;\n\t\t\t\t--pitch9-secondary-channel: #d6b03e;\n\t\t\t\t--pitch9-primary-channel:   #ffbf00;\n\t\t\t\t--pitch9-secondary-note:    #d6b03e;\n\t\t\t\t--pitch9-primary-note:      #ffbf00;\n\t\t\t\t--pitch10-secondary-channel:#b25915;\n\t\t\t\t--pitch10-primary-channel:  #d85d00;\n\t\t\t\t--pitch10-secondary-note:   #b25915;\n\t\t\t\t--pitch10-primary-note:     #d85d00;\n\t\t\t\t--noise1-secondary-channel: #991010;\n\t\t\t\t--noise1-primary-channel:   #ff1616;\n\t\t\t\t--noise1-secondary-note:    #991010;\n\t\t\t\t--noise1-primary-note:      #ff1616;\n\t\t\t\t--noise2-secondary-channel: #aaaaaa;\n\t\t\t\t--noise2-primary-channel:   #ffffff;\n\t\t\t\t--noise2-secondary-note:    #aaaaaa;\n\t\t\t\t--noise2-primary-note:      #ffffff;\n\t\t\t\t--noise3-secondary-channel: #5869BD;\n\t\t\t\t--noise3-primary-channel:   #768dfc;\n\t\t\t\t--noise3-secondary-note:    #5869BD;\n\t\t\t\t--noise3-primary-note:      #768dfc;\n\t\t\t\t--noise4-secondary-channel: #7c9b42;\n\t\t\t\t--noise4-primary-channel:   #a5ff00;\n\t\t\t\t--noise4-secondary-note:    #7c9b42;\n\t\t\t\t--noise4-primary-note:      #a5ff00;\n\t\t\t\t--noise5-secondary-channel: #7c9b42;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n         --mod1-secondary-channel: #0099a1;\n\t\t\t\t--mod1-primary-channel:   #25f3ff;\n\t\t\t\t--mod1-secondary-note:    #0099a1;\n\t\t\t\t--mod1-primary-note:      #25f3ff;\n\t\t\t\t--mod2-secondary-channel: #439143;\n\t\t\t\t--mod2-primary-channel:   #44ff44;\n\t\t\t\t--mod2-secondary-note:    #439143;\n\t\t\t\t--mod2-primary-note:      #44ff44;\n\t\t\t\t--mod3-secondary-channel: #a1a100;\n\t\t\t\t--mod3-primary-channel:   #ffff25;\n\t\t\t\t--mod3-secondary-note:    #a1a100;\n\t\t\t\t--mod3-primary-note:      #ffff25;\n\t\t\t\t--mod4-secondary-channel: #c75000;\n\t\t\t\t--mod4-primary-channel:   #ff9752;\n\t\t\t\t--mod4-secondary-note:    #c75000;\n\t\t\t\t--mod4-primary-note:      #ff9752;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"zefbox\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #C3593D;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t--pitch1-secondary-channel: #06c400;\n\t\t\t\t--pitch1-primary-channel:   #08ff00;\n\t\t\t\t--pitch1-secondary-note:    #06c400;\n\t\t\t\t--pitch1-primary-note:      #06e000;\n\t\t\t\t--pitch2-secondary-channel: #00bf97;\n\t\t\t\t--pitch2-primary-channel:   #00ffcb;\n\t\t\t\t--pitch2-secondary-note:    #00bf97;\n\t\t\t\t--pitch2-primary-note:      #00edbc;\n\t\t\t\t--pitch3-secondary-channel: #b5b000;\n\t\t\t\t--pitch3-primary-channel:   #fffa00;\n\t\t\t\t--pitch3-secondary-note:    #b5b000;\n\t\t\t\t--pitch3-primary-note:      #e0db00;\n\t\t\t\t--pitch4-secondary-channel: #c90000;\n\t\t\t\t--pitch4-primary-channel:   #e20000;\n\t\t\t\t--pitch4-secondary-note:    #c90000;\n\t\t\t\t--pitch4-primary-note:      #e20000;\n\t\t\t\t--pitch5-secondary-channel: #d17d12;\n\t\t\t\t--pitch5-primary-channel:   #ff9e21;\n\t\t\t\t--pitch5-secondary-note:    #d17d12;\n\t\t\t\t--pitch5-primary-note:      #ef9017;\n\t\t\t\t--pitch6-secondary-channel: #d35bc8;\n\t\t\t\t--pitch6-primary-channel:   #ffa5f7;\n\t\t\t\t--pitch6-secondary-note:    #d35bc8;\n\t\t\t\t--pitch6-primary-note:      #fc64ee;\n\t\t\t\t--pitch7-secondary-channel: #D00000;\n\t\t\t\t--pitch7-primary-channel:   #FF4444;\n\t\t\t\t--pitch7-secondary-note:    #D00000;\n\t\t\t\t--pitch7-primary-note:      #FF4444;\n\t\t\t\t--pitch8-secondary-channel: #00C700;\n\t\t\t\t--pitch8-primary-channel:   #A0FFA0;\n\t\t\t\t--pitch8-secondary-note:    #00C700;\n\t\t\t\t--pitch8-primary-note:      #A0FFA0;\n\t\t\t\t--pitch9-secondary-channel: #A88981;\n\t\t\t\t--pitch9-primary-channel:   #F1C3B7;\n\t\t\t\t--pitch9-secondary-note:    #A88981;\n\t\t\t\t--pitch9-primary-note:      #F1C3B7;\n\t\t\t\t--pitch10-secondary-channel:#0C0A99;\n\t\t\t\t--pitch10-primary-channel:  #0000EE;\n\t\t\t\t--pitch10-secondary-note:   #0C0A99;\n\t\t\t\t--pitch10-primary-note:     #0000EE;\n\t\t\t\t--noise1-secondary-channel: #ABABAB;\n\t\t\t\t--noise1-primary-channel:   #D6D6D6;\n\t\t\t\t--noise1-secondary-note:    #ABABAB;\n\t\t\t\t--noise1-primary-note:      #D6D6D6;\n\t\t\t\t--noise2-secondary-channel: #A18F51;\n\t\t\t\t--noise2-primary-channel:   #F6BB6A;\n\t\t\t\t--noise2-secondary-note:    #A18F51;\n\t\t\t\t--noise2-primary-note:      #F6BB6A;\n\t\t\t\t--noise3-secondary-channel: #5869BD;\n\t\t\t\t--noise3-primary-channel:   #768DFC;\n\t\t\t\t--noise3-secondary-note:    #5869BD;\n\t\t\t\t--noise3-primary-note:      #768DFC;\n\t\t\t\t--noise4-secondary-channel: #8888D0;\n\t\t\t\t--noise4-primary-channel:   #D0D0FF;\n\t\t\t\t--noise4-secondary-note:    #8888D0;\n\t\t\t\t--noise4-primary-note:      #D0D0FF;\n\t\t\t\t--noise5-secondary-channel: #B7148E;\n\t\t\t\t--noise5-primary-channel:   #E819B4;\n\t\t\t\t--noise5-secondary-note:    #B7148E;\n\t\t\t\t--noise5-primary-note:      #E819B4;\n       --mod1-secondary-channel: #06c400;\n\t\t\t\t--mod1-primary-channel:   #08ff00;\n\t\t\t\t--mod1-secondary-note:    #06c400;\n\t\t\t\t--mod1-primary-note:      #06e000;\n\t\t\t\t--mod2-secondary-channel: #00bf97;\n\t\t\t\t--mod2-primary-channel:   #00ffcb;\n\t\t\t\t--mod2-secondary-note:    #00bf97;\n\t\t\t\t--mod2-primary-note:      #00edbc;\n\t\t\t\t--mod3-secondary-channel: #b5b000;\n\t\t\t\t--mod3-primary-channel:   #fffa00;\n\t\t\t\t--mod3-secondary-note:    #b5b000;\n\t\t\t\t--mod3-primary-note:      #e0db00;\n\t\t\t\t--mod4-secondary-channel: #c90000;\n\t\t\t\t--mod4-primary-channel:   #e20000;\n\t\t\t\t--mod4-secondary-note:    #c90000;\n\t\t\t\t--mod4-primary-note:      #e20000;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"sandbox classic\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #198195;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 4;\n\t\t\t\t--pitch1-secondary-channel: #539999;\n\t\t\t\t--pitch1-primary-channel:   #5EB1B1;\n\t\t\t\t--pitch1-secondary-note:    #539999;\n\t\t\t\t--pitch1-primary-note:      #5EB1B1;\n\t\t\t\t--pitch2-secondary-channel: #95933C;\n\t\t\t\t--pitch2-primary-channel:   #B0AD44;\n\t\t\t\t--pitch2-secondary-note:    #95933C;\n\t\t\t\t--pitch2-primary-note:      #B0AD44;\n\t\t\t\t--pitch3-secondary-channel: #E75566;\n\t\t\t\t--pitch3-primary-channel:   #FF9AA6;\n\t\t\t\t--pitch3-secondary-note:    #E75566;\n\t\t\t\t--pitch3-primary-note:      #FF9AA6;\n\t\t\t\t--pitch4-secondary-channel: #8B4343;\n\t\t\t\t--pitch4-primary-channel:   #FF8844;\n\t\t\t\t--pitch4-secondary-note:    #8B4343;\n\t\t\t\t--pitch4-primary-note:      #FF8844;\n\t\t\t\t--pitch5-secondary-channel: #888888;\n\t\t\t\t--pitch5-primary-channel:   #BBBBBB;\n\t\t\t\t--pitch5-secondary-note:    #888888;\n\t\t\t\t--pitch5-primary-note:      #BBBBBB;\n\t\t\t\t--pitch6-secondary-channel: #BB6906;\n\t\t\t\t--pitch6-primary-channel:   #FE8D00;\n\t\t\t\t--pitch6-secondary-note:    #BB6906;\n\t\t\t\t--pitch6-primary-note:      #FE8D00;\n\t\t\t\t--pitch7-secondary-channel: #539999;\n\t\t\t\t--pitch7-primary-channel:   #5EB1B1;\n\t\t\t\t--pitch7-secondary-note:    #539999;\n\t\t\t\t--pitch7-primary-note:      #5EB1B1;\n\t\t\t\t--pitch8-secondary-channel: #95933C;\n\t\t\t\t--pitch8-primary-channel:   #B0AD44;\n\t\t\t\t--pitch8-secondary-note:    #95933C;\n\t\t\t\t--pitch8-primary-note:      #B0AD44;\n\t\t\t\t--pitch9-secondary-channel: #E75566;\n\t\t\t\t--pitch9-primary-channel:   #FF9AA6;\n\t\t\t\t--pitch9-secondary-note:    #E75566;\n\t\t\t\t--pitch9-primary-note:      #FF9AA6;\n\t\t\t\t--pitch10-secondary-channel: #8B4343;\n\t\t\t\t--pitch10-primary-channel:   #FF8844;\n\t\t\t\t--pitch10-secondary-note:    #8B4343;\n\t\t\t\t--pitch10-primary-note:      #FF8844;\t\t\t\n\t\t\t\t--noise1-secondary-channel: #ABABAB;\n\t\t\t\t--noise1-primary-channel:   #D6D6D6;\n\t\t\t\t--noise1-secondary-note:    #ABABAB;\n\t\t\t\t--noise1-primary-note:      #D6D6D6;\n\t\t\t\t--noise2-secondary-channel: #A18F51;\n\t\t\t\t--noise2-primary-channel:   #F6BB6A;\n\t\t\t\t--noise2-secondary-note:    #A18F51;\n\t\t\t\t--noise2-primary-note:      #F6BB6A;\n\t\t\t\t--noise3-secondary-channel: #5869BD;\n\t\t\t\t--noise3-primary-channel:   #768DFC;\n\t\t\t\t--noise3-secondary-note:    #5869BD;\n\t\t\t\t--noise3-primary-note:      #768DFC;\n\t\t\t\t--noise4-secondary-channel: #8888D0;\n\t\t\t\t--noise4-primary-channel:   #D0D0FF;\n\t\t\t\t--noise4-secondary-note:    #8888D0;\n\t\t\t\t--noise4-primary-note:      #D0D0FF;\n\t\t\t\t--noise5-secondary-channel: #A18F51;\n\t\t\t\t--noise5-primary-channel:   #F6BB6A;\n\t\t\t\t--noise5-secondary-note:    #A18F51;\n\t\t\t\t--noise5-primary-note:      #F6BB6A;\t\t\t\n         \t--mod1-secondary-channel: #539999;\n\t\t\t\t--mod1-primary-channel:   #5EB1B1;\n\t\t\t\t--mod1-secondary-note:    #539999;\n\t\t\t\t--mod1-primary-note:      #5EB1B1;\n\t\t\t\t--mod2-secondary-channel: #95933C;\n\t\t\t\t--mod2-primary-channel:   #B0AD44;\n\t\t\t\t--mod2-secondary-note:    #95933C;\n\t\t\t\t--mod2-primary-note:      #B0AD44;\n\t\t\t\t--mod3-secondary-channel: #E75566;\n\t\t\t\t--mod3-primary-channel:   #FF9AA6;\n\t\t\t\t--mod3-secondary-note:    #E75566;\n\t\t\t\t--mod3-primary-note:      #FF9AA6;\n\t\t\t\t--mod4-secondary-channel: #8B4343;\n\t\t\t\t--mod4-primary-channel:   #FF8844;\n\t\t\t\t--mod4-secondary-note:    #8B4343;\n\t\t\t\t--mod4-primary-note:      #FF8844;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"harrybox\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #9900cc;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--noise-channel-limit: 2;\n\t\t\t\t--pitch1-secondary-channel: #00ffff;\n\t\t\t\t--pitch1-primary-channel:   #00ffff;\n\t\t\t\t--pitch1-secondary-note:    #00ffff;\n\t\t\t\t--pitch1-primary-note:      #00ffff;\n\t\t\t\t--pitch2-secondary-channel: #00d8d8;\n\t\t\t\t--pitch2-primary-channel:   #00d8d8;\n\t\t\t\t--pitch2-secondary-note:    #00d8d8;\n\t\t\t\t--pitch2-primary-note:      #00d8d8;\n\t\t\t\t--pitch3-secondary-channel: #00adad;\n\t\t\t\t--pitch3-primary-channel:   #00adad;\n\t\t\t\t--pitch3-secondary-note:    #00adad;\n\t\t\t\t--pitch3-primary-note:      #00adad;\n\t\t\t\t-pitch4-secondary-channel: #008c8c;\n\t\t\t\t--pitch4-primary-channel:   #008c8c;\n\t\t\t\t--pitch4-secondary-note:    #008c8c;\n\t\t\t\t--pitch4-primary-note:      #008c8c;\n\t\t\t\t--pitch5-secondary-channel: #005b5b;\n\t\t\t\t--pitch5-primary-channel:   #005b5b;\n\t\t\t\t--pitch5-secondary-note:    #005b5b;\n\t\t\t\t--pitch5-primary-note:      #005b5b;\n\t\t\t\t--pitch6-secondary-channel: #003333;\n\t\t\t\t--pitch6-primary-channel:   #003333;\n\t\t\t\t--pitch6-secondary-note:    #003333;\n\t\t\t\t--pitch6-primary-note:      #003333;\n\t\t\t\t--pitch7-secondary-channel: #00ffff;\n\t\t\t\t--pitch7-primary-channel:   #00ffff;\n\t\t\t\t--pitch7-secondary-note:    #00ffff;\n\t\t\t\t--pitch7-primary-note:      #00ffff;\n\t\t\t\t--pitch8-secondary-channel: #00ffff;\n\t\t\t\t--pitch8-primary-channel:   #00ffff;\n\t\t\t\t--pitch8-secondary-note:    #00ffff;\n\t\t\t\t--pitch8-primary-note:      #00ffff;\n\t\t\t\t--pitch9-secondary-channel: #00ffff;\n\t\t\t\t--pitch9-primary-channel:   #00ffff;\n\t\t\t\t--pitch9-secondary-note:    #00ffff;\n\t\t\t\t--pitch9-primary-note:      #00ffff;\n\t\t\t\t--pitch10-secondary-channel:#00ffff;\n\t\t\t\t--pitch10-primary-channel:  #00ffff;\n\t\t\t\t--pitch10-secondary-note:   #00ffff;\n\t\t\t\t--pitch10-primary-note:     #00ffff;\n\t\t\t\t--noise1-secondary-channel: #991010;\n\t\t\t\t--noise1-primary-channel:   #ff1616;\n\t\t\t\t--noise1-secondary-note:    #991010;\n\t\t\t\t--noise1-primary-note:      #ff1616;\n\t\t\t\t--noise2-secondary-channel: #aaaaaa;\n\t\t\t\t--noise2-primary-channel:   #ffffff;\n\t\t\t\t--noise2-secondary-note:    #aaaaaa;\n\t\t\t\t--noise2-primary-note:      #ffffff;\n\t\t\t\t--noise3-secondary-channel: #991010;\n\t\t\t\t--noise3-primary-channel:   #ff1616;\n\t\t\t\t--noise3-secondary-note:    #991010;\n\t\t\t\t--noise3-primary-note:      #ff1616;\n\t\t\t\t--noise4-secondary-channel: #aaaaaa;\n\t\t\t\t--noise4-primary-channel:   #ffffff;\n\t\t\t\t--noise4-secondary-note:    #aaaaaa;\n\t\t\t\t--noise4-primary-note:      #ffffff;\n\t\t\t\t--noise5-secondary-channel: #991010;\n\t\t\t\t--noise5-primary-channel:   #ff1616;\n\t\t\t\t--noise5-secondary-note:    #991010;\n\t\t\t\t--noise5-primary-note:      #ff1616;\n         \t--mod1-secondary-channel: #00ffff;\n\t\t\t\t--mod1-primary-channel:   #00ffff;\n\t\t\t\t--mod1-secondary-note:    #00ffff;\n\t\t\t\t--mod1-primary-note:      #00ffff;\n\t\t\t\t--mod2-secondary-channel: #00d8d8;\n\t\t\t\t--mod2-primary-channel:   #00d8d8;\n\t\t\t\t--mod2-secondary-note:    #00d8d8;\n\t\t\t\t--mod2-primary-note:      #00d8d8;\n\t\t\t\t--mod3-secondary-channel: #00adad;\n\t\t\t\t--mod3-primary-channel:   #00adad;\n\t\t\t\t--mod3-secondary-note:    #00adad;\n\t\t\t\t--mod3-primary-note:      #00adad;\n\t\t\t\t-mod4-secondary-channel: #008c8c;\n\t\t\t\t--mod4-primary-channel:   #008c8c;\n\t\t\t\t--mod4-secondary-note:    #008c8c;\n\t\t\t\t--mod4-primary-note:      #008c8c;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"brucebox\": `\n\t\t:root {\n\t\t\t\tfont: 16px/2 cursive;\n\t\t\t\t--page-margin: #4667CE;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #9900cc;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 3;\n\t\t\t\t\t--noise-channel-limit: 1;\n\t\t\t\t--pitch1-secondary-channel: #bda822;\n\t\t\t\t--pitch1-primary-channel:   #fcdb00;\n\t\t\t\t--pitch1-secondary-note:    #bda822;\n\t\t\t\t--pitch1-primary-note:      #fcdb00;\n\t\t\t\t--pitch2-secondary-channel: #612278;\n\t\t\t\t--pitch2-primary-channel:   #bb00ff;\n\t\t\t\t--pitch2-secondary-note:    #612278;\n\t\t\t\t--pitch2-primary-note:      #bb00ff;\n\t\t\t\t--pitch3-secondary-channel: #8b4343;\n\t\t\t\t--pitch3-primary-channel:   #ff8844;\n\t\t\t\t--pitch3-secondary-note:    #8b4343;\n\t\t\t\t--pitch3-primary-note:      #ff8844;\n\t\t\t\t--pitch4-secondary-channel: #bda822;\n\t\t\t\t--pitch4-primary-channel:   #fcdb00;\n\t\t\t\t--pitch4-secondary-note:    #bda822;\n\t\t\t\t--pitch4-primary-note:      #fcdb00;\n\t\t\t\t--pitch5-secondary-channel: #612278;\n\t\t\t\t--pitch5-primary-channel:   #bb00ff;\n\t\t\t\t--pitch5-secondary-note:    #612278;\n\t\t\t\t--pitch5-primary-note:      #bb00ff;\n\t\t\t\t--pitch6-secondary-channel: #8b4343;\n\t\t\t\t--pitch6-primary-channel:   #ff8844;\n\t\t\t\t--pitch6-secondary-note:    #8b4343;\n\t\t\t\t--pitch6-primary-note:      #ff8844;\n\t\t\t\t--pitch7-secondary-channel: #bda822;\n\t\t\t\t--pitch7-primary-channel:   #fcdb00;\n\t\t\t\t--pitch7-secondary-note:    #bda822;\n\t\t\t\t--pitch7-primary-note:      #fcdb00;\n\t\t\t\t--pitch8-secondary-channel: #612278;\n\t\t\t\t--pitch8-primary-channel:   #bb00ff;\n\t\t\t\t--pitch8-secondary-note:    #612278;\n\t\t\t\t--pitch8-primary-note:      #bb00ff;\n\t\t\t\t--pitch9-secondary-channel: #8b4343;\n\t\t\t\t--pitch9-primary-channel:   #ff8844;\n\t\t\t\t--pitch9-secondary-note:    #8b4343;\n\t\t\t\t--pitch9-primary-note:      #ff8844;\n\t\t\t\t--pitch10-secondary-channel: #bda822;\n\t\t\t\t--pitch10-primary-channel:   #fcdb00;\n\t\t\t\t--pitch10-secondary-note:    #bda822;\n\t\t\t\t--pitch10-primary-note:      #fcdb00;\n\t\t\t\t--noise1-secondary-channel: #991010;\n\t\t\t\t--noise1-secondary-channel: #6F6F6F;\n\t\t\t\t--noise1-primary-channel:   #AAAAAA;\n\t\t\t\t--noise1-secondary-note:    #A7A7A7;\n\t\t\t\t--noise1-primary-note:      #E0E0E0;\n\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t--noise2-primary-channel:   #DDAA77;\n\t\t\t\t--noise2-secondary-note:    #CC9966;\n\t\t\t\t--noise2-primary-note:      #F0D0BB;\n\t\t\t\t--noise3-secondary-channel: #4A6D8F;\n\t\t\t\t--noise3-primary-channel:   #77AADD;\n\t\t\t\t--noise3-secondary-note:    #6F9FCF;\n\t\t\t\t--noise3-primary-note:      #BBD7FF;\n\t\t\t\t--noise4-secondary-channel: #7A4F9A;\n\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t--noise4-primary-note:      #D4C1EA;\n\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n          --mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77fc55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #cdffee;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ffb8de;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:\t    #f8ddff;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #fff6d3;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t \"shitbox 2.0\": `\n\t\t\t:root {\n\t\t\t--page-margin: maroon;\n\t\t\t\t\t--editor-background: black;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: firebrick;\n\t\t\t\t\t--primary-text: silver;\n\t\t\t\t\t--secondary-text: #999;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(139,69,19,0.99);\n\t\t\t\t\t--box-selection-fill: rgba(220,20,60,0.2);\n\t\t\t\t\t--loop-accent: #841;\n\t\t\t\t\t--link-accent: #841;\n\t\t\t\t\t--ui-widget-background: #800;\n\t\t\t\t\t--ui-widget-focus: #a00;\n\t\t\t\t\t--pitch-background: #700;\n\t\t\t\t\t--tonic: #522;\n\t\t\t\t\t--fifth-note: #f75;\n\t\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 3;\n\t\t\t\t--pitch1-secondary-channel: #7e4a35;\n\t\t\t\t\t--pitch1-primary-channel:   #c27251;\n\t\t\t\t\t--pitch1-secondary-note:    #7e4a35;\n\t\t\t\t\t--pitch1-primary-note:      #f09571;\n\t\t\t\t\t--pitch2-secondary-channel: #998a5c;\n\t\t\t\t\t--pitch2-primary-channel:   #d9c27c;\n\t\t\t\t\t--pitch2-secondary-note:    #998a5c;\n\t\t\t\t\t--pitch2-primary-note:      #fae196;\n\t\t\t\t\t--pitch3-secondary-channel: #9c927c;\n\t\t\t\t\t--pitch3-primary-channel:   #dbceb0;\n\t\t\t\t\t--pitch3-secondary-note:    #9c927c;\n\t\t\t\t\t--pitch3-primary-note:      #eddebb;\n\t\t\t\t\t--pitch4-secondary-channel: #838060;\n\t\t\t\t\t--pitch4-primary-channel:   #ccc795;\n\t\t\t\t\t--pitch4-secondary-note:    #838060;\n\t\t\t\t\t--pitch4-primary-note:      #f2ecb1;\n\t\t\t\t\t--pitch5-secondary-channel: #8b6f47;\n\t\t\t\t\t--pitch5-primary-channel:   #d1a76b;\n\t\t\t\t\t--pitch5-secondary-note:    #8b6f47;\n\t\t\t\t\t--pitch5-primary-note:      #ffcc82;\n\t\t\t\t\t--pitch6-secondary-channel: #a96e5b;\n\t\t\t\t\t--pitch6-primary-channel:   #e3967d;\n\t\t\t\t\t--pitch6-secondary-note:    #a96e5b;\n\t\t\t\t\t--pitch6-primary-note:      #ffa68a;\n\t\t\t\t\t\t--pitch7-secondary-channel: #7e4a35;\n\t\t\t\t\t--pitch7-primary-channel:   #c27251;\n\t\t\t\t\t--pitch7-secondary-note:    #7e4a35;\n\t\t\t\t\t--pitch7-primary-note:      #f09571;\n\t\t\t\t\t--pitch8-secondary-channel: #998a5c;\n\t\t\t\t\t--pitch8-primary-channel:   #d9c27c;\n\t\t\t\t\t--pitch8-secondary-note:    #998a5c;\n\t\t\t\t\t--pitch8-primary-note:      #fae196;\n\t\t\t\t\t--pitch9-secondary-channel: #9c927c;\n\t\t\t\t\t--pitch9-primary-channel:   #dbceb0;\n\t\t\t\t\t--pitch9-secondary-note:    #9c927c;\n\t\t\t\t\t--pitch9-primary-note:      #eddebb;\n\t\t\t\t\t--pitch10-secondary-channel: #838060;\n\t\t\t\t\t--pitch10-primary-channel:   #ccc795;\n\t\t\t\t\t--pitch10-secondary-note:    #838060;\n\t\t\t\t\t--pitch10-primary-note:      #f2ecb1;\n\t\t\t\t\t--noise1-secondary-channel: #6f6f6f;\n\t\t\t\t\t--noise1-primary-channel:   #aaaaaa;\n\t\t\t\t\t--noise1-secondary-note:    #a7a7a7;\n\t\t\t\t\t--noise1-primary-note:      #e0e0e0;\n\t\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t\t--noise2-primary-channel:   #ddaa77;\n\t\t\t\t\t--noise2-secondary-note:    #cc9966;\n\t\t\t\t\t--noise2-primary-note:      #f0d0bb;\n\t\t\t\t\t--noise3-secondary-channel: #4a6d8f;\n\t\t\t\t\t--noise3-primary-channel:   #77aadd;\n\t\t\t\t\t--noise3-secondary-note:    #6f9fcf;\n\t\t\t\t\t--noise3-primary-note:      #bbd7ff;\n\t\t\t\t\t--noise4-secondary-channel: #6f6f6f;\n\t\t\t\t\t--noise4-primary-channel:   #aaaaaa;\n\t\t\t\t\t--noise4-secondary-note:    #a7a7a7;\n\t\t\t\t\t--noise4-primary-note:      #e0e0e0;\n\t\t\t\t\t--noise5-secondary-channel: #996633;\n\t\t\t\t\t--noise5-primary-channel:   #ddaa77;\n\t\t\t\t\t--noise5-secondary-note:    #cc9966;\n\t\t\t\t\t--noise5-primary-note:      #f0d0bb;\n         --mod1-secondary-channel: #7e4a35;\n\t\t\t\t\t--mod1-primary-channel:   #c27251;\n\t\t\t\t\t--mod1-secondary-note:    #7e4a35;\n\t\t\t\t\t--mod1-primary-note:      #f09571;\n\t\t\t\t\t--mod2-secondary-channel: #998a5c;\n\t\t\t\t\t--mod2-primary-channel:   #d9c27c;\n\t\t\t\t\t--mod2-secondary-note:    #998a5c;\n\t\t\t\t\t--mod2-primary-note:      #fae196;\n\t\t\t\t\t--mod3-secondary-channel: #9c927c;\n\t\t\t\t\t--mod3-primary-channel:   #dbceb0;\n\t\t\t\t\t--mod3-secondary-note:    #9c927c;\n\t\t\t\t\t--mod3-primary-note:      #eddebb;\n\t\t\t\t\t--mod4-secondary-channel: #838060;\n\t\t\t\t\t--mod4-primary-channel:   #ccc795;\n\t\t\t\t\t--mod4-secondary-note:    #838060;\n\t\t\t\t\t--mod4-primary-note:      #f2ecb1;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t \"shitbox 3.0\": `\n\t\t\t\n\t\t\t:root {\n\t\t\t\tfont: 20px/2 monospace;\n\t\t\t\t--page-margin: #252525;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #74f;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 3;\n\t\t\t\t--pitch1-secondary-channel: #0099A1;\n\t\t\t\t--pitch1-primary-channel:   #25F3FF;\n\t\t\t\t--pitch1-secondary-note:    #00BDC7;\n\t\t\t\t--pitch1-primary-note:      #92F9FF;\n\t\t\t\t--pitch2-secondary-channel: #A1A100;\n\t\t\t\t--pitch2-primary-channel:   #FFFF25;\n\t\t\t\t--pitch2-secondary-note:    #C7C700;\n\t\t\t\t--pitch2-primary-note:      #FFFF92;\n\t\t\t\t--pitch3-secondary-channel: #C75000;\n\t\t\t\t--pitch3-primary-channel:   #FF9752;\n\t\t\t\t--pitch3-secondary-note:    #FF771C;\n\t\t\t\t--pitch3-primary-note:      #FFCDAB;\n\t\t\t\t--pitch4-secondary-channel: #00A100;\n\t\t\t\t--pitch4-primary-channel:   #50FF50;\n\t\t\t\t--pitch4-secondary-note:    #00C700;\n\t\t\t\t--pitch4-primary-note:      #A0FFA0;\n\t\t\t\t--pitch5-secondary-channel: #D020D0;\n\t\t\t\t--pitch5-primary-channel:   #FF90FF;\n\t\t\t\t--pitch5-secondary-note:    #E040E0;\n\t\t\t\t--pitch5-primary-note:      #FFC0FF;\n\t\t\t\t--pitch6-secondary-channel: #7777B0;\n\t\t\t\t--pitch6-primary-channel:   #A0A0FF;\n\t\t\t\t--pitch6-secondary-note:    #8888D0;\n\t\t\t\t--pitch6-primary-note:      #D0D0FF;\n\t\t\t\t--pitch7-secondary-channel: #8AA100;\n\t\t\t\t--pitch7-primary-channel:   #DEFF25;\n\t\t\t\t--pitch7-secondary-note:    #AAC700;\n\t\t\t\t--pitch7-primary-note:      #E6FF92;\n\t\t\t\t--pitch8-secondary-channel: #DF0019;\n\t\t\t\t--pitch8-primary-channel:   #FF98A4;\n\t\t\t\t--pitch8-secondary-note:    #FF4E63;\n\t\t\t\t--pitch8-primary-note:      #FFB2BB;\n\t\t\t\t--pitch9-secondary-channel: #00A170;\n\t\t\t\t--pitch9-primary-channel:   #50FFC9;\n\t\t\t\t--pitch9-secondary-note:    #00C78A;\n\t\t\t\t--pitch9-primary-note:      #83FFD9;\n\t\t\t\t--pitch10-secondary-channel:#A11FFF;\n\t\t\t\t--pitch10-primary-channel:  #CE8BFF;\n\t\t\t\t--pitch10-secondary-note:   #B757FF;\n\t\t\t\t--pitch10-primary-note:     #DFACFF;\n\t\t\t\t--noise1-secondary-channel: #6F6F6F;\n\t\t\t\t--noise1-primary-channel:   #AAAAAA;\n\t\t\t\t--noise1-secondary-note:    #A7A7A7;\n\t\t\t\t--noise1-primary-note:      #E0E0E0;\n\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t--noise2-primary-channel:   #DDAA77;\n\t\t\t\t--noise2-secondary-note:    #CC9966;\n\t\t\t\t--noise2-primary-note:      #F0D0BB;\n\t\t\t\t--noise3-secondary-channel: #4A6D8F;\n\t\t\t\t--noise3-primary-channel:   #77AADD;\n\t\t\t\t--noise3-secondary-note:    #6F9FCF;\n\t\t\t\t--noise3-primary-note:      #BBD7FF;\n\t\t\t\t--noise4-secondary-channel: #7A4F9A;\n\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t--noise4-primary-note:      #D4C1EA;\n\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n          --mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77fc55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #cdffee;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ffb8de;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:\t    #f8ddff;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #fff6d3;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t\n\t\t\t`,\n\t\t\t\"nerdbox\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #74f;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 9;\n\t\t\t\t\t--noise-channel-limit: 3;\n\t\t\t\t--pitch1-secondary-channel: #139620;\n\t\t\t\t--pitch1-primary-channel:   #25ff3a;\n\t\t\t\t--pitch1-secondary-note:    #139620;\n\t\t\t\t--pitch1-primary-note:      #25ff3a;\n\t\t\t\t--pitch2-secondary-channel: #109986;\n\t\t\t\t--pitch2-primary-channel:   #1cffe0;\n\t\t\t\t--pitch2-secondary-note:    #109986;\n\t\t\t\t--pitch2-primary-note:      #1cffe0;\n\t\t\t\t--pitch3-secondary-channel: #127296;\n\t\t\t\t--pitch3-primary-channel:   #21c3ff;\n\t\t\t\t--pitch3-secondary-note:    #127296;\n\t\t\t\t--pitch3-primary-note:      #21c3ff;\n\t\t\t\t--pitch4-secondary-channel: #6038a5;\n\t\t\t\t--pitch4-primary-channel:   #9456ff;\n\t\t\t\t--pitch4-secondary-note:    #6038a5;\n\t\t\t\t--pitch4-primary-note:      #ff35e0;\n\t\t\t\t--pitch5-secondary-channel: #a52491;\n\t\t\t\t--pitch5-primary-channel:   #ff35e0;\n\t\t\t\t--pitch5-secondary-note:    #a52491;\n\t\t\t\t--pitch5-primary-note:      #af3221;\n\t\t\t\t--pitch6-secondary-channel: #af3221;\n\t\t\t\t--pitch6-primary-channel:   #ff4a32;\n\t\t\t\t--pitch6-secondary-note:    #af3221;\n\t\t\t\t--pitch6-primary-note:      #ff4a32;\n\t\t\t\t--pitch7-secondary-channel: #ad6e0f;\n\t\t\t\t--pitch7-primary-channel:   #ffa216;\n\t\t\t\t--pitch7-secondary-note:    #ad6e0f;\n\t\t\t\t--pitch7-primary-note:      #ffa216;\n\t\t\t\t--pitch8-secondary-channel: #ad6e0f;\n\t\t\t\t--pitch8-primary-channel:   #ffa216;\n\t\t\t\t--pitch8-secondary-note:    #ad6e0f;\n\t\t\t\t--pitch8-primary-note:      #ffa216;\n\t\t\t\t--pitch9-secondary-channel: #a7b512;\n\t\t\t\t--pitch9-primary-channel:   #ebff19;\n\t\t\t\t--pitch9-secondary-note:    #a7b512;\n\t\t\t\t--pitch9-primary-note:      #ebff19;\n\t\t\t\t--pitch10-secondary-channel:#70ad1b;\n\t\t\t\t--pitch10-primary-channel:  #a4ff26;\n\t\t\t\t--pitch10-secondary-note:   #70ad1b;\n\t\t\t\t--pitch10-primary-note:     #a4ff26;\n\t\t\t\t--noise1-secondary-channel: #68706f;\n\t\t\t\t--noise1-primary-channel:   #a6b2b1;\n\t\t\t\t--noise1-secondary-note:    #68706f;\n\t\t\t\t--noise1-primary-note:      #a6b2b1;\n\t\t\t\t--noise2-secondary-channel: #665c64;\n\t\t\t\t--noise2-primary-channel:   #a396a1;\n\t\t\t\t--noise2-secondary-note:    #665c64;\n\t\t\t\t--noise2-primary-note:      #a396a1;\n\t\t\t\t--noise3-secondary-channel: #60605a;\n\t\t\t\t--noise3-primary-channel:   #afaea3;\n\t\t\t\t--noise3-secondary-note:    #60605a;\n\t\t\t\t--noise3-primary-note:      #afaea3;\n\t\t\t--noise4-secondary-channel: #665c64;\n\t\t\t--noise4-primary-channel:   #a396a1;\n\t\t\t\t--noise4-secondary-note:    #665c64;\n\t\t\t\t--noise4-primary-note:      #a396a1;\n\t\t\t\t--noise5-secondary-channel: #60605a;\n\t\t\t\t--noise5-primary-channel:   #afaea3;\n\t\t\t\t--noise5-secondary-note:    #60605a;\n\t\t\t\t--noise5-primary-note:      #afaea3;\n         --mod1-secondary-channel: #139620;\n\t\t\t\t--mod1-primary-channel:   #25ff3a;\n\t\t\t\t--mod1-secondary-note:    #139620;\n\t\t\t\t--mod1-primary-note:      #25ff3a;\n\t\t\t\t--mod2-secondary-channel: #109986;\n\t\t\t\t--mod2-primary-channel:   #1cffe0;\n\t\t\t\t--mod2-secondary-note:    #109986;\n\t\t\t\t--mod2-primary-note:      #1cffe0;\n\t\t\t\t--mod3-secondary-channel: #127296;\n\t\t\t\t--mod3-primary-channel:   #21c3ff;\n\t\t\t\t--mod3-secondary-note:    #127296;\n\t\t\t\t--mod3-primary-note:      #21c3ff;\n\t\t\t\t--mod4-secondary-channel: #6038a5;\n\t\t\t\t--mod4-primary-channel:   #9456ff;\n\t\t\t\t--mod4-secondary-note:    #6038a5;\n\t\t\t\t--mod4-primary-note:      #ff35e0;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t \"cardboardbox classic\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: #0f0700;\n--editor-background: #0f0700;\n--hover-preview: #75461d;\n--playhead: #75461d;\n--primary-text: #ddd;\n--secondary-text: #8e695b;\n--inverted-text: black;\n--text-selection: #75461d;\n--box-selection-fill: rgba(117, 70, 29,0.5);\n--loop-accent: #75461d;\n--link-accent: #75461d;\n--ui-widget-background: #574a3e;\n--ui-widget-focus: #756453;\n--pitch-background: #361900;\n--tonic: #fdba9a;\n--fifth-note: #7f78d2;\n--white-piano-key: #bbb;\n--black-piano-key: #444;\n--use-color-formula: false;\n--track-editor-bg-pitch: #444;\n--track-editor-bg-pitch-dim: #333;\n--track-editor-bg-noise: #444;\n--track-editor-bg-noise-dim: #333;\n--track-editor-bg-mod: #234;\n--track-editor-bg-mod-dim: #123;\n--multiplicative-mod-slider: #456;\n--overwriting-mod-slider: #654;\n--indicator-primary: #74f;\n--indicator-secondary: #444;\n--select2-opt-group: #585858;\n--input-box-outline: #333;\n--mute-button-normal: #ffa033;\n--mute-button-mod: #9a6bff;\n--pitch1-secondary-channel: #798566;\n--pitch1-primary-channel: #9dab86;\n--pitch1-secondary-note: #798566;\n--pitch1-primary-note: #9dab86;\n--pitch2-secondary-channel: #a6733d;\n--pitch2-primary-channel: #e6a157;\n--pitch2-secondary-note: #a6733d;\n--pitch2-primary-note: #e6a157;\n--pitch3-secondary-channel: #874c27;\n--pitch3-primary-channel: #eb8242;\n--pitch3-secondary-note: #874c27;\n--pitch3-primary-note: #eb8242;\n--pitch4-secondary-channel: #395866;\n--pitch4-primary-channel: #537d91;\n--pitch4-secondary-note: #395866;\n--pitch4-primary-note: #537d91;\n--pitch5-secondary-channel: #779992;\n--pitch5-primary-channel: #a4d1c8;\n--pitch5-secondary-note: #779992;\n--pitch5-primary-note: #a4d1c8;\n--pitch6-secondary-channel: #7777b0;\n--pitch6-primary-channel: #a0a0ff;\n--pitch6-secondary-note: #8888d0;\n--pitch6-primary-note: #d0d0ff;\n--pitch7-secondary-channel: #300707;\n--pitch7-primary-channel: #560d0d;\n--pitch7-secondary-note: #300707;\n--pitch7-primary-note: #560d0d;\n--pitch8-secondary-channel: #486312;\n--pitch8-primary-channel: #76a21e;\n--pitch8-secondary-note: #486312;\n--pitch8-primary-note: #76a21e;\n--pitch9-secondary-channel: #4a1242;\n--pitch9-primary-channel: #721b65;\n--pitch9-secondary-note: #4a1242;\n--pitch9-primary-note: #721b65;\n--pitch10-secondary-channel: #7a312d;\n--pitch10-primary-channel: #f8615a;\n--pitch10-secondary-note: #7a312d;\n--pitch10-primary-note: #f8615a;\n--noise1-secondary-channel: #5f6582;\n--noise1-primary-channel: #a6b1e1;\n--noise1-secondary-note: #5f6582;\n--noise1-primary-note: #a6b1e1;\n--noise2-secondary-channel: #996633;\n--noise2-primary-channel: #ddaa77;\n--noise2-secondary-note: #cc9966;\n--noise2-primary-note: #f0d0bb;\n--noise3-secondary-channel: #4a6d8f;\n--noise3-primary-channel: #77aadd;\n--noise3-secondary-note: #6f9fcf;\n--noise3-primary-note: #bbd7ff;\n--noise4-secondary-channel: #6B3E8E;\n--noise4-primary-channel: #AF82D2;\n--noise4-secondary-note: #9E71C1;\n--noise4-primary-note: #D4C1EA;\n--noise5-secondary-channel: #996633;\n--noise5-primary-channel: #ddaa77;\n--noise5-secondary-note: #cc9966;\n--noise5-primary-note: #f0d0bb;\n--mod1-secondary-channel: #339955;\n--mod1-primary-channel: #77fc55;\n--mod1-secondary-note: #77ff8a;\n--mod1-primary-note: #cdffee;\n--mod2-secondary-channel: #993355;\n--mod2-primary-channel: #f04960;\n--mod2-secondary-note: #f057a0;\n--mod2-primary-note: #ffb8de;\n--mod3-secondary-channel: #553399;\n--mod3-primary-channel: #8855fc;\n--mod3-secondary-note: #aa64ff;\n--mod3-primary-note: #f8ddff;\n--mod4-secondary-channel: #a86436;\n--mod4-primary-channel: #c8a825;\n--mod4-secondary-note: #e8ba46;\n--mod4-primary-note: #fff6d3;\n--mod-label-primary: #999;\n--mod-label-secondary-text: #333;\n--mod-label-primary-text: black;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"blubox classic\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: #040410;\n\t\t\t\t\t--editor-background: #040410;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: white;\n\t\t\t\t\t--primary-text: white;\n\t\t\t\t\t--secondary-text: #84859a;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t\t--box-selection-fill: #044b94;\n\t\t\t\t\t--loop-accent: #74f;\n\t\t\t\t\t--link-accent: #024ACA;\n\t\t\t\t\t--ui-widget-background: #393e4f;\n\t\t\t\t\t--ui-widget-focus: #6d6886;\n\t\t\t\t\t--pitch-background: #393e4f;\n\t\t\t\t\t--tonic: #725491;\n\t\t\t\t\t--fifth-note: #54547a;\n\t\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t\t--black-piano-key: #444;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #393e4f;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #1c1d28;\n\t\t\t\t\t--track-editor-bg-noise: #3d3535;\n\t\t\t\t\t--track-editor-bg-noise-dim: #161313;\n\t\t\t\t\t--track-editor-bg-mod: #283560;\n\t\t\t\t\t--track-editor-bg-mod-dim: #0a101f;\n\t\t\t\t\t--multiplicative-mod-slider: #606c9f;\n\t\t\t\t\t--overwriting-mod-slider: #6850b5;\n\t\t\t\t\t--indicator-primary: #9c64f7;\n\t\t\t\t\t--indicator-secondary: #393e4f;\n\t\t\t\t\t--select2-opt-group: #5d576f;\n\t\t\t\t\t--input-box-outline: #222;\n\t\t\t\t\t--mute-button-normal: #886eae;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch1-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch1-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch1-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch1-primary-note:      #024ACA;\n\t\t\t\t\t--pitch2-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch2-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch2-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch2-primary-note:      #024ACA;\n\t\t\t\t\t--pitch3-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch3-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch3-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch3-primary-note:      #024ACA;\n\t\t\t\t\t--pitch4-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch4-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch4-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch4-primary-note:      #024ACA;\n\t\t\t\t\t--pitch5-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch5-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch5-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch5-primary-note:      #024ACA;\n\t\t\t\t\t--pitch6-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch6-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch6-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch6-primary-note:      #024ACA;\n\t\t\t\t\t--pitch7-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch7-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch7-secondary-note:\t  #0A89FF;\n\t\t\t\t\t--pitch7-primary-note:\t\t\t#024ACA;\n\t\t\t\t\t--pitch8-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch8-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch8-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch8-primary-note:      #024ACA;\n\t\t\t\t\t--pitch9-secondary-channel: #0A89FF;\n\t\t\t\t\t--pitch9-primary-channel:   #024ACA;\n\t\t\t\t\t--pitch9-secondary-note:    #0A89FF;\n\t\t\t\t\t--pitch9-primary-note:\t\t\t#024ACA;\n\t\t\t\t\t--pitch10-secondary-channel:#0A89FF;\n\t\t\t\t\t--pitch10-primary-channel:  #024ACA;\n\t\t\t\t\t--pitch10-secondary-note:   #0A89FF;\n\t\t\t\t\t--pitch10-primary-note:     #024ACA;\n\t\t\t\t\t--noise1-secondary-channel: #0A89FF;\n\t\t\t\t\t--noise1-primary-channel:   #024ACA;\n\t\t\t\t\t--noise1-secondary-note:    #0A89FF;\n\t\t\t\t\t--noise1-primary-note:      #024ACA;\n\t\t\t\t\t--noise2-secondary-channel: #0A89FF;\n\t\t\t\t\t--noise2-primary-channel:   #024ACA;\n\t\t\t\t\t--noise2-secondary-note:    #0A89FF;\n\t\t\t\t\t--noise2-primary-note:      #024ACA;\n\t\t\t\t\t--noise3-secondary-channel: #0A89FF;\n\t\t\t\t\t--noise3-primary-channel:   #024ACA;\n\t\t\t\t\t--noise3-secondary-note:    #0A89FF;\n\t\t\t\t\t--noise3-primary-note:      #024ACA;\n\t\t\t\t\t--noise4-secondary-channel: #0A89FF;\n\t\t\t\t\t--noise4-primary-channel:   #024ACA;\n\t\t\t\t\t--noise4-secondary-note:    #0A89FF;\n\t\t\t\t\t--noise4-primary-note:      #024ACA;\n\t\t\t\t\t--mod1-secondary-channel:   #0A89FF;\n\t\t\t\t\t--mod1-primary-channel:     #024ACA;\n\t\t\t\t\t--mod1-secondary-note:      #0A89FF;\n\t\t\t\t\t--mod1-primary-note:        #024ACA;\n\t\t\t\t\t--mod2-secondary-channel:   #0A89FF;\n\t\t\t\t\t--mod2-primary-channel:     #024ACA;\n\t\t\t\t\t--mod2-secondary-note:      #0A89FF;\n\t\t\t\t\t--mod2-primary-note:        #024ACA;\n\t\t\t\t\t--mod3-secondary-channel:   #0A89FF;\n\t\t\t\t\t--mod3-primary-channel:     #024ACA;\n\t\t\t\t\t--mod3-secondary-note:      #0A89FF;\n\t\t\t\t\t--mod3-primary-note:\t\t\t  #024ACA;\n\t\t\t\t\t--mod4-secondary-channel:   #0A89FF;\n\t\t\t\t\t--mod4-primary-channel:     #024ACA;\n\t\t\t\t\t--mod4-secondary-note:      #0A89FF;\n\t\t\t\t\t--mod4-primary-note:        #024ACA;\n\t\t\t\t\t--mod-label-primary:        #282840;\n\t\t\t\t\t--mod-label-secondary-text: rgb(87, 86, 120);\n\t\t\t\t\t--mod-label-primary-text:   white;\n\t\t\t\t}\n\t\t\t`,\n\t\t\"dogebox classic\": `\n\t\t\t\t:root {\n\t\t\t--page-margin: #0d0063;\n\t\t\t--editor-background: #0D0063;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: white;\n\t\t\t--primary-text: white;\n\t\t\t--secondary-text: #999;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t--loop-accent: #74f;\n\t\t\t--link-accent: #98f;\n\t\t\t--ui-widget-background: #444;\n\t\t\t--ui-widget-focus: #777;\n\t\t\t--pitch-background: #322c59;\n\t\t\t--tonic: #1c1933;\n\t\t\t--fifth-note: #7b74ad;\n\t\t\t--white-piano-key: #bbb;\n\t\t\t--black-piano-key: #444;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t--track-editor-bg-noise: #444;\n\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t--track-editor-bg-mod: #234;\n\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t--overwriting-mod-slider: #654;\n\t\t\t--indicator-primary: #74f;\n\t\t\t--indicator-secondary: #444;\n\t\t\t--select2-opt-group: #585858;\n\t\t\t--input-box-outline: #333;\n\t\t\t--mute-button-normal: #ffa033;\n\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t--pitch-channel-limit: 6;\n\t\t\t--noise-channel-limit: 3;\n\t\t\t--pitch1-secondary-channel: #c7ac00;\n\t\t\t--pitch1-primary-channel: #fcf403;\n\t\t\t--pitch1-secondary-note: #c7c700;\n\t\t\t--pitch1-primary-note: #fcf403;\n\t\t\t--pitch2-secondary-channel: #9400b5;\n\t\t\t--pitch2-primary-channel: #ff00ee;\n\t\t\t--pitch2-secondary-note: #9400b5;\n\t\t\t--pitch2-primary-note: #ff00ee;\n\t\t\t--pitch3-secondary-channel: #b37466;\n\t\t\t--pitch3-primary-channel: #ffc6a1;\n\t\t\t--pitch3-secondary-note: #b37466;\n\t\t\t--pitch3-primary-note: #ffc6a1;\n\t\t\t--pitch4-secondary-channel: #00a100;\n\t\t\t--pitch4-primary-channel: #50ff50;\n\t\t\t--pitch4-secondary-note: #00c700;\n\t\t\t--pitch4-primary-note: #a0ffa0;\n\t\t\t--pitch5-secondary-channel: #d020d0;\n\t\t\t--pitch5-primary-channel: #ff90ff;\n\t\t\t--pitch5-secondary-note: #e040e0;\n\t\t\t--pitch5-primary-note: #ffc0ff;\n\t\t\t--pitch6-secondary-channel: #7777b0;\n\t\t\t--pitch6-primary-channel: #a0a0ff;\n\t\t\t--pitch6-secondary-note: #8888d0;\n\t\t\t--pitch6-primary-note: #d0d0ff;\n\t\t\t--pitch7-secondary-channel: #c7ac00;\n\t\t\t--pitch7-primary-channel: #fcf403;\n\t\t\t--pitch7-secondary-note: #c7c700;\n\t\t\t--pitch7-primary-note: #fcf403;\n\t\t\t--pitch8-secondary-channel: #9400b5;\n\t\t\t--pitch8-primary-channel: #ff00ee;\n\t\t\t--pitch8-secondary-note: #9400b5;\n\t\t\t--pitch8-primary-note: #ff00ee;\n\t\t\t--pitch9-secondary-channel: #b37466;\n\t\t\t--pitch9-primary-channel: #ffc6a1;\n\t\t\t--pitch9-secondary-note: #b37466;\n\t\t\t--pitch9-primary-note: #ffc6a1;\n\t\t\t--pitch10-secondary-channel: #00a100;\n\t\t\t--pitch10-primary-channel: #50ff50;\n\t\t\t--pitch10-secondary-note: #00c700;\n\t\t\t--pitch10-primary-note: #a0ffa0;\n\t\t\t--noise1-secondary-channel: #95acad;\n\t\t\t--noise1-primary-channel: #cee9eb;\n\t\t\t--noise1-secondary-note: #95acad;\n\t\t\t--noise1-primary-note: #cee9eb;\n\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t--noise2-primary-channel: #ddaa77;\n\t\t\t--noise2-secondary-note: #cc9966;\n\t\t\t--noise2-primary-note: #f0d0bb;\n\t\t\t--noise3-secondary-channel: #4a6d8f;\n\t\t\t--noise3-primary-channel: #77aadd;\n\t\t\t--noise3-secondary-note: #6f9fcf;\n\t\t\t--noise3-primary-note: #bbd7ff;\n\t\t\t--noise4-secondary-channel: #7c9b42;\n\t\t\t--noise4-primary-channel:   #a5ff00;\n\t\t\t--noise4-secondary-note:    #7c9b42;\n\t\t\t--noise4-primary-note:      #a5ff00;\n\t\t\t--noise5-secondary-channel: #7c9b42;\n\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t--noise5-primary-note:      #C5E2B2;\n      \t \t--mod1-secondary-channel: #c7ac00;\n\t\t\t--mod1-primary-channel: #fcf403;\n\t\t\t--mod1-secondary-note: #c7c700;\n\t\t\t--mod1-primary-note: #fcf403;\n\t\t\t--mod2-secondary-channel: #9400b5;\n\t\t\t--mod2-primary-channel: #ff00ee;\n\t\t\t--mod2-secondary-note: #9400b5;\n\t\t\t--mod2-primary-note: #ff00ee;\n\t\t\t--mod3-secondary-channel: #b37466;\n\t\t\t--mod3-primary-channel: #ffc6a1;\n\t\t\t--mod3-secondary-note: #b37466;\n\t\t\t--mod3-primary-note: #ffc6a1;\n\t\t\t--mod4-secondary-channel: #00a100;\n\t\t\t--mod4-primary-channel: #50ff50;\n\t\t\t--mod4-secondary-note: #00c700;\n\t\t\t--mod4-primary-note: #a0ffa0;\n\t\t\t--mod-label-primary:        #999;\n\t\t\t--mod-label-secondary-text: #333;\n\t\t\t--mod-label-primary-text:   black;\n\t\t\t--disabled-note-primary:    #999;\n\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t  \"dogebox dark\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: #0d0063;\n\t\t\t\t\t--editor-background: #0D0063;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: white;\n\t\t\t\t\t--primary-text: white;\n\t\t\t\t\t--secondary-text: #999;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t\t--loop-accent: #74f;\n\t\t\t\t\t--link-accent: #98f;\n\t\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t\t--pitch-background: #322c59;\n\t\t\t\t\t--tonic: #1c1933;\n\t\t\t\t\t--fifth-note: #7b74ad;\n\t\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t\t--black-piano-key: #444;\n\t\t\t\t\t--pitch1-secondary-channel: #c7ac00;\n\t\t\t\t\t--pitch1-primary-channel:   #fcf403;\n\t\t\t\t\t--pitch1-secondary-note:    #c7c700;\n\t\t\t\t\t--pitch1-primary-note:      #fcf403;\n\t\t\t\t\t--pitch2-secondary-channel: #9400b5;\n\t\t\t\t\t--pitch2-primary-channel:   #ff00ee;\n\t\t\t\t\t--pitch2-secondary-note:    #9400b5;\n\t\t\t\t\t--pitch2-primary-note:      #ff00ee;\n\t\t\t\t\t--pitch3-secondary-channel: #b37466;\n\t\t\t\t\t--pitch3-primary-channel:   #ffc6a1;\n\t\t\t\t\t--pitch3-secondary-note:    #b37466;\n\t\t\t\t\t--pitch3-primary-note:      #ffc6a1;\n\t\t\t\t\t--pitch4-secondary-channel: #00a100;\n\t\t\t\t\t--pitch4-primary-channel:   #50ff50;\n\t\t\t\t\t--pitch4-secondary-note:    #00c700;\n\t\t\t\t\t--pitch4-primary-note:      #a0ffa0;\n\t\t\t\t\t--pitch5-secondary-channel: #d020d0;\n\t\t\t\t\t--pitch5-primary-channel:   #ff90ff;\n\t\t\t\t\t--pitch5-secondary-note:    #e040e0;\n\t\t\t\t\t--pitch5-primary-note:      #ffc0ff;\n\t\t\t\t\t--pitch6-secondary-channel: #7777b0;\n\t\t\t\t\t--pitch6-primary-channel:   #a0a0ff;\n\t\t\t\t\t--pitch6-secondary-note:    #8888d0;\n\t\t\t\t\t--pitch6-primary-note:      #d0d0ff;\n\t\t\t\t\t--noise1-secondary-channel: #95acad;\n\t\t\t\t\t--noise1-primary-channel:   #cee9eb;\n\t\t\t\t\t--noise1-secondary-note:    #95acad;\n\t\t\t\t\t--noise1-primary-note:      #cee9eb;\n\t\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t\t--noise2-primary-channel:   #ddaa77;\n\t\t\t\t\t--noise2-secondary-note:    #cc9966;\n\t\t\t\t\t--noise2-primary-note:      #f0d0bb;\n\t\t\t\t\t--noise3-secondary-channel: #4a6d8f;\n\t\t\t\t\t--noise3-primary-channel:   #77aadd;\n\t\t\t\t\t--noise3-secondary-note:    #6f9fcf;\n\t\t\t\t\t--noise3-primary-note:      #bbd7ff;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t    \"todbox classic\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: black;\n\t\t\t\t\t--editor-background: black;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: white;\n\t\t\t\t\t--primary-text: white;\n\t\t\t\t\t--secondary-text: #999;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t\t--loop-accent: #74f;\n\t\t\t\t\t--link-accent: #98f;\n\t\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t\t--pitch-background: #444;\n\t\t\t\t\t--tonic: #864;\n\t\t\t\t\t--fifth-note: #468;\n\t\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t\t--black-piano-key: #444;\n\t\t\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t\t--mute-button-mod: #9a6bff;s\n\t\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 3;\n\t\t\t\t\t--pitch1-secondary-channel: #0099a1;\n\t\t\t\t\t--pitch1-primary-channel:   #25f3ff;\n\t\t\t\t\t--pitch1-secondary-note:    #00bdc7;\n\t\t\t\t\t--pitch1-primary-note:      #92f9ff;\n\t\t\t\t\t--pitch2-secondary-channel: #a1a100;\n\t\t\t\t\t--pitch2-primary-channel:   #ffff25;\n\t\t\t\t\t--pitch2-secondary-note:    #c7c700;\n\t\t\t\t\t--pitch2-primary-note:      #ffff92;\n\t\t\t\t\t--pitch3-secondary-channel: #c75000;\n\t\t\t\t\t--pitch3-primary-channel:   #ff9752;\n\t\t\t\t\t--pitch3-secondary-note:    #ff771c;\n\t\t\t\t\t--pitch3-primary-note:      #ffcdab;\n\t\t\t\t\t--pitch4-secondary-channel: #00a100;\n\t\t\t\t\t--pitch4-primary-channel:   #50ff50;\n\t\t\t\t\t--pitch4-secondary-note:    #00c700;\n\t\t\t\t\t--pitch4-primary-note:      #a0ffa0;\n\t\t\t\t\t--pitch5-secondary-channel: #d020d0;\n\t\t\t\t\t--pitch5-primary-channel:   #ff90ff;\n\t\t\t\t\t--pitch5-secondary-note:    #e040e0;\n\t\t\t\t\t--pitch5-primary-note:      #ffc0ff;\n\t\t\t\t\t--pitch6-secondary-channel: #7777b0;\n\t\t\t\t\t--pitch6-primary-channel:   #a0a0ff;\n\t\t\t\t\t--pitch6-secondary-note:    #8888d0;\n\t\t\t\t\t--pitch6-primary-note:      #d0d0ff;\n\t\t\t\t\t--pitch7-secondary-channel: #0099a1;\n\t\t\t\t\t--pitch7-primary-channel:   #25f3ff;\n\t\t\t\t\t--pitch7-secondary-note:    #00bdc7;\n\t\t\t\t\t--pitch7-primary-note:      #92f9ff;\n\t\t\t\t\t--pitch8-secondary-channel: #a1a100;\n\t\t\t\t\t--pitch8-primary-channel:   #ffff25;\n\t\t\t\t\t--pitch8-secondary-note:    #c7c700;\n\t\t\t\t\t--pitch8-primary-note:      #ffff92;\n\t\t\t\t\t--pitch9-secondary-channel: #c75000;\n\t\t\t\t\t--pitch9-primary-channel:   #ff9752;\n\t\t\t\t\t--pitch9-secondary-note:    #ff771c;\n\t\t\t\t\t--pitch9-primary-note:      #ffcdab;\n\t\t\t\t\t--pitch10-secondary-channel: #00a100;\n\t\t\t\t\t--pitch10-primary-channel:   #50ff50;\n\t\t\t\t\t--pitch10-secondary-note:    #00c700;\n\t\t\t\t\t--pitch10-primary-note:      #a0ffa0;\n\t\t\t\t\t--noise1-secondary-channel: #6f6f6f;\n\t\t\t\t\t--noise1-primary-channel:   #aaaaaa;\n\t\t\t\t\t--noise1-secondary-note:    #a7a7a7;\n\t\t\t\t\t--noise1-primary-note:      #e0e0e0;\n\t\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t\t--noise2-primary-channel:   #ddaa77;\n\t\t\t\t\t--noise2-secondary-note:    #cc9966;\n\t\t\t\t\t--noise2-primary-note:      #f0d0bb;\n\t\t\t\t\t--noise3-secondary-channel: #4a6d8f;\n\t\t\t\t\t--noise3-primary-channel:   #77aadd;\n\t\t\t\t\t--noise3-secondary-note:    #6f9fcf;\n\t\t\t\t\t--noise3-primary-note:      #bbd7ff;\n\t\t\t\t\t--noise4-secondary-channel: #6f6f6f;\n\t\t\t\t\t--noise4-primary-channel:   #aaaaaa;\n\t\t\t\t\t--noise4-secondary-note:    #a7a7a7;\n\t\t\t\t\t--noise4-primary-note:      #e0e0e0;\n\t\t\t\t\t--noise5-secondary-channel: #996633;\n\t\t\t\t\t--noise5-primary-channel:   #ddaa77;\n\t\t\t\t\t--noise5-secondary-note:    #cc9966;\n\t\t\t\t\t--noise5-primary-note:      #f0d0bb;\n\t\t\t\t\t--mod1-secondary-channel: #0099a1;\n\t\t\t\t\t--mod1-primary-channel:   #25f3ff;\n\t\t\t\t\t--mod1-secondary-note:    #00bdc7;\n\t\t\t\t\t--mod1-primary-note:      #92f9ff;\n\t\t\t\t\t--mod2-secondary-channel: #a1a100;\n\t\t\t\t\t--mod2-primary-channel:   #ffff25;\n\t\t\t\t\t--mod2-secondary-note:    #c7c700;\n\t\t\t\t\t--mod2-primary-note:      #ffff92;\n\t\t\t\t\t--mod3-secondary-channel: #c75000;\n\t\t\t\t\t--mod3-primary-channel:   #ff9752;\n\t\t\t\t\t--mod3-secondary-note:    #ff771c;\n\t\t\t\t\t--mod3-primary-note:      #ffcdab;\n\t\t\t\t\t--mod4-secondary-channel: #00a100;\n\t\t\t\t\t--mod4-primary-channel:   #50ff50;\n\t\t\t\t\t--mod4-secondary-note:    #00c700;\n\t\t\t\t\t--mod4-primary-note:      #a0ffa0;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t \"todbox dark mode\": `\n\t\t\t:root {\n\t\t\t\t-webkit-text-stroke-width: 0.5px;\n\t\t\t\t\t--page-margin: black;\n\t\t\t\t\t--editor-background: black;\n\t\t\t\t\t--hover-preview: #999999;\n\t\t\t\t\t--playhead: #999999;\n\t\t\t\t\t--primary-text: #999999;\n\t\t\t\t\t--secondary-text: #444444;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: #999999;\n\t\t\t\t\t--box-selection-fill: #999999;\n\t\t\t\t\t--loop-accent: #999999;\n\t\t\t\t\t--link-accent: #999999;\n\t\t\t\t\t--ui-widget-background: #222222;\n\t\t\t\t\t--ui-widget-focus: #444444;\n\t\t\t\t--pitch-background: #101010;\n\t\t\t\t\t--tonic: #404040;\n\t\t\t\t\t--fifth-note: #202020;\n\t\t\t\t\t--white-piano-key: #999999;\n\t\t\t\t\t--black-piano-key: #101010;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 3;\n\t\t\t\t\t--pitch1-secondary-channel: #004444;\n\t\t\t\t\t--pitch1-primary-channel:   #009999;\n\t\t\t\t\t--pitch1-secondary-note:    #004444;\n\t\t\t\t\t--pitch1-primary-note:      #009999;\n\t\t\t\t\t--pitch2-secondary-channel: #444400;\n\t\t\t\t\t--pitch2-primary-channel:   #999900;\n\t\t\t\t\t--pitch2-secondary-note:    #444400;\n\t\t\t\t\t--pitch2-primary-note:      #999900;\n\t\t\t\t\t--pitch3-secondary-channel: #443300;\n\t\t\t\t\t--pitch3-primary-channel:   #996600;\n\t\t\t\t\t--pitch3-secondary-note:    #443300;\n\t\t\t\t\t--pitch3-primary-note:      #996600;\n\t\t\t\t\t--pitch4-secondary-channel: #004400;\n\t\t\t\t\t--pitch4-primary-channel:   #009900;\n\t\t\t\t\t--pitch4-secondary-note:    #004400;\n\t\t\t\t\t--pitch4-primary-note:      #009900;\n\t\t\t\t\t--pitch5-secondary-channel: #440044;\n\t\t\t\t\t--pitch5-primary-channel:   #990099;\n\t\t\t\t\t--pitch5-secondary-note:    #440044;\n\t\t\t\t\t--pitch5-primary-note:      #990099;\n\t\t\t\t\t--pitch6-secondary-channel: #333344;\n\t\t\t\t\t--pitch6-primary-channel:   #666699;\n\t\t\t\t\t--pitch6-secondary-note:    #333344;\n\t\t\t\t\t--pitch6-primary-note:      #666699;\n\t\t\t\t\t--pitch7-secondary-channel: #444400;\n\t\t\t\t\t--pitch7-primary-channel:   #999900;\n\t\t\t\t\t--pitch7-secondary-note:    #444400;\n\t\t\t\t\t--pitch7-primary-note:      #999900;\n\t\t\t\t\t--pitch8-secondary-channel: #824E54;\n\t\t\t\t\t--pitch8-primary-channel:   #C4757E;\n\t\t\t\t\t--pitch8-secondary-note:    #824E54;\n\t\t\t\t\t--pitch8-primary-note:      #C4757E;\n\t\t\t\t\t--pitch9-secondary-channel: #006342;\n\t\t\t\t\t--pitch9-primary-channel:   #008E5F;\n\t\t\t\t\t--pitch9-secondary-note:    #006342;\n\t\t\t\t\t--pitch9-primary-note:      #008E5F;\n\t\t\t\t\t--pitch10-secondary-channel: #561291;\n\t\t\t\t\t--pitch10-primary-channel:   #7819C1;\n\t\t\t\t\t--pitch10-secondary-note:    #561291;\n\t\t\t\t\t--pitch10-primary-note:      #7819C1;\n\t\t\t\t\t--noise1-secondary-channel: #444444;\n\t\t\t\t\t--noise1-primary-channel:   #999999;\n\t\t\t\t\t--noise1-secondary-note:    #444444;\n\t\t\t\t\t--noise1-primary-note:      #999999;\n\t\t\t\t\t--noise2-secondary-channel: #443311;\n\t\t\t\t\t--noise2-primary-channel:   #996633;\n\t\t\t\t\t--noise2-secondary-note:    #443311;\n\t\t\t\t\t--noise2-primary-note:      #996633;\n\t\t\t\t\t--noise3-secondary-channel: #113344;\n\t\t\t\t\t--noise3-primary-channel:   #336699;\n\t\t\t\t\t--noise3-secondary-note:    #113344;\n\t\t\t\t\t--noise3-primary-note:      #336699;\n\t\t\t\t\t--noise4-secondary-channel: #444444;\n\t\t\t\t\t--noise4-primary-channel:   #999999;\n\t\t\t\t\t--noise4-secondary-note:    #444444;\n\t\t\t\t\t--noise4-primary-note:      #999999;\n\t\t\t\t\t--noise5-secondary-channel: #443311;\n\t\t\t\t\t--noise5-primary-channel:   #996633;\n\t\t\t\t\t--noise5-secondary-note:    #443311;\n\t\t\t\t\t--noise5-primary-note:      #996633;\n          --mod1-secondary-channel: #004444;\n\t\t\t\t\t--mod1-primary-channel:   #009999;\n\t\t\t\t\t--mod1-secondary-note:    #004444;\n\t\t\t\t\t--mod1-primary-note:      #009999;\n\t\t\t\t\t--mod2-secondary-channel: #444400;\n\t\t\t\t\t--mod2-primary-channel:   #999900;\n\t\t\t\t\t--mod2-secondary-note:    #444400;\n\t\t\t\t\t--mod2-primary-note:      #999900;\n\t\t\t\t\t--mod3-secondary-channel: #443300;\n\t\t\t\t\t--mod3-primary-channel:   #996600;\n\t\t\t\t\t--mod3-secondary-note:    #443300;\n\t\t\t\t\t--mod3-primary-note:      #996600;\n\t\t\t\t\t--mod4-secondary-channel: #004400;\n\t\t\t\t\t--mod4-primary-channel:   #009900;\n\t\t\t\t\t--mod4-secondary-note:    #004400;\n\t\t\t\t\t--mod4-primary-note:      #009900;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t\t.beepboxEditor button, .beepboxEditor select {\n\t\t\t\t\tbox-shadow: inset 0 0 0 1px var(--secondary-text);\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"mainbox 1.0\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #2F1C40;\n\t\t\t\t--link-accent: #543873;\n\t\t\t\t--ui-widget-background: #2F1C40;\n\t\t\t\t--ui-widget-focus: #543873;\n\t\t\t\t--pitch-background: #2F1C40;\n\t\t\t\t--tonic: #42286D;\n\t\t\t\t--fifth-note: #37416B;\n\t\t\t\t--white-piano-key: #156CB6;\n\t\t\t\t--black-piano-key: #130D14;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 3;\n\t\t\t\t\t--pitch1-secondary-channel: #156C99;\n\t\t\t\t\t--pitch1-primary-channel:   #00CFDF;\n\t\t\t\t\t--pitch1-secondary-note:    #0080A8;\n\t\t\t\t\t--pitch1-primary-note:      #009FC6;\n\t\t\t\t\t--pitch2-secondary-channel: #AD923A;\n\t\t\t\t\t--pitch2-primary-channel:   #FFD552;\n\t\t\t\t\t--pitch2-secondary-note:    #C49736;\n\t\t\t\t\t--pitch2-primary-note:      #EFC742;\n\t\t\t\t\t--pitch3-secondary-channel: #7A401E;\n\t\t\t\t\t--pitch3-primary-channel:   #C14E30;\n\t\t\t\t\t--pitch3-secondary-note:    #89381B;\n\t\t\t\t\t--pitch3-primary-note:      #E15427;\n\t\t\t\t\t--pitch4-secondary-channel: #0B6030;\n\t\t\t\t\t--pitch4-primary-channel:   #00915C;\n\t\t\t\t\t--pitch4-secondary-note:    #004337;\n\t\t\t\t\t--pitch4-primary-note:      #00915E;\n\t\t\t\t\t--pitch5-secondary-channel: #543873;\n\t\t\t\t\t--pitch5-primary-channel:   #695B95;\n\t\t\t\t\t--pitch5-secondary-note:    #8188BE;\n\t\t\t\t\t--pitch5-primary-note:      #848ED8;\n\t\t\t\t\t--pitch6-secondary-channel: #585882;\n\t\t\t\t\t--pitch6-primary-channel:   #5A72DD;\n\t\t\t\t\t--pitch6-secondary-note:    #8888d0;\n\t\t\t\t\t--pitch6-primary-note:      #d0d0ff;\n\t\t\t\t\t--pitch7-secondary-channel: #7D7C2E;\n\t\t\t\t\t--pitch7-primary-channel:   #B0C952;\n\t\t\t\t\t--pitch7-secondary-note:    #7D7C2E;\n\t\t\t\t\t--pitch7-primary-note:      #B0C952;\n\t\t\t\t\t--pitch8-secondary-channel: #7F426A;\n\t\t\t\t\t--pitch8-primary-channel:   #B75297;\n\t\t\t\t\t--pitch8-secondary-note:    #7F426A;\n\t\t\t\t\t--pitch8-primary-note:      #B75297;\n\t\t\t\t\t--pitch9-secondary-channel: #2A6B65;\n\t\t\t\t\t--pitch9-primary-channel:   #3BA590;\n\t\t\t\t\t--pitch9-secondary-note:    #2A6B65;\n\t\t\t\t\t--pitch9-primary-note:      #3BA590;\n\t\t\t\t\t--pitch10-secondary-channel: #713EA0;\n\t\t\t\t\t--pitch10-primary-channel:   #925EC9;\n\t\t\t\t\t--pitch10-secondary-note:    #713EA0;\n\t\t\t\t\t--pitch10-primary-note:      #925EC9;\n\t\t\t\t\t--noise1-secondary-channel: #6C6C8E;\n\t\t\t\t\t--noise1-primary-channel:   #8A7F96;\n\t\t\t\t\t--noise1-secondary-note:    #A1A3B7;\n\t\t\t\t\t--noise1-primary-note:      #DDBADD;\n\t\t\t\t\t--noise2-secondary-channel: #865E40;\n\t\t\t\t\t--noise2-primary-channel:   #ddaa77;\n\t\t\t\t\t--noise2-secondary-note:    #C7B47A;\n\t\t\t\t\t--noise2-primary-note:      #CFC587;\n\t\t\t\t\t--noise3-secondary-channel: #7E7068;\n\t\t\t\t\t--noise3-primary-channel:   #B19998;\n\t\t\t\t\t--noise3-secondary-note:    #BAA6BC;\n\t\t\t\t\t--noise3-primary-note:      #EDDCEC;\n\t\t\t\t--noise4-secondary-channel: #7A4F9A;\n\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t--noise4-primary-note:      #D4C1EA;\n\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n          --mod1-secondary-channel: #156C99;\n\t\t\t\t\t--mod1-primary-channel:   #00CFDF;\n\t\t\t\t\t--mod1-secondary-note:    #0080A8;\n\t\t\t\t\t--mod1-primary-note:      #009FC6;\n\t\t\t\t\t--mod2-secondary-channel: #AD923A;\n\t\t\t\t\t--mod2-primary-channel:   #FFD552;\n\t\t\t\t\t--mod2-secondary-note:    #C49736;\n\t\t\t\t\t--mod2-primary-note:      #EFC742;\n\t\t\t\t\t--mod3-secondary-channel: #7A401E;\n\t\t\t\t\t--mod3-primary-channel:   #C14E30;\n\t\t\t\t\t--mod3-secondary-note:    #89381B;\n\t\t\t\t\t--mod3-primary-note:      #E15427;\n\t\t\t\t\t--mod4-secondary-channel: #0B6030;\n\t\t\t\t\t--mod4-primary-channel:   #00915C;\n\t\t\t\t\t--mod4-secondary-note:    #004337;\n\t\t\t\t\t--mod4-primary-note:      #00915E;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t \"fogbox\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: #252525;\n\t\t\t\t--editor-background: #252525;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #74f;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t--pitch1-secondary-channel: #0099A1;\n\t\t\t\t--pitch1-primary-channel:   #25F3FF;\n\t\t\t\t--pitch1-secondary-note:    #00BDC7;\n\t\t\t\t--pitch1-primary-note:      #92F9FF;\n\t\t\t\t--pitch2-secondary-channel: #A1A100;\n\t\t\t\t--pitch2-primary-channel:   #FFFF25;\n\t\t\t\t--pitch2-secondary-note:    #C7C700;\n\t\t\t\t--pitch2-primary-note:      #FFFF92;\n\t\t\t\t--pitch3-secondary-channel: #C75000;\n\t\t\t\t--pitch3-primary-channel:   #FF9752;\n\t\t\t\t--pitch3-secondary-note:    #FF771C;\n\t\t\t\t--pitch3-primary-note:      #FFCDAB;\n\t\t\t\t--pitch4-secondary-channel: #00A100;\n\t\t\t\t--pitch4-primary-channel:   #50FF50;\n\t\t\t\t--pitch4-secondary-note:    #00C700;\n\t\t\t\t--pitch4-primary-note:      #A0FFA0;\n\t\t\t\t--pitch5-secondary-channel: #D020D0;\n\t\t\t\t--pitch5-primary-channel:   #FF90FF;\n\t\t\t\t--pitch5-secondary-note:    #E040E0;\n\t\t\t\t--pitch5-primary-note:      #FFC0FF;\n\t\t\t\t--pitch6-secondary-channel: #7777B0;\n\t\t\t\t--pitch6-primary-channel:   #A0A0FF;\n\t\t\t\t--pitch6-secondary-note:    #8888D0;\n\t\t\t\t--pitch6-primary-note:      #D0D0FF;\n\t\t\t\t--pitch7-secondary-channel: #8AA100;\n\t\t\t\t--pitch7-primary-channel:   #DEFF25;\n\t\t\t\t--pitch7-secondary-note:    #AAC700;\n\t\t\t\t--pitch7-primary-note:      #E6FF92;\n\t\t\t\t--pitch8-secondary-channel: #DF0019;\n\t\t\t\t--pitch8-primary-channel:   #FF98A4;\n\t\t\t\t--pitch8-secondary-note:    #FF4E63;\n\t\t\t\t--pitch8-primary-note:      #FFB2BB;\n\t\t\t\t--pitch9-secondary-channel: #00A170;\n\t\t\t\t--pitch9-primary-channel:   #50FFC9;\n\t\t\t\t--pitch9-secondary-note:    #00C78A;\n\t\t\t\t--pitch9-primary-note:      #83FFD9;\n\t\t\t\t--pitch10-secondary-channel:#A11FFF;\n\t\t\t\t--pitch10-primary-channel:  #CE8BFF;\n\t\t\t\t--pitch10-secondary-note:   #B757FF;\n\t\t\t\t--pitch10-primary-note:     #DFACFF;\n\t\t\t\t--noise1-secondary-channel: #6F6F6F;\n\t\t\t\t--noise1-primary-channel:   #AAAAAA;\n\t\t\t\t--noise1-secondary-note:    #A7A7A7;\n\t\t\t\t--noise1-primary-note:      #E0E0E0;\n\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t--noise2-primary-channel:   #DDAA77;\n\t\t\t\t--noise2-secondary-note:    #CC9966;\n\t\t\t\t--noise2-primary-note:      #F0D0BB;\n\t\t\t\t--noise3-secondary-channel: #4A6D8F;\n\t\t\t\t--noise3-primary-channel:   #77AADD;\n\t\t\t\t--noise3-secondary-note:    #6F9FCF;\n\t\t\t\t--noise3-primary-note:      #BBD7FF;\n\t\t\t\t--noise4-secondary-channel: #7A4F9A;\n\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t--noise4-primary-note:      #D4C1EA;\n\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n          --mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77fc55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #cdffee;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ffb8de;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:\t    #f8ddff;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #fff6d3;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"foxbox\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: #ADD8E6;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #74f;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t--pitch1-secondary-channel: #0099A1;\n\t\t\t\t--pitch1-primary-channel:   #25F3FF;\n\t\t\t\t--pitch1-secondary-note:    #00BDC7;\n\t\t\t\t--pitch1-primary-note:      #92F9FF;\n\t\t\t\t--pitch2-secondary-channel: #A1A100;\n\t\t\t\t--pitch2-primary-channel:   #FFFF25;\n\t\t\t\t--pitch2-secondary-note:    #C7C700;\n\t\t\t\t--pitch2-primary-note:      #FFFF92;\n\t\t\t\t--pitch3-secondary-channel: #C75000;\n\t\t\t\t--pitch3-primary-channel:   #FF9752;\n\t\t\t\t--pitch3-secondary-note:    #FF771C;\n\t\t\t\t--pitch3-primary-note:      #FFCDAB;\n\t\t\t\t--pitch4-secondary-channel: #00A100;\n\t\t\t\t--pitch4-primary-channel:   #50FF50;\n\t\t\t\t--pitch4-secondary-note:    #00C700;\n\t\t\t\t--pitch4-primary-note:      #A0FFA0;\n\t\t\t\t--pitch5-secondary-channel: #D020D0;\n\t\t\t\t--pitch5-primary-channel:   #FF90FF;\n\t\t\t\t--pitch5-secondary-note:    #E040E0;\n\t\t\t\t--pitch5-primary-note:      #FFC0FF;\n\t\t\t\t--pitch6-secondary-channel: #7777B0;\n\t\t\t\t--pitch6-primary-channel:   #A0A0FF;\n\t\t\t\t--pitch6-secondary-note:    #8888D0;\n\t\t\t\t--pitch6-primary-note:      #D0D0FF;\n\t\t\t\t--pitch7-secondary-channel: #8AA100;\n\t\t\t\t--pitch7-primary-channel:   #DEFF25;\n\t\t\t\t--pitch7-secondary-note:    #AAC700;\n\t\t\t\t--pitch7-primary-note:      #E6FF92;\n\t\t\t\t--pitch8-secondary-channel: #DF0019;\n\t\t\t\t--pitch8-primary-channel:   #FF98A4;\n\t\t\t\t--pitch8-secondary-note:    #FF4E63;\n\t\t\t\t--pitch8-primary-note:      #FFB2BB;\n\t\t\t\t--pitch9-secondary-channel: #00A170;\n\t\t\t\t--pitch9-primary-channel:   #50FFC9;\n\t\t\t\t--pitch9-secondary-note:    #00C78A;\n\t\t\t\t--pitch9-primary-note:      #83FFD9;\n\t\t\t\t--pitch10-secondary-channel:#A11FFF;\n\t\t\t\t--pitch10-primary-channel:  #CE8BFF;\n\t\t\t\t--pitch10-secondary-note:   #B757FF;\n\t\t\t\t--pitch10-primary-note:     #DFACFF;\n\t\t\t\t--noise1-secondary-channel: #6F6F6F;\n\t\t\t\t--noise1-primary-channel:   #AAAAAA;\n\t\t\t\t--noise1-secondary-note:    #A7A7A7;\n\t\t\t\t--noise1-primary-note:      #E0E0E0;\n\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t--noise2-primary-channel:   #DDAA77;\n\t\t\t\t--noise2-secondary-note:    #CC9966;\n\t\t\t\t--noise2-primary-note:      #F0D0BB;\n\t\t\t\t--noise3-secondary-channel: #4A6D8F;\n\t\t\t\t--noise3-primary-channel:   #77AADD;\n\t\t\t\t--noise3-secondary-note:    #6F9FCF;\n\t\t\t\t--noise3-primary-note:      #BBD7FF;\n\t\t\t\t--noise4-secondary-channel: #7A4F9A;\n\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t--noise4-primary-note:      #D4C1EA;\n\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n          --mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77fc55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #cdffee;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ffb8de;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:\t    #f8ddff;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #fff6d3;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\t\n\t\t\t\t}\n\t\t\t`,\n\t\t\t \"wackybox\": `\n\t\t\t\n\t\t\t:root {\n\t\t\t\tcursor: url('wackybox_cursor.png'), auto;\n\t\t\t\t--page-margin: black;\n\t\t\t\t--editor-background: black;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: white;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t\t--loop-accent: #74f;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #444;\n\t\t\t\t--ui-widget-focus: #777;\n\t\t\t\t--pitch-background: #444;\n\t\t\t\t--tonic: #864;\n\t\t\t\t--fifth-note: #468;\n\t\t\t\t--white-piano-key: #bbb;\n\t\t\t\t--black-piano-key: #444;\n\t\t\t\t--white-piano-key-text: #131200;\n\t\t\t\t--black-piano-key-text: #fff;\n\t\t\t\t\t--use-color-formula: false;\n\t\t\t\t\t--track-editor-bg-pitch: #444;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #333;\n\t\t\t\t\t--track-editor-bg-noise: #444;\n\t\t\t\t\t--track-editor-bg-noise-dim: #333;\n\t\t\t\t\t--track-editor-bg-mod: #234;\n\t\t\t\t\t--track-editor-bg-mod-dim: #123;\n\t\t\t\t\t--multiplicative-mod-slider: #456;\n\t\t\t\t\t--overwriting-mod-slider: #654;\n\t\t\t\t\t--indicator-primary: #74f;\n\t\t\t\t\t--indicator-secondary: #444;\n\t\t\t\t\t--select2-opt-group: #585858;\n\t\t\t\t\t--input-box-outline: #333;\n\t\t\t\t\t--mute-button-normal: #ffa033;\n\t\t\t\t\t--mute-button-mod: #9a6bff;\n\t\t\t\t\t--pitch-channel-limit: 6;\n\t\t\t\t\t--noise-channel-limit: 3;\n\t\t\t\t--pitch1-secondary-channel: #0099A1;\n\t\t\t\t--pitch1-primary-channel:   #25F3FF;\n\t\t\t\t--pitch1-secondary-note:    #00BDC7;\n\t\t\t\t--pitch1-primary-note:      #92F9FF;\n\t\t\t\t--pitch2-secondary-channel: #A1A100;\n\t\t\t\t--pitch2-primary-channel:   #FFFF25;\n\t\t\t\t--pitch2-secondary-note:    #C7C700;\n\t\t\t\t--pitch2-primary-note:      #FFFF92;\n\t\t\t\t--pitch3-secondary-channel: #C75000;\n\t\t\t\t--pitch3-primary-channel:   #FF9752;\n\t\t\t\t--pitch3-secondary-note:    #FF771C;\n\t\t\t\t--pitch3-primary-note:      #FFCDAB;\n\t\t\t\t--pitch4-secondary-channel: #00A100;\n\t\t\t\t--pitch4-primary-channel:   #50FF50;\n\t\t\t\t--pitch4-secondary-note:    #00C700;\n\t\t\t\t--pitch4-primary-note:      #A0FFA0;\n\t\t\t\t--pitch5-secondary-channel: #D020D0;\n\t\t\t\t--pitch5-primary-channel:   #FF90FF;\n\t\t\t\t--pitch5-secondary-note:    #E040E0;\n\t\t\t\t--pitch5-primary-note:      #FFC0FF;\n\t\t\t\t--pitch6-secondary-channel: #7777B0;\n\t\t\t\t--pitch6-primary-channel:   #A0A0FF;\n\t\t\t\t--pitch6-secondary-note:    #8888D0;\n\t\t\t\t--pitch6-primary-note:      #D0D0FF;\n\t\t\t\t--pitch7-secondary-channel: #8AA100;\n\t\t\t\t--pitch7-primary-channel:   #DEFF25;\n\t\t\t\t--pitch7-secondary-note:    #AAC700;\n\t\t\t\t--pitch7-primary-note:      #E6FF92;\n\t\t\t\t--pitch8-secondary-channel: #DF0019;\n\t\t\t\t--pitch8-primary-channel:   #FF98A4;\n\t\t\t\t--pitch8-secondary-note:    #FF4E63;\n\t\t\t\t--pitch8-primary-note:      #FFB2BB;\n\t\t\t\t--pitch9-secondary-channel: #00A170;\n\t\t\t\t--pitch9-primary-channel:   #50FFC9;\n\t\t\t\t--pitch9-secondary-note:    #00C78A;\n\t\t\t\t--pitch9-primary-note:      #83FFD9;\n\t\t\t\t--pitch10-secondary-channel:#A11FFF;\n\t\t\t\t--pitch10-primary-channel:  #CE8BFF;\n\t\t\t\t--pitch10-secondary-note:   #B757FF;\n\t\t\t\t--pitch10-primary-note:     #DFACFF;\n\t\t\t\t--noise1-secondary-channel: #6F6F6F;\n\t\t\t\t--noise1-primary-channel:   #AAAAAA;\n\t\t\t\t--noise1-secondary-note:    #A7A7A7;\n\t\t\t\t--noise1-primary-note:      #E0E0E0;\n\t\t\t\t--noise2-secondary-channel: #996633;\n\t\t\t\t--noise2-primary-channel:   #DDAA77;\n\t\t\t\t--noise2-secondary-note:    #CC9966;\n\t\t\t\t--noise2-primary-note:      #F0D0BB;\n\t\t\t\t--noise3-secondary-channel: #4A6D8F;\n\t\t\t\t--noise3-primary-channel:   #77AADD;\n\t\t\t\t--noise3-secondary-note:    #6F9FCF;\n\t\t\t\t--noise3-primary-note:      #BBD7FF;\n\t\t\t\t--noise4-secondary-channel: #7A4F9A;\n\t\t\t\t--noise4-primary-channel:   #AF82D2;\n\t\t\t\t--noise4-secondary-note:    #9E71C1;\n\t\t\t\t--noise4-primary-note:      #D4C1EA;\n\t\t\t\t--noise5-secondary-channel: #607837;\n\t\t\t\t--noise5-primary-channel:   #A2BB77;\n\t\t\t\t--noise5-secondary-note:    #91AA66;\n\t\t\t\t--noise5-primary-note:      #C5E2B2;\n          --mod1-secondary-channel:   #339955;\n\t\t\t\t\t--mod1-primary-channel:     #77fc55;\n\t\t\t\t\t--mod1-secondary-note:      #77ff8a;\n\t\t\t\t\t--mod1-primary-note:        #cdffee;\n\t\t\t\t\t--mod2-secondary-channel:   #993355;\n\t\t\t\t\t--mod2-primary-channel:     #f04960;\n\t\t\t\t\t--mod2-secondary-note:      #f057a0;\n\t\t\t\t\t--mod2-primary-note:        #ffb8de;\n\t\t\t\t\t--mod3-secondary-channel:   #553399;\n\t\t\t\t\t--mod3-primary-channel:     #8855fc;\n\t\t\t\t\t--mod3-secondary-note:      #aa64ff;\n\t\t\t\t\t--mod3-primary-note:\t    #f8ddff;\n\t\t\t\t\t--mod4-secondary-channel:   #a86436;\n\t\t\t\t\t--mod4-primary-channel:     #c8a825;\n\t\t\t\t\t--mod4-secondary-note:      #e8ba46;\n\t\t\t\t\t--mod4-primary-note:        #fff6d3;\n\t\t\t\t\t--mod-label-primary:        #999;\n\t\t\t\t\t--mod-label-secondary-text: #333;\n\t\t\t\t\t--mod-label-primary-text:   black;\n\t\t\t\t\t--disabled-note-primary:    #999;\n\t\t\t\t\t--disabled-note-secondary:  #666;\n\t\t\t\t}\n\n.beepboxEditor {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\t\t\n.beepboxEditor .tip {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.beepboxEditor .prompt label {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.beepboxEditor .layout-option {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.beepboxEditor select {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.select2-selection__rendered {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.select2-container--default .select2-results__group {\n    cursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.beepboxEditor button {\n\t cursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.beepboxEditor canvas {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n.beepboxEditor input {\n\tcursor: url('wackybox_cursor.png'), auto !important;;\n}\n\n\t\t\t`,\n\t\t\t \"microbox\": `\n\t\t\t\t:root {\n\t\t\t\t\t--page-margin: #000000;\n\t\t\t\t\t--editor-background: #000000;\n\t\t\t\t\t--hover-preview: white;\n\t\t\t\t\t--playhead: rgba(255, 255, 255, 0.9);\n\t\t\t\t\t--primary-text: white;\n\t\t\t\t\t--secondary-text: #93B6AD;\n\t\t\t\t\t--inverted-text: black;\n\t\t\t\t\t--text-selection: rgba(47,255,250,0.99);\n\t\t\t\t\t--box-selection-fill: #03B068;\n\t\t\t\t\t--loop-accent: #FF0061;\n\t\t\t\t\t--link-accent: #FFC800;\n\t\t\t\t\t--ui-widget-background: #38554E;\n\t\t\t\t\t--ui-widget-focus: #2A7E69;\n\t\t\t\t\t--pitch-background: #281F23;\n\t\t\t\t\t--tonic: #004634;\n\t\t\t\t\t--fifth-note: #463400;\n\t\t\t\t\t--white-piano-key: #edc;\n\t\t\t\t\t--black-piano-key: #456;\n\t\t\t\t\t--use-color-formula: true;\n\t\t\t\t\t--track-editor-bg-pitch: #333333;\n\t\t\t\t\t--track-editor-bg-pitch-dim: #000000;\n\t\t\t\t\t--track-editor-bg-noise: #463400;\n\t\t\t\t\t--track-editor-bg-noise-dim: #000000;\n\t\t\t\t\t--track-editor-bg-mod: #004634;\n\t\t\t\t\t--track-editor-bg-mod-dim: #000000;\n\t\t\t\t\t--multiplicative-mod-slider: #FFC800;\n\t\t\t\t\t--overwriting-mod-slider: #00ffc0;\n\t\t\t\t\t--indicator-primary: #333333;\n\t\t\t\t\t--indicator-secondary: #00ffc0;\n\t\t\t\t\t--select2-opt-group: #2B2B2B;\n\t\t\t\t\t--input-box-outline: #69BFC6;\n\t\t\t\t\t--mute-button-normal: #00ffc0;\n\t\t\t\t\t--mute-button-mod: #FFC800;\n\t\t\t\t\t--mod-label-primary: #38554E;\n\t\t\t\t\t--mod-label-secondary-text: rgb(0, 43, 45);\n\t\t\t\t\t--mod-label-primary-text: white;\n\t\t\t\t\t--pitch-secondary-channel-hue: 0;\n\t\t\t\t\t--pitch-secondary-channel-hue-scale: 6.1;\n\t\t\t\t\t--pitch-secondary-channel-sat: 83.3;\n\t\t\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-channel-hue: 0;\n\t\t\t\t\t--pitch-primary-channel-hue-scale: 6.1;\n\t\t\t\t\t--pitch-primary-channel-sat: 100;\n\t\t\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t\t\t--pitch-secondary-note-hue: 0;\n\t\t\t\t\t--pitch-secondary-note-hue-scale: 6.1;\n\t\t\t\t\t--pitch-secondary-note-sat: 93.9;\n\t\t\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t\t\t--pitch-secondary-note-lum: 25;\n\t\t\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-hue: 0;\n\t\t\t\t\t--pitch-primary-note-hue-scale: 6.1;\n\t\t\t\t\t--pitch-primary-note-sat: 100;\n\t\t\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t\t\t--noise-secondary-channel-hue: 0;\n\t\t\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-primary-channel-hue: 0;\n\t\t\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t\t\t--noise-secondary-note-hue: 0;\n\t\t\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t\t\t--noise-primary-note-hue: 0;\n\t\t\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t\t\t--noise-primary-note-lum: 74;\n\t\t\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-hue: 192;\n\t\t\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-primary-channel-hue: 192;\n\t\t\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t\t\t--mod-secondary-note-hue: 192;\n\t\t\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t\t\t--mod-secondary-note-lum: 45;\n\t\t\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t\t\t--mod-primary-note-hue: 192;\n\t\t\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t\t\t--mod-primary-note-sat: 96;\n\t\t\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t\t\t--mod-primary-note-lum: 85;\n\t\t\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"paandorasbox\": `\n\t\t\t:root {\n\t\t\t --page-margin: #200000;\n\t\t\t  --editor-background: #200000;\n\t\t\t  --hover-preview: white;\n\t\t\t  --playhead: white;\n\t\t\t  --primary-text: white;\n\t\t\t  --secondary-text: #999;\n\t\t\t  --inverted-text: black;\n\t\t\t  --text-selection: #FF5100;\n\t\t\t  --box-selection-fill: rgba(255,255,255,0.2);\n\t\t\t  --loop-accent: #FF5100;\n\t\t\t  --link-accent: #0F0;\n\t\t\t  --ui-widget-background: #562334;\n\t\t\t  --ui-widget-focus: #6D1B36;\n\t\t\t  --pitch-background: #6D1B36;\n\t\t\t  --tonic: #FF5100;\n\t\t\t  --fifth-note: #00B6FF;\n\t\t\t  --white-piano-key: #bbb;\n\t\t\t  --black-piano-key: #444;\n\t\t\t  --use-color-formula: false;\n\t\t\t  --track-editor-bg-pitch: #380C14;\n\t\t\t  --track-editor-bg-pitch-dim: #200000;\n\t\t\t  --track-editor-bg-noise: #233323;\n\t\t\t  --track-editor-bg-noise-dim: #101A0F;\n\t\t\t  --track-editor-bg-mod: #234C82;\n\t\t\t  --track-editor-bg-mod-dim: #0D1D33;\n\t\t\t  --multiplicative-mod-slider: #456;\n\t\t\t  --overwriting-mod-slider: #654;\n\t\t\t  --indicator-primary: #FF5100;\n\t\t\t  --indicator-secondary: #444;\n\t\t\t  --select2-opt-group: #585858;\n\t\t\t  --input-box-outline: #333;\n\t\t\t  --mute-button-normal: #ffa033;\n\t\t\t  --mute-button-mod: #9a6bff;\n\t\t\t  --pitch1-secondary-channel: #00B200;\n\t\t\t  --pitch1-primary-channel: #0F0;\n\t\t\t  --pitch1-secondary-note: #00B200;\n\t\t\t  --pitch1-primary-note: #0F0;\n\t\t\t  --pitch2-secondary-channel: #00B282;\n\t\t\t  --pitch2-primary-channel: #00FFBF;\n\t\t\t  --pitch2-secondary-note: #00B282;\n\t\t\t  --pitch2-primary-note: #00FFBF;\n\t\t\t  --pitch3-secondary-channel: #00B2B2;\n\t\t\t  --pitch3-primary-channel: #0FF;\n\t\t\t  --pitch3-secondary-note: #00B2B2;\n\t\t\t  --pitch3-primary-note: #0FF;\n\t\t\t  --pitch4-secondary-channel: #2623B2;\n\t\t\t  --pitch4-primary-channel: #3631FF;\n\t\t\t  --pitch4-secondary-note: #2623B2;\n\t\t\t  --pitch4-primary-note: #3631FF;\n\t\t\t  --pitch5-secondary-channel: #7700B2;\n\t\t\t  --pitch5-primary-channel: #A0F;\n\t\t\t  --pitch5-secondary-note: #7700B2;\n\t\t\t  --pitch5-primary-note: #A0F;\n\t\t\t  --pitch6-secondary-channel: #B200B2;\n\t\t\t  --pitch6-primary-channel: #F0F;\n\t\t\t  --pitch6-secondary-note: #B200B2;\n\t\t\t  --pitch6-primary-note: #F0F;\n\t\t\t  --pitch7-secondary-channel: #B20000;\n\t\t\t  --pitch7-primary-channel: #F00;\n\t\t\t  --pitch7-secondary-note: #B20000;\n\t\t\t  --pitch7-primary-note: #F00;\n\t\t\t  --pitch8-secondary-channel: #00B200;\n\t\t\t  --pitch8-primary-channel: #0F0;\n\t\t\t  --pitch8-secondary-note: #00B200;\n\t\t\t  --pitch8-primary-note: #0F0;\n\t\t\t  --pitch9-secondary-channel: #00B282;\n\t\t\t  --pitch9-primary-channel: #0FF;\n\t\t\t  --pitch9-secondary-note: #00B282;\n\t\t\t  --pitch9-primary-note: #0FF;\n\t\t\t  --pitch10-secondary-channel: #0071B2;\n\t\t\t  --pitch10-primary-channel: #009EFF;\n\t\t\t  --pitch10-secondary-note: #0071B2;\n\t\t\t  --pitch10-primary-note: #009EFF;\n\t\t\t  --noise1-secondary-channel: #32B221;\n\t\t\t  --noise1-primary-channel: #44FF2F;\n\t\t\t  --noise1-secondary-note: #32B221;\n\t\t\t  --noise1-primary-note: #44FF2F;\n\t\t\t  --noise2-secondary-channel: #216FB2;\n\t\t\t  --noise2-primary-channel: #2F9DFF;\n\t\t\t  --noise2-secondary-note: #216FB2;\n\t\t\t  --noise2-primary-note: #2F9DFF;\n\t\t\t  --noise3-secondary-channel: #2623B2;\n\t\t\t  --noise3-primary-channel: #3631FF;\n\t\t\t  --noise3-secondary-note: #2623B2;\n\t\t\t  --noise3-primary-note: #3631FF;\n\t\t\t  --noise4-secondary-channel: #7223B2;\n\t\t\t  --noise4-primary-channel: #A531FF;\n\t\t\t  --noise4-secondary-note: #7223B2;\n\t\t\t  --noise4-primary-note: #A531FF;\n\t\t\t  --noise5-secondary-channel: #B2235A;\n\t\t\t  --noise5-primary-channel: #FF317E;\n\t\t\t  --noise5-secondary-note: #B2235A;\n\t\t\t  --noise5-primary-note: #FF317E;\n\t\t\t  --mod1-secondary-channel: #17B274;\n\t\t\t  --mod1-primary-channel: #21FFA8;\n\t\t\t  --mod1-secondary-note: #17B274;\n\t\t\t  --mod1-primary-note: #21FFA8;\n\t\t\t  --mod2-secondary-channel: #1783B2;\n\t\t\t  --mod2-primary-channel: #1FBAFF;\n\t\t\t  --mod2-secondary-note: #1783B2;\n\t\t\t  --mod2-primary-note: #1FBAFF;\n\t\t\t  --mod3-secondary-channel: #553399;\n\t\t\t  --mod3-primary-channel: #8855fc;\n\t\t\t  --mod3-secondary-note: #aa64ff;\n\t\t\t  --mod3-primary-note: #f8ddff;\n\t\t\t  --mod4-secondary-channel: #B20E6B;\n\t\t\t  --mod4-primary-channel: #FF1291;\n\t\t\t  --mod4-secondary-note: #B20E6B;\n\t\t\t  --mod4-primary-note: #FF1291;\n\t\t\t  --mod-label-primary: #994038;\n\t\t\t  --mod-label-secondary-text: #331512;\n\t\t\t  --mod-label-primary-text: #331512;\n\t\t\t  --disabled-note-primary: #994038;\n\t\t\t  --disabled-note-secondary: #331512;\n\t\t\t}\n\t\t\t`,\n\t\t\t \"slushie\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: #040814;\n    --editor-background: #040814;\n    --hover-preview: #c6f7ff;\n    --playhead: white;\n    --primary-text: #d3f3ff;\n    --secondary-text: #6f72b5;\n    --inverted-text: black;\n    --text-selection: rgba(119,68,255,0.99);\n    --box-selection-fill: rgb(43 70 171 / 62%);\n    --loop-accent: #573ebb;\n    --link-accent: #98f;\n    --ui-widget-background: #2e2f44;\n    --ui-widget-focus: #2b2c46;\n    --pitch-background: #353654;\n    --tonic: #716fe3;\n    --fifth-note: #76469b;\n    --white-piano-key: #abbce3;\n    --black-piano-key: #2f235e;\n    --use-color-formula: false;\n    --track-editor-bg-pitch: #3a3b5c;\n    --track-editor-bg-pitch-dim: #1f2036;\n    --track-editor-bg-noise: #3c3554;\n    --track-editor-bg-noise-dim: #1e1834;\n    --track-editor-bg-mod: #30335e;\n    --track-editor-bg-mod-dim: #161938;\n    --multiplicative-mod-slider: #e29cff;\n    --overwriting-mod-slider: #495789;\n    --indicator-primary: #e1a6ff;\n    --indicator-secondary: #415187;\n    --select2-opt-group: #22223a;\n    --input-box-outline: #2d2648;\n    --mute-button-normal: #7aceff;\n    --mute-button-mod: #9d6bff;\n    --pitch1-secondary-channel: #5f3ea5;\n    --pitch1-primary-channel: #c1a4ff;\n    --pitch1-secondary-note: #794fd3;\n    --pitch1-primary-note: #d8c6ff;\n    --pitch2-secondary-channel: #4f44bf;\n    --pitch2-primary-channel: #9287ff;\n    --pitch2-secondary-note: #5e51d9;\n    --pitch2-primary-note: #b6afff;\n    --pitch3-secondary-channel: #374eb9;\n    --pitch3-primary-channel: #8097ff;\n    --pitch3-secondary-note: #445cc9;\n    --pitch3-primary-note: #a0b2ff;\n    --pitch4-secondary-channel: #2867cf;\n    --pitch4-primary-channel: #6fa5ff;\n    --pitch4-secondary-note: #2e6ed7;\n    --pitch4-primary-note: #a6c7ff;\n    --pitch5-secondary-channel: #3175a7;\n    --pitch5-primary-channel: #7ec9ff;\n    --pitch5-secondary-note: #367eb3;\n    --pitch5-primary-note: #9fd7ff;\n    --pitch6-secondary-channel: #3993a9;\n    --pitch6-primary-channel: #8ce9ff;\n    --pitch6-secondary-note: #386da3;\n    --pitch6-primary-note: #9eecff;\n    --pitch7-secondary-channel: #369d8a;\n    --pitch7-primary-channel: #8bfce7;\n    --pitch7-secondary-note: #1c93a7;\n    --pitch7-primary-note: #abffef;\n    --pitch8-secondary-channel: #00A170;\n    --pitch8-primary-channel: #50FFC9;\n    --pitch8-secondary-note: #00C78A;\n    --pitch8-primary-note: #83FFD9;\n    --pitch9-secondary-channel: #49b374;\n    --pitch9-primary-channel: #8affa9;\n    --pitch9-secondary-note: #26815f;\n    --pitch9-primary-note: #c8ffde;\n    --pitch10-secondary-channel: #58a747;\n    --pitch10-primary-channel: #bbffaa;\n    --pitch10-secondary-note: #1d7c48;\n    --pitch10-primary-note: #c7ffbc;\n    --noise1-secondary-channel: #42829b;\n    --noise1-primary-channel: #97d3fc;\n    --noise1-secondary-note: #3f53b3;\n    --noise1-primary-note: #97d3fc;\n    --noise2-secondary-channel: #6354bb;\n    --noise2-primary-channel: #9a89ff;\n    --noise2-secondary-note: #5f4dcd;\n    --noise2-primary-note: #c6bcff;\n    --noise3-secondary-channel: #704a95;\n    --noise3-primary-channel: #c285ff;\n    --noise3-secondary-note: #ad5aff;\n    --noise3-primary-note: #d3a6ff;\n    --noise4-secondary-channel: #a53c65;\n    --noise4-primary-channel: #f794bb;\n    --noise4-secondary-note: #cb5080;\n    --noise4-primary-note: #f794bb;\n    --noise5-secondary-channel: #9b2d2d;\n    --noise5-primary-channel: #ff7676;\n    --noise5-secondary-note: #cb4444;\n    --noise5-primary-note: #ff9999;\n    --mod1-secondary-channel: #b7613c;\n    --mod1-primary-channel: #ff9f76;\n    --mod1-secondary-note: #e77e52;\n    --mod1-primary-note: #ffb99b;\n    --mod2-secondary-channel: #916d34;\n    --mod2-primary-channel: #fece80;\n    --mod2-secondary-note: #c58b35;\n    --mod2-primary-note: #ffdda5;\n    --mod3-secondary-channel: #83761a;\n    --mod3-primary-channel: #fdf68c;\n    --mod3-secondary-note: #c18e00;\n    --mod3-primary-note: #fdf68c;\n    --mod4-secondary-channel: #a86436;\n    --mod4-primary-channel: #c8a825;\n    --mod4-secondary-note: #e8ba46;\n    --mod4-primary-note: #c8a825;\n    --mod-label-primary: #37325e;\n    --mod-label-secondary-text: #6e8aa7;\n    --mod-label-primary-text: #c1ffff;\n    --disabled-note-primary: #999;\n    --disabled-note-secondary: #666;\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\"midbox\":\n\t\t`:root {\n\t\t\t--page-margin: #010a1e;\n\t\t\t--editor-background: #010a1e;\n\t\t\t--hover-preview: #dfe9fe;\n\t\t\t--playhead: #e7f5f6;\n\t\t\t--primary-text: #f0fdff;\n\t\t\t--secondary-text: #c4c7d7;\n\t\t\t--inverted-text: #0f0623;\n\t\t\t--text-selection: #3f0ab4;\n\t\t\t--box-selection-fill: #32afb3;\n\t\t\t--loop-accent: #1719ff;\n\t\t\t--link-accent: #83a6ed;\n\t\t\t--ui-widget-background: #222856;\n\t\t\t--ui-widget-focus: #21417c;\n\t\t\t--pitch-background: #10264a;\n\t\t\t--tonic: #0797ce;\n\t\t\t--fifth-note: #3e2fb5;\n\t\t\t--white-piano-key: #ebf3f4;\n\t\t\t--black-piano-key: #253353;\n\t\t\t--oscilloscope-line-L: #72dcfc;\n\t\t\t--oscilloscope-line-R: #304eff;\n\t\t\t--use-color-formula: true;\n\t\t\t--track-editor-bg-pitch: #183b65; \n\t\t\t--track-editor-bg-pitch-dim: #1f2c3d;\n\t\t\t--track-editor-bg-noise: #2e196d;\n\t\t\t--track-editor-bg-noise-dim: #212038;\n\t\t\t--track-editor-bg-mod: #066433;\n\t\t\t--track-editor-bg-mod-dim: #152b1f;\n\t\t\t--multiplicative-mod-slider: #1242a4;\n\t\t\t--overwriting-mod-slider: #2218db;\n\t\t\t--indicator-primary: #1698d3;\n\t\t\t--indicator-secondary: #1b478e;\n\t\t\t--select2-opt-group: #312f6d;\n\t\t\t--input-box-outline: #788b96;\n\t\t\t--mute-button-normal: #1d34f2;\n\t\t\t--mute-button-mod: #06bad6;\n\t\t\t--mod-label-primary: #14383f;\n\t\t\t--mod-label-secondary-text: #1d7080;\n\t\t\t--mod-label-primary-text: #b7e9f2;\n\t\t\t--pitch-secondary-channel-hue: 0;\n\t\t\t--pitch-secondary-channel-hue-scale: 6.1;\n\t\t\t--pitch-secondary-channel-sat: 83.3;\n\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t--pitch-primary-channel-hue: 0;\n\t\t\t--pitch-primary-channel-hue-scale: 6.1;\n\t\t\t--pitch-primary-channel-sat: 100;\n\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t--pitch-secondary-note-hue: 0;\n\t\t\t--pitch-secondary-note-hue-scale: 6.1;\n\t\t\t--pitch-secondary-note-sat: 93.9;\n\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t--pitch-secondary-note-lum: 25;\n\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t--pitch-primary-note-hue: 0;\n\t\t\t--pitch-primary-note-hue-scale: 6.1;\n\t\t\t--pitch-primary-note-sat: 100;\n\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t--noise-secondary-channel-hue: 0;\n\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t--noise-primary-channel-hue: 0;\n\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t--noise-secondary-note-hue: 0;\n\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t--noise-primary-note-hue: 0;\n\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t--noise-primary-note-lum: 74;\n\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t--mod-secondary-channel-hue: 192;\n\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t--mod-primary-channel-hue: 192;\n\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t--mod-secondary-note-hue: 192;\n\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t--mod-secondary-note-lum: 45;\n\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t--mod-primary-note-hue: 192;\n\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t--mod-primary-note-sat: 96;\n\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t--mod-primary-note-lum: 85;\n\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t--disabled-note-primary:    #53527b;\n\t\t\t--disabled-note-secondary:  #1c1b30;\n\t\t}`,\n\t\t\"dogebox2\": `\n\t\t\t:root {\n\t\t\t\t--page-margin: #000015;\n\t\t\t\t--editor-background: #000015;\n\t\t\t\t--hover-preview: #00ffff;\n\t\t\t\t--playhead: #00ffff;\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #999;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(255, 127, 80, 0.99);\n\t\t\t\t--box-selection-fill: rgba(255, 255, 255, 0.2);\n\t\t\t\t--loop-accent: #ff00ff;\n\t\t\t\t--link-accent: #00ffff;\n\t\t\t\t--ui-widget-background: #222222;\n\t\t\t\t--ui-widget-focus: #444444;\n\t\t\t\t--pitch-background: #222222;\n\t\t\t\t--tonic: #ab382c;\n\t\t\t\t--fifth-note: #2a76a8;\n\t\t\t\t--white-piano-key: #ffffff;\n\t\t\t\t--black-piano-key: #222222;\n\t\t\t\t--white-piano-key-text: #000000;\n\t\t\t\t--use-color-formula: false;\n\t\t\t\t--track-editor-bg-pitch: #222222;\n\t\t\t\t--track-editor-bg-pitch-dim: #111111;\n\t\t\t\t--track-editor-bg-noise: #222222;\n\t\t\t\t--track-editor-bg-noise-dim: #111111;\n\t\t\t\t--track-editor-bg-mod: #333333;\n\t\t\t\t--track-editor-bg-mod-dim: #111111;\n\t\t\t\t--multiplicative-mod-slider: #666666;\n\t\t\t\t--overwriting-mod-slider: #666666;\n\t\t\t\t--indicator-primary: #ff00ff;\n\t\t\t\t--indicator-secondary: #00ffff;\n\t\t\t\t--select2-opt-group: #333333;\n\t\t\t\t--input-box-outline: #444444;\n\t\t\t\t--mute-button-normal: #ff00ff;\n\t\t\t\t--mute-button-mod: #00ffff;\n\t\t\t\t--mod-label-primary: #282840;\n\t\t\t\t--mod-label-secondary-text: rgb(87, 86, 120);\n\t\t\t\t--mod-label-primary-text: white;\n\t\t\t\t--pitch1-secondary-channel: #bd9909;\n\t\t\t\t--pitch1-primary-channel: #fbff8e;\n\t\t\t\t--pitch1-secondary-note: #c79d3a;\n\t\t\t\t--pitch1-primary-note: #fdffb2;\n\t\t\t\t--pitch2-secondary-channel: #b86e0d;\n\t\t\t\t--pitch2-primary-channel: #ffb28e;\n\t\t\t\t--pitch2-secondary-note: #ba643a;\n\t\t\t\t--pitch2-primary-note: #fbac92;\n\t\t\t\t--pitch3-secondary-channel: #a81b08;\n\t\t\t\t--pitch3-primary-channel: #f56c67;\n\t\t\t\t--pitch3-secondary-note: #94352b;\n\t\t\t\t--pitch3-primary-note: #f56147;\n\t\t\t\t--pitch4-secondary-channel: #2a7722;\n\t\t\t\t--pitch4-primary-channel: #6ebf5e;\n\t\t\t\t--pitch4-secondary-note: #1c5c18;\n\t\t\t\t--pitch4-primary-note: #88cf82;\n\t\t\t\t--pitch5-secondary-channel: #8c8b3c;\n\t\t\t\t--pitch5-primary-channel: #c3c168;\n\t\t\t\t--pitch5-secondary-note: #747330;\n\t\t\t\t--pitch5-primary-note: #d4d394;\n\t\t\t\t--pitch6-secondary-channel: #3f9577;\n\t\t\t\t--pitch6-primary-channel: #6fc4b4;\n\t\t\t\t--pitch6-secondary-note: #2c6a5c;\n\t\t\t\t--pitch6-primary-note: #8fdad0;\n\t\t\t\t--pitch7-secondary-channel: #204a80;\n\t\t\t\t--pitch7-primary-channel: #6d9fc2;\n\t\t\t\t--pitch7-secondary-note: #132f5a;\n\t\t\t\t--pitch7-primary-note: #9dbed8;\n\t\t\t\t--pitch8-secondary-channel: #a531ad;\n\t\t\t\t--pitch8-primary-channel: #db68e3;\n\t\t\t\t--pitch8-secondary-note: #8d2f94;\n\t\t\t\t--pitch8-primary-note: #e66cbf;\n\t\t\t\t--pitch9-secondary-channel: #03a1a1;\n\t\t\t\t--pitch9-primary-channel: #52fffb;\n\t\t\t\t--pitch9-secondary-note: #34baba;\n\t\t\t\t--pitch9-primary-note: #60fbfb;\n\t\t\t\t--pitch10-secondary-channel: #4208a1;\n\t\t\t\t--pitch10-primary-channel: #9282ff;\n\t\t\t\t--pitch10-secondary-note: #5735b5;\n\t\t\t\t--pitch10-primary-note: #ab52fb;\n\t\t\t\t--noise1-secondary-channel: #2a5555;\n\t\t\t\t--noise1-primary-channel: #4c7878;\n\t\t\t\t--noise1-secondary-note: #6e9a9a;\n\t\t\t\t--noise1-primary-note: #90bcbc;\n\t\t\t\t--noise2-secondary-channel: #553355;\n\t\t\t\t--noise2-primary-channel: #775577;\n\t\t\t\t--noise2-secondary-note: #997799;\n\t\t\t\t--noise2-primary-note: #bbaa99;\n\t\t\t\t--noise3-secondary-channel: #2a6622;\n\t\t\t\t--noise3-primary-channel: #4c8844;\n\t\t\t\t--noise3-secondary-note: #6eaa66;\n\t\t\t\t--noise3-primary-note: #90cc88;\n\t\t\t\t--noise4-secondary-channel: #664400;\n\t\t\t\t--noise4-primary-channel: #886600;\n\t\t\t\t--noise4-secondary-note: #aa8800;\n\t\t\t\t--noise4-primary-note: #cccc00;\n\t\t\t\t--noise5-secondary-channel: #006633;\n\t\t\t\t--noise5-primary-channel: #008855;\n\t\t\t\t--noise5-secondary-note: #00aa77;\n\t\t\t\t--noise5-primary-note: #00cc99;\n\t\t\t\t--mod1-secondary-channel: #fe00ff;\n\t\t\t\t--mod1-primary-channel: #ff72ff;\n\t\t\t\t--mod1-secondary-note: #ff92ff;\n\t\t\t\t--mod1-primary-note: #ffb2fb;\n\t\t\t\t--mod2-secondary-channel: #00fe00;\n\t\t\t\t--mod2-primary-channel: #8eff8e;\n\t\t\t\t--mod2-secondary-note: #92ff92;\n\t\t\t\t--mod2-primary-note: #b2ffb2;\n\t\t\t\t--mod3-secondary-channel: #feff00;\n\t\t\t\t--mod3-primary-channel: #fffb8e;\n\t\t\t\t--mod3-secondary-note: #fffd92;\n\t\t\t\t--mod3-primary-note: #fffe92;\n\t\t\t\t--mod4-secondary-channel: #00fffe;\n\t\t\t\t--mod4-primary-channel: #82fffb;\n\t\t\t\t--mod4-secondary-note: #92ffff;\n\t\t\t\t--mod4-primary-note: #b2fffb;\n\t\t\t\t--disabled-note-primary: #c6c6c6;\n\t\t\t\t--disabled-note-secondary: #8c8c8c;\n\t\t\t\t}`,\n\t\t\"azur lane\":`\n\t\t:root {\n\t\t\t--page-margin: #19337e;\n\t\t\t--editor-background: #000333cf;\n\t\t\t--hover-preview: white;\n\t\t\t--playhead: rgba(255, 255, 255, 0.9);\n\t\t\t--primary-text: #9af9ff;\n\t\t\t--secondary-text: #4072dd;\n\t\t\t--inverted-text: black;\n\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t--box-selection-fill: #044b94;\n\t\t\t--loop-accent: #950d0d;\n\t\t\t--link-accent: #0072ff;\n\t\t\t--ui-widget-background: #255bb3;\n\t\t\t--ui-widget-focus: #757575;\n\t\t\t--pitch-background: #20468b73;\n\t\t\t--tonic: #c9c9c9;\n\t\t\t--fifth-note: #731d1d;\n\t\t\t--white-piano-key: #eee;\n\t\t\t--black-piano-key: #000;\n\t\t\t--white-piano-key-text: #131200;\n\t\t\t--black-piano-key-text: #fff;\n\t\t\t--use-color-formula: false;\n\t\t\t--track-editor-bg-pitch: #535a73;\n\t\t\t--track-editor-bg-pitch-dim: #353643;\n\t\t\t--track-editor-bg-noise: #770000;\n\t\t\t--track-editor-bg-noise-dim: #430000;\n\t\t\t--track-editor-bg-mod: #5d1d06;\n\t\t\t--track-editor-bg-mod-dim: #270000;\n\t\t\t--multiplicative-mod-slider: #bb0000;\n\t\t\t--overwriting-mod-slider: #ad0000;\n\t\t\t--indicator-primary: #9c64f7;\n\t\t\t--indicator-secondary: #393e4f;\n\t\t\t--select2-opt-group: #5d576f;\n\t\t\t--input-box-outline: #002957;\n\t\t\t--mute-button-normal: #ffffff;\n\t\t\t--mute-button-mod: #4f4f4f;\n\t\t\t--mod-label-primary: #531313;\n\t\t\t--pitch1-secondary-channel: #80858d;\n\t\t  --pitch1-primary-channel: #f2f7ff;\n\t\t  --pitch1-secondary-note: #80858d;\n\t\t  --pitch1-primary-note: #f2f7ff;\n\t\t  --pitch2-secondary-channel: #7392ad;\n\t\t  --pitch2-primary-channel: #a8d6ff;\n\t\t  --pitch2-secondary-note: #7392ad;\n\t\t  --pitch2-primary-note: #a8d6ff;\n\t\t  --pitch3-secondary-channel: #4b7eaa;\n\t\t  --pitch3-primary-channel: #71bdff;\n\t\t  --pitch3-secondary-note: #4b7eaa;\n\t\t  --pitch3-primary-note: #71bdff;\n\t\t  --pitch4-secondary-channel: #3594b1;\n\t\t  --pitch4-primary-channel: #48d4ff;\n\t\t  --pitch4-secondary-note: #3594b1;\n\t\t  --pitch4-primary-note: #48d4ff;\n\t\t  --pitch5-secondary-channel: #1b98b1;\n\t\t  --pitch5-primary-channel: #30f1ff;\n\t\t  --pitch5-secondary-note: #1b98b1;\n\t\t  --pitch5-primary-note: #30f1ff;\n\t\t  --pitch6-secondary-channel: #9e0000;\n\t\t  --pitch6-primary-channel: #db0000;\n\t\t  --pitch6-secondary-note: #9e0000;\n\t\t  --pitch6-primary-note: #db0000;\n\t\t  --pitch7-secondary-channel: #7c1717;\n\t\t  --pitch7-primary-channel: #9e0000;\n\t\t  --pitch7-secondary-note: #7c1717;\n\t\t  --pitch7-primary-note: #9e0000;\n\t\t  --pitch8-secondary-channel: #5c1f1f;\n\t\t  --pitch8-primary-channel: #7c1717;\n\t\t  --pitch8-secondary-note: #5c1f1f;\n\t\t  --pitch8-primary-note: #7c1717;\n\t\t  --pitch9-secondary-channel: #3e2020;\n\t\t  --pitch9-primary-channel: #5c1f1f;\n\t\t  --pitch9-secondary-note: #3e2020;\n\t\t  --pitch9-primary-note: #5c1f1f;\n\t\t  --pitch10-secondary-channel: #2f1c1c;\n\t\t  --pitch10-primary-channel: #5c1f1f;\n\t\t  --pitch10-secondary-note: #2f1c1c;\n\t\t  --pitch10-primary-note: #5c1f1f;\n\t\t  --noise1-secondary-channel: #828282;\n\t\t  --noise1-primary-channel: #cacaca;\n\t\t  --noise1-secondary-note: #828282;\n\t\t  --noise1-primary-note: #cacaca;\n\t\t  --noise2-secondary-channel: #2f8baf;\n\t\t  --noise2-primary-channel: #3de2ff;\n\t\t  --noise2-secondary-note: #2f8baf;\n\t\t  --noise2-primary-note: #3de2ff;\n\t\t  --noise3-secondary-channel: #6f50b1;\n\t\t  --noise3-primary-channel: #8567ff;\n\t\t  --noise3-secondary-note: #6f50b1;\n\t\t  --noise3-primary-note: #8567ff;\n\t\t  --noise4-secondary-channel: #d38900;\n\t\t  --noise4-primary-channel: #ffb500;\n\t\t  --noise4-secondary-note: #d38900;\n\t\t  --noise4-primary-note: #ffb500;\n\t\t  --noise5-secondary-channel: #af0008;\n\t\t  --noise5-primary-channel: #00d70e;\n\t\t  --noise5-secondary-note: #29b700;\n\t\t  --noise5-primary-note: #00f7ff;\n\t\t  --mod1-secondary-channel: #9d5bb9;\n\t\t  --mod1-primary-channel: #e16bff;\n\t\t  --mod1-secondary-note: #3a3ea4;\n\t\t  --mod1-primary-note: #fff;\n\t\t  --mod2-secondary-channel: #3a8d58;\n\t\t  --mod2-primary-channel: #42ffff;\n\t\t  --mod2-secondary-note: #3a8d58;\n\t\t  --mod2-primary-note: #42ffff;\n\t\t  --mod3-secondary-channel: #af6c00;\n\t\t  --mod3-primary-channel: #fa0;\n\t\t  --mod3-secondary-note: #0001a2;\n\t\t  --mod3-primary-note: #970000;\n\t\t  --mod4-secondary-channel: #d3d3d3;\n\t\t  --mod4-primary-channel: #759bff;\n\t\t  --mod4-secondary-note: #a00000;\n\t\t  --mod4-primary-note: #fff;\n\t\t  --disabled-note-primary: #3a3a3a;\n\t\t  --disabled-note-secondary: #000;\n\t\t\t}\n\t\t/* replaces hotdog (in a hacky way) with an image of the girls using the same scratch sprites from the 404 page*/\n\t\t#Hotdog {\n\t\tdisplay: none;\n\t\t}\n\t\t.instructions-column > section:first-of-type > p:first-of-type:after {\n\t\tdisplay: block;\n\t\tcontent: url(\"UltraboxAzurLaneThemeStarterSquad.png\");\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t\tmargin-top: 25px;\n\t\t}\n\t\t/* sets cursor */\n\t\t* {\n\t\tcursor: url(\"UltraBoxAzurLaneThemeMouse.png\"), auto !important;\n\t\t}\n\t\t/* sets background image */\n\t\tbody {\n\t\tbackground-image: url(\"UltraBoxAzurLaneThemeMemoryTaskBackground.png\") !important;\n\t\tbackground-size: cover;\n\t\tbackground-position: center;\n\t\tbackground-repeat: no-repeat;\n\t\t\t}\n\t\t\t/* make editor background transparent */\n\t\t#beepboxEditorContainer, .beepboxEditor, #text-content {\n\t\tbackground: #0400257d !important;\n\t\t}\n\t\t\t#text-content > section > h1 > font {\n\t\tdisplay: none;\n\t\t}\n\t\t#text-content > section > h1 {\n\t\tmargin: auto;\n\t\tcontent: url(\"UltraBoxALThemeLogo.png\");\n\t\t}\n\t}`,\n\t\t\t  \"custom\": `${localStorage.getItem(\"customColors\") || `:root {\n\t\t\t\t--page-margin: #040410;\n\t\t\t\t--editor-background: #040410;\n\t\t\t\t--hover-preview: white;\n\t\t\t\t--playhead: rgba(255, 255, 255, 0.9);\n\t\t\t\t--primary-text: white;\n\t\t\t\t--secondary-text: #84859a;\n\t\t\t\t--inverted-text: black;\n\t\t\t\t--text-selection: rgba(119,68,255,0.99);\n\t\t\t\t--box-selection-fill: #044b94;\n\t\t\t\t--loop-accent: #74f;\n\t\t\t\t--link-accent: #98f;\n\t\t\t\t--ui-widget-background: #393e4f;\n\t\t\t\t--ui-widget-focus: #6d6886;\n\t\t\t\t--pitch-background: #393e4f99;\n\t\t\t\t--tonic: #725491;\n\t\t\t\t--fifth-note: #54547a;\n\t\t\t\t--white-piano-key: #eee;\n\t\t\t\t--black-piano-key: #666;\n\t\t\t\t--use-color-formula: true;\n\t\t\t\t--track-editor-bg-pitch: #393e4f;\n\t\t\t\t--track-editor-bg-pitch-dim: #1c1d28;\n\t\t\t\t--track-editor-bg-noise: #3d3535;\n\t\t\t\t--track-editor-bg-noise-dim: #161313;\n\t\t\t\t--track-editor-bg-mod: #283560;\n\t\t\t\t--track-editor-bg-mod-dim: #0a101f;\n\t\t\t\t--multiplicative-mod-slider: #606c9f;\n\t\t\t\t--overwriting-mod-slider: #6850b5;\n\t\t\t\t--indicator-primary: #9c64f7;\n\t\t\t\t--indicator-secondary: #393e4f;\n\t\t\t\t--select2-opt-group: #5d576f;\n\t\t\t\t--input-box-outline: #222;\n\t\t\t\t--mute-button-normal: #dda85d;\n\t\t\t\t--mute-button-mod: #886eae;\n\t\t\t\t--mod-label-primary: #282840;\n\t\t\t\t--mod-label-secondary-text: rgb(87, 86, 120);\n\t\t\t\t--mod-label-primary-text: white;\n\t\t\t\t--pitch-secondary-channel-hue: 0;\n\t\t\t\t--pitch-secondary-channel-hue-scale: 6.1;\n\t\t\t\t--pitch-secondary-channel-sat: 83.3;\n\t\t\t\t--pitch-secondary-channel-sat-scale: 0.1;\n\t\t\t\t--pitch-secondary-channel-lum: 40;\n\t\t\t\t--pitch-secondary-channel-lum-scale: 0.05;\n\t\t\t\t--pitch-primary-channel-hue: 0;\n\t\t\t\t--pitch-primary-channel-hue-scale: 6.1;\n\t\t\t\t--pitch-primary-channel-sat: 100;\n\t\t\t\t--pitch-primary-channel-sat-scale: 0.1;\n\t\t\t\t--pitch-primary-channel-lum: 67.5;\n\t\t\t\t--pitch-primary-channel-lum-scale: 0.05;\n\t\t\t\t--pitch-secondary-note-hue: 0;\n\t\t\t\t--pitch-secondary-note-hue-scale: 6.1;\n\t\t\t\t--pitch-secondary-note-sat: 93.9;\n\t\t\t\t--pitch-secondary-note-sat-scale: 0.1;\n\t\t\t\t--pitch-secondary-note-lum: 25;\n\t\t\t\t--pitch-secondary-note-lum-scale: 0.05;\n\t\t\t\t--pitch-primary-note-hue: 0;\n\t\t\t\t--pitch-primary-note-hue-scale: 6.1;\n\t\t\t\t--pitch-primary-note-sat: 100;\n\t\t\t\t--pitch-primary-note-sat-scale: 0.05;\n\t\t\t\t--pitch-primary-note-lum: 85.6;\n\t\t\t\t--pitch-primary-note-lum-scale: 0.025;\n\t\t\t\t--noise-secondary-channel-hue: 0;\n\t\t\t\t--noise-secondary-channel-hue-scale: 2;\n\t\t\t\t--noise-secondary-channel-sat: 25;\n\t\t\t\t--noise-secondary-channel-sat-scale: 0;\n\t\t\t\t--noise-secondary-channel-lum: 42;\n\t\t\t\t--noise-secondary-channel-lum-scale: 0;\n\t\t\t\t--noise-primary-channel-hue: 0;\n\t\t\t\t--noise-primary-channel-hue-scale: 2;\n\t\t\t\t--noise-primary-channel-sat: 33;\n\t\t\t\t--noise-primary-channel-sat-scale: 0;\n\t\t\t\t--noise-primary-channel-lum: 63.5;\n\t\t\t\t--noise-primary-channel-lum-scale: 0;\n\t\t\t\t--noise-secondary-note-hue: 0;\n\t\t\t\t--noise-secondary-note-hue-scale: 2;\n\t\t\t\t--noise-secondary-note-sat: 33.5;\n\t\t\t\t--noise-secondary-note-sat-scale: 0;\n\t\t\t\t--noise-secondary-note-lum: 55;\n\t\t\t\t--noise-secondary-note-lum-scale: 0;\n\t\t\t\t--noise-primary-note-hue: 0;\n\t\t\t\t--noise-primary-note-hue-scale: 2;\n\t\t\t\t--noise-primary-note-sat: 46.5;\n\t\t\t\t--noise-primary-note-sat-scale: 0;\n\t\t\t\t--noise-primary-note-lum: 74;\n\t\t\t\t--noise-primary-note-lum-scale: 0;\n\t\t\t\t--mod-secondary-channel-hue: 192;\n\t\t\t\t--mod-secondary-channel-hue-scale: 1.5;\n\t\t\t\t--mod-secondary-channel-sat: 88;\n\t\t\t\t--mod-secondary-channel-sat-scale: 0;\n\t\t\t\t--mod-secondary-channel-lum: 50;\n\t\t\t\t--mod-secondary-channel-lum-scale: 0;\n\t\t\t\t--mod-primary-channel-hue: 192;\n\t\t\t\t--mod-primary-channel-hue-scale: 1.5;\n\t\t\t\t--mod-primary-channel-sat: 96;\n\t\t\t\t--mod-primary-channel-sat-scale: 0;\n\t\t\t\t--mod-primary-channel-lum: 80;\n\t\t\t\t--mod-primary-channel-lum-scale: 0;\n\t\t\t\t--mod-secondary-note-hue: 192;\n\t\t\t\t--mod-secondary-note-hue-scale: 1.5;\n\t\t\t\t--mod-secondary-note-sat: 92;\n\t\t\t\t--mod-secondary-note-sat-scale: 0;\n\t\t\t\t--mod-secondary-note-lum: 45;\n\t\t\t\t--mod-secondary-note-lum-scale: 0;\n\t\t\t\t--mod-primary-note-hue: 192;\n\t\t\t\t--mod-primary-note-hue-scale: 1.5;\n\t\t\t\t--mod-primary-note-sat: 96;\n\t\t\t\t--mod-primary-note-sat-scale: 0;\n\t\t\t\t--mod-primary-note-lum: 85;\n\t\t\t\t--mod-primary-note-lum-scale: 0;\n\t\t\t}`}`,\n    };\n\n    public static readonly pageMargin: string = \"var(--page-margin)\";\n    public static readonly editorBackground: string = \"var(--editor-background)\";\n    public static readonly hoverPreview: string = \"var(--hover-preview)\";\n    public static readonly playhead: string = \"var(--playhead)\";\n    public static readonly primaryText: string = \"var(--primary-text)\";\n    public static readonly secondaryText: string = \"var(--secondary-text)\";\n    public static readonly invertedText: string = \"var(--inverted-text)\";\n    public static readonly textSelection: string = \"var(--text-selection)\";\n    public static readonly boxSelectionFill: string = \"var(--box-selection-fill)\";\n    public static readonly loopAccent: string = \"var(--loop-accent)\";\n    public static readonly linkAccent: string = \"var(--link-accent)\";\n    public static readonly uiWidgetBackground: string = \"var(--ui-widget-background)\";\n    public static readonly uiWidgetFocus: string = \"var(--ui-widget-focus)\";\n    public static readonly pitchBackground: string = \"var(--pitch-background)\";\n    public static readonly tonic: string = \"var(--tonic)\";\n    public static readonly fifthNote: string = \"var(--fifth-note)\";\n    public static readonly whitePianoKey: string = \"var(--white-piano-key)\";\n    public static readonly blackPianoKey: string = \"var(--black-piano-key)\";\n    public static readonly whitePianoKeyText: string = \"var(--white-piano-key-text)\";\n    public static readonly blackPianoKeyText: string = \"var(--black-piano-key-text)\";\n\tpublic static readonly oscilloscopeLineL: string = \"var(--oscilloscope-line-L)\";\n\tpublic static readonly oscilloscopeLineR: string = \"var(--oscilloscope-line-R)\";\n\tpublic static readonly modTitle: string = \"var(--mod-title)\";\n    public static readonly useColorFormula: string = \"var(--use-color-formula)\";\n    public static readonly pitchSecondaryChannelHue: string = \"var(--pitch-secondary-channel-hue)\";\n    public static readonly pitchSecondaryChannelHueScale: string = \"var(--pitch-secondary-channel-hue-scale)\";\n    public static readonly pitchSecondaryChannelSat: string = \"var(--pitch-secondary-channel-sat)\";\n    public static readonly pitchSecondaryChannelSatScale: string = \"var(--pitch-secondary-channel-sat-scale)\";\n    public static readonly pitchSecondaryChannelLum: string = \"var(--pitch-secondary-channel-lum)\";\n    public static readonly pitchSecondaryChannelLumScale: string = \"var(--pitch-secondary-channel-lum-scale)\";\n    public static readonly pitchPrimaryChannelHue: string = \"var(--pitch-primary-channel-hue)\";\n    public static readonly pitchPrimaryChannelHueScale: string = \"var(--pitch-primary-channel-hue-scale)\";\n    public static readonly pitchPrimaryChannelSat: string = \"var(--pitch-primary-channel-sat)\";\n    public static readonly pitchPrimaryChannelSatScale: string = \"var(--pitch-primary-channel-sat-scale)\";\n    public static readonly pitchPrimaryChannelLum: string = \"var(--pitch-primary-channel-lum)\";\n    public static readonly pitchPrimaryChannelLumScale: string = \"var(--pitch-primary-channel-lum-scale)\";\n    public static readonly pitchSecondaryNoteHue: string = \"var(--pitch-secondary-note-hue)\";\n    public static readonly pitchSecondaryNoteHueScale: string = \"var(--pitch-secondary-note-hue-scale)\";\n    public static readonly pitchSecondaryNoteSat: string = \"var(--pitch-secondary-note-sat)\";\n    public static readonly pitchSecondaryNoteSatScale: string = \"var(--pitch-secondary-note-sat-scale)\";\n    public static readonly pitchSecondaryNoteLum: string = \"var(--pitch-secondary-note-lum)\";\n    public static readonly pitchSecondaryNoteLumScale: string = \"var(--pitch-secondary-note-lum-scale)\";\n    public static readonly pitchPrimaryNoteHue: string = \"var(--pitch-primary-note-hue)\";\n    public static readonly pitchPrimaryNoteHueScale: string = \"var(--pitch-primary-note-hue-scale)\";\n    public static readonly pitchPrimaryNoteSat: string = \"var(--pitch-primary-note-sat)\";\n    public static readonly pitchPrimaryNoteSatScale: string = \"var(--pitch-primary-note-sat-scale)\";\n    public static readonly pitchPrimaryNoteLum: string = \"var(--pitch-primary-note-lum)\";\n    public static readonly pitchPrimaryNoteLumScale: string = \"var(--pitch-primary-note-lum-scale)\";\n    public static readonly modSecondaryChannelHue: string = \"var(--mod-secondary-channel-hue)\";\n    public static readonly modSecondaryChannelHueScale: string = \"var(--mod-secondary-channel-hue-scale)\";\n    public static readonly modSecondaryChannelSat: string = \"var(--mod-secondary-channel-sat)\";\n    public static readonly modSecondaryChannelSatScale: string = \"var(--mod-secondary-channel-sat-scale)\";\n    public static readonly modSecondaryChannelLum: string = \"var(--mod-secondary-channel-lum)\";\n    public static readonly modSecondaryChannelLumScale: string = \"var(--mod-secondary-channel-lum-scale)\";\n    public static readonly modPrimaryChannelHue: string = \"var(--mod-primary-channel-hue)\";\n    public static readonly modPrimaryChannelHueScale: string = \"var(--mod-primary-channel-hue-scale)\";\n    public static readonly modPrimaryChannelSat: string = \"var(--mod-primary-channel-sat)\";\n    public static readonly modPrimaryChannelSatScale: string = \"var(--mod-primary-channel-sat-scale)\";\n    public static readonly modPrimaryChannelLum: string = \"var(--mod-primary-channel-lum)\";\n    public static readonly modPrimaryChannelLumScale: string = \"var(--mod-primary-channel-lum-scale)\";\n    public static readonly modSecondaryNoteHue: string = \"var(--mod-secondary-note-hue)\";\n    public static readonly modSecondaryNoteHueScale: string = \"var(--mod-secondary-note-hue-scale)\";\n    public static readonly modSecondaryNoteSat: string = \"var(--mod-secondary-note-sat)\";\n    public static readonly modSecondaryNoteSatScale: string = \"var(--mod-secondary-note-sat-scale)\";\n    public static readonly modSecondaryNoteLum: string = \"var(--mod-secondary-note-lum)\";\n    public static readonly modSecondaryNoteLumScale: string = \"var(--mod-secondary-note-lum-scale)\";\n    public static readonly modPrimaryNoteHue: string = \"var(--mod-primary-note-hue)\";\n    public static readonly modPrimaryNoteHueScale: string = \"var(--mod-primary-note-hue-scale)\";\n    public static readonly modPrimaryNoteSat: string = \"var(--mod-primary-note-sat)\";\n    public static readonly modPrimaryNoteSatScale: string = \"var(--mod-primary-note-sat-scale)\";\n    public static readonly modPrimaryNoteLum: string = \"var(--mod-primary-note-lum)\";\n    public static readonly modPrimaryNoteLumScale: string = \"var(--mod-primary-note-lum-scale)\";\n    public static readonly noiseSecondaryChannelHue: string = \"var(--noise-secondary-channel-hue)\";\n    public static readonly noiseSecondaryChannelHueScale: string = \"var(--noise-secondary-channel-hue-scale)\";\n    public static readonly noiseSecondaryChannelSat: string = \"var(--noise-secondary-channel-sat)\";\n    public static readonly noiseSecondaryChannelSatScale: string = \"var(--noise-secondary-channel-sat-scale)\";\n    public static readonly noiseSecondaryChannelLum: string = \"var(--noise-secondary-channel-lum)\";\n    public static readonly noiseSecondaryChannelLumScale: string = \"var(--noise-secondary-channel-lum-scale)\";\n    public static readonly noisePrimaryChannelHue: string = \"var(--noise-primary-channel-hue)\";\n    public static readonly noisePrimaryChannelHueScale: string = \"var(--noise-primary-channel-hue-scale)\";\n    public static readonly noisePrimaryChannelSat: string = \"var(--noise-primary-channel-sat)\";\n    public static readonly noisePrimaryChannelSatScale: string = \"var(--noise-primary-channel-sat-scale)\";\n    public static readonly noisePrimaryChannelLum: string = \"var(--noise-primary-channel-lum)\";\n    public static readonly noisePrimaryChannelLumScale: string = \"var(--noise-primary-channel-lum-scale)\";\n    public static readonly noiseSecondaryNoteHue: string = \"var(--noise-secondary-note-hue)\";\n    public static readonly noiseSecondaryNoteHueScale: string = \"var(--noise-secondary-note-hue-scale)\";\n    public static readonly noiseSecondaryNoteSat: string = \"var(--noise-secondary-note-sat)\";\n    public static readonly noiseSecondaryNoteSatScale: string = \"var(--noise-secondary-note-sat-scale)\";\n    public static readonly noiseSecondaryNoteLum: string = \"var(--noise-secondary-note-lum)\";\n    public static readonly noiseSecondaryNoteLumScale: string = \"var(--noise-secondary-note-lum-scale)\";\n    public static readonly noisePrimaryNoteHue: string = \"var(--noise-primary-note-hue)\";\n    public static readonly noisePrimaryNoteHueScale: string = \"var(--noise-primary-note-hue-scale)\";\n    public static readonly noisePrimaryNoteSat: string = \"var(--noise-primary-note-sat)\";\n    public static readonly noisePrimaryNoteSatScale: string = \"var(--noise-primary-note-sat-scale)\";\n    public static readonly noisePrimaryNoteLum: string = \"var(--noise-primary-note-lum)\";\n    public static readonly noisePrimaryNoteLumScale: string = \"var(--noise-primary-note-lum-scale)\";\n    public static readonly trackEditorBgPitch: string = \"var(--track-editor-bg-pitch)\";\n    public static readonly trackEditorBgPitchDim: string = \"var(--track-editor-bg-pitch-dim)\";\n    public static readonly trackEditorBgNoise: string = \"var(--track-editor-bg-noise)\";\n    public static readonly trackEditorBgNoiseDim: string = \"var(--track-editor-bg-noise-dim)\";\n    public static readonly trackEditorBgMod: string = \"var(--track-editor-bg-mod)\";\n    public static readonly trackEditorBgModDim: string = \"var(--track-editor-bg-mod-dim)\";\n    public static readonly multiplicativeModSlider: string = \"var(--multiplicative-mod-slider)\";\n    public static readonly overwritingModSlider: string = \"var(--overwriting-mod-slider)\";\n    public static readonly indicatorPrimary: string = \"var(--indicator-primary)\";\n    public static readonly indicatorSecondary: string = \"var(--indicator-secondary)\";\n    public static readonly select2OptGroup: string = \"var(--select2-opt-group)\";\n    public static readonly inputBoxOutline: string = \"var(--input-box-outline)\";\n    public static readonly muteButtonNormal: string = \"var(--mute-button-normal)\";\n    public static readonly muteButtonMod: string = \"var(--mute-button-mod)\";\n    public static readonly modLabelPrimary: string = \"var(--mod-label-primary)\";\n    public static readonly modLabelSecondaryText: string = \"var(--mod-label-secondary-text)\";\n    public static readonly modLabelPrimaryText: string = \"var(--mod-label-primary-text)\";\n    public static readonly disabledNotePrimary: string = \"var(--disabled-note-primary)\";\n    public static readonly disabledNoteSecondary: string = \"var(--disabled-note-secondary)\";\n\n    public static readonly pitchChannels: DictionaryArray<ChannelColors> = toNameMap([\n        {\n            name: \"pitch1\", // cyan\n            secondaryChannel: \"var(--pitch1-secondary-channel)\",\n            primaryChannel: \"var(--pitch1-primary-channel)\",\n            secondaryNote: \"var(--pitch1-secondary-note)\",\n            primaryNote: \"var(--pitch1-primary-note)\",\n        }, {\n            name: \"pitch2\", // yellow\n            secondaryChannel: \"var(--pitch2-secondary-channel)\",\n            primaryChannel: \"var(--pitch2-primary-channel)\",\n            secondaryNote: \"var(--pitch2-secondary-note)\",\n            primaryNote: \"var(--pitch2-primary-note)\",\n        }, {\n            name: \"pitch3\", // orange\n            secondaryChannel: \"var(--pitch3-secondary-channel)\",\n            primaryChannel: \"var(--pitch3-primary-channel)\",\n            secondaryNote: \"var(--pitch3-secondary-note)\",\n            primaryNote: \"var(--pitch3-primary-note)\",\n        }, {\n            name: \"pitch4\", // green\n            secondaryChannel: \"var(--pitch4-secondary-channel)\",\n            primaryChannel: \"var(--pitch4-primary-channel)\",\n            secondaryNote: \"var(--pitch4-secondary-note)\",\n            primaryNote: \"var(--pitch4-primary-note)\",\n        }, {\n            name: \"pitch5\", // magenta\n            secondaryChannel: \"var(--pitch5-secondary-channel)\",\n            primaryChannel: \"var(--pitch5-primary-channel)\",\n            secondaryNote: \"var(--pitch5-secondary-note)\",\n            primaryNote: \"var(--pitch5-primary-note)\",\n        }, {\n            name: \"pitch6\", // blue\n            secondaryChannel: \"var(--pitch6-secondary-channel)\",\n            primaryChannel: \"var(--pitch6-primary-channel)\",\n            secondaryNote: \"var(--pitch6-secondary-note)\",\n            primaryNote: \"var(--pitch6-primary-note)\",\n        }, {\n            name: \"pitch7\", // olive\n            secondaryChannel: \"var(--pitch7-secondary-channel)\",\n            primaryChannel: \"var(--pitch7-primary-channel)\",\n            secondaryNote: \"var(--pitch7-secondary-note)\",\n            primaryNote: \"var(--pitch7-primary-note)\",\n        }, {\n            name: \"pitch8\", // red\n            secondaryChannel: \"var(--pitch8-secondary-channel)\",\n            primaryChannel: \"var(--pitch8-primary-channel)\",\n            secondaryNote: \"var(--pitch8-secondary-note)\",\n            primaryNote: \"var(--pitch8-primary-note)\",\n        }, {\n            name: \"pitch9\", // teal\n            secondaryChannel: \"var(--pitch9-secondary-channel)\",\n            primaryChannel: \"var(--pitch9-primary-channel)\",\n            secondaryNote: \"var(--pitch9-secondary-note)\",\n            primaryNote: \"var(--pitch9-primary-note)\",\n        }, {\n            name: \"pitch10\", // purple\n            secondaryChannel: \"var(--pitch10-secondary-channel)\",\n            primaryChannel: \"var(--pitch10-primary-channel)\",\n            secondaryNote: \"var(--pitch10-secondary-note)\",\n            primaryNote: \"var(--pitch10-primary-note)\",\n        },\n    ]);\n    public static readonly noiseChannels: DictionaryArray<ChannelColors> = toNameMap([\n        {\n            name: \"noise1\", // gray\n            secondaryChannel: \"var(--noise1-secondary-channel)\",\n            primaryChannel: \"var(--noise1-primary-channel)\",\n            secondaryNote: \"var(--noise1-secondary-note)\",\n            primaryNote: \"var(--noise1-primary-note)\",\n        }, {\n            name: \"noise2\", // brown\n            secondaryChannel: \"var(--noise2-secondary-channel)\",\n            primaryChannel: \"var(--noise2-primary-channel)\",\n            secondaryNote: \"var(--noise2-secondary-note)\",\n            primaryNote: \"var(--noise2-primary-note)\",\n        }, {\n            name: \"noise3\", // azure\n            secondaryChannel: \"var(--noise3-secondary-channel)\",\n            primaryChannel: \"var(--noise3-primary-channel)\",\n            secondaryNote: \"var(--noise3-secondary-note)\",\n            primaryNote: \"var(--noise3-primary-note)\",\n        }, {\n            name: \"noise4\", // purple\n            secondaryChannel: \"var(--noise4-secondary-channel)\",\n            primaryChannel: \"var(--noise4-primary-channel)\",\n            secondaryNote: \"var(--noise4-secondary-note)\",\n            primaryNote: \"var(--noise4-primary-note)\",\n        }, {\n            name: \"noise5\", // sage\n            secondaryChannel: \"var(--noise5-secondary-channel)\",\n            primaryChannel: \"var(--noise5-primary-channel)\",\n            secondaryNote: \"var(--noise5-secondary-note)\",\n            primaryNote: \"var(--noise5-primary-note)\",\n        },\n    ]);\n    public static readonly modChannels: DictionaryArray<ChannelColors> = toNameMap([\n        {\n            name: \"mod1\",\n            secondaryChannel: \"var(--mod1-secondary-channel)\",\n            primaryChannel: \"var(--mod1-primary-channel)\",\n            secondaryNote: \"var(--mod1-secondary-note)\",\n            primaryNote: \"var(--mod1-primary-note)\",\n        }, {\n            name: \"mod2\",\n            secondaryChannel: \"var(--mod2-secondary-channel)\",\n            primaryChannel: \"var(--mod2-primary-channel)\",\n            secondaryNote: \"var(--mod2-secondary-note)\",\n            primaryNote: \"var(--mod2-primary-note)\",\n        }, {\n            name: \"mod3\",\n            secondaryChannel: \"var(--mod3-secondary-channel)\",\n            primaryChannel: \"var(--mod3-primary-channel)\",\n            secondaryNote: \"var(--mod3-secondary-note)\",\n            primaryNote: \"var(--mod3-primary-note)\",\n        }, {\n            name: \"mod4\",\n            secondaryChannel: \"var(--mod4-secondary-channel)\",\n            primaryChannel: \"var(--mod4-primary-channel)\",\n            secondaryNote: \"var(--mod4-secondary-note)\",\n            primaryNote: \"var(--mod4-primary-note)\",\n        },\n    ]);\n\n    public static resetColors() {\n        this.colorLookup.clear();\n    }\n\n\tpublic static getArbitaryChannelColor(type: string, channel: number): ChannelColors {\n\n        if (getComputedStyle(this._styleElement).getPropertyValue(\"--use-color-formula\").trim() == \"false\") {\n            let base: ChannelColors;\n            switch (type) {\n                case (\"noise\"): {\n                    base = ColorConfig.getComputed(\"--noise-channel-limit\") == \"\"\n\t\t\t\t\t? ColorConfig.noiseChannels[channel % ColorConfig.noiseChannels.length] \n\t\t\t\t\t: ColorConfig.noiseChannels[channel % (Number(ColorConfig.getComputed(\"--noise-channel-limit\")) % ColorConfig.noiseChannels.length)];\n                    break;\n                }\n                case (\"mod\"): {\n                    base = ColorConfig.getComputed(\"--mod-channel-limit\") == \"\"\n\t\t\t\t\t? ColorConfig.modChannels[channel % ColorConfig.modChannels.length] \n\t\t\t\t\t: ColorConfig.modChannels[channel % (Number(ColorConfig.getComputed(\"--mod-channel-limit\")) % ColorConfig.modChannels.length)];\n                    break;\n                }\n                case (\"pitch\"):\n                default: {\n                    base = ColorConfig.getComputed(\"--pitch-channel-limit\") == \"\"\n\t\t\t\t\t? ColorConfig.pitchChannels[channel % ColorConfig.pitchChannels.length] \n\t\t\t\t\t: ColorConfig.pitchChannels[channel % (Number(ColorConfig.getComputed(\"--pitch-channel-limit\")) % ColorConfig.pitchChannels.length)];\n                    break;\n                }\n            }\n            var regex = /\\(([^)]+)\\)/;\n            let newChannelSecondary: string = ColorConfig.getComputed((regex.exec(base.secondaryChannel) as RegExpExecArray)[1] as string);\n            let newChannelPrimary: string = ColorConfig.getComputed((regex.exec(base.primaryChannel) as RegExpExecArray)[1] as string);\n            let newNoteSecondary: string = ColorConfig.getComputed((regex.exec(base.secondaryNote) as RegExpExecArray)[1] as string);\n            let newNotePrimary: string = ColorConfig.getComputed((regex.exec(base.primaryNote) as RegExpExecArray)[1] as string);\n            return <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n        }\n        switch (type) {\n            case (\"noise\"): {\n                const noiseSecondaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-hue\");\n                const noiseSecondaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-hue-scale\");\n                const noiseSecondaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-sat\");\n                const noiseSecondaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-sat-scale\");\n                const noiseSecondaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-lum\");\n                const noiseSecondaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-lum-scale\");\n                const noisePrimaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-hue\");\n                const noisePrimaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-hue-scale\");\n                const noisePrimaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-sat\");\n                const noisePrimaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-sat-scale\");\n                const noisePrimaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-lum\");\n                const noisePrimaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-lum-scale\");\n                const noiseSecondaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-hue\");\n                const noiseSecondaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-hue-scale\");\n                const noiseSecondaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-sat\");\n                const noiseSecondaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-sat-scale\");\n                const noiseSecondaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-lum\");\n                const noiseSecondaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-lum-scale\");\n                const noisePrimaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-hue\");\n                const noisePrimaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-hue-scale\");\n                const noisePrimaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-sat\");\n                const noisePrimaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-sat-scale\");\n                const noisePrimaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-lum\");\n                const noisePrimaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-lum-scale\");\n\n                let newChannelSecondary: string = \"hsl(\" + ((+noiseSecondaryChannelHue + ((channel * +noiseSecondaryChannelHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                    + (+noiseSecondaryChannelSat + channel * +noiseSecondaryChannelSatScale) + \"%,\"\n                    + (+noiseSecondaryChannelLum + channel * +noiseSecondaryChannelLumScale) + \"%)\";\n                let newChannelPrimary: string = \"hsl(\" + ((+noisePrimaryChannelHue + ((channel * +noisePrimaryChannelHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                    + (+noisePrimaryChannelSat + channel * +noisePrimaryChannelSatScale) + \"%,\"\n                    + (+noisePrimaryChannelLum + channel * +noisePrimaryChannelLumScale) + \"%)\";\n                let newNoteSecondary: string = \"hsl(\" + ((+noiseSecondaryNoteHue + ((channel * +noiseSecondaryNoteHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                    + (+noiseSecondaryNoteSat + channel * +noiseSecondaryNoteSatScale) + \"%,\"\n                    + (+noiseSecondaryNoteLum + channel * +noiseSecondaryNoteLumScale) + \"%)\";\n                let newNotePrimary: string = \"hsl(\" + ((+noisePrimaryNoteHue + ((channel * +noisePrimaryNoteHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                    + (+noisePrimaryNoteSat + channel * +noisePrimaryNoteSatScale) + \"%,\"\n                    + (+noisePrimaryNoteLum + channel * +noisePrimaryNoteLumScale) + \"%)\";\n\n                let newChannelColors = <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n                ColorConfig.colorLookup.set(channel, newChannelColors);\n                return newChannelColors;\n            } case (\"mod\"): {\n                // Mod formula\n                const modSecondaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-hue\");\n                const modSecondaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-hue-scale\");\n                const modSecondaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-sat\");\n                const modSecondaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-sat-scale\");\n                const modSecondaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-lum\");\n                const modSecondaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-lum-scale\");\n                const modPrimaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-hue\");\n                const modPrimaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-hue-scale\");\n                const modPrimaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-sat\");\n                const modPrimaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-sat-scale\");\n                const modPrimaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-lum\");\n                const modPrimaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-lum-scale\");\n                const modSecondaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-hue\");\n                const modSecondaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-hue-scale\");\n                const modSecondaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-sat\");\n                const modSecondaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-sat-scale\");\n                const modSecondaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-lum\");\n                const modSecondaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-lum-scale\");\n                const modPrimaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-hue\");\n                const modPrimaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-hue-scale\");\n                const modPrimaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-sat\");\n                const modPrimaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-sat-scale\");\n                const modPrimaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-lum\");\n                const modPrimaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-lum-scale\");\n\n                let newChannelSecondary: string = \"hsl(\" + ((+modSecondaryChannelHue + ((channel * +modSecondaryChannelHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                    + (+modSecondaryChannelSat + channel * +modSecondaryChannelSatScale) + \"%,\"\n                    + (+modSecondaryChannelLum + channel * +modSecondaryChannelLumScale) + \"%)\";\n                let newChannelPrimary: string = \"hsl(\" + ((+modPrimaryChannelHue + ((channel * +modPrimaryChannelHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                    + (+modPrimaryChannelSat + channel * +modPrimaryChannelSatScale) + \"%,\"\n                    + (+modPrimaryChannelLum + channel * +modPrimaryChannelLumScale) + \"%)\";\n                let newNoteSecondary: string = \"hsl(\" + ((+modSecondaryNoteHue + ((channel * +modSecondaryNoteHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                    + (+modSecondaryNoteSat + channel * +modSecondaryNoteSatScale) + \"%,\"\n                    + (+modSecondaryNoteLum + channel * +modSecondaryNoteLumScale) + \"%)\";\n                let newNotePrimary: string = \"hsl(\" + ((+modPrimaryNoteHue + ((channel * +modPrimaryNoteHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                    + (+modPrimaryNoteSat + channel * +modPrimaryNoteSatScale) + \"%,\"\n                    + (+modPrimaryNoteLum + channel * +modPrimaryNoteLumScale) + \"%)\";\n\n                let newChannelColors = <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n                ColorConfig.colorLookup.set(channel, newChannelColors);\n                return newChannelColors;\n            }\n            case (\"pitch\"):\n            default: {\n                const pitchSecondaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-hue\");\n                const pitchSecondaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-hue-scale\");\n                const pitchSecondaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-sat\");\n                const pitchSecondaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-sat-scale\");\n                const pitchSecondaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-lum\");\n                const pitchSecondaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-lum-scale\");\n                const pitchPrimaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-hue\");\n                const pitchPrimaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-hue-scale\");\n                const pitchPrimaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-sat\");\n                const pitchPrimaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-sat-scale\");\n                const pitchPrimaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-lum\");\n                const pitchPrimaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-lum-scale\");\n                const pitchSecondaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-hue\");\n                const pitchSecondaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-hue-scale\");\n                const pitchSecondaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-sat\");\n                const pitchSecondaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-sat-scale\");\n                const pitchSecondaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-lum\");\n                const pitchSecondaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-lum-scale\");\n                const pitchPrimaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-hue\");\n                const pitchPrimaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-hue-scale\");\n                const pitchPrimaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-sat\");\n                const pitchPrimaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-sat-scale\");\n                const pitchPrimaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-lum\");\n                const pitchPrimaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-lum-scale\");\n\n                let newChannelSecondary: string = \"hsl(\" + ((+pitchSecondaryChannelHue + (channel * +pitchSecondaryChannelHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                    + (+pitchSecondaryChannelSat * (1 - (+pitchSecondaryChannelSatScale * Math.floor(channel / 7)))) + \"%,\"\n                    + (+pitchSecondaryChannelLum * (1 - (+pitchSecondaryChannelLumScale * Math.floor(channel / 7)))) + \"%)\";\n                let newChannelPrimary: string = \"hsl(\" + ((+pitchPrimaryChannelHue + (channel * +pitchPrimaryChannelHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                    + (+pitchPrimaryChannelSat * (1 - (+pitchPrimaryChannelSatScale * Math.floor(channel / 7)))) + \"%,\"\n                    + (+pitchPrimaryChannelLum * (1 - (+pitchPrimaryChannelLumScale * Math.floor(channel / 7)))) + \"%)\";\n                let newNoteSecondary: string = \"hsl(\" + ((+pitchSecondaryNoteHue + (channel * +pitchSecondaryNoteHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                    + (+pitchSecondaryNoteSat * (1 - (+pitchSecondaryNoteSatScale * Math.floor(channel / 7)))) + \"%,\"\n                    + (+pitchSecondaryNoteLum * (1 - (+pitchSecondaryNoteLumScale * Math.floor(channel / 7)))) + \"%)\";\n                let newNotePrimary: string = \"hsl(\" + ((+pitchPrimaryNoteHue + (channel * +pitchPrimaryNoteHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                    + (+pitchPrimaryNoteSat * (1 - (+pitchPrimaryNoteSatScale * Math.floor(channel / 7)))) + \"%,\"\n                    + (+pitchPrimaryNoteLum * (1 - (+pitchPrimaryNoteLumScale * Math.floor(channel / 7)))) + \"%)\";\n\n                let newChannelColors = <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n                ColorConfig.colorLookup.set(channel, newChannelColors);\n                return newChannelColors;\n            }\n        }\n    }\n\n    // Same as below, but won't return var colors\n    public static getComputedChannelColor(song: Song, channel: number): ChannelColors {\n        if (getComputedStyle(this._styleElement).getPropertyValue(\"--use-color-formula\").trim() == \"false\") {\n            let base: ChannelColors = ColorConfig.getChannelColor(song, channel);\n            // Trim away \"var(...)\"\n            var regex = /\\(([^)]+)\\)/;\n            let newChannelSecondary: string = ColorConfig.getComputed((regex.exec(base.secondaryChannel) as RegExpExecArray)[1] as string);\n            let newChannelPrimary: string = ColorConfig.getComputed((regex.exec(base.primaryChannel) as RegExpExecArray)[1] as string);\n            let newNoteSecondary: string = ColorConfig.getComputed((regex.exec(base.secondaryNote) as RegExpExecArray)[1] as string);\n            let newNotePrimary: string = ColorConfig.getComputed((regex.exec(base.primaryNote) as RegExpExecArray)[1] as string);\n            return <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n        }\n        else {\n            return ColorConfig.getChannelColor(song, channel);\n        }\n    };\n\n    public static getChannelColor(song: Song, channel: number): ChannelColors {\n        if (getComputedStyle(this._styleElement).getPropertyValue(\"--use-color-formula\").trim() == \"false\") {\n            // Set colors, not defined by formula\n            if (channel < song.pitchChannelCount) {\n\t\t\t\treturn ColorConfig.getComputed(\"--pitch-channel-limit\") == \"\"\n\t\t\t\t? ColorConfig.pitchChannels[channel % ColorConfig.pitchChannels.length] \n\t\t\t\t: ColorConfig.pitchChannels[channel % (Number(ColorConfig.getComputed(\"--pitch-channel-limit\")) % ColorConfig.pitchChannels.length)];\n            } else if (channel < song.pitchChannelCount + song.noiseChannelCount) {\n                return ColorConfig.getComputed(\"--noise-channel-limit\") == \"\"\n\t\t\t\t? ColorConfig.noiseChannels[(channel - song.pitchChannelCount) % ColorConfig.noiseChannels.length] \n\t\t\t\t: ColorConfig.noiseChannels[(channel - song.pitchChannelCount) % (Number(ColorConfig.getComputed(\"--noise-channel-limit\")) % ColorConfig.noiseChannels.length)];\n            } else {\n                return ColorConfig.getComputed(\"--mod-channel-limit\") == \"\"\n\t\t\t\t? ColorConfig.modChannels[(channel - song.pitchChannelCount - song.noiseChannelCount) % ColorConfig.modChannels.length] \n\t\t\t\t: ColorConfig.modChannels[(channel - song.pitchChannelCount - song.noiseChannelCount) % (Number(ColorConfig.getComputed(\"--mod-channel-limit\")) % ColorConfig.modChannels.length)];\n            }\n        }\n        else {\n            // Determine if color is cached\n            if (ColorConfig.colorLookup.has(channel)) {\n                return ColorConfig.colorLookup.get(channel) as ChannelColors;\n            }\n            else {\n                // Formulaic color definition\n                if (channel < song.pitchChannelCount) {\n                    // Pitch formula\n                    const pitchSecondaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-hue\");\n                    const pitchSecondaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-hue-scale\");\n                    const pitchSecondaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-sat\");\n                    const pitchSecondaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-sat-scale\");\n                    const pitchSecondaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-lum\");\n                    const pitchSecondaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-channel-lum-scale\");\n                    const pitchPrimaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-hue\");\n                    const pitchPrimaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-hue-scale\");\n                    const pitchPrimaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-sat\");\n                    const pitchPrimaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-sat-scale\");\n                    const pitchPrimaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-lum\");\n                    const pitchPrimaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-channel-lum-scale\");\n                    const pitchSecondaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-hue\");\n                    const pitchSecondaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-hue-scale\");\n                    const pitchSecondaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-sat\");\n                    const pitchSecondaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-sat-scale\");\n                    const pitchSecondaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-lum\");\n                    const pitchSecondaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-secondary-note-lum-scale\");\n                    const pitchPrimaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-hue\");\n                    const pitchPrimaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-hue-scale\");\n                    const pitchPrimaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-sat\");\n                    const pitchPrimaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-sat-scale\");\n                    const pitchPrimaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-lum\");\n                    const pitchPrimaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--pitch-primary-note-lum-scale\");\n\n                    let newChannelSecondary: string = \"hsl(\" + ((+pitchSecondaryChannelHue + (channel * +pitchSecondaryChannelHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                        + (+pitchSecondaryChannelSat * (1 - (+pitchSecondaryChannelSatScale * Math.floor(channel / 7)))) + \"%,\"\n                        + (+pitchSecondaryChannelLum * (1 - (+pitchSecondaryChannelLumScale * Math.floor(channel / 7)))) + \"%)\";\n                    let newChannelPrimary: string = \"hsl(\" + ((+pitchPrimaryChannelHue + (channel * +pitchPrimaryChannelHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                        + (+pitchPrimaryChannelSat * (1 - (+pitchPrimaryChannelSatScale * Math.floor(channel / 7)))) + \"%,\"\n                        + (+pitchPrimaryChannelLum * (1 - (+pitchPrimaryChannelLumScale * Math.floor(channel / 7)))) + \"%)\";\n                    let newNoteSecondary: string = \"hsl(\" + ((+pitchSecondaryNoteHue + (channel * +pitchSecondaryNoteHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                        + (+pitchSecondaryNoteSat * (1 - (+pitchSecondaryNoteSatScale * Math.floor(channel / 7)))) + \"%,\"\n                        + (+pitchSecondaryNoteLum * (1 - (+pitchSecondaryNoteLumScale * Math.floor(channel / 7)))) + \"%)\";\n                    let newNotePrimary: string = \"hsl(\" + ((+pitchPrimaryNoteHue + (channel * +pitchPrimaryNoteHueScale / Config.pitchChannelCountMax) * 256) % 256) + \",\"\n                        + (+pitchPrimaryNoteSat * (1 - (+pitchPrimaryNoteSatScale * Math.floor(channel / 7)))) + \"%,\"\n                        + (+pitchPrimaryNoteLum * (1 - (+pitchPrimaryNoteLumScale * Math.floor(channel / 7)))) + \"%)\";\n\n                    let newChannelColors = <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n                    ColorConfig.colorLookup.set(channel, newChannelColors);\n                    return newChannelColors;\n\n                }\n                else if (channel < song.pitchChannelCount + song.noiseChannelCount) {\n                    // Noise formula\n                    const noiseSecondaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-hue\");\n                    const noiseSecondaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-hue-scale\");\n                    const noiseSecondaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-sat\");\n                    const noiseSecondaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-sat-scale\");\n                    const noiseSecondaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-lum\");\n                    const noiseSecondaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-channel-lum-scale\");\n                    const noisePrimaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-hue\");\n                    const noisePrimaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-hue-scale\");\n                    const noisePrimaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-sat\");\n                    const noisePrimaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-sat-scale\");\n                    const noisePrimaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-lum\");\n                    const noisePrimaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-channel-lum-scale\");\n                    const noiseSecondaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-hue\");\n                    const noiseSecondaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-hue-scale\");\n                    const noiseSecondaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-sat\");\n                    const noiseSecondaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-sat-scale\");\n                    const noiseSecondaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-lum\");\n                    const noiseSecondaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-secondary-note-lum-scale\");\n                    const noisePrimaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-hue\");\n                    const noisePrimaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-hue-scale\");\n                    const noisePrimaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-sat\");\n                    const noisePrimaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-sat-scale\");\n                    const noisePrimaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-lum\");\n                    const noisePrimaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--noise-primary-note-lum-scale\");\n\n                    let newChannelSecondary: string = \"hsl(\" + ((+noiseSecondaryChannelHue + (((channel - song.pitchChannelCount) * +noiseSecondaryChannelHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                        + (+noiseSecondaryChannelSat + channel * +noiseSecondaryChannelSatScale) + \"%,\"\n                        + (+noiseSecondaryChannelLum + channel * +noiseSecondaryChannelLumScale) + \"%)\";\n                    let newChannelPrimary: string = \"hsl(\" + ((+noisePrimaryChannelHue + (((channel - song.pitchChannelCount) * +noisePrimaryChannelHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                        + (+noisePrimaryChannelSat + channel * +noisePrimaryChannelSatScale) + \"%,\"\n                        + (+noisePrimaryChannelLum + channel * +noisePrimaryChannelLumScale) + \"%)\";\n                    let newNoteSecondary: string = \"hsl(\" + ((+noiseSecondaryNoteHue + (((channel - song.pitchChannelCount) * +noiseSecondaryNoteHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                        + (+noiseSecondaryNoteSat + channel * +noiseSecondaryNoteSatScale) + \"%,\"\n                        + (+noiseSecondaryNoteLum + channel * +noiseSecondaryNoteLumScale) + \"%)\";\n                    let newNotePrimary: string = \"hsl(\" + ((+noisePrimaryNoteHue + (((channel - song.pitchChannelCount) * +noisePrimaryNoteHueScale) / Config.noiseChannelCountMax) * 256) % 256) + \",\"\n                        + (+noisePrimaryNoteSat + channel * +noisePrimaryNoteSatScale) + \"%,\"\n                        + (+noisePrimaryNoteLum + channel * +noisePrimaryNoteLumScale) + \"%)\";\n\n                    let newChannelColors = <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n                    ColorConfig.colorLookup.set(channel, newChannelColors);\n                    return newChannelColors;\n                }\n                else {\n                    // Mod formula\n                    const modSecondaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-hue\");\n                    const modSecondaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-hue-scale\");\n                    const modSecondaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-sat\");\n                    const modSecondaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-sat-scale\");\n                    const modSecondaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-lum\");\n                    const modSecondaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-channel-lum-scale\");\n                    const modPrimaryChannelHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-hue\");\n                    const modPrimaryChannelHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-hue-scale\");\n                    const modPrimaryChannelSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-sat\");\n                    const modPrimaryChannelSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-sat-scale\");\n                    const modPrimaryChannelLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-lum\");\n                    const modPrimaryChannelLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-channel-lum-scale\");\n                    const modSecondaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-hue\");\n                    const modSecondaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-hue-scale\");\n                    const modSecondaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-sat\");\n                    const modSecondaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-sat-scale\");\n                    const modSecondaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-lum\");\n                    const modSecondaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-secondary-note-lum-scale\");\n                    const modPrimaryNoteHue: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-hue\");\n                    const modPrimaryNoteHueScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-hue-scale\");\n                    const modPrimaryNoteSat: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-sat\");\n                    const modPrimaryNoteSatScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-sat-scale\");\n                    const modPrimaryNoteLum: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-lum\");\n                    const modPrimaryNoteLumScale: number = +getComputedStyle(this._styleElement).getPropertyValue(\"--mod-primary-note-lum-scale\");\n\n                    let newChannelSecondary: string = \"hsl(\" + ((+modSecondaryChannelHue + (((channel - song.pitchChannelCount - song.noiseChannelCount) * +modSecondaryChannelHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                        + (+modSecondaryChannelSat + channel * +modSecondaryChannelSatScale) + \"%,\"\n                        + (+modSecondaryChannelLum + channel * +modSecondaryChannelLumScale) + \"%)\";\n                    let newChannelPrimary: string = \"hsl(\" + ((+modPrimaryChannelHue + (((channel - song.pitchChannelCount - song.noiseChannelCount) * +modPrimaryChannelHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                        + (+modPrimaryChannelSat + channel * +modPrimaryChannelSatScale) + \"%,\"\n                        + (+modPrimaryChannelLum + channel * +modPrimaryChannelLumScale) + \"%)\";\n                    let newNoteSecondary: string = \"hsl(\" + ((+modSecondaryNoteHue + (((channel - song.pitchChannelCount - song.noiseChannelCount) * +modSecondaryNoteHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                        + (+modSecondaryNoteSat + channel * +modSecondaryNoteSatScale) + \"%,\"\n                        + (+modSecondaryNoteLum + channel * +modSecondaryNoteLumScale) + \"%)\";\n                    let newNotePrimary: string = \"hsl(\" + ((+modPrimaryNoteHue + (((channel - song.pitchChannelCount - song.noiseChannelCount) * +modPrimaryNoteHueScale) / Config.modChannelCountMax) * 256) % 256) + \",\"\n                        + (+modPrimaryNoteSat + channel * +modPrimaryNoteSatScale) + \"%,\"\n                        + (+modPrimaryNoteLum + channel * +modPrimaryNoteLumScale) + \"%)\";\n\n                    let newChannelColors = <ChannelColors>{ secondaryChannel: newChannelSecondary, primaryChannel: newChannelPrimary, secondaryNote: newNoteSecondary, primaryNote: newNotePrimary };\n                    ColorConfig.colorLookup.set(channel, newChannelColors);\n                    return newChannelColors;\n                }\n            }\n        }\n    }\n\n    private static readonly _styleElement: HTMLStyleElement = document.head.appendChild(HTML.style({ type: \"text/css\" }));\n\n    public static setTheme(name: string): void {\n\t\tlet theme: string = this.themes[name];\n\t\tif (theme == undefined) theme = this.themes[\"dark classic\"];\n\t\tthis._styleElement.textContent = theme;\n\n        const themeColor = <HTMLMetaElement>document.querySelector(\"meta[name='theme-color']\");\n        if (themeColor != null) {\n            themeColor.setAttribute(\"content\", getComputedStyle(document.documentElement).getPropertyValue('--ui-widget-background'));\n        }\n\n        this.resetColors();\n    }\n\n    public static getComputed(name: string): string {\n        return getComputedStyle(this._styleElement).getPropertyValue(name);\n    }\n}\n\n","// Copyright (c) 2012-2022 John Nesky and contributing authors, distributed under the MIT license, see accompanying the LICENSE.md file.\n\nimport { DictionaryArray, BeepBoxOption, InstrumentType, toNameMap, TypePresets } from \"../synth/SynthConfig\";\n\nexport interface PresetCategory extends BeepBoxOption {\n    readonly presets: DictionaryArray<Preset>;\n}\n\nexport interface Preset extends BeepBoxOption {\n    readonly isNoise?: boolean;\n    readonly isMod?: boolean;\n    readonly generalMidi?: boolean;\n    readonly midiProgram?: number;\n    readonly midiSubharmonicOctaves?: number;\n    readonly customType?: InstrumentType;\n    readonly settings?: any;\n}\n\nexport const isMobile: boolean = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|android|ipad|playbook|silk/i.test(navigator.userAgent);\n\nexport function prettyNumber(value: number): string {\n    return value.toFixed(2).replace(/\\.?0*$/, \"\");\n}\n\nexport class EditorConfig {\n    public static readonly version: string = \"0.8.0\"; // Using patch versions in display right now, maybe TODAY.\n    public static readonly versionDisplayName: string = \"AbyssBox \" + EditorConfig.version;\n\n    public static readonly releaseNotesURL: string = \"./patch_notes.html\";\n\n    public static readonly isOnMac: boolean = /^Mac/i.test(navigator.platform) || /Mac OS X/i.test(navigator.userAgent) || /^(iPhone|iPad|iPod)/i.test(navigator.platform) || /(iPhone|iPad|iPod)/i.test(navigator.userAgent);\n    public static readonly ctrlSymbol: string = EditorConfig.isOnMac ? \"\" : \"Ctrl+\";\n    public static readonly ctrlName: string = EditorConfig.isOnMac ? \"command\" : \"control\";\n\n    public static customSamples: string[] | null;\n\t//is this how you do it????\n\t\n    public static readonly presetCategories: DictionaryArray<PresetCategory> = toNameMap([\n        {\n            name: \"Custom Instruments\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: TypePresets[InstrumentType.chip], customType: InstrumentType.chip },\n                { name: TypePresets[InstrumentType.fm], customType: InstrumentType.fm },\n                { name: TypePresets[InstrumentType.noise], customType: InstrumentType.noise },\n                { name: TypePresets[InstrumentType.spectrum], customType: InstrumentType.spectrum },\n                { name: TypePresets[InstrumentType.drumset], customType: InstrumentType.drumset },\n                { name: TypePresets[InstrumentType.harmonics], customType: InstrumentType.harmonics },\n                { name: TypePresets[InstrumentType.pwm], customType: InstrumentType.pwm },\n                { name: TypePresets[InstrumentType.pickedString], customType: InstrumentType.pickedString },\n                { name: TypePresets[InstrumentType.customChipWave], customType: InstrumentType.customChipWave },\n                { name: TypePresets[InstrumentType.fm6op], customType: InstrumentType.fm6op },\n            ])\n        },\n        {\n            name: \"Retro Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"square wave\", midiProgram: 80, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"aliasing\"], \"transition\": \"interrupt\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"chord\": \"arpeggio\", \"wave\": \"square\", \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"triangle wave\", midiProgram: 71, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"aliasing\"], \"transition\": \"interrupt\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"chord\": \"arpeggio\", \"wave\": \"triangle\", \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"square lead\", midiProgram: 80, generalMidi: true, settings: { \"type\": \"chip\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.3536 }], \"effects\": [\"aliasing\"], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"wave\": \"square\", \"unison\": \"hum\", \"envelopes\": [] } },\n                { name: \"sawtooth lead 1\", midiProgram: 81, generalMidi: true, settings: { \"type\": \"chip\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 0.5 }], \"effects\": [\"aliasing\"], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"wave\": \"sawtooth\", \"unison\": \"shimmer\", \"envelopes\": [] } },\n                { name: \"sawtooth lead 2\", midiProgram: 81, settings: { \"type\": \"chip\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 1 }], \"effects\": [\"vibrato\", \"aliasing\"], \"vibrato\": \"light\", \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 72, \"chord\": \"simultaneous\", \"wave\": \"sawtooth\", \"unison\": \"hum\", \"envelopes\": [] } },\n                { name: \"chip noise\", midiProgram: 116, isNoise: true, settings: { \"type\": \"noise\", \"transition\": \"hard\", \"effects\": [\"aliasing\"], \"chord\": \"arpeggio\", \"filterCutoffHz\": 4000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"wave\": \"retro\" } },\n                { name: \"FM twang\", midiProgram: 32, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 0 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"twang 2\", \"index\": 1 }] } },\n                { name: \"FM bass\", midiProgram: 36, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"custom interval\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 11 }, { \"frequency\": \"1\", \"amplitude\": 7 }, { \"frequency\": \"1\", \"amplitude\": 9 }, { \"frequency\": \"20\", \"amplitude\": 3 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"twang 2\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 3\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 2\", \"index\": 3 }] } },\n                { name: \"FM flute\", midiProgram: 73, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 6 }, { \"frequency\": \"1\", \"amplitude\": 0 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"twang 2\", \"index\": 1 }] } },\n                { name: \"FM organ\", midiProgram: 16, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"vibrato\"], \"vibrato\": \"delayed\", \"transition\": \"normal\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"chord\": \"custom interval\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14 }, { \"frequency\": \"2\", \"amplitude\": 14 }, { \"frequency\": \"1\", \"amplitude\": 11 }, { \"frequency\": \"2\", \"amplitude\": 11 }], \"envelopes\": [] } },\n                { name: \"NES Pulse\", midiProgram: 80, settings: { \"type\": \"custom chip\", \"effects\": [\"aliasing\"], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.5 }], \"unison\": \"none\", \"vibrato\": \"none\", \"envelopes\": [], \"customChipWave\": [-24, -24, -24, -24, -23, -23, -23, -23, -22, -22, -22, -22, -21, -21, -21, -21, -20, -20, -20, -20, -19, -19, -19, -19, -18, -18, -18, -18, -17, -17, -17, -17, 24, 24, 24, 24, 23, 23, 23, 23, 22, 22, 22, 22, 21, 21, 21, 21, 20, 20, 20, 20, 19, 19, 19, 19, 18, 18, 18, 18, 17, 17, 17, 17] } },\n                { name: \"Gameboy Pulse\", midiProgram: 80, settings: { \"type\": \"custom chip\", \"effects\": [\"aliasing\"], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.5 }], \"unison\": \"none\", \"envelopes\": [], \"customChipWave\": [-24, -20, -17, -15, -13, -13, -11, -11, -11, -9, -9, -9, -9, -7, -7, -7, -7, -7, -5, -5, -5, -5, -5, -5, -3, -3, -3, -3, -3, -3, -3, -3, 24, 20, 17, 15, 13, 13, 11, 11, 11, 9, 9, 9, 9, 7, 7, 7, 7, 7, 5, 5, 5, 5, 5, 5, 3, 3, 3, 3, 3, 3, 3, 3] } },\n                { name: \"VRC6 Sawtooth\", midiProgram: 81, settings: { \"type\": \"custom chip\", \"effects\": [\"aliasing\"], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.5 }], \"unison\": \"none\", \"envelopes\": [], \"customChipWave\": [-24, -20, -16, -13, -10, -8, -6, -5, -4, -4, 0, 0, 0, 0, 4, 4, 4, 4, 4, 4, 8, 8, 8, 8, 8, 8, 8, 8, 12, 12, 12, 12, 12, 12, 12, 12, 16, 16, 16, 16, 16, 16, 16, 16, 20, 20, 20, 20, 20, 20, 20, 20, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24] } },\n                { name: \"Atari Square\", midiProgram: 80, settings: { \"type\": \"custom chip\", \"effects\": [\"aliasing\"], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 0.5 }], \"unison\": \"none\", \"envelopes\": [], \"customChipWave\": [-24, -24, -24, -23, -23, -23, -22, -22, -22, -21, -21, -21, -20, -20, -20, -19, -19, -19, -18, -18, -18, -17, -17, -17, -16, -16, -16, -15, -15, -15, -14, -14, -14, -13, -13, -13, 24, 24, 24, 23, 23, 23, 22, 22, 22, 21, 21, 21, 20, 20, 20, 19, 19, 19, 18, 18, 18, 17, 17, 17, 16, 16, 15, 15] } },\n                { name: \"Atari Bass\", midiProgram: 36, settings: { \"type\": \"custom chip\", \"effects\": [\"aliasing\"], \"transition\": \"interrupt\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 0.5 }], \"unison\": \"none\", \"envelopes\": [], \"customChipWave\": [-24, -24, -24, -24, -24, -24, -24, -24, -24, 24, 24, 24, 24, 24, 24, -24, -24, -24, 24, 24, 24, -24, -24, -24, 24, 24, 24, -24, -24, -24, 24, 24, -24, -24, -24, -24, -24, -24, -24, -24, -24, 24, 24, 24, 24, 24, 24, -24, -24, 24, 24, 24, 24, 24, -24, -24, -24, -24, 24, 24, -24, -24, 24, 24] } },\n                { name: \"Sunsoft Bass\", midiProgram: 36, settings: { \"type\": \"custom chip\", \"effects\": [\"aliasing\"], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 0.5 }], \"unison\": \"none\", \"envelopes\": [], \"customChipWave\": [24, 24, 15, 15, 9, 9, -4, -4, 0, 0, -13, -13, -19, -19, -24, -24, -24, -24, -10, -10, 0, 0, -7, -7, -7, -7, 0, 0, 6, 6, -4, -4, 3, 3, -4, -4, 3, 3, 3, 3, 9, 9, 15, 15, 15, 15, 6, 6, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, 3, 3, 12, 12, 24, 24] } },\n                { name: \"FM sine\", midiProgram: 55, settings: { \"type\": \"FM\", \"transition\": \"seemless\", \"effects\": \"none\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n\n            ])\n        },\n        {\n            name: \"Keyboard Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"grand piano 1\", midiProgram: 0, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 148.65, \"linearGain\": 0.7071 }, { \"type\": \"peak\", \"cutoffHz\": 2000, \"linearGain\": 2.8284 }], \"effects\": [\"note filter\", \"reverb\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.125 }], \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"harmonics\": [100, 100, 86, 86, 86, 71, 71, 71, 0, 86, 71, 71, 71, 57, 57, 71, 57, 14, 57, 57, 57, 57, 57, 57, 57, 57, 29, 57], \"unison\": \"piano\", \"stringSustain\": 79, \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"note size\" }] } },\n                { name: \"bright piano\", midiProgram: 1, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 1681.79, \"linearGain\": 0.7071 }, { \"type\": \"high-pass\", \"cutoffHz\": 148.65, \"linearGain\": 0.5 }, { \"type\": \"peak\", \"cutoffHz\": 3363.59, \"linearGain\": 1.4142 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 24, \"chord\": \"simultaneous\", \"harmonics\": [100, 100, 86, 86, 71, 71, 0, 71, 71, 71, 71, 71, 71, 14, 57, 57, 57, 57, 57, 57, 29, 57, 57, 57, 57, 57, 57, 57], \"unison\": \"piano\", \"stringSustain\": 86, \"envelopes\": [] } },\n                { name: \"electric grand\", midiProgram: 2, generalMidi: true, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2378.41, \"linearGain\": 0.5 }], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"wave\": \"1/8 pulse\", \"unison\": \"shimmer\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }] } },\n                { name: \"honky-tonk piano\", midiProgram: 3, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 5656.85, \"linearGain\": 0.3536 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"harmonics\": [100, 100, 86, 71, 86, 71, 43, 71, 43, 43, 57, 57, 57, 29, 57, 57, 57, 57, 57, 57, 43, 57, 57, 57, 43, 43, 43, 43], \"unison\": \"honky tonk\", \"stringSustain\": 71, \"envelopes\": [] } },\n                { name: \"electric piano 1\", midiProgram: 4, generalMidi: true, settings: { \"type\": \"harmonics\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 3363.59, \"linearGain\": 0.5 }], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"harmonics\": [86, 100, 100, 71, 71, 57, 57, 43, 43, 43, 29, 29, 29, 14, 14, 14, 0, 0, 0, 0, 0, 57, 0, 0, 0, 0, 0, 0], \"unison\": \"none\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 2\" }] } },\n                { name: \"electric piano 2\", midiProgram: 5, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 13454.34, \"linearGain\": 0.25 }], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 12 }, { \"frequency\": \"1\", \"amplitude\": 6 }, { \"frequency\": \"1\", \"amplitude\": 9 }, { \"frequency\": \"16\", \"amplitude\": 6 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 3\", \"index\": 3 }] } },\n                { name: \"harpsichord\", midiProgram: 6, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 250, \"linearGain\": 0.3536 }, { \"type\": \"peak\", \"cutoffHz\": 11313.71, \"linearGain\": 2.8284 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 24, \"chord\": \"simultaneous\", \"harmonics\": [100, 100, 100, 86, 57, 86, 86, 86, 86, 57, 57, 71, 71, 86, 86, 71, 71, 86, 86, 71, 71, 71, 71, 71, 71, 71, 71, 71], \"unison\": \"none\", \"stringSustain\": 79, \"envelopes\": [] } },\n                { name: \"clavinet\", midiProgram: 7, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 0.3536 }], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"3\", \"feedbackAmplitude\": 6, \"operators\": [{ \"frequency\": \"3\", \"amplitude\": 15 }, { \"frequency\": \"~1\", \"amplitude\": 6 }, { \"frequency\": \"8\", \"amplitude\": 4 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 2\" }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"twang 2\" }] } },\n                { name: \"dulcimer\", midiProgram: 15, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.3536 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"strum\", \"harmonics\": [100, 100, 100, 86, 100, 86, 57, 100, 100, 86, 100, 86, 100, 86, 100, 71, 57, 71, 71, 100, 86, 71, 86, 86, 100, 86, 86, 86], \"unison\": \"piano\", \"stringSustain\": 79, \"envelopes\": [] } },\n                { name: \"grand piano 2\", midiProgram: 0, generalMidi: true, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 148.65, \"linearGain\": 0.7071 }, { \"type\": \"peak\", \"cutoffHz\": 2000, \"linearGain\": 2.8284 }], \"effects\": [\"note filter\", \"reverb\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.125 }], \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"harmonics\": [100, 86, 86, 86, 86, 71, 71, 57, 0, 57, 29, 43, 57, 57, 57, 43, 43, 0, 29, 43, 43, 43, 43, 43, 43, 29, 0, 29], \"unison\": \"piano\", \"stringSustain\": 79, \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"note size\" }] } },\n\n            ])\n        },\n        {\n            name: \"Idiophone Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"celesta\", midiProgram: 8, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"~1\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"8\", \"amplitude\": 6, \"envelope\": \"custom\" }, { \"frequency\": \"20\", \"amplitude\": 3, \"envelope\": \"twang 1\" }, { \"frequency\": \"3\", \"amplitude\": 1, \"envelope\": \"twang 2\" }] } },\n                { name: \"glockenspiel\", midiProgram: 9, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"(123)4\", \"feedbackType\": \"123\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"decay 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"5\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"8\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"20\", \"amplitude\": 2, \"envelope\": \"twang 1\" }] } },\n                { name: \"music box 1\", midiProgram: 10, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 0.5 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"strum\", \"harmonics\": [100, 0, 0, 100, 0, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 0, 86, 0, 0, 0, 0, 0, 0, 71, 0], \"unison\": \"none\", \"stringSustain\": 64, \"envelopes\": [] } },\n                { name: \"music box 2\", midiProgram: 10, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 0.7071 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"strum\", \"harmonics\": [100, 57, 57, 0, 0, 0, 0, 0, 0, 57, 0, 0, 0, 0, 0, 0, 0, 0, 0, 43, 0, 0, 0, 0, 0, 0, 0, 0], \"unison\": \"none\", \"stringSustain\": 29, \"envelopes\": [] } },\n                { name: \"vibraphone\", midiProgram: 11, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1234\", \"feedbackAmplitude\": 3, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"~1\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"9\", \"amplitude\": 3, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 9, \"envelope\": \"custom\" }] } },\n                { name: \"marimba\", midiProgram: 12, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 29, \"filterEnvelope\": \"decay 1\", \"vibrato\": \"none\", \"algorithm\": \"12(34)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 6, \"envelope\": \"custom\" }, { \"frequency\": \"13\", \"amplitude\": 6, \"envelope\": \"twang 1\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"kalimba\", midiProgram: 108, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"decay 1\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"5\", \"amplitude\": 3, \"envelope\": \"twang 2\" }, { \"frequency\": \"20\", \"amplitude\": 3, \"envelope\": \"twang 1\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"xylophone\", midiProgram: 13, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"(123)4\", \"feedbackType\": \"123\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"6\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"11\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"20\", \"amplitude\": 6, \"envelope\": \"twang 1\" }] } },\n                { name: \"tubular bell\", midiProgram: 14, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 0.5 }, { \"type\": \"high-pass\", \"cutoffHz\": 105.11, \"linearGain\": 0.3536 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 96, \"chord\": \"strum\", \"harmonics\": [43, 71, 0, 100, 0, 100, 0, 86, 0, 0, 86, 0, 14, 71, 14, 14, 57, 14, 14, 43, 14, 14, 43, 14, 14, 43, 14, 14], \"unison\": \"shimmer\", \"stringSustain\": 86, \"envelopes\": [] } },\n                { name: \"bell synth\", midiProgram: 14, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 29, \"filterEnvelope\": \"twang 3\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"~2\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"7\", \"amplitude\": 6, \"envelope\": \"twang 3\" }, { \"frequency\": \"20\", \"amplitude\": 1, \"envelope\": \"twang 1\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"rain drop\", midiProgram: 96, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"6\", \"amplitude\": 4, \"envelope\": \"custom\" }, { \"frequency\": \"20\", \"amplitude\": 3, \"envelope\": \"twang 1\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"tremolo1\" }] } },\n                { name: \"crystal\", midiProgram: 98, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"delayed\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 4, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"6\", \"amplitude\": 4, \"envelope\": \"custom\" }, { \"frequency\": \"13\", \"amplitude\": 4, \"envelope\": \"custom\" }] } },\n                { name: \"tinkle bell\", midiProgram: 112, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1234\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"twang 3\", \"operators\": [{ \"frequency\": \"~2\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"5\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"7\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"16\", \"amplitude\": 7, \"envelope\": \"custom\" }] } },\n                { name: \"agogo\", midiProgram: 113, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"decay 1\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"14\", \"feedbackAmplitude\": 15, \"feedbackEnvelope\": \"decay 1\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"5\", \"amplitude\": 6, \"envelope\": \"custom\" }, { \"frequency\": \"8\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"13\", \"amplitude\": 11, \"envelope\": \"custom\" }] } },\n            ])\n        },\n        {\n            name: \"Guitar Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"nylon guitar\", midiProgram: 24, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"3\", \"feedbackAmplitude\": 6, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }, { \"frequency\": \"5\", \"amplitude\": 2, \"envelope\": \"steady\" }, { \"frequency\": \"7\", \"amplitude\": 4, \"envelope\": \"steady\" }] } },\n                { name: \"steel guitar\", midiProgram: 25, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"strum\", \"harmonics\": [100, 100, 86, 71, 71, 71, 86, 86, 71, 57, 43, 43, 43, 57, 57, 57, 57, 57, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43], \"unison\": \"none\", \"stringSustain\": 71, \"envelopes\": [] } },\n                { name: \"jazz guitar\", midiProgram: 26, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 86, 71, 57, 71, 71, 43, 57, 71, 57, 43, 29, 29, 29, 29, 29, 29, 29, 29, 14, 14, 14, 14, 14, 14, 14, 0] } },\n                { name: \"clean guitar\", midiProgram: 27, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [86, 100, 100, 100, 86, 57, 86, 100, 100, 100, 71, 57, 43, 71, 86, 71, 57, 57, 71, 71, 71, 71, 57, 57, 57, 57, 57, 43] } },\n                { name: \"muted guitar\", midiProgram: 28, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 7, \"feedbackEnvelope\": \"twang 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 13, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 4, \"envelope\": \"twang 3\" }, { \"frequency\": \"4\", \"amplitude\": 4, \"envelope\": \"twang 2\" }, { \"frequency\": \"16\", \"amplitude\": 4, \"envelope\": \"twang 1\" }] } },\n            ])\n        },\n        {\n            name: \"Picked Bass Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"acoustic bass\", midiProgram: 32, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 86, 71, 71, 71, 71, 57, 57, 57, 57, 43, 43, 43, 43, 43, 29, 29, 29, 29, 29, 29, 14, 14, 14, 14, 14, 14, 14] } },\n                { name: \"fingered bass\", midiProgram: 33, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 86, 71, 57, 71, 43, 57, 29, 29, 29, 29, 29, 29, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 0] } },\n                { name: \"picked bass\", midiProgram: 34, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 0, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"3\", \"feedbackAmplitude\": 4, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 5, \"envelope\": \"steady\" }, { \"frequency\": \"11\", \"amplitude\": 1, \"envelope\": \"twang 3\" }, { \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"steady\" }] } },\n                { name: \"fretless bass\", midiProgram: 35, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 1000, \"filterResonance\": 14, \"filterEnvelope\": \"flare 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 86, 71, 71, 57, 57, 71, 71, 71, 57, 57, 57, 57, 57, 57, 57, 43, 43, 43, 43, 43, 43, 43, 43, 29, 29, 14] } },\n                { name: \"slap bass 1\", midiProgram: 36, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 4000, \"filterResonance\": 0, \"filterEnvelope\": \"twang 1\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 100, 100, 86, 71, 57, 29, 29, 43, 43, 57, 71, 57, 29, 29, 43, 57, 57, 57, 43, 43, 43, 57, 71, 71, 71, 71] } },\n                { name: \"slap bass 2\", midiProgram: 37, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 0, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"3\", \"feedbackAmplitude\": 4, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"3\", \"amplitude\": 13, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 7, \"envelope\": \"steady\" }, { \"frequency\": \"13\", \"amplitude\": 3, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 11, \"envelope\": \"steady\" }] } },\n                { name: \"bass synth 1\", midiProgram: 38, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 4000, \"filterResonance\": 43, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"34\", \"feedbackAmplitude\": 9, \"feedbackEnvelope\": \"twang 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"twang 1\" }, { \"frequency\": \"~1\", \"amplitude\": 13, \"envelope\": \"twang 2\" }] } },\n                { name: \"bass synth 2\", midiProgram: 39, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 1000, \"filterResonance\": 57, \"filterEnvelope\": \"punch\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 4, \"feedbackEnvelope\": \"twang 3\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"steady\" }, { \"frequency\": \"3\", \"amplitude\": 0, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"bass & lead\", midiProgram: 87, generalMidi: true, settings: { \"type\": \"chip\", \"transition\": \"hard\", \"effects\": \"reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 86, \"filterEnvelope\": \"twang 2\", \"wave\": \"sawtooth\", \"interval\": \"shimmer\", \"vibrato\": \"none\" } },\n                { name: \"dubstep yoi yoi\", midiProgram: 87, settings: { \"type\": \"chip\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 0.7071 }], \"effects\": [\"note filter\", \"bitcrusher\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 594.6, \"linearGain\": 11.3137 }], \"bitcrusherOctave\": 1.5, \"bitcrusherQuantization\": 0, \"transition\": \"slide\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"wave\": \"sawtooth\", \"unison\": \"none\", \"envelopes\": [{ \"target\": \"noteFilterFreq\", \"envelope\": \"flare 2\", \"index\": 0 }] } },\n            ])\n        },\n        {\n            name: \"Picked String Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"pizzicato strings\", midiProgram: 45, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"medium fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 1000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"(123)4\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 7, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"6\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"~1\", \"amplitude\": 10, \"envelope\": \"steady\" }] } },\n                { name: \"harp\", midiProgram: 46, generalMidi: true, settings: { \"type\": \"FM\", \"transition\": \"hard fade\", \"effects\": \"reverb\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 0, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"3\", \"feedbackAmplitude\": 6, \"feedbackEnvelope\": \"twang 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 6, \"envelope\": \"custom\" }, { \"frequency\": \"~2\", \"amplitude\": 3, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }] } },\n                { name: \"sitar\", midiProgram: 104, generalMidi: true, settings: { \"type\": \"FM\", \"transition\": \"hard fade\", \"effects\": \"reverb\", \"chord\": \"strum\", \"filterCutoffHz\": 8000, \"filterResonance\": 57, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"twang 3\" }, { \"frequency\": \"9\", \"amplitude\": 3, \"envelope\": \"twang 3\" }, { \"frequency\": \"16\", \"amplitude\": 9, \"envelope\": \"swell 3\" }] } },\n                { name: \"banjo\", midiProgram: 105, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"2\", \"feedbackAmplitude\": 4, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"steady\" }, { \"frequency\": \"11\", \"amplitude\": 3, \"envelope\": \"twang 3\" }, { \"frequency\": \"1\", \"amplitude\": 11, \"envelope\": \"steady\" }] } },\n                { name: \"ukulele\", midiProgram: 105, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 0, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"3\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }, { \"frequency\": \"9\", \"amplitude\": 4, \"envelope\": \"twang 2\" }, { \"frequency\": \"1\", \"amplitude\": 11, \"envelope\": \"steady\" }] } },\n                { name: \"shamisen\", midiProgram: 106, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"3\", \"feedbackAmplitude\": 9, \"feedbackEnvelope\": \"twang 3\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"steady\" }, { \"frequency\": \"16\", \"amplitude\": 4, \"envelope\": \"twang 3\" }, { \"frequency\": \"1\", \"amplitude\": 7, \"envelope\": \"steady\" }] } },\n                { name: \"koto\", midiProgram: 107, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"twang 2\", \"operators\": [{ \"frequency\": \"~1\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"6\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 8, \"envelope\": \"twang 3\" }, { \"frequency\": \"~2\", \"amplitude\": 8, \"envelope\": \"twang 3\" }] } },\n            ])\n        },\n        {\n            name: \"Distortion Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"overdrive guitar\", midiProgram: 29, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 0.7071 }, { \"type\": \"high-pass\", \"cutoffHz\": 210.22, \"linearGain\": 1 }, { \"type\": \"low-pass\", \"cutoffHz\": 5656.85, \"linearGain\": 1 }, { \"type\": \"peak\", \"cutoffHz\": 840.9, \"linearGain\": 0.5 }], \"effects\": [\"note filter\", \"distortion\"], \"noteFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 297.3, \"linearGain\": 2 }, { \"type\": \"low-pass\", \"cutoffHz\": 2378.41, \"linearGain\": 0.7071 }], \"distortion\": 71, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 12, \"chord\": \"strum\", \"harmonics\": [86, 100, 100, 86, 86, 86, 86, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57], \"unison\": \"none\", \"stringSustain\": 71, \"envelopes\": [{ \"target\": \"noteFilterFreq\", \"envelope\": \"note size\", \"index\": 1 }] } },\n                { name: \"distortion guitar\", midiProgram: 30, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 0.7071 }, { \"type\": \"high-pass\", \"cutoffHz\": 210.22, \"linearGain\": 1 }, { \"type\": \"low-pass\", \"cutoffHz\": 5656.85, \"linearGain\": 1 }, { \"type\": \"peak\", \"cutoffHz\": 594.6, \"linearGain\": 0.3536 }, { \"type\": \"peak\", \"cutoffHz\": 1000, \"linearGain\": 0.25 }], \"effects\": [\"note filter\", \"distortion\", \"reverb\"], \"noteFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 353.55, \"linearGain\": 2 }, { \"type\": \"low-pass\", \"cutoffHz\": 2000, \"linearGain\": 1 }], \"distortion\": 86, \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 12, \"chord\": \"strum\", \"harmonics\": [86, 100, 100, 86, 86, 86, 86, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57, 57], \"unison\": \"none\", \"stringSustain\": 71, \"envelopes\": [{ \"target\": \"noteFilterFreq\", \"envelope\": \"note size\", \"index\": 1 }] } },\n                { name: \"charango synth\", midiProgram: 84, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 11313.71, \"linearGain\": 1 }], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"strum\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1234\", \"feedbackAmplitude\": 8, \"operators\": [{ \"frequency\": \"3\", \"amplitude\": 13 }, { \"frequency\": \"~1\", \"amplitude\": 5 }, { \"frequency\": \"4\", \"amplitude\": 6 }, { \"frequency\": \"3\", \"amplitude\": 7 }], \"envelopes\": [{ \"target\": \"feedbackAmplitude\", \"envelope\": \"twang 3\" }] } },\n                { name: \"guitar harmonics\", midiProgram: 31, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 2 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"strum\", \"algorithm\": \"1(23)4\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 2, \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 12 }, { \"frequency\": \"16\", \"amplitude\": 5 }, { \"frequency\": \"1\", \"amplitude\": 2 }, { \"frequency\": \"~1\", \"amplitude\": 12 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"swell 1\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"punch\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 1\", \"index\": 3 }] } },\n                { name: \"PWM overdrive\", midiProgram: 29, settings: { \"type\": \"PWM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 5656.85, \"linearGain\": 1.4142 }], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"strum\", \"pulseWidth\": 17.67767, \"envelopes\": [{ \"target\": \"pulseWidth\", \"envelope\": \"punch\" }] } },\n                { name: \"PWM distortion\", midiProgram: 30, settings: { \"type\": \"PWM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 3363.59, \"linearGain\": 2 }], \"effects\": [\"vibrato\"], \"vibrato\": \"delayed\", \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"strum\", \"pulseWidth\": 50, \"envelopes\": [{ \"target\": \"pulseWidth\", \"envelope\": \"swell 1\" }] } },\n                { name: \"FM overdrive\", midiProgram: 29, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 1 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"strum\", \"algorithm\": \"1(234)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 2, \"operators\": [{ \"frequency\": \"~1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 12 }, { \"frequency\": \"~2\", \"amplitude\": 6 }, { \"frequency\": \"1\", \"amplitude\": 12 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"twang 1\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 3\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"punch\" }] } },\n                { name: \"FM distortion\", midiProgram: 30, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 2 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"strum\", \"algorithm\": \"1(234)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 4, \"operators\": [{ \"frequency\": \"~1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 11 }, { \"frequency\": \"1\", \"amplitude\": 9 }, { \"frequency\": \"~2\", \"amplitude\": 4 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"swell 1\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 3\", \"index\": 3 }] } },\n            ])\n        },\n        {\n            name: \"Bellows Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"drawbar organ 1\", midiProgram: 16, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [86, 86, 0, 86, 0, 0, 0, 86, 0, 0, 0, 0, 0, 0, 0, 86, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] } },\n                { name: \"drawbar organ 2\", midiProgram: 16, midiSubharmonicOctaves: 1, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [86, 29, 71, 86, 71, 14, 0, 100, 0, 0, 0, 86, 0, 0, 0, 71, 0, 0, 0, 57, 0, 0, 0, 29, 0, 0, 0, 0] } },\n                { name: \"percussive organ\", midiProgram: 17, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"FM\", \"transition\": \"hard\", \"effects\": \"reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"punch\", \"vibrato\": \"light\", \"algorithm\": \"1234\", \"feedbackType\": \"1324\", \"feedbackAmplitude\": 7, \"feedbackEnvelope\": \"decay 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 8, \"envelope\": \"custom\" }] } },\n                { name: \"rock organ\", midiProgram: 18, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"hard\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"punch\", \"vibrato\": \"delayed\", \"algorithm\": \"(123)4\", \"feedbackType\": \"123\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"flare 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"6\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 5, \"envelope\": \"steady\" }] } },\n                { name: \"pipe organ\", midiProgram: 19, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"FM\", \"transition\": \"cross fade\", \"effects\": \"reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"8\", \"amplitude\": 8, \"envelope\": \"custom\" }] } },\n                { name: \"reed organ\", midiProgram: 20, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [71, 86, 100, 86, 71, 100, 57, 71, 71, 71, 43, 43, 43, 71, 43, 71, 57, 57, 57, 57, 57, 57, 57, 29, 43, 29, 29, 14] } },\n                { name: \"accordion\", midiProgram: 21, generalMidi: true, settings: { \"type\": \"chip\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 0, \"filterEnvelope\": \"swell 1\", \"wave\": \"double saw\", \"interval\": \"honky tonk\", \"vibrato\": \"none\" } },\n                { name: \"bandoneon\", midiProgram: 23, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 29, \"filterEnvelope\": \"swell 1\", \"interval\": \"hum\", \"vibrato\": \"none\", \"harmonics\": [86, 86, 86, 57, 71, 86, 57, 71, 71, 71, 57, 43, 57, 43, 71, 43, 71, 57, 57, 43, 43, 43, 57, 43, 43, 29, 29, 29] } },\n                { name: \"bagpipe\", midiProgram: 109, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 43, \"filterEnvelope\": \"punch\", \"interval\": \"hum\", \"vibrato\": \"none\", \"harmonics\": [71, 86, 86, 100, 100, 86, 57, 100, 86, 71, 71, 71, 57, 57, 57, 71, 57, 71, 57, 71, 43, 57, 57, 43, 43, 43, 43, 43] } },\n            ])\n        },\n        {\n            name: \"String Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"violin 1\", midiProgram: 40, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 1.4142 }, { \"type\": \"high-pass\", \"cutoffHz\": 105.11, \"linearGain\": 0.3536 }], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"delayed\", \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 6, \"chord\": \"simultaneous\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 5, \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 9 }, { \"frequency\": \"3\", \"amplitude\": 9 }, { \"frequency\": \"2\", \"amplitude\": 7 }, { \"frequency\": \"7\", \"amplitude\": 5 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"swell 1\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"twang 3\" }] } },\n                { name: \"viola\", midiProgram: 41, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"vibrato\": \"delayed\", \"algorithm\": \"(123)4\", \"feedbackType\": \"123\", \"feedbackAmplitude\": 8, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"7\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"13\", \"amplitude\": 4, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 5, \"envelope\": \"steady\" }] } },\n                { name: \"cello\", midiProgram: 42, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 0.1768 }, { \"type\": \"high-pass\", \"cutoffHz\": 297.3, \"linearGain\": 0.7071 }, { \"type\": \"peak\", \"cutoffHz\": 4756.83, \"linearGain\": 5.6569 }], \"effects\": [\"note filter\", \"reverb\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 16000, \"linearGain\": 0.0884 }], \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 12, \"chord\": \"simultaneous\", \"algorithm\": \"(12)34\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 3, \"operators\": [{ \"frequency\": \"16\", \"amplitude\": 5 }, { \"frequency\": \"~1\", \"amplitude\": 10 }, { \"frequency\": \"1\", \"amplitude\": 9 }, { \"frequency\": \"6\", \"amplitude\": 3 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"swell 1\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 1\", \"index\": 3 }] } },\n                { name: \"contrabass\", midiProgram: 43, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"vibrato\": \"delayed\", \"algorithm\": \"(12)34\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"16\", \"amplitude\": 5, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"steady\" }, { \"frequency\": \"6\", \"amplitude\": 3, \"envelope\": \"swell 1\" }] } },\n                { name: \"fiddle\", midiProgram: 110, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"vibrato\": \"delayed\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"34\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"8\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"steady\" }, { \"frequency\": \"16\", \"amplitude\": 3, \"envelope\": \"steady\" }] } },\n                { name: \"tremolo strings\", midiProgram: 44, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"medium fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 0, \"filterEnvelope\": \"tremolo4\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1234\", \"feedbackAmplitude\": 12, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"~2\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"7\", \"amplitude\": 8, \"envelope\": \"custom\" }] } },\n                { name: \"strings\", midiProgram: 48, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"4\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"twang 3\", \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 7, \"envelope\": \"steady\" }, { \"frequency\": \"7\", \"amplitude\": 3, \"envelope\": \"swell 1\" }] } },\n                { name: \"slow strings\", midiProgram: 49, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"soft fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 0, \"filterEnvelope\": \"swell 2\", \"vibrato\": \"none\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"4\", \"feedbackAmplitude\": 6, \"feedbackEnvelope\": \"flare 3\", \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 7, \"envelope\": \"steady\" }, { \"frequency\": \"7\", \"amplitude\": 4, \"envelope\": \"swell 1\" }] } },\n                { name: \"strings synth 1\", midiProgram: 50, generalMidi: true, settings: { \"type\": \"chip\", \"transition\": \"soft fade\", \"effects\": \"chorus & reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"wave\": \"sawtooth\", \"interval\": \"hum\", \"vibrato\": \"delayed\" } },\n                { name: \"strings synth 2\", midiProgram: 51, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"soft fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 12, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"3\", \"amplitude\": 6, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"custom\" }] } },\n                { name: \"orchestra hit 1\", midiProgram: 55, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 14, \"filterEnvelope\": \"custom\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 14, \"feedbackEnvelope\": \"twang 3\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"twang 3\" }, { \"frequency\": \"2\", \"amplitude\": 15, \"envelope\": \"flare 3\" }, { \"frequency\": \"4\", \"amplitude\": 15, \"envelope\": \"flare 2\" }, { \"frequency\": \"8\", \"amplitude\": 15, \"envelope\": \"flare 1\" }] } },\n                { name: \"violin 2\", midiProgram: 40, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2828, \"linearGain\": 1.4142 }, { \"type\": \"high-pass\", \"cutoffHz\": 105.11, \"linearGain\": 0.3536 }], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"light\", \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 6, \"chord\": \"simultaneous\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"4\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"twang 3\", \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 13, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 7, \"envelope\": \"steady\" }, { \"frequency\": \"7\", \"amplitude\": 8, \"envelope\": \"swell 1\" }] } },\n                { name: \"orchestra hit 2\", midiProgram: 55, midiSubharmonicOctaves: 1, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"medium fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"decay 1\", \"vibrato\": \"delayed\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 14, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 14, \"envelope\": \"custom\" }] } },\n            ])\n        },\n        {\n            name: \"Vocal Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"choir soprano\", midiProgram: 94, generalMidi: true, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 2 }, { \"type\": \"peak\", \"cutoffHz\": 1189.21, \"linearGain\": 5.6569 }, { \"type\": \"high-pass\", \"cutoffHz\": 707.11, \"linearGain\": 2.8284 }, { \"type\": \"peak\", \"cutoffHz\": 2000, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 840.9, \"linearGain\": 0.25 }, { \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 11.3137 }], \"effects\": [\"vibrato\", \"chorus\", \"reverb\"], \"vibrato\": \"shaky\", \"chorus\": 100, \"reverb\": 33, \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 24, \"harmonics\": [100, 100, 86, 57, 29, 29, 57, 71, 57, 29, 14, 14, 14, 29, 43, 57, 43, 29, 14, 14, 14, 14, 14, 14, 0, 0, 0, 0], \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"choir tenor\", midiProgram: 52, generalMidi: true, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"peak\", \"cutoffHz\": 1000, \"linearGain\": 11.3137 }, { \"type\": \"peak\", \"cutoffHz\": 707.11, \"linearGain\": 5.6569 }, { \"type\": \"peak\", \"cutoffHz\": 840.9, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 1681.79, \"linearGain\": 0.0884 }, { \"type\": \"high-pass\", \"cutoffHz\": 297.3, \"linearGain\": 0.7071 }, { \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 11.3137 }], \"effects\": [\"vibrato\", \"chorus\", \"reverb\"], \"vibrato\": \"shaky\", \"chorus\": 100, \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"harmonics\": [86, 100, 100, 86, 71, 57, 43, 29, 29, 29, 29, 43, 43, 43, 29, 29, 29, 29, 29, 29, 29, 29, 29, 14, 14, 14, 14, 14], \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"choir bass\", midiProgram: 52, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2378.41, \"linearGain\": 11.3137 }, { \"type\": \"peak\", \"cutoffHz\": 594.6, \"linearGain\": 5.6569 }, { \"type\": \"peak\", \"cutoffHz\": 1681.79, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 707.11, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 840.9, \"linearGain\": 11.3137 }], \"effects\": [\"vibrato\", \"chorus\", \"reverb\"], \"vibrato\": \"shaky\", \"chorus\": 100, \"reverb\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"harmonics\": [71, 86, 100, 100, 86, 86, 57, 43, 29, 29, 29, 29, 29, 29, 43, 43, 43, 43, 43, 29, 29, 29, 29, 14, 14, 14, 14, 14], \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"solo soprano\", midiProgram: 85, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 2 }, { \"type\": \"peak\", \"cutoffHz\": 1189.21, \"linearGain\": 5.6569 }, { \"type\": \"high-pass\", \"cutoffHz\": 707.11, \"linearGain\": 2.8284 }, { \"type\": \"peak\", \"cutoffHz\": 2000, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 840.9, \"linearGain\": 0.25 }], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"shaky\", \"reverb\": 33, \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 12, \"harmonics\": [86, 100, 86, 43, 14, 14, 57, 71, 57, 14, 14, 14, 14, 14, 43, 57, 43, 14, 14, 14, 14, 14, 14, 14, 0, 0, 0, 0], \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"solo tenor\", midiProgram: 85, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"peak\", \"cutoffHz\": 1000, \"linearGain\": 11.3137 }, { \"type\": \"peak\", \"cutoffHz\": 707.11, \"linearGain\": 5.6569 }, { \"type\": \"peak\", \"cutoffHz\": 840.9, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 1681.79, \"linearGain\": 0.0884 }, { \"type\": \"high-pass\", \"cutoffHz\": 297.3, \"linearGain\": 0.7071 }, { \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 11.3137 }], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"shaky\", \"reverb\": 33, \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 12, \"harmonics\": [86, 100, 100, 86, 71, 57, 43, 29, 29, 29, 29, 43, 43, 43, 29, 29, 29, 29, 29, 29, 29, 29, 29, 14, 14, 14, 14, 14], \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"solo bass\", midiProgram: 85, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2378.41, \"linearGain\": 5.6569 }, { \"type\": \"peak\", \"cutoffHz\": 594.6, \"linearGain\": 8 }, { \"type\": \"peak\", \"cutoffHz\": 1681.79, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 707.11, \"linearGain\": 0.0884 }, { \"type\": \"peak\", \"cutoffHz\": 840.9, \"linearGain\": 8 }, { \"type\": \"high-pass\", \"cutoffHz\": 210.22, \"linearGain\": 1.4142 }], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"shaky\", \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": 12, \"chord\": \"simultaneous\", \"harmonics\": [71, 86, 100, 100, 86, 86, 57, 43, 29, 29, 29, 29, 29, 29, 43, 43, 43, 43, 43, 29, 29, 29, 29, 14, 14, 14, 14, 14], \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"voice ooh\", midiProgram: 53, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 57, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"shaky\", \"harmonics\": [100, 57, 43, 43, 14, 14, 0, 0, 0, 14, 29, 29, 14, 0, 14, 29, 29, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] } },\n                { name: \"voice synth\", midiProgram: 54, generalMidi: true, settings: { \"type\": \"chip\", \"transition\": \"medium fade\", \"effects\": \"chorus & reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 57, \"filterEnvelope\": \"steady\", \"wave\": \"rounded\", \"interval\": \"union\", \"vibrato\": \"light\" } },\n                { name: \"vox synth lead\", midiProgram: 85, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"vibrato\": \"light\", \"algorithm\": \"(123)4\", \"feedbackType\": \"1234\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"punch\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"9\", \"amplitude\": 5, \"envelope\": \"custom\" }, { \"frequency\": \"20\", \"amplitude\": 1, \"envelope\": \"custom\" }, { \"frequency\": \"~1\", \"amplitude\": 4, \"envelope\": \"steady\" }] } },\n                { name: \"tiny robot\", midiProgram: 85, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"delayed\", \"reverb\": 33, \"transition\": \"slide\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 2, \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 7 }, { \"frequency\": \"~1\", \"amplitude\": 7 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"punch\", \"index\": 1 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"twang 3\" }] } },\n                { name: \"yowie\", midiProgram: 85, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 86, \"filterEnvelope\": \"tremolo5\", \"vibrato\": \"none\", \"algorithm\": \"12(34)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 12, \"feedbackEnvelope\": \"tremolo3\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"16\", \"amplitude\": 5, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 5, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"mouse\", midiProgram: 85, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"light\", \"reverb\": 33, \"transition\": \"slide in pattern\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"algorithm\": \"1234\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 5, \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 13 }, { \"frequency\": \"5\", \"amplitude\": 12 }, { \"frequency\": \"1\", \"amplitude\": 0 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"noteVolume\", \"envelope\": \"note size\" }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"flare 2\" }] } },\n                { name: \"gumdrop\", midiProgram: 85, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"(123)4\", \"feedbackType\": \"123\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 15, \"envelope\": \"punch\" }, { \"frequency\": \"4\", \"amplitude\": 15, \"envelope\": \"punch\" }, { \"frequency\": \"7\", \"amplitude\": 15, \"envelope\": \"punch\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"twang 1\" }] } },\n                { name: \"echo drop\", midiProgram: 102, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"hard\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"punch\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"~2\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"~1\", \"amplitude\": 5, \"envelope\": \"steady\" }, { \"frequency\": \"11\", \"amplitude\": 2, \"envelope\": \"steady\" }, { \"frequency\": \"16\", \"amplitude\": 5, \"envelope\": \"swell 3\" }] } },\n                { name: \"dark choir\", midiProgram: 85, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 29, \"filterEnvelope\": \"swell 1\", \"spectrum\": [43, 14, 14, 14, 14, 14, 14, 100, 14, 14, 14, 57, 14, 14, 100, 14, 43, 14, 43, 14, 14, 43, 14, 29, 14, 29, 14, 14, 29, 0] } },\n            ])\n        },\n        {\n            name: \"Brass Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"trumpet\", midiProgram: 56, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 9, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 5, \"envelope\": \"flare 2\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"trombone\", midiProgram: 57, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"2\", \"feedbackAmplitude\": 7, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"tuba\", midiProgram: 58, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"2\", \"feedbackAmplitude\": 8, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"muted trumpet\", midiProgram: 59, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 2.8284 }, { \"type\": \"peak\", \"cutoffHz\": 4000, \"linearGain\": 2.8284 }], \"effects\": [\"note filter\", \"reverb\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 3363.59, \"linearGain\": 1 }], \"reverb\": 33, \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 5, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 13 }, { \"frequency\": \"1\", \"amplitude\": 5 }, { \"frequency\": \"9\", \"amplitude\": 5 }, { \"frequency\": \"13\", \"amplitude\": 7 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"swell 1\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 1\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"flare 2\" }] } },\n                { name: \"french horn\", midiProgram: 60, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 1 }, { \"type\": \"peak\", \"cutoffHz\": 2378.41, \"linearGain\": 2.8284 }], \"effects\": [\"reverb\"], \"reverb\": 33, \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 3, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 12 }, { \"frequency\": \"1\", \"amplitude\": 10 }, { \"frequency\": \"~1\", \"amplitude\": 8 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"swell 1\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 2\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"swell 1\" }] } },\n                { name: \"brass section\", midiProgram: 61, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"punch\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 6, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"swell 1\" }, { \"frequency\": \"~1\", \"amplitude\": 10, \"envelope\": \"swell 1\" }] } },\n                { name: \"brass synth 1\", midiProgram: 62, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 11, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"flare 1\" }, { \"frequency\": \"~1\", \"amplitude\": 8, \"envelope\": \"flare 2\" }] } },\n                { name: \"brass synth 2\", midiProgram: 63, generalMidi: true, settings: { \"type\": \"FM\", \"transition\": \"soft\", \"effects\": \"reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 43, \"filterEnvelope\": \"twang 3\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 9, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"flare 1\" }, { \"frequency\": \"~1\", \"amplitude\": 7, \"envelope\": \"flare 1\" }] } },\n                { name: \"pulse brass\", midiProgram: 62, settings: { \"type\": \"PWM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 29, \"filterEnvelope\": \"swell 1\", \"pulseWidth\": 50, \"pulseEnvelope\": \"flare 3\", \"vibrato\": \"none\" } },\n            ])\n        },\n        {\n            name: \"Reed Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"soprano sax\", midiProgram: 64, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"4\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 13, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 4, \"envelope\": \"swell 1\" }, { \"frequency\": \"1\", \"amplitude\": 7, \"envelope\": \"steady\" }, { \"frequency\": \"5\", \"amplitude\": 4, \"envelope\": \"punch\" }] } },\n                { name: \"alto sax\", midiProgram: 65, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 4, \"feedbackEnvelope\": \"punch\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 13, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }, { \"frequency\": \"4\", \"amplitude\": 6, \"envelope\": \"swell 1\" }, { \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"steady\" }] } },\n                { name: \"tenor sax\", midiProgram: 66, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 6, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 7, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 3, \"envelope\": \"steady\" }, { \"frequency\": \"8\", \"amplitude\": 3, \"envelope\": \"steady\" }] } },\n                { name: \"baritone sax\", midiProgram: 67, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"swell 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"8\", \"amplitude\": 4, \"envelope\": \"steady\" }, { \"frequency\": \"4\", \"amplitude\": 5, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 4, \"envelope\": \"punch\" }] } },\n                { name: \"sax synth\", midiProgram: 64, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"vibrato\": \"light\", \"algorithm\": \"1(234)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 4, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"shehnai\", midiProgram: 111, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"vibrato\": \"light\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 3, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"oboe\", midiProgram: 68, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"swell 1\", \"vibrato\": \"none\", \"algorithm\": \"12(34)\", \"feedbackType\": \"2\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"tremolo5\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }, { \"frequency\": \"6\", \"amplitude\": 2, \"envelope\": \"steady\" }] } },\n                { name: \"english horn\", midiProgram: 69, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"12(34)\", \"feedbackType\": \"2\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"4\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 8, \"envelope\": \"punch\" }, { \"frequency\": \"8\", \"amplitude\": 4, \"envelope\": \"steady\" }] } },\n                { name: \"bassoon\", midiProgram: 70, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 707, \"filterResonance\": 57, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 2, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }, { \"frequency\": \"6\", \"amplitude\": 6, \"envelope\": \"swell 1\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n                { name: \"clarinet\", midiProgram: 71, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 43, 86, 57, 86, 71, 86, 71, 71, 71, 71, 71, 71, 43, 71, 71, 57, 57, 57, 57, 57, 57, 43, 43, 43, 29, 14, 0] } },\n                { name: \"harmonica\", midiProgram: 22, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 29, \"filterEnvelope\": \"swell 1\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 9, \"feedbackEnvelope\": \"tremolo5\", \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 14, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"steady\" }, { \"frequency\": \"~2\", \"amplitude\": 2, \"envelope\": \"twang 3\" }, { \"frequency\": \"1\", \"amplitude\": 0, \"envelope\": \"steady\" }] } },\n            ])\n        },\n        {\n            name: \"Flute Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"flute 1\", midiProgram: 73, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"4\", \"feedbackAmplitude\": 7, \"feedbackEnvelope\": \"decay 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 4, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 3, \"envelope\": \"steady\" }, { \"frequency\": \"~1\", \"amplitude\": 1, \"envelope\": \"punch\" }] } },\n                { name: \"recorder\", midiProgram: 74, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 29, \"filterEnvelope\": \"swell 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 43, 57, 43, 57, 43, 43, 43, 43, 43, 43, 43, 43, 29, 29, 29, 29, 29, 29, 29, 14, 14, 14, 14, 14, 14, 14, 0] } },\n                { name: \"whistle\", midiProgram: 78, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"chorus & reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"delayed\", \"harmonics\": [100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] } },\n                { name: \"ocarina\", midiProgram: 79, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 14, 57, 14, 29, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] } },\n                { name: \"piccolo\", midiProgram: 72, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"4\", \"feedbackAmplitude\": 15, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"~2\", \"amplitude\": 3, \"envelope\": \"punch\" }, { \"frequency\": \"~1\", \"amplitude\": 5, \"envelope\": \"punch\" }] } },\n                { name: \"shakuhachi\", midiProgram: 77, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"vibrato\": \"delayed\", \"algorithm\": \"1(234)\", \"feedbackType\": \"34\", \"feedbackAmplitude\": 15, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 3, \"envelope\": \"punch\" }, { \"frequency\": \"~1\", \"amplitude\": 4, \"envelope\": \"twang 1\" }, { \"frequency\": \"20\", \"amplitude\": 15, \"envelope\": \"steady\" }] } },\n                { name: \"pan flute\", midiProgram: 75, generalMidi: true, settings: { \"type\": \"spectrum\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 9513.66, \"linearGain\": 5.6569 }], \"effects\": [\"note filter\", \"reverb\"], \"noteFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 0.7071 }], \"reverb\": 33, \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": -3, \"spectrum\": [100, 0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 71, 0, 0, 14, 0, 57, 0, 29, 14, 29, 14, 14, 29, 14, 29, 14, 14, 29, 14], \"envelopes\": [{ \"target\": \"noteFilterFreq\", \"envelope\": \"twang 1\", \"index\": 0 }, { \"target\": \"noteVolume\", \"envelope\": \"punch\" }] } },\n                { name: \"blown bottle\", midiProgram: 76, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"chorus & reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 57, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 7, \"feedbackEnvelope\": \"twang 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 4, \"envelope\": \"custom\" }, { \"frequency\": \"6\", \"amplitude\": 2, \"envelope\": \"custom\" }, { \"frequency\": \"11\", \"amplitude\": 2, \"envelope\": \"custom\" }] } },\n                { name: \"calliope\", midiProgram: 82, generalMidi: true, settings: { \"type\": \"spectrum\", \"transition\": \"cross fade\", \"effects\": \"reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"spectrum\": [100, 0, 0, 0, 0, 0, 0, 86, 0, 0, 0, 71, 0, 0, 57, 0, 43, 0, 29, 14, 14, 29, 14, 14, 14, 14, 14, 14, 14, 14] } },\n                { name: \"chiffer\", midiProgram: 83, generalMidi: true, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"punch\", \"spectrum\": [86, 0, 0, 0, 0, 0, 0, 71, 0, 0, 0, 71, 0, 0, 57, 0, 57, 0, 43, 14, 14, 43, 14, 29, 14, 29, 29, 29, 29, 14] } },\n                { name: \"breath noise\", midiProgram: 121, generalMidi: true, settings: { \"type\": \"spectrum\", \"eqFilter\": [], \"effects\": [\"chord type\", \"note filter\", \"reverb\"], \"chord\": \"strum\", \"noteFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 840.9, \"linearGain\": 0.3536 }, { \"type\": \"low-pass\", \"cutoffHz\": 16000, \"linearGain\": 0.3536 }], \"reverb\": 33, \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 12, \"spectrum\": [71, 0, 0, 0, 0, 0, 0, 29, 0, 0, 0, 71, 0, 0, 29, 0, 100, 29, 14, 29, 100, 29, 100, 14, 14, 71, 0, 29, 0, 0], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 1\" }] } },\n                { name: \"flute 2\", midiProgram: 73, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"seamless\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"delayed\", \"harmonics\": [100, 43, 86, 57, 86, 71, 86, 71, 71, 71, 71, 71, 71, 43, 71, 71, 57, 57, 57, 57, 57, 57, 43, 43, 43, 29, 14, 0] } },\n            ])\n        },\n        {\n            name: \"Pad Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"new age pad\", midiProgram: 88, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"chorus\"], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 3, \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 14 }, { \"frequency\": \"~1\", \"amplitude\": 4 }, { \"frequency\": \"6\", \"amplitude\": 3 }, { \"frequency\": \"13\", \"amplitude\": 3 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"swell 2\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 3\", \"index\": 2 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"swell 3\" }] } },\n                { name: \"warm pad\", midiProgram: 89, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"note filter\", \"chorus\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 3363.59, \"linearGain\": 1 }], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0.0575, \"fadeOutTicks\": 96, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 7, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14 }, { \"frequency\": \"1\", \"amplitude\": 6 }, { \"frequency\": \"1\", \"amplitude\": 0 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"swell 3\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 1\", \"index\": 1 }] } },\n                { name: \"polysynth pad\", midiProgram: 90, generalMidi: true, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"vibrato\", \"note filter\", \"chorus\"], \"vibrato\": \"delayed\", \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 1 }], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"wave\": \"sawtooth\", \"unison\": \"honky tonk\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }] } },\n                { name: \"space voice pad\", midiProgram: 91, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 5.6569 }, { \"type\": \"peak\", \"cutoffHz\": 2828.43, \"linearGain\": 5.6569 }, { \"type\": \"peak\", \"cutoffHz\": 1414.21, \"linearGain\": 0.1768 }], \"effects\": [\"chorus\"], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 72, \"chord\": \"simultaneous\", \"algorithm\": \"(123)4\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 5, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 10 }, { \"frequency\": \"2\", \"amplitude\": 8 }, { \"frequency\": \"3\", \"amplitude\": 7 }, { \"frequency\": \"11\", \"amplitude\": 2 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"punch\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"swell 2\" }] } },\n                { name: \"bowed glass pad\", midiProgram: 92, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 0.5 }], \"transition\": \"normal\", \"fadeInSeconds\": 0.0575, \"fadeOutTicks\": 96, \"chord\": \"simultaneous\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 10 }, { \"frequency\": \"2\", \"amplitude\": 12 }, { \"frequency\": \"3\", \"amplitude\": 7 }, { \"frequency\": \"7\", \"amplitude\": 4 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 3\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 3\", \"index\": 3 }] } },\n                { name: \"metallic pad\", midiProgram: 93, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 0.5 }], \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 72, \"chord\": \"simultaneous\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 13, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"~1\", \"amplitude\": 9 }, { \"frequency\": \"1\", \"amplitude\": 7 }, { \"frequency\": \"11\", \"amplitude\": 7 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 2\", \"index\": 2 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"twang 3\" }] } },\n                { name: \"sweep pad\", midiProgram: 95, generalMidi: true, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"note filter\", \"chorus\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 4 }], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0.0575, \"fadeOutTicks\": 96, \"chord\": \"simultaneous\", \"wave\": \"sawtooth\", \"unison\": \"hum\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"flare 3\" }] } },\n                { name: \"atmosphere\", midiProgram: 99, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 1 }], \"effects\": [\"chorus\", \"reverb\"], \"chorus\": 100, \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"strum\", \"algorithm\": \"1(234)\", \"feedbackType\": \"34\", \"feedbackAmplitude\": 3, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14 }, { \"frequency\": \"~1\", \"amplitude\": 10 }, { \"frequency\": \"3\", \"amplitude\": 7 }, { \"frequency\": \"1\", \"amplitude\": 7 }], \"envelopes\": [{ \"target\": \"operatorAmplitude\", \"envelope\": \"swell 3\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 2\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 3\", \"index\": 3 }] } },\n                { name: \"brightness\", midiProgram: 100, generalMidi: true, settings: { \"type\": \"Picked String\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 2 }], \"effects\": [\"chorus\"], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 72, \"chord\": \"simultaneous\", \"harmonics\": [100, 86, 86, 86, 43, 57, 43, 71, 43, 43, 43, 57, 43, 43, 57, 71, 57, 43, 29, 43, 57, 57, 43, 29, 29, 29, 29, 14], \"unison\": \"octave\", \"stringSustain\": 86, \"envelopes\": [] } },\n                { name: \"goblins\", midiProgram: 101, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"peak\", \"cutoffHz\": 2828.43, \"linearGain\": 11.3137 }], \"effects\": [\"note filter\", \"chorus\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 1681.79, \"linearGain\": 0.5 }], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0.0575, \"fadeOutTicks\": 96, \"chord\": \"simultaneous\", \"algorithm\": \"1234\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 10, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"4\", \"amplitude\": 5 }, { \"frequency\": \"1\", \"amplitude\": 10 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"swell 2\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 3\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"tremolo1\", \"index\": 2 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"flare 3\" }] } },\n                { name: \"sci-fi\", midiProgram: 103, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"peak\", \"cutoffHz\": 9513.66, \"linearGain\": 2.8284 }], \"effects\": [\"note filter\", \"chorus\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 0.5 }], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"algorithm\": \"(12)34\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 8, \"operators\": [{ \"frequency\": \"~1\", \"amplitude\": 13 }, { \"frequency\": \"2\", \"amplitude\": 10 }, { \"frequency\": \"5\", \"amplitude\": 5 }, { \"frequency\": \"11\", \"amplitude\": 8 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 3\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"tremolo5\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"twang 3\" }] } },\n                { name: \"flutter pad\", midiProgram: 90, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"vibrato\", \"note filter\", \"chorus\"], \"vibrato\": \"delayed\", \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4000, \"linearGain\": 4 }], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"algorithm\": \"(12)(34)\", \"feedbackType\": \"123\", \"feedbackAmplitude\": 9, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 13 }, { \"frequency\": \"5\", \"amplitude\": 7 }, { \"frequency\": \"7\", \"amplitude\": 5 }, { \"frequency\": \"~1\", \"amplitude\": 6 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"tremolo1\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"punch\", \"index\": 3 }] } },\n                { name: \"feedback pad\", midiProgram: 89, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"peak\", \"cutoffHz\": 2378.41, \"linearGain\": 8 }], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0.0575, \"fadeOutTicks\": 96, \"chord\": \"custom interval\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 8, \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"~1\", \"amplitude\": 15 }], \"envelopes\": [{ \"target\": \"feedbackAmplitude\", \"envelope\": \"swell 2\" }] } },\n            ])\n        },\n        {\n            name: \"Drum Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"standard drumset\", midiProgram: 116, isNoise: true, settings: { \"type\": \"drumset\", \"effects\": \"reverb\", \"drums\": [{ \"filterEnvelope\": \"twang 1\", \"spectrum\": [57, 71, 71, 86, 86, 86, 71, 71, 71, 71, 57, 57, 57, 57, 43, 43, 43, 43, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29] }, { \"filterEnvelope\": \"twang 1\", \"spectrum\": [0, 0, 0, 100, 71, 71, 57, 86, 57, 57, 57, 71, 43, 43, 57, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43] }, { \"filterEnvelope\": \"twang 1\", \"spectrum\": [0, 0, 0, 0, 100, 57, 43, 43, 29, 57, 43, 29, 71, 43, 43, 43, 43, 57, 43, 43, 43, 43, 43, 43, 43, 43, 29, 43, 43, 43] }, { \"filterEnvelope\": \"twang 1\", \"spectrum\": [0, 0, 0, 0, 0, 71, 57, 43, 43, 43, 57, 57, 43, 29, 57, 43, 43, 43, 29, 43, 57, 43, 43, 43, 43, 43, 43, 29, 43, 43] }, { \"filterEnvelope\": \"decay 2\", \"spectrum\": [0, 14, 29, 43, 86, 71, 29, 43, 43, 43, 43, 29, 71, 29, 71, 29, 43, 43, 43, 43, 57, 43, 43, 57, 43, 43, 43, 57, 57, 57] }, { \"filterEnvelope\": \"decay 1\", \"spectrum\": [0, 0, 14, 14, 14, 14, 29, 29, 29, 43, 43, 43, 57, 57, 57, 71, 71, 71, 71, 71, 71, 71, 71, 57, 57, 57, 57, 43, 43, 43] }, { \"filterEnvelope\": \"twang 3\", \"spectrum\": [43, 43, 43, 71, 29, 29, 43, 43, 43, 29, 43, 43, 43, 29, 29, 43, 43, 29, 29, 29, 57, 14, 57, 43, 43, 57, 43, 43, 57, 57] }, { \"filterEnvelope\": \"decay 3\", \"spectrum\": [29, 43, 43, 43, 43, 29, 29, 43, 29, 29, 43, 29, 14, 29, 43, 29, 43, 29, 57, 29, 43, 57, 43, 71, 43, 71, 57, 57, 71, 71] }, { \"filterEnvelope\": \"twang 3\", \"spectrum\": [43, 29, 29, 43, 29, 29, 29, 57, 29, 29, 29, 57, 43, 43, 29, 29, 57, 43, 43, 43, 71, 43, 43, 71, 57, 71, 71, 71, 71, 71] }, { \"filterEnvelope\": \"decay 3\", \"spectrum\": [57, 57, 57, 43, 57, 57, 43, 43, 57, 43, 43, 43, 71, 57, 43, 57, 86, 71, 57, 86, 71, 57, 86, 100, 71, 86, 86, 86, 86, 86] }, { \"filterEnvelope\": \"flare 1\", \"spectrum\": [0, 0, 14, 14, 14, 14, 29, 29, 29, 43, 43, 43, 57, 57, 71, 71, 86, 86, 100, 100, 100, 100, 100, 100, 100, 100, 86, 57, 29, 0] }, { \"filterEnvelope\": \"decay 2\", \"spectrum\": [14, 14, 14, 14, 29, 14, 14, 29, 14, 43, 14, 43, 57, 86, 57, 57, 100, 57, 43, 43, 57, 100, 57, 43, 29, 14, 0, 0, 0, 0] }] } },\n                { name: \"steel pan\", midiProgram: 114, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 62.5, \"linearGain\": 0.1768 }], \"effects\": [\"note filter\", \"chorus\", \"reverb\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 13454.34, \"linearGain\": 0.25 }], \"chorus\": 67, \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 24, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"~1\", \"amplitude\": 14 }, { \"frequency\": \"7\", \"amplitude\": 3 }, { \"frequency\": \"3\", \"amplitude\": 5 }, { \"frequency\": \"4\", \"amplitude\": 4 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"decay 2\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 1\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 2\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 2\", \"index\": 3 }] } },\n                { name: \"steel pan synth\", midiProgram: 114, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 13454.34, \"linearGain\": 0.25 }], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"algorithm\": \"1234\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 5, \"operators\": [{ \"frequency\": \"~1\", \"amplitude\": 12 }, { \"frequency\": \"2\", \"amplitude\": 15 }, { \"frequency\": \"4\", \"amplitude\": 14 }, { \"frequency\": \"~1\", \"amplitude\": 3 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 1\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"note size\", \"index\": 0 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"note size\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 1\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 2\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"flare 1\" }] } },\n                { name: \"timpani\", midiProgram: 47, generalMidi: true, settings: { \"type\": \"spectrum\", \"eqFilter\": [{ \"type\": \"peak\", \"cutoffHz\": 6727.17, \"linearGain\": 5.6569 }], \"effects\": [\"pitch shift\", \"note filter\", \"reverb\"], \"pitchShiftSemitones\": 15, \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 0.5 }], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"spectrum\": [100, 0, 0, 0, 86, 0, 0, 71, 0, 14, 43, 14, 43, 43, 0, 29, 43, 29, 29, 29, 43, 29, 43, 29, 43, 43, 43, 43, 43, 43], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 1\" }, { \"target\": \"pitchShift\", \"envelope\": \"twang 1\" }] } },\n                { name: \"dark strike\", midiProgram: 47, settings: { \"type\": \"spectrum\", \"eqFilter\": [], \"effects\": [\"note filter\", \"reverb\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 0.7071 }], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"spectrum\": [0, 0, 14, 14, 14, 29, 29, 43, 43, 86, 43, 43, 43, 29, 86, 29, 29, 29, 86, 29, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 2\" }] } },\n                { name: \"woodblock\", midiProgram: 115, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -2.5, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"spectrum\": [0, 14, 29, 43, 43, 57, 86, 86, 71, 57, 57, 43, 43, 57, 86, 86, 43, 43, 71, 57, 57, 57, 57, 57, 86, 86, 71, 71, 71, 71] } },\n                { name: \"taiko drum\", midiProgram: 116, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -0.5, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 29, \"filterEnvelope\": \"twang 1\", \"spectrum\": [71, 100, 100, 43, 43, 71, 71, 43, 43, 43, 43, 43, 43, 57, 29, 57, 43, 57, 43, 43, 57, 43, 43, 43, 43, 43, 43, 43, 43, 43] } },\n                { name: \"melodic drum\", midiProgram: 117, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -1.5, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 43, \"filterEnvelope\": \"twang 1\", \"spectrum\": [100, 71, 71, 57, 57, 43, 43, 71, 43, 43, 43, 57, 43, 43, 57, 43, 43, 43, 43, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29] } },\n                { name: \"drum synth\", midiProgram: 118, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -2, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 43, \"filterEnvelope\": \"decay 1\", \"spectrum\": [100, 86, 71, 57, 43, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29, 29] } },\n                { name: \"tom-tom\", midiProgram: 116, isNoise: true, midiSubharmonicOctaves: -1, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"spectrum\": [100, 29, 14, 0, 0, 86, 14, 43, 29, 86, 29, 14, 29, 57, 43, 43, 43, 43, 57, 43, 43, 43, 29, 57, 43, 43, 43, 43, 43, 43] } },\n                { name: \"metal pipe\", midiProgram: 117, isNoise: true, midiSubharmonicOctaves: -1.5, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 8000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"spectrum\": [29, 43, 86, 43, 43, 43, 43, 43, 100, 29, 14, 14, 100, 14, 14, 0, 0, 0, 0, 0, 14, 29, 29, 14, 0, 0, 14, 29, 0, 0] } },\n                { name: \"synth kick\", midiProgram: 47, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -6, \"chord\": \"simultaneous\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"8\", \"amplitude\": 15 }, { \"frequency\": \"1\", \"amplitude\": 0 }, { \"frequency\": \"1\", \"amplitude\": 0 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"operatorFrequency\", \"envelope\": \"twang 1\", \"index\": 0 }, { \"target\": \"noteVolume\", \"envelope\": \"twang 2\" }] } },\n            ])\n        },\n        {\n            name: \"Novelty Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"guitar fret noise\", midiProgram: 120, generalMidi: true, settings: { \"type\": \"spectrum\", \"eqFilter\": [{ \"type\": \"high-pass\", \"cutoffHz\": 1000, \"linearGain\": 0.1768 }], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 5.6569 }], \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"spectrum\": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 29, 14, 0, 0, 43, 0, 43, 0, 71, 43, 0, 57, 0], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"flare 1\" }, { \"target\": \"noteVolume\", \"envelope\": \"twang 2\" }] } },\n                { name: \"fifth saw lead\", midiProgram: 86, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"note filter\", \"chorus\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 1.4142 }], \"chorus\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0, \"fadeOutTicks\": 48, \"chord\": \"simultaneous\", \"wave\": \"sawtooth\", \"unison\": \"fifth\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 3\" }] } },\n                { name: \"fifth swell\", midiProgram: 86, midiSubharmonicOctaves: 1, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"note filter\", \"chorus\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2000, \"linearGain\": 2 }], \"chorus\": 100, \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 72, \"chord\": \"simultaneous\", \"wave\": \"sawtooth\", \"unison\": \"fifth\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"swell 3\" }] } },\n                { name: \"soundtrack\", midiProgram: 97, generalMidi: true, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"note filter\", \"chorus\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2378.41, \"linearGain\": 0.5 }], \"chorus\": 67, \"transition\": \"normal\", \"fadeInSeconds\": 0.0413, \"fadeOutTicks\": 72, \"chord\": \"simultaneous\", \"wave\": \"sawtooth\", \"unison\": \"fifth\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"flare 3\" }] } },\n                { name: \"reverse cymbal\", midiProgram: 119, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -3, settings: { \"type\": \"spectrum\", \"effects\": \"none\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"swell 3\", \"spectrum\": [29, 57, 57, 29, 57, 57, 29, 29, 43, 29, 29, 43, 29, 29, 57, 57, 14, 57, 14, 57, 71, 71, 57, 86, 57, 100, 86, 86, 86, 86] } },\n                { name: \"seashore\", midiProgram: 122, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -3, settings: { \"type\": \"spectrum\", \"transition\": \"soft fade\", \"effects\": \"reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 0, \"filterEnvelope\": \"swell 3\", \"spectrum\": [14, 14, 29, 29, 43, 43, 43, 57, 57, 57, 57, 57, 57, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 71, 57] } },\n                { name: \"bird tweet\", midiProgram: 123, generalMidi: true, settings: { \"type\": \"harmonics\", \"eqFilter\": [], \"effects\": [\"chord type\", \"vibrato\", \"reverb\"], \"chord\": \"strum\", \"vibrato\": \"heavy\", \"reverb\": 67, \"fadeInSeconds\": 0.0575, \"fadeOutTicks\": -6, \"harmonics\": [0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \"unison\": \"hum\", \"envelopes\": [{ \"target\": \"noteVolume\", \"envelope\": \"decay 1\" }] } },\n                { name: \"telephone ring\", midiProgram: 124, generalMidi: true, settings: { \"type\": \"FM\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 5656.85, \"linearGain\": 1 }], \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": -3, \"chord\": \"arpeggio\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [{ \"frequency\": \"2\", \"amplitude\": 12 }, { \"frequency\": \"1\", \"amplitude\": 4 }, { \"frequency\": \"20\", \"amplitude\": 1 }, { \"frequency\": \"1\", \"amplitude\": 0 }], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"tremolo4\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"tremolo1\", \"index\": 1 }] } },\n                { name: \"helicopter\", midiProgram: 125, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -0.5, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"seamless\", \"chord\": \"arpeggio\", \"filterCutoffHz\": 1414, \"filterResonance\": 14, \"filterEnvelope\": \"tremolo4\", \"spectrum\": [14, 43, 43, 57, 57, 57, 71, 71, 71, 71, 86, 86, 86, 86, 86, 86, 86, 86, 86, 86, 86, 71, 71, 71, 71, 71, 71, 71, 57, 57] } },\n                { name: \"applause\", midiProgram: 126, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -3, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"soft fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"swell 3\", \"spectrum\": [14, 14, 29, 29, 29, 43, 43, 57, 71, 71, 86, 86, 86, 71, 71, 57, 57, 57, 71, 86, 86, 86, 86, 86, 71, 71, 57, 57, 57, 57] } },\n                { name: \"gunshot\", midiProgram: 127, generalMidi: true, isNoise: true, midiSubharmonicOctaves: -2, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 1414, \"filterResonance\": 29, \"filterEnvelope\": \"twang 1\", \"spectrum\": [14, 29, 43, 43, 57, 57, 57, 71, 71, 71, 86, 86, 86, 86, 86, 86, 86, 86, 86, 86, 86, 71, 71, 71, 71, 57, 57, 57, 57, 43] } },\n                { name: \"scoot\", midiProgram: 92, settings: { \"type\": \"chip\", \"eqFilter\": [], \"effects\": [\"note filter\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 707.11, \"linearGain\": 4 }], \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": -3, \"chord\": \"simultaneous\", \"wave\": \"double saw\", \"unison\": \"shimmer\", \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"flare 1\" }] } },\n                { name: \"buzz saw\", midiProgram: 30, settings: { \"type\": \"FM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 9513.66, \"linearGain\": 0.5 }], \"effects\": [], \"transition\": \"normal\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"chord\": \"custom interval\", \"algorithm\": \"1234\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 4, \"operators\": [{ \"frequency\": \"5\", \"amplitude\": 13 }, { \"frequency\": \"1\", \"amplitude\": 10 }, { \"frequency\": \"~1\", \"amplitude\": 6 }, { \"frequency\": \"11\", \"amplitude\": 12 }], \"envelopes\": [] } },\n                { name: \"mosquito\", midiProgram: 93, settings: { \"type\": \"PWM\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 2828.43, \"linearGain\": 2 }], \"effects\": [\"vibrato\"], \"vibrato\": \"shaky\", \"transition\": \"normal\", \"fadeInSeconds\": 0.0575, \"fadeOutTicks\": -6, \"chord\": \"simultaneous\", \"pulseWidth\": 4.41942, \"envelopes\": [{ \"target\": \"pulseWidth\", \"envelope\": \"tremolo6\" }] } },\n                { name: \"breathing\", midiProgram: 126, isNoise: true, midiSubharmonicOctaves: -1, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"swell 2\", \"spectrum\": [14, 14, 14, 29, 29, 29, 29, 29, 43, 29, 29, 43, 43, 43, 29, 29, 71, 43, 86, 86, 57, 100, 86, 86, 86, 86, 71, 86, 71, 57] } },\n                { name: \"klaxon synth\", midiProgram: 125, isNoise: true, midiSubharmonicOctaves: -1, settings: { \"type\": \"noise\", \"effects\": \"reverb\", \"transition\": \"slide\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 86, \"filterEnvelope\": \"steady\", \"wave\": \"buzz\" } },\n                { name: \"theremin\", midiProgram: 40, settings: { \"type\": \"harmonics\", \"eqFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 8000, \"linearGain\": 0.7071 }], \"effects\": [\"vibrato\", \"reverb\"], \"vibrato\": \"heavy\", \"reverb\": 33, \"transition\": \"slide in pattern\", \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -6, \"chord\": \"simultaneous\", \"harmonics\": [100, 71, 57, 43, 29, 29, 14, 14, 14, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \"unison\": \"none\", \"envelopes\": [] } },\n                { name: \"sonar ping\", midiProgram: 121, settings: { \"type\": \"spectrum\", \"eqFilter\": [], \"effects\": [\"note filter\", \"reverb\"], \"noteFilter\": [{ \"type\": \"low-pass\", \"cutoffHz\": 1681.79, \"linearGain\": 0.5 }], \"reverb\": 33, \"transition\": \"normal\", \"fadeInSeconds\": 0.0125, \"fadeOutTicks\": 72, \"chord\": \"simultaneous\", \"spectrum\": [100, 43, 29, 29, 14, 14, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], \"envelopes\": [{ \"target\": \"noteFilterAllFreqs\", \"envelope\": \"twang 2\" }] } },\n            ])\n        },\n         { name: \"Modbox Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n\t\t\t{ name: \"modbox theepsynth\", settings: { \"type\": \"FM\", \"effects\": \"none\", \"transition\": \"hard\", \"chord\": \"arpeggio\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"custom\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 11, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 7, \"envelope\": \"steady\" }, { \"frequency\": \"1\", \"amplitude\": 11, \"envelope\": \"steady\" }] } },\n               ]) },\n\t\t\t   { name: \"Sandbox Presets\", presets: toNameMap([\n                { name: \"sandbox netsky hollow\", generalMidi: false, isNoise: true, midiSubharmonicOctaves: -1, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"arpeggio\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"spectrum\": [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45] } },\n                { name: \"sandbox abnormality\", generalMidi: false, midiSubharmonicOctaves: 1, settings: { \"type\": \"chip\", \"effects\": \"none\", \"transition\": \"seamless\", \"chord\": \"arpeggio\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"wave\": \"spiky\", \"interval\": \"fifth\", \"vibrato\": \"none\" } },\n                { name: \"sandbox playstation\", generalMidi: false, midiSubharmonicOctaves: 1, settings: { \"type\": \"chip\", \"effects\": \"chorus\", \"transition\": \"seamless\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"wave\": \"glitch\", \"interval\": \"shimmer\", \"vibrato\": \"none\" } },\n                { name: \"sandbox harmony pulse\", generalMidi: false, midiSubharmonicOctaves: 1, settings: { \"type\": \"chip\", \"effects\": \"chorus\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 29, \"filterEnvelope\": \"punch\", \"wave\": \"double pulse\", \"interval\": \"union\", \"vibrato\": \"none\" } },\n                { name: \"sandbox pink ping\", generalMidi: false, midiSubharmonicOctaves: -1, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 3000, \"filterResonance\": 0, \"filterEnvelope\": \"tripolo6\", \"spectrum\": [0, 0, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] } },\n                { name: \"sandbox tv static\", generalMidi: false, isNoise: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"noise\", \"effects\": \"reverb\", \"transition\": \"medium fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 40, \"filterEnvelope\": \"steady\", \"wave\": \"static\" } },\n                { name: \"sandbox clean pulse\", generalMidi: false, settings: { \"type\": \"custom chip\", \"transition\": \"hard\", \"effects\": \"none\", \"chord\": \"arpeggio\", \"filterCutoffHz\": 4000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"customChipWave\": [-24, -24, -24, -24, -24, -24, -24, -24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -24, -24, -24, -24, -24, -24, -24, -24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1] } },\n\t\t\t\t{ name: \"sandbox snp chorus\", generalMidi: false, settings: { \"type\": \"FM\", \"transition\": \"hard\", \"effects\": \"chorus & reverb\", \"chord\": \"strum\", \"filterCutoffHz\": 2000, \"filterResonance\": 0, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"1234\", \"feedbackAmplitude\": 1, \"feedbackEnvelope\": \"flare 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 10, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 6, \"envelope\": \"custom\" }] } },\n\t\t\t\t{ name: \"sandbox snp echo\", generalMidi: false, settings: { \"type\": \"FM\", \"transition\": \"hard fade\", \"effects\": \"chorus\", \"chord\": \"strum\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"34\", \"feedbackAmplitude\": 5, \"feedbackEnvelope\": \"decay 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"2\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"20\", \"amplitude\": 9, \"envelope\": \"twang 1\" }, { \"frequency\": \"20\", \"amplitude\": 5, \"envelope\": \"twang 2\" }] } },\n                { name: \"sandbox tori synth lead\", generalMidi: false, settings: { \"type\": \"harmonics\", \"effects\": \"chorus\", \"transition\": \"seamless\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 0, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 100, 100, 71, 71, 43, 43, 43, 29, 29, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 29, 14, 0, 0, 0, 86] } },\n                { name: \"sandbox glorious piano 1\", generalMidi: false, settings: { \"type\": \"custom chip\", \"transition\": \"hard fade\", \"effects\": \"chorus & reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"none\", \"customChipWave\": [24, 24, -16, -15, -15, -14, -13, -13, -12, -11, -11, -10, -9, -8, -8, -7, -6, -5, -5, -4, -3, -2, -2, 23, 22, 22, 21, 20, 20, 19, 19, 18, 18, 17, 16, 15, 15, 14, 13, 12, 12, 11, 0, -1, -1, -2, -3, -3, -4, -5, -5, -6, -20, -19, -17, -17, -14, -11, -8, -5, -2, -23, -24, -24] } },\n                { name: \"sandbox glorious piano 2\", generalMidi: false, settings: { \"type\": \"custom chip\", \"transition\": \"hard fade\", \"effects\": \"chorus & reverb\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"punch\", \"interval\": \"shimmer\", \"vibrato\": \"light\", \"customChipWave\": [24, 24, -16, -15, -15, -14, -13, -13, -12, 12, 9, 5, 2, -3, -7, -10, -6, -5, -5, -4, -3, -2, -2, 23, 22, 22, 21, 20, 20, 19, 19, 18, 18, 17, 16, 15, 15, 0, 4, 8, 15, 21, 0, -1, -1, -2, -3, -3, -4, -5, -5, -6, -20, -19, -17, -17, -2, -2, -8, 2, -2, -5, -24, -24] } },\n                { name: \"sandbox muffled katrumpet\", generalMidi: false, settings: { \"type\": \"custom chip\", \"transition\": \"cross fade\", \"effects\": \"reverb\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"light\", \"customChipWave\": [24, 23, 22, 22, 22, 22, 22, 21, 21, 19, 19, 15, 11, 7, 5, -2, -5, -11, -13, -14, -16, -17, -17, -17, -17, -17, -17, -17, -17, -13, -10, -1, 4, 6, 8, 10, 11, 14, 15, 15, 16, 16, 16, 16, 16, 16, 16, 16, 15, 15, 14, 11, 8, 4, 2, -4, -7, -11, -12, -13, -14, -15, -15, -15] } },\n                { name: \"sandbox ehruthing\", generalMidi: false, settings: { \"type\": \"custom chip\", \"hard fade\": \"seamless\", \"effects\": \"reverb\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"customChipWave\": [24, 24, 23, 22, 21, 21, 20, 19, 18, 18, 17, 16, 15, -22, -20, -18, -16, -14, -13, -11, -10, -7, -6, -4, -3, -2, 0, 2, 4, 17, 16, 15, 13, 12, 11, 9, 8, 6, 5, 4, 3, 2, 1, -1, -1, -2, -3, -4, -6, -6, -7, -8, -8, -9, -10, -10, -11, -13, -15, -16, -17, -3, -4, -5] } },\n\t\t\t\t{ name: \"sandbox wurtz organ\", generalMidi: false, settings: { \"type\": \"FM\", \"transition\": \"seamless\", \"effects\": \"chorus\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 0, \"filterEnvelope\": \"punch\", \"vibrato\": \"none\", \"algorithm\": \"1234\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 3, \"feedbackEnvelope\": \"decay 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 14, \"envelope\": \"tremolo6\" }, { \"frequency\": \"2\", \"amplitude\": 9, \"envelope\": \"tripolo3\" }, { \"frequency\": \"4\", \"amplitude\": 5, \"envelope\": \"pentolo3\" }, { \"frequency\": \"8\", \"amplitude\": 2, \"envelope\": \"pentolo6\" }] } },\n            //some of these dont load, I need to fix them\n\t\t\t]) },\n     { name: \"Blackbox Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n               \t{ name: \"blackbox deep key\", midiProgram: 9, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 32, \"filterEnvelope\": \"twang 1\", \"interval\": \"shimmer\", \"vibrato\": \"light\", \"harmonics\": [100, 86, 86, 86, 86, 71, 71, 57, 0, 57, 29, 43, 57, 57, 57, 43, 43, 0, 29, 43, 43, 43, 43, 43, 43, 29, 0, 30] } },\n\t\t\t\t{ name: \"blackbox ring ding\", midiProgram: 78, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"strum\", \"filterCutoffHz\": 1500, \"filterResonance\": 16, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1 2 3 4\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 8, \"envelope\": \"custom\" }, { \"frequency\": \"12\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"22\", \"amplitude\": 4, \"envelope\": \"twang 2\" }] } },\n\t\t\t\t//blackbox adds LITERALLY TWO presets. that's it.\n\t\t\t  ]) },\n\t\t\t  { name: \"Todbox Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n        { name: \"todbox accordion\", midiProgram: 21, generalMidi: true, settings: { \"type\": \"chip\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 0, \"filterEnvelope\": \"swell 1\", \"wave\": \"todbox accordian\", \"interval\": \"honky tonk\", \"vibrato\": \"none\" } },\n\t\t\t{ name: \"todbox wind\", generalMidi: false, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"seamless\", \"chord\": \"harmony\", \"filterCutoffHz\": 200, \"filterResonance\": 2950, \"filterEnvelope\": \"steady\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"1324\", \"feedbackAmplitude\": 15, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"16\", \"amplitude\": 15, \"envelope\": \"steady\" }, { \"frequency\": \"16\", \"amplitude\": 0, \"envelope\": \"custom\" }, { \"frequency\": \"16\", \"amplitude\": 15, \"envelope\": \"steady\" }, { \"frequency\": \"16\", \"amplitude\": 0, \"envelope\": \"flare 2\" }] } },\n\t\t\t ]) },\n\t\t\t { name: \"Old Beepbox Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n                { name: \"old grand piano\", midiProgram: 0, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 1414, \"filterResonance\": 14, \"filterEnvelope\": \"twang 3\", \"interval\": \"piano\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 86, 86, 86, 71, 71, 71, 0, 86, 71, 71, 71, 57, 57, 71, 57, 14, 57, 57, 57, 57, 57, 57, 57, 57, 29, 57] } },\n\t\t\t\t{ name: \"old bright piano\", midiProgram: 1, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 3\", \"interval\": \"piano\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 86, 86, 71, 71, 0, 71, 86, 86, 71, 71, 71, 14, 57, 57, 57, 57, 57, 57, 29, 57, 57, 57, 57, 57, 57, 57] } },\n              { name: \"old honky-tonk piano\", midiProgram: 3, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 5657, \"filterResonance\": 29, \"filterEnvelope\": \"twang 2\", \"interval\": \"honky tonk\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 86, 71, 86, 71, 43, 71, 43, 43, 57, 57, 57, 29, 57, 43, 43, 43, 43, 43, 29, 43, 43, 43, 29, 29, 29, 29] } },\n              //  { name: \"old electric piano 1\", midiProgram: 4, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [86, 100, 100, 71, 71, 57, 57, 43, 43, 43, 29, 29, 29, 14, 14, 14, 0, 0, 0, 0, 0, 57, 0, 0, 0, 0, 0, 0] } },\n              //  { name: \"old electric piano 2\", midiProgram: 5, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 0, \"filterEnvelope\": \"twang 3\", \"vibrato\": \"none\", \"algorithm\": \"1324\", \"feedbackType\": \"12\", \"feedbackAmplitude\": 0, \"feedbackEnvelope\": \"steady\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 12, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 9, \"envelope\": \"steady\" }, { \"frequency\": \"16\", \"amplitude\": 6, \"envelope\": \"twang 3\" }] } },\n                { name: \"old harpsichord\", midiProgram: 6, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 0, \"filterEnvelope\": \"twang 2\", \"vibrato\": \"none\", \"algorithm\": \"1(234)\", \"feedbackType\": \"4\", \"feedbackAmplitude\": 9, \"feedbackEnvelope\": \"twang 2\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 15, \"envelope\": \"custom\" }, { \"frequency\": \"4\", \"amplitude\": 8, \"envelope\": \"steady\" }, { \"frequency\": \"3\", \"amplitude\": 6, \"envelope\": \"steady\" }, { \"frequency\": \"5\", \"amplitude\": 7, \"envelope\": \"steady\" }] } },\n                { name: \"old dulcimer\", midiProgram: 15, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"interval\": \"piano\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 100, 86, 100, 86, 57, 100, 100, 86, 100, 86, 100, 86, 100, 71, 57, 71, 71, 100, 86, 71, 86, 86, 100, 86, 86, 86] } },\n\t\t\t                { name: \"old music box 1\", midiProgram: 10, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 0, 0, 100, 0, 0, 0, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 0, 86, 0, 0, 0, 0, 0, 0, 71, 0] } },\n                { name: \"old music box 2\", midiProgram: 10, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 2828, \"filterResonance\": 14, \"filterEnvelope\": \"twang 1\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 57, 57, 0, 0, 0, 0, 0, 0, 57, 0, 0, 0, 14, 14, 14, 14, 14, 14, 43, 14, 14, 14, 14, 14, 14, 14, 14] } },\n\t\t\t { name: \"old tubular bell\", midiProgram: 14, generalMidi: true, midiSubharmonicOctaves: 1, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 4000, \"filterResonance\": 14, \"filterEnvelope\": \"twang 3\", \"interval\": \"hum\", \"vibrato\": \"none\", \"harmonics\": [43, 71, 0, 100, 0, 100, 0, 86, 0, 0, 86, 0, 14, 71, 14, 14, 57, 14, 14, 43, 14, 14, 43, 14, 14, 43, 14, 14] } },\n\t\t\t { name: \"old steel guitar\", midiProgram: 25, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"strum\", \"filterCutoffHz\": 5657, \"filterResonance\": 14, \"filterEnvelope\": \"twang 2\", \"interval\": \"union\", \"vibrato\": \"none\", \"harmonics\": [100, 100, 86, 71, 71, 71, 86, 86, 71, 57, 43, 43, 43, 57, 57, 57, 57, 57, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43] } },\n\t\t\t     { name: \"old cello\", midiProgram: 42, generalMidi: true, settings: { \"type\": \"FM\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 29, \"filterEnvelope\": \"steady\", \"vibrato\": \"delayed\", \"algorithm\": \"(123)4\", \"feedbackType\": \"123\", \"feedbackAmplitude\": 6, \"feedbackEnvelope\": \"swell 1\", \"operators\": [{ \"frequency\": \"1\", \"amplitude\": 11, \"envelope\": \"custom\" }, { \"frequency\": \"3\", \"amplitude\": 9, \"envelope\": \"custom\" }, { \"frequency\": \"8\", \"amplitude\": 7, \"envelope\": \"custom\" }, { \"frequency\": \"1\", \"amplitude\": 6, \"envelope\": \"steady\" }] } },\n\t\t\t                { name: \"old choir soprano\", midiProgram: 94, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"chorus & reverb\", \"transition\": \"soft fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 57, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"shaky\", \"harmonics\": [86, 100, 86, 43, 14, 14, 57, 71, 57, 14, 14, 14, 14, 14, 43, 57, 43, 14, 14, 14, 14, 14, 14, 14, 0, 0, 0, 0] } },\n                { name: \"old choir tenor\", midiProgram: 52, generalMidi: true, settings: { \"type\": \"harmonics\", \"effects\": \"chorus & reverb\", \"transition\": \"soft fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 86, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"shaky\", \"harmonics\": [86, 100, 100, 86, 71, 57, 29, 14, 14, 14, 29, 43, 43, 43, 29, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] } },\n                { name: \"old choir bass\", midiProgram: 52, settings: { \"type\": \"harmonics\", \"effects\": \"chorus & reverb\", \"transition\": \"soft fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 86, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"shaky\", \"harmonics\": [71, 86, 86, 100, 86, 100, 57, 43, 14, 14, 14, 14, 29, 29, 43, 43, 43, 43, 43, 29, 29, 29, 29, 14, 14, 14, 0, 0] } },\n                { name: \"old solo soprano\", midiProgram: 85, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 71, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"shaky\", \"harmonics\": [86, 100, 86, 43, 14, 14, 57, 71, 57, 14, 14, 14, 14, 14, 43, 57, 43, 14, 14, 14, 14, 14, 14, 14, 0, 0, 0, 0] } },\n                { name: \"old solo tenor\", midiProgram: 85, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 86, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"shaky\", \"harmonics\": [86, 100, 100, 86, 71, 57, 29, 14, 14, 14, 29, 43, 43, 43, 29, 14, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] } },\n                { name: \"old solo bass\", midiProgram: 85, settings: { \"type\": \"harmonics\", \"effects\": \"reverb\", \"transition\": \"cross fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 2828, \"filterResonance\": 86, \"filterEnvelope\": \"steady\", \"interval\": \"union\", \"vibrato\": \"shaky\", \"harmonics\": [71, 86, 86, 100, 86, 100, 57, 43, 14, 14, 14, 14, 29, 29, 43, 43, 43, 43, 43, 29, 29, 29, 29, 14, 14, 14, 0, 0] } },\n\t\t\t { name: \"old pan flute\", midiProgram: 75, generalMidi: true, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"soft\", \"chord\": \"harmony\", \"filterCutoffHz\": 8000, \"filterResonance\": 43, \"filterEnvelope\": \"steady\", \"spectrum\": [100, 0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 71, 0, 0, 14, 0, 57, 0, 29, 14, 29, 14, 14, 29, 14, 29, 14, 14, 29, 14] } },\n\t\t\t  { name: \"old timpani\", midiProgram: 47, generalMidi: true, settings: { \"type\": \"spectrum\", \"effects\": \"reverb\", \"transition\": \"hard fade\", \"chord\": \"harmony\", \"filterCutoffHz\": 4000, \"filterResonance\": 29, \"filterEnvelope\": \"twang 2\", \"spectrum\": [100, 0, 0, 0, 86, 0, 0, 71, 0, 14, 43, 14, 43, 43, 0, 29, 43, 29, 29, 29, 43, 29, 43, 29, 43, 43, 43, 43, 43, 43] } },\n\t\t\t\t\t\t\t\t//meant for old beepbox presets that changed in the latest beepbox version to be more 'realistic'\n\t\t\t\t\t\t\t\t//probably need to add more\n\t\t\t\t\t\t\t\t//timpani and pan flute act strangely...?\n\t\t\t]) },\n\t\t\t{ name: \"UltraBox Presets\", presets: <DictionaryArray<Preset>>toNameMap([\n              \t\t\t{ name: \"vrc6 sawtooth\", generalMidi: false, settings: { \"type\": \"custom chip\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"high-pass\", \"cutoffHz\": 62.5, \"linearGain\": 0.5 } ], \"eqFilterType\": false, \"eqSimpleCut\": 10, \"eqSimplePeak\": 0, \"eqSubFilters0\": [ { \"type\": \"high-pass\", \"cutoffHz\": 62.5, \"linearGain\": 0.5 } ], \"effects\": [ \"panning\", \"transition type\", \"chord type\", \"detune\", \"vibrato\" ], \"transition\": \"normal\", \"clicklessTransition\": true, \"chord\": \"arpeggio\", \"fastTwoNoteArp\": true, \"arpeggioSpeed\": 12, \"detuneCents\": 0, \"vibrato\": \"none\", \"vibratoDepth\": 0, \"vibratoDelay\": 0, \"vibratoSpeed\": 10, \"vibratoType\": 0, \"pan\": 0, \"panDelay\": 10, \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"wave\": \"square\", \"unison\": \"none\", \"customChipWave\": { \"0\": -1, \"1\": -1, \"2\": -1, \"3\": -1, \"4\": -1, \"5\": -1, \"6\": -1, \"7\": -1, \"8\": -1, \"9\": -5, \"10\": -5, \"11\": -5, \"12\": -4, \"13\": -4, \"14\": -4, \"15\": -3, \"16\": -3, \"17\": -3, \"18\": -7, \"19\": -7, \"20\": -6, \"21\": -6, \"22\": -5, \"23\": -5, \"24\": -4, \"25\": -4, \"26\": -4, \"27\": -7, \"28\": -7, \"29\": -6, \"30\": -6, \"31\": -5, \"32\": -5, \"33\": -4, \"34\": -4, \"35\": -4, \"36\": -8, \"37\": -8, \"38\": -7, \"39\": -7, \"40\": -6, \"41\": -6, \"42\": -5, \"43\": -5, \"44\": -4, \"45\": -4, \"46\": 21, \"47\": 20, \"48\": 18, \"49\": 17, \"50\": 16, \"51\": 14, \"52\": 13, \"53\": 12, \"54\": 11, \"55\": 7, \"56\": 6, \"57\": 6, \"58\": 5, \"59\": 5, \"60\": 5, \"61\": 4, \"62\": 4, \"63\": 4 }, \"customChipWaveIntegral\": { \"0\": 0, \"1\": 0, \"2\": 0, \"3\": 0, \"4\": 0, \"5\": 0, \"6\": 0, \"7\": 0, \"8\": 0, \"9\": 0, \"10\": 0, \"11\": 0, \"12\": 0, \"13\": 0, \"14\": 0, \"15\": 0, \"16\": 0, \"17\": 0, \"18\": 0, \"19\": 0, \"20\": 0, \"21\": 0, \"22\": 0, \"23\": 0, \"24\": 0, \"25\": 0, \"26\": 0, \"27\": 0, \"28\": 0, \"29\": 0, \"30\": 0, \"31\": 0, \"32\": 0, \"33\": 0, \"34\": 0, \"35\": 0, \"36\": 0, \"37\": 0, \"38\": 0, \"39\": 0, \"40\": 0, \"41\": 0, \"42\": 0, \"43\": 0, \"44\": 0, \"45\": 0, \"46\": 0, \"47\": 0, \"48\": 0, \"49\": 0, \"50\": 0, \"51\": 0, \"52\": 0, \"53\": 0, \"54\": 0, \"55\": 0, \"56\": 0, \"57\": 0, \"58\": 0, \"59\": 0, \"60\": 0, \"61\": 0, \"62\": 0, \"63\": 0, \"64\": 0 }, \"envelopes\": [] } },\n               { name: \"nes white\", midiProgram: 116, generalMidi: true, isNoise: true, settings: { \"type\": \"noise\", \"volume\": 0, \"eqFilter\": [], \"eqFilterType\": false, \"eqSimpleCut\": 8, \"eqSimplePeak\": 0, \"eqSubFilters1\": [], \"effects\": [ \"panning\" ], \"pan\": 0, \"panDelay\": 10, \"fadeInSeconds\": 0, \"fadeOutTicks\": 0, \"wave\": \"1-bit white\", \"envelopes\": [] } }, \n\t\t\t\t { name: \"nes ping\", midiProgram: 116, generalMidi: true, isNoise: true, settings: { \"type\": \"noise\", \"volume\": 0, \"eqFilter\": [], \"eqFilterType\": false, \"eqSimpleCut\": 8, \"eqSimplePeak\": 0, \"eqSubFilters1\": [], \"effects\": [ \"panning\" ], \"pan\": 0, \"panDelay\": 10, \"fadeInSeconds\": 0, \"fadeOutTicks\": 0, \"wave\": \"1-bit metallic\", \"envelopes\": [] } }, \n\t\t\t\t{ name: \"distorted pulse vocal\", generalMidi: false, settings: { \"type\": \"chip\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 0.0884 } ], \"eqFilterType\": false, \"eqSimpleCut\": 10, \"eqSimplePeak\": 0, \"eqSubFilters0\": [ { \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 0.0884 } ], \"effects\": [ \"panning\", \"transition type\", \"pitch shift\", \"vibrato\", \"note filter\", \"bitcrusher\", \"echo\", \"reverb\" ], \"transition\": \"normal\", \"clicklessTransition\": false, \"pitchShiftSemitones\": 0, \"vibrato\": \"delayed\", \"vibratoDepth\": 0.3, \"vibratoDelay\": 18.5, \"vibratoSpeed\": 10, \"vibratoType\": 0, \"noteFilterType\": false, \"noteSimpleCut\": 10, \"noteSimplePeak\": 0, \"noteFilter\": [ { \"type\": \"high-pass\", \"cutoffHz\": 840.9, \"linearGain\": 11.3137 }, { \"type\": \"low-pass\", \"cutoffHz\": 297.3, \"linearGain\": 8 }, { \"type\": \"peak\", \"cutoffHz\": 500, \"linearGain\": 11.3137 }, { \"type\": \"high-pass\", \"cutoffHz\": 62.5, \"linearGain\": 1.4142 }, { \"type\": \"peak\", \"cutoffHz\": 176.78, \"linearGain\": 11.3137 }, { \"type\": \"high-pass\", \"cutoffHz\": 250, \"linearGain\": 11.3137 } ], \"noteSubFilters0\": [ { \"type\": \"high-pass\", \"cutoffHz\": 840.9, \"linearGain\": 11.3137 }, { \"type\": \"low-pass\", \"cutoffHz\": 297.3, \"linearGain\": 8 }, { \"type\": \"peak\", \"cutoffHz\": 500, \"linearGain\": 11.3137 }, { \"type\": \"high-pass\", \"cutoffHz\": 62.5, \"linearGain\": 1.4142 }, { \"type\": \"peak\", \"cutoffHz\": 176.78, \"linearGain\": 11.3137 }, { \"type\": \"high-pass\", \"cutoffHz\": 250, \"linearGain\": 11.3137 } ], \"bitcrusherOctave\": 6.5, \"bitcrusherQuantization\": 71, \"pan\": 0, \"panDelay\": 10, \"echoSustain\": 14, \"echoDelayBeats\": 0.167, \"reverb\": 0, \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"wave\": \"1/8 pulse\", \"unison\": \"none\", \"envelopes\": [] } },\n              { name: \"dubsteb bwah\", generalMidi: false, settings: { \"type\": \"FM\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 0.7071 } ], \"eqFilterType\": true, \"eqSimpleCut\": 10, \"eqSimplePeak\": 0, \"eqSubFilters1\": [], \"effects\": [ \"panning\", \"transition type\", \"chord type\" ], \"transition\": \"interrupt\", \"clicklessTransition\": false, \"chord\": \"custom interval\", \"fastTwoNoteArp\": false, \"arpeggioSpeed\": 12, \"pan\": 0, \"panDelay\": 10, \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 10, \"operators\": [ { \"frequency\": \"2\", \"amplitude\": 15, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"4\", \"amplitude\": 15, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"1\", \"amplitude\": 11, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"1\", \"amplitude\": 13, \"waveform\": \"sine\", \"pulseWidth\": 5 } ], \"envelopes\": [ { \"target\": \"noteVolume\", \"envelope\": \"note size\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"swell 2\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"punch\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"note size\", \"index\": 3 } ] } },\n { name: \"FM cool bass\", generalMidi: false, settings: { \"type\": \"FM\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 1 }, { \"type\": \"high-pass\", \"cutoffHz\": 88.39, \"linearGain\": 1 }, { \"type\": \"peak\", \"cutoffHz\": 1000, \"linearGain\": 0.7071 } ], \"eqFilterType\": false, \"eqSimpleCut\": 10, \"eqSimplePeak\": 0, \"eqSubFilters0\": [ { \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 1 }, { \"type\": \"high-pass\", \"cutoffHz\": 88.39, \"linearGain\": 1 }, { \"type\": \"peak\", \"cutoffHz\": 1000, \"linearGain\": 0.7071 } ], \"effects\": [ \"panning\", \"transition type\", \"note filter\", \"reverb\" ], \"transition\": \"interrupt\", \"clicklessTransition\": false, \"noteFilterType\": true, \"noteSimpleCut\": 9, \"noteSimplePeak\": 2, \"noteFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 7231.23, \"linearGain\": 1 } ], \"noteSubFilters1\": [ { \"type\": \"low-pass\", \"cutoffHz\": 7231.23, \"linearGain\": 1 } ], \"pan\": 0, \"panDelay\": 10, \"reverb\": 0, \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [ { \"frequency\": \"2\", \"amplitude\": 15, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"1\", \"amplitude\": 8, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"1\", \"amplitude\": 7, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"13\", \"amplitude\": 11, \"waveform\": \"sine\", \"pulseWidth\": 5 } ], \"envelopes\": [ { \"target\": \"noteFilterAllFreqs\", \"envelope\": \"punch\" }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 2\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 3\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"twang 2\", \"index\": 3 } ] } },\n                { name: \"FM funky bass\", generalMidi: false, settings: { \"type\": \"FM\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 9513.66, \"linearGain\": 0.1768 } ], \"eqFilterType\": true, \"eqSimpleCut\": 5, \"eqSimplePeak\": 0, \"eqSubFilters1\": [], \"effects\": [ \"panning\", \"transition type\", \"reverb\" ], \"transition\": \"normal\", \"clicklessTransition\": false, \"pan\": 0, \"panDelay\": 10, \"reverb\": 0, \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"algorithm\": \"1(234)\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [ { \"frequency\": \"1\", \"amplitude\": 15, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"~1\", \"amplitude\": 8, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"1\", \"amplitude\": 0, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"1\", \"amplitude\": 0, \"waveform\": \"sine\", \"pulseWidth\": 5 } ], \"envelopes\": [ { \"target\": \"noteVolume\", \"envelope\": \"punch\" }, { \"target\": \"noteVolume\", \"envelope\": \"note size\" } ] } },\n                { name: \"mrow\", generalMidi: false, settings: { \"type\": \"FM\", \"volume\": 0, \"eqFilter\": [], \"eqFilterType\": false, \"eqSimpleCut\": 10, \"eqSimplePeak\": 0, \"eqSubFilters0\": [], \"effects\": [ \"panning\", \"chord type\", \"reverb\" ], \"chord\": \"custom interval\", \"fastTwoNoteArp\": false, \"arpeggioSpeed\": 12, \"pan\": 0, \"panDelay\": 10, \"reverb\": 35, \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"algorithm\": \"1324\", \"feedbackType\": \"1 2 3 4\", \"feedbackAmplitude\": 5, \"operators\": [ { \"frequency\": \"4\", \"amplitude\": 15, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"~2\", \"amplitude\": 13, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"~2\", \"amplitude\": 8, \"waveform\": \"sine\", \"pulseWidth\": 5 }, { \"frequency\": \"~2\", \"amplitude\": 9, \"waveform\": \"sine\", \"pulseWidth\": 5 } ], \"envelopes\": [ { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 1\", \"index\": 0 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"note size\", \"index\": 1 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"note size\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"flare 3\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"flare 1\" } ] } },\n                { name: \"talking bass\", generalMidi: false, settings: { \"type\": \"FM\", \"volume\": 0, \"eqFilter\": [], \"effects\": [ \"chord type\" ], \"chord\": \"custom interval\", \"fadeInSeconds\": 0, \"fadeOutTicks\": -3, \"algorithm\": \"1(23)4\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 15, \"operators\": [ { \"frequency\": \"1\", \"amplitude\": 15 }, { \"frequency\": \"2\", \"amplitude\": 8 }, { \"frequency\": \"2\", \"amplitude\": 5 }, { \"frequency\": \"1\", \"amplitude\": 12 } ], \"envelopes\": [ { \"target\": \"operatorAmplitude\", \"envelope\": \"note size\", \"index\": 2 }, { \"target\": \"operatorAmplitude\", \"envelope\": \"note size\", \"index\": 3 }, { \"target\": \"feedbackAmplitude\", \"envelope\": \"note size\" } ] } },\n                { name: \"synth marimba\", generalMidi: false, settings: { \"type\": \"Picked String\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"high-pass\", \"cutoffHz\": 176.78, \"linearGain\": 1 }, { \"type\": \"peak\", \"cutoffHz\": 4000, \"linearGain\": 0.5 } ], \"effects\": [ \"note filter\", \"echo\" ], \"noteFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 6727.17, \"linearGain\": 1.4142 } ], \"echoSustain\": 71, \"echoDelayBeats\": 0.5, \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"harmonics\": [ 86, 100, 29, 29, 0, 0, 0, 100, 0, 0, 0, 86, 29, 0, 14, 100, 0, 0, 0, 0, 0, 14, 0, 0, 14, 0, 0, 86 ], \"unison\": \"fifth\", \"stringSustain\": 7, \"envelopes\": [ { \"target\": \"noteFilterAllFreqs\", \"envelope\": \"punch\" } ] } }, \n\t\t\t{ name: \"italian accordian\", generalMidi: false, settings: { \"type\": \"custom chip\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 6000, \"linearGain\": 0.5 } ], \"eqFilterType\": true, \"eqSimpleCut\": 8, \"eqSimplePeak\": 1, \"eqSubFilters1\": [], \"effects\": [ \"panning\", \"chorus\", \"reverb\" ], \"pan\": 0, \"panDelay\": 10, \"chorus\": 71, \"reverb\": 45, \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"wave\": \"square\", \"unison\": \"honky tonk\", \"customChipWave\": { \"0\": -24, \"1\": -24, \"2\": -24, \"3\": -24, \"4\": -24, \"5\": -24, \"6\": -24, \"7\": -24, \"8\": -24, \"9\": -24, \"10\": -24, \"11\": -24, \"12\": -24, \"13\": -24, \"14\": -24, \"15\": -24, \"16\": 24, \"17\": 24, \"18\": 24, \"19\": 24, \"20\": 24, \"21\": 24, \"22\": 24, \"23\": 24, \"24\": -24, \"25\": -24, \"26\": -24, \"27\": -24, \"28\": -24, \"29\": -24, \"30\": -24, \"31\": -24, \"32\": -24, \"33\": -24, \"34\": -24, \"35\": -24, \"36\": -24, \"37\": -24, \"38\": -24, \"39\": -24, \"40\": 24, \"41\": 24, \"42\": 24, \"43\": 24, \"44\": 24, \"45\": 24, \"46\": 24, \"47\": 24, \"48\": -24, \"49\": -24, \"50\": -24, \"51\": -24, \"52\": -24, \"53\": -24, \"54\": -24, \"55\": -24, \"56\": -24, \"57\": -24, \"58\": -24, \"59\": -24, \"60\": -24, \"61\": -24, \"62\": -24, \"63\": -24 }, \"customChipWaveIntegral\": { \"0\": 0, \"1\": 0, \"2\": 0, \"3\": 0, \"4\": 0, \"5\": 0, \"6\": 0, \"7\": 0, \"8\": 0, \"9\": 0, \"10\": 0, \"11\": 0, \"12\": 0, \"13\": 0, \"14\": 0, \"15\": 0, \"16\": 0, \"17\": 0, \"18\": 0, \"19\": 0, \"20\": 0, \"21\": 0, \"22\": 0, \"23\": 0, \"24\": 0, \"25\": 0, \"26\": 0, \"27\": 0, \"28\": 0, \"29\": 0, \"30\": 0, \"31\": 0, \"32\": 0, \"33\": 0, \"34\": 0, \"35\": 0, \"36\": 0, \"37\": 0, \"38\": 0, \"39\": 0, \"40\": 0, \"41\": 0, \"42\": 0, \"43\": 0, \"44\": 0, \"45\": 0, \"46\": 0, \"47\": 0, \"48\": 0, \"49\": 0, \"50\": 0, \"51\": 0, \"52\": 0, \"53\": 0, \"54\": 0, \"55\": 0, \"56\": 0, \"57\": 0, \"58\": 0, \"59\": 0, \"60\": 0, \"61\": 0, \"62\": 0, \"63\": 0, \"64\": 0 }, \"envelopes\": [] } },\n              { name: \"custom chip supersaw\", generalMidi: false, settings: { \"type\": \"custom chip\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 0.7071 } ], \"eqFilterType\": true, \"eqSimpleCut\": 10, \"eqSimplePeak\": 0, \"eqSubFilters1\": [], \"effects\": [ \"panning\", \"transition type\", \"vibrato\", \"chorus\", \"reverb\" ], \"transition\": \"interrupt\", \"clicklessTransition\": false, \"vibrato\": \"delayed\", \"vibratoDepth\": 0.3, \"vibratoDelay\": 18.5, \"vibratoSpeed\": 10, \"vibratoType\": 0, \"pan\": 0, \"panDelay\": 10, \"chorus\": 29, \"reverb\": 29, \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"wave\": \"square\", \"unison\": \"dissonant\", \"customChipWave\": { \"0\": 22, \"1\": 22, \"2\": 16, \"3\": 6, \"4\": 0, \"5\": -3, \"6\": -8, \"7\": -10, \"8\": -13, \"9\": -16, \"10\": -19, \"11\": -19, \"12\": -20, \"13\": -22, \"14\": -22, \"15\": -24, \"16\": -24, \"17\": -24, \"18\": -24, \"19\": -24, \"20\": -24, \"21\": -24, \"22\": -24, \"23\": -24, \"24\": -24, \"25\": -24, \"26\": -24, \"27\": -24, \"28\": -24, \"29\": -24, \"30\": -24, \"31\": 24, \"32\": 24, \"33\": 16, \"34\": 9, \"35\": 6, \"36\": 4, \"37\": 2, \"38\": 0, \"39\": -1, \"40\": -3, \"41\": -4, \"42\": -4, \"43\": -6, \"44\": -6, \"45\": -6, \"46\": -6, \"47\": -5, \"48\": -5, \"49\": -4, \"50\": -2, \"51\": -2, \"52\": 1, \"53\": 4, \"54\": 6, \"55\": 8, \"56\": 10, \"57\": 12, \"58\": 14, \"59\": 16, \"60\": 18, \"61\": 19, \"62\": 22, \"63\": 24 }, \"customChipWaveIntegral\": { \"0\": 0, \"1\": 0, \"2\": 0, \"3\": 0, \"4\": 0, \"5\": 0, \"6\": 0, \"7\": 0, \"8\": 0, \"9\": 0, \"10\": 0, \"11\": 0, \"12\": 0, \"13\": 0, \"14\": 0, \"15\": 0, \"16\": 0, \"17\": 0, \"18\": 0, \"19\": 0, \"20\": 0, \"21\": 0, \"22\": 0, \"23\": 0, \"24\": 0, \"25\": 0, \"26\": 0, \"27\": 0, \"28\": 0, \"29\": 0, \"30\": 0, \"31\": 0, \"32\": 0, \"33\": 0, \"34\": 0, \"35\": 0, \"36\": 0, \"37\": 0, \"38\": 0, \"39\": 0, \"40\": 0, \"41\": 0, \"42\": 0, \"43\": 0, \"44\": 0, \"45\": 0, \"46\": 0, \"47\": 0, \"48\": 0, \"49\": 0, \"50\": 0, \"51\": 0, \"52\": 0, \"53\": 0, \"54\": 0, \"55\": 0, \"56\": 0, \"57\": 0, \"58\": 0, \"59\": 0, \"60\": 0, \"61\": 0, \"62\": 0, \"63\": 0, \"64\": 0 }, \"envelopes\": [] } },\n               { name: \"fm supersaw\", generalMidi: false, settings: { \"type\": \"FM6op\", \"volume\": 0, \"eqFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 1.4142 }, { \"type\": \"high-pass\", \"cutoffHz\": 148.65, \"linearGain\": 0.7071 } ], \"eqFilterType\": false, \"eqSimpleCut\": 10, \"eqSimplePeak\": 0, \"eqSubFilters0\": [ { \"type\": \"low-pass\", \"cutoffHz\": 19027.31, \"linearGain\": 1.4142 }, { \"type\": \"high-pass\", \"cutoffHz\": 148.65, \"linearGain\": 0.7071 } ], \"effects\": [ \"panning\", \"transition type\", \"pitch shift\", \"note filter\", \"chorus\", \"reverb\" ], \"transition\": \"continue\", \"clicklessTransition\": false, \"pitchShiftSemitones\": 0, \"noteFilterType\": false, \"noteSimpleCut\": 10, \"noteSimplePeak\": 0, \"noteFilter\": [], \"noteSubFilters0\": [], \"noteSubFilters1\": [ { \"type\": \"low-pass\", \"cutoffHz\": 4756.83, \"linearGain\": 1 } ], \"pan\": 0, \"panDelay\": 10, \"chorus\": 71, \"reverb\": 0, \"fadeInSeconds\": 0, \"fadeOutTicks\": -1, \"algorithm\": \"123456\", \"feedbackType\": \"1\", \"feedbackAmplitude\": 0, \"operators\": [ { \"frequency\": \"1\", \"amplitude\": 13, \"waveform\": \"sawtooth\", \"pulseWidth\": 5 }, { \"frequency\": \"~1\", \"amplitude\": 15, \"waveform\": \"sawtooth\", \"pulseWidth\": 5 }, { \"frequency\": \"2\", \"amplitude\": 10, \"waveform\": \"sawtooth\", \"pulseWidth\": 5 }, { \"frequency\": \"3\", \"amplitude\": 7, \"waveform\": \"sawtooth\", \"pulseWidth\": 5 }, { \"frequency\": \"4\", \"amplitude\": 9, \"waveform\": \"sawtooth\", \"pulseWidth\": 5 }, { \"frequency\": \"8\", \"amplitude\": 6, \"waveform\": \"sawtooth\", \"pulseWidth\": 5 } ], \"envelopes\": [] } },\n\t\t\t //THANKS ANSWEARING MACHINE\n\t\t\t { name: \"obama why\", generalMidi: false, settings:{ \"type\": \"harmonics\", \"volume\": 0, \"eqFilter\": [], \"effects\": [ \"note filter\", \"panning\", \"reverb\" ], \"noteFilter\": [ { \"type\": \"low-pass\", \"cutoffHz\": 840.9, \"linearGain\": 11.3137 } ], \"pan\": 0, \"reverb\": 0, \"fadeInSeconds\": 0.0263, \"fadeOutTicks\": -3, \"harmonics\": [ 100, 86, 29, 29, 14, 14, 0, 14, 14, 43, 71, 100, 100, 86, 71, 71, 57, 57, 43, 43, 43, 43, 43, 0, 0, 0, 0, 0 ], \"unison\": \"octave\", \"envelopes\": [ { \"target\": \"noteFilterAllFreqs\", \"envelope\": \"note size\" } ] } },\n\t\t\t //thanks to nobo ig? (this is from a beepcord inside joke)\n\t\t\t\n\t\t\t\n\t\t\t\t //custom presets from this mod\t\t \n\t\t\t]) },\n            {   name: \"Le choptop84's presets\", presets: <DictionaryArray<Preset>>toNameMap([ // weeb shit - me\n               { name: \"Demonic Bell\", generalMidi: false, settings:  {\"type\":\"Picked String\",\"eqFilter\":[{\"type\":\"low-pass\",\"cutoffHz\":6727.17,\"linearGain\":0.7071},{\"type\":\"high-pass\",\"cutoffHz\":353.55,\"linearGain\":0.7071},{\"type\":\"peak\",\"cutoffHz\":1414.21,\"linearGain\":0.0884}],\"eqFilterType\":false,\"eqSimpleCut\":10,\"eqSimplePeak\":0,\"eqSubFilters0\":[{\"type\":\"low-pass\",\"cutoffHz\":6727.17,\"linearGain\":0.7071},{\"type\":\"high-pass\",\"cutoffHz\":353.55,\"linearGain\":0.7071},{\"type\":\"peak\",\"cutoffHz\":1414.21,\"linearGain\":0.0884}],\"effects\":[\"detune\",\"distortion\",\"bitcrusher\",\"echo\",\"reverb\"],\"detuneCents\":-52,\"distortion\":29,\"aliases\":false,\"bitcrusherOctave\":4.5,\"bitcrusherQuantization\":29,\"panDelay\":10,\"echoSustain\":43,\"echoDelayBeats\":1,\"reverb\":68,\"fadeInSeconds\":0,\"fadeOutTicks\":96,\"harmonics\":[43,71,71,100,86,100,43,86,71,57,86,29,14,71,14,14,57,14,14,43,14,14,43,14,14,43,14,14],\"unison\":\"shimmer\",\"stringSustain\":64,\"envelopes\":[]} },\n               { name: \"Spacey Triangle\", generalMidi: false, settings: {\"type\":\"chip\",\"eqFilter\":[{\"type\":\"low-pass\",\"cutoffHz\":6727.17,\"linearGain\":11.3137},{\"type\":\"high-pass\",\"cutoffHz\":176.78,\"linearGain\":4}],\"eqFilterType\":false,\"eqSimpleCut\":10,\"eqSimplePeak\":0,\"eqSubFilters0\":[{\"type\":\"low-pass\",\"cutoffHz\":6727.17,\"linearGain\":11.3137},{\"type\":\"high-pass\",\"cutoffHz\":176.78,\"linearGain\":4}],\"effects\":[\"transition type\",\"vibrato\",\"distortion\",\"bitcrusher\",\"chorus\",\"echo\",\"reverb\"],\"transition\":\"normal\",\"clicklessTransition\":false,\"vibrato\":\"shaky\",\"vibratoDepth\":0.1,\"vibratoDelay\":0,\"vibratoSpeed\":10,\"vibratoType\":1,\"distortion\":29,\"aliases\":false,\"bitcrusherOctave\":5.5,\"bitcrusherQuantization\":14,\"panDelay\":10,\"chorus\":86,\"echoSustain\":43,\"echoDelayBeats\":1,\"reverb\":26,\"fadeInSeconds\":0,\"fadeOutTicks\":96,\"wave\":\"triangle\",\"unison\":\"dirty\",\"isUsingAdvancedLoopControls\":false,\"chipWaveLoopStart\":0,\"chipWaveLoopEnd\":32,\"chipWaveLoopMode\":0,\"chipWavePlayBackwards\":false,\"chipWaveStartOffset\":0,\"envelopes\":[]} },\n\n            ])},\n\n    ]);\n\n    public static valueToPreset(presetValue: number): Preset | null {\n        const categoryIndex: number = presetValue >> 6;\n        const presetIndex: number = presetValue & 0x3F;\n        return EditorConfig.presetCategories[categoryIndex].presets[presetIndex];\n    }\n\n    public static midiProgramToPresetValue(program: number): number | null {\n        for (let categoryIndex: number = 0; categoryIndex < EditorConfig.presetCategories.length; categoryIndex++) {\n            const category: PresetCategory = EditorConfig.presetCategories[categoryIndex];\n            for (let presetIndex: number = 0; presetIndex < category.presets.length; presetIndex++) {\n                const preset: Preset = category.presets[presetIndex];\n                if (preset.generalMidi && preset.midiProgram == program) return (categoryIndex << 6) + presetIndex;\n            }\n        }\n        return null;\n    }\n\n    public static nameToPresetValue(presetName: string): number | null {\n        for (let categoryIndex: number = 0; categoryIndex < EditorConfig.presetCategories.length; categoryIndex++) {\n            const category: PresetCategory = EditorConfig.presetCategories[categoryIndex];\n            for (let presetIndex: number = 0; presetIndex < category.presets.length; presetIndex++) {\n                const preset: Preset = category.presets[presetIndex];\n                if (preset.name == presetName) return (categoryIndex << 6) + presetIndex;\n            }\n        }\n        return null;\n    }\n\n    public static instrumentToPreset(instrument: InstrumentType): Preset | null {\n        return EditorConfig.presetCategories[0].presets.dictionary?.[TypePresets?.[instrument]];\n    }\n}\n","// Copyright (c) 2012-2022 John Nesky and contributing authors, distributed under the MIT license, see accompanying the LICENSE.md file.\n\n// interface shared by number[], Float32Array, and other typed arrays in JavaScript.\ninterface NumberArray {\n\tlength: number;\n\t[index: number]: number;\n}\n\n// A basic FFT operation scales the overall magnitude of elements by the\n// square root of the length of the array, N. Performing a forward FFT and\n// then an inverse FFT results in the original array, but multiplied by N.\n// This helper function can be used to compensate for that. \nexport function scaleElementsByFactor(array: NumberArray, factor: number): void {\n\tfor (let i: number = 0; i < array.length; i++) {\n\t\tarray[i] *= factor;\n\t}\n}\n\nfunction isPowerOf2(n: number): boolean {\n\treturn !!n && !(n & (n - 1));\n}\n\nfunction countBits(n: number): number {\n\tif (!isPowerOf2(n)) throw new Error(\"FFT array length must be a power of 2.\");\n\treturn Math.round(Math.log(n) / Math.log(2));\n}\n\n// Rearranges the elements of the array, swapping the element at an index\n// with an element at an index that is the bitwise reverse of the first\n// index in base 2. Useful for computing the FFT.\nfunction reverseIndexBits(array: NumberArray, fullArrayLength: number): void {\n\tconst bitCount: number = countBits(fullArrayLength);\n\tif (bitCount > 16) throw new Error(\"FFT array length must not be greater than 2^16.\");\n\tconst finalShift: number = 16 - bitCount;\n\tfor (let i: number = 0; i < fullArrayLength; i++) {\n\t\t// Dear Javascript: Please support bit order reversal intrinsics. Thanks! :D\n\t\tlet j: number;\n\t\tj = ((i & 0xaaaa) >> 1) | ((i & 0x5555) << 1);\n\t\tj = ((j & 0xcccc) >> 2) | ((j & 0x3333) << 2);\n\t\tj = ((j & 0xf0f0) >> 4) | ((j & 0x0f0f) << 4);\n\t\t\tj = ((j           >> 8) | ((j &   0xff) << 8)) >> finalShift;\n\t\tif (j > i) {\n\t\t\tlet temp: number = array[i];\n\t\t\tarray[i] = array[j];\n\t\t\tarray[j] = temp;\n\t\t}\n\t}\n}\n\n// Provided for educational purposes. Easier to read than\n// fastFourierTransform(), but computes the same result.\n// Takes two parallel arrays representing the real and imaginary elements,\n// respectively, and returns an array containing two new arrays, which\n// contain the complex result of the transform.\nexport function discreteFourierTransform(realArray: NumberArray, imagArray: NumberArray): number[][] {\n\tconst fullArrayLength: number = realArray.length;\n\tif (fullArrayLength != imagArray.length) throw new Error(\"FFT arrays must be the same length.\");\n\tconst realOut: number[] = [];\n\tconst imagOut: number[] = [];\n\tfor (let i: number = 0; i < fullArrayLength; i++) {\n\t\trealOut[i] = 0.0;\n\t\timagOut[i] = 0.0;\n\t\tfor (let j: number = 0; j < fullArrayLength; j++) {\n\t\t\tconst radians: number = -6.2831853 * j * i / fullArrayLength;\n\t\t\tconst c: number = Math.cos(radians);\n\t\t\tconst s: number = Math.sin(radians);\n\t\t\trealOut[i] += realArray[j] * c - imagArray[j] * s;\n\t\t\timagOut[i] += realArray[j] * s + imagArray[j] * c;\n\t\t}\n\t}\n\treturn [realOut, imagOut];\n}\n\n// Performs a Fourier transform in O(N log(N)) operations. Overwrites the\n// input real and imaginary arrays. Can be used for both forward and inverse\n// transforms: swap the order of the arguments for the inverse.\nexport function fastFourierTransform(realArray: NumberArray, imagArray: NumberArray): void {\n\tconst fullArrayLength: number = realArray.length;\n\tif (!isPowerOf2(fullArrayLength)) throw new Error(\"FFT array length must be a power of 2.\");\n\tif (fullArrayLength < 4) throw new Error(\"FFT array length must be at least 4.\");\n\tif (fullArrayLength != imagArray.length) throw new Error(\"FFT arrays must be the same length.\");\n\t\t\n\treverseIndexBits(realArray, fullArrayLength);\n\treverseIndexBits(imagArray, fullArrayLength);\n\t\t\n\t// First two passes, with strides of 2 and 4, can be combined and optimized.\n\tfor (let startIndex: number = 0; startIndex < fullArrayLength; startIndex += 4) {\n\t\tconst startIndex1: number = startIndex + 1;\n\t\tconst startIndex2: number = startIndex + 2;\n\t\tconst startIndex3: number = startIndex + 3;\n\t\t\tconst real0: number = realArray[startIndex ];\n\t\tconst real1: number = realArray[startIndex1];\n\t\tconst real2: number = realArray[startIndex2];\n\t\tconst real3: number = realArray[startIndex3];\n\t\t\tconst imag0: number = imagArray[startIndex ];\n\t\tconst imag1: number = imagArray[startIndex1];\n\t\tconst imag2: number = imagArray[startIndex2];\n\t\tconst imag3: number = imagArray[startIndex3];\n\t\tconst realTemp0: number = real0 + real1;\n\t\tconst realTemp1: number = real0 - real1;\n\t\tconst realTemp2: number = real2 + real3;\n\t\tconst realTemp3: number = real2 - real3;\n\t\tconst imagTemp0: number = imag0 + imag1;\n\t\tconst imagTemp1: number = imag0 - imag1;\n\t\tconst imagTemp2: number = imag2 + imag3;\n\t\tconst imagTemp3: number = imag2 - imag3;\n\t\t\trealArray[startIndex ] = realTemp0 + realTemp2;\n\t\trealArray[startIndex1] = realTemp1 + imagTemp3;\n\t\trealArray[startIndex2] = realTemp0 - realTemp2;\n\t\trealArray[startIndex3] = realTemp1 - imagTemp3;\n\t\t\timagArray[startIndex ] = imagTemp0 + imagTemp2;\n\t\timagArray[startIndex1] = imagTemp1 - realTemp3;\n\t\timagArray[startIndex2] = imagTemp0 - imagTemp2;\n\t\timagArray[startIndex3] = imagTemp1 + realTemp3;\n\t}\n\t\t\n\tfor (let stride: number = 8; stride <= fullArrayLength; stride += stride) {\n\t\tconst halfLength: number = stride >>> 1;\n\t\tconst radiansIncrement: number = Math.PI * 2.0 / stride;\n\t\tconst cosIncrement: number = Math.cos(radiansIncrement);\n\t\tconst sinIncrement: number = Math.sin(radiansIncrement);\n\t\tconst oscillatorMultiplier: number = 2.0 * cosIncrement;\n\t\tfor (let startIndex: number = 0; startIndex < fullArrayLength; startIndex += stride) {\n\t\t\tlet c: number = 1.0;\n\t\t\tlet s: number = 0.0;\n\t\t\tlet cPrev: number = cosIncrement;\n\t\t\tlet sPrev: number = sinIncrement;\n\t\t\tconst secondHalf: number = startIndex + halfLength;\n\t\t\tfor (let i: number = startIndex; i < secondHalf; i++) {\n\t\t\t\tconst j: number = i + halfLength;\n\t\t\t\tconst real0: number = realArray[i];\n\t\t\t\tconst imag0: number = imagArray[i];\n\t\t\t\tconst real1: number = realArray[j] * c - imagArray[j] * s;\n\t\t\t\tconst imag1: number = realArray[j] * s + imagArray[j] * c;\n\t\t\t\trealArray[i] = real0 + real1;\n\t\t\t\timagArray[i] = imag0 + imag1;\n\t\t\t\trealArray[j] = real0 - real1;\n\t\t\t\timagArray[j] = imag0 - imag1;\n\t\t\t\tconst cTemp: number = oscillatorMultiplier * c - cPrev;\n\t\t\t\tconst sTemp: number = oscillatorMultiplier * s - sPrev;\n\t\t\t\tcPrev = c;\n\t\t\t\tsPrev = s;\n\t\t\t\tc = cTemp;\n\t\t\t\ts = sTemp;\n\t\t\t}\n\t\t}\n\t}\n}\n\n// Computes the Fourier transform from an array of real-valued time-domain\n// samples. The output is specially formatted for space efficieny: elements\n// 0 through N/2 represent cosine wave amplitudes in ascending frequency,\n// and elements N/2+1 through N-1 represent sine wave amplitudes in\n// descending frequency. Overwrites the input array.\nexport function forwardRealFourierTransform(array: NumberArray): void {\n\tconst fullArrayLength: number = array.length;\n\tconst totalPasses: number = countBits(fullArrayLength);\n\tif (fullArrayLength < 4) throw new Error(\"FFT array length must be at least 4.\");\n\t\t\n\treverseIndexBits(array, fullArrayLength);\n\t\t\n\t// First and second pass.\n\tfor (let index: number = 0; index < fullArrayLength; index += 4) {\n\t\tconst index1: number = index + 1;\n\t\tconst index2: number = index + 2;\n\t\tconst index3: number = index + 3;\n\t\t\tconst real0: number = array[index ];\n\t\tconst real1: number = array[index1];\n\t\tconst real2: number = array[index2];\n\t\tconst real3: number = array[index3];\n\t\t// no imaginary elements yet since the input is fully real.\n\t\tconst tempA: number = real0 + real1;\n\t\tconst tempB: number = real2 + real3;\n\t\t\tarray[index ] = tempA + tempB;\n\t\tarray[index1] = real0 - real1;\n\t\tarray[index2] = tempA - tempB;\n\t\tarray[index3] = real2 - real3;\n\t}\n\t\t\n\t// Third pass.\n\tconst sqrt2over2: number = Math.sqrt(2.0) / 2.0;\n\tfor (let index: number = 0; index < fullArrayLength; index += 8) {\n\t\tconst index1: number = index + 1;\n\t\tconst index3: number = index + 3;\n\t\tconst index4: number = index + 4;\n\t\tconst index5: number = index + 5;\n\t\tconst index7: number = index + 7;\n\t\t\tconst real0: number = array[index ];\n\t\tconst real1: number = array[index1];\n\t\tconst imag3: number = array[index3];\n\t\tconst real4: number = array[index4];\n\t\tconst real5: number = array[index5];\n\t\tconst imag7: number = array[index7];\n\t\tconst tempA: number = (real5 - imag7) * sqrt2over2;\n\t\tconst tempB: number = (real5 + imag7) * sqrt2over2;\n\t\t\tarray[index ] = real0 + real4;\n\t\tarray[index1] = real1 + tempA;\n\t\tarray[index3] = real1 - tempA;\n\t\tarray[index4] = real0 - real4;\n\t\tarray[index5] = tempB - imag3;\n\t\tarray[index7] = tempB + imag3;\n\t}\n\t\t\n\t// Handle remaining passes.\n\tfor (let pass: number = 3; pass < totalPasses; pass++) {\n\t\tconst subStride: number = 1 << pass;\n\t\tconst midSubStride: number = subStride >> 1;\n\t\tconst stride: number = subStride << 1;\n\t\tconst radiansIncrement: number = Math.PI * 2.0 / stride;\n\t\tconst cosIncrement: number = Math.cos(radiansIncrement);\n\t\tconst sinIncrement: number = Math.sin(radiansIncrement);\n\t\tconst oscillatorMultiplier: number = 2.0 * cosIncrement;\n\t\tfor (let startIndex: number = 0; startIndex < fullArrayLength; startIndex += stride) {\n\t\t\tconst startIndexA: number = startIndex;\n\t\t\tconst startIndexB: number = startIndexA + subStride;\n\t\t\tconst stopIndex: number = startIndexB + subStride;\n\t\t\tconst realStartA: number = array[startIndexA];\n\t\t\tconst realStartB: number = array[startIndexB];\n\t\t\tarray[startIndexA] = realStartA + realStartB;\n\t\t\tarray[startIndexB] = realStartA - realStartB;\n\t\t\tlet c: number = cosIncrement;\n\t\t\tlet s: number = -sinIncrement;\n\t\t\tlet cPrev: number = 1.0;\n\t\t\tlet sPrev: number = 0.0;\n\t\t\tfor (let index: number = 1; index < midSubStride; index++) {\n\t\t\t\tconst indexA0: number = startIndexA + index;\n\t\t\t\tconst indexA1: number = startIndexB - index;\n\t\t\t\tconst indexB0: number = startIndexB + index;\n\t\t\t\t\tconst indexB1: number = stopIndex   - index;\n\t\t\t\tconst real0: number = array[indexA0];\n\t\t\t\tconst imag0: number = array[indexA1];\n\t\t\t\tconst real1: number = array[indexB0];\n\t\t\t\tconst imag1: number = array[indexB1];\n\t\t\t\tconst tempA: number = real1 * c + imag1 * s;\n\t\t\t\tconst tempB: number = real1 * s - imag1 * c;\n\t\t\t\tarray[indexA0] = real0 + tempA;\n\t\t\t\tarray[indexA1] = real0 - tempA;\n\t\t\t\t\tarray[indexB0] =-imag0 - tempB;\n\t\t\t\tarray[indexB1] = imag0 - tempB;\n\t\t\t\tconst cTemp: number = oscillatorMultiplier * c - cPrev;\n\t\t\t\tconst sTemp: number = oscillatorMultiplier * s - sPrev;\n\t\t\t\tcPrev = c;\n\t\t\t\tsPrev = s;\n\t\t\t\tc = cTemp;\n\t\t\t\ts = sTemp;\n\t\t\t}\n\t\t}\n\t}\n}\n\n// Computes the inverse Fourier transform from a specially formatted array of\n// scalar values. Elements 0 through N/2 are expected to be the real values of\n// the corresponding complex elements, representing cosine wave amplitudes in\n// ascending frequency, and elements N/2+1 through N-1 correspond to the\n// imaginary values, representing sine wave amplitudes in descending frequency.\n// Generates real-valued time-domain samples. Overwrites the input array.\nexport function inverseRealFourierTransform(array: NumberArray, fullArrayLength: number): void {\n\tconst totalPasses: number = countBits(fullArrayLength);\n\tif (fullArrayLength < 4) throw new Error(\"FFT array length must be at least 4.\");\n\n\t// Perform all but the last few passes in reverse.\n\tfor (let pass: number = totalPasses - 1; pass >= 2; pass--) {\n\t\tconst subStride: number = 1 << pass;\n\t\tconst midSubStride: number = subStride >> 1;\n\t\tconst stride: number = subStride << 1;\n\t\tconst radiansIncrement: number = Math.PI * 2.0 / stride;\n\t\tconst cosIncrement: number = Math.cos(radiansIncrement);\n\t\tconst sinIncrement: number = Math.sin(radiansIncrement);\n\t\tconst oscillatorMultiplier: number = 2.0 * cosIncrement;\n\t\t\t\n\t\tfor (let startIndex: number = 0; startIndex < fullArrayLength; startIndex += stride) {\n\t\t\tconst startIndexA: number = startIndex;\n\t\t\tconst midIndexA: number = startIndexA + midSubStride;\n\t\t\tconst startIndexB: number = startIndexA + subStride;\n\t\t\tconst midIndexB: number = startIndexB + midSubStride;\n\t\t\tconst stopIndex: number = startIndexB + subStride;\n\t\t\tconst realStartA: number = array[startIndexA];\n\t\t\tconst imagStartB: number = array[startIndexB];\n\t\t\tarray[startIndexA] = realStartA + imagStartB;\n\t\t\tarray[midIndexA] *= 2;\n\t\t\tarray[startIndexB] = realStartA - imagStartB;\n\t\t\tarray[midIndexB] *= 2;\n\t\t\tlet c: number = cosIncrement;\n\t\t\tlet s: number = -sinIncrement;\n\t\t\tlet cPrev: number = 1.0;\n\t\t\tlet sPrev: number = 0.0;\n\t\t\tfor (let index: number = 1; index < midSubStride; index++) {\n\t\t\t\tconst indexA0: number = startIndexA + index;\n\t\t\t\tconst indexA1: number = startIndexB - index;\n\t\t\t\tconst indexB0: number = startIndexB + index;\n\t\t\t\t\tconst indexB1: number = stopIndex   - index;\n\t\t\t\tconst real0: number = array[indexA0];\n\t\t\t\tconst real1: number = array[indexA1];\n\t\t\t\tconst imag0: number = array[indexB0];\n\t\t\t\tconst imag1: number = array[indexB1];\n\t\t\t\tconst tempA: number = real0 - real1;\n\t\t\t\tconst tempB: number = imag0 + imag1;\n\t\t\t\tarray[indexA0] = real0 + real1;\n\t\t\t\tarray[indexA1] = imag1 - imag0;\n\t\t\t\tarray[indexB0] = tempA * c - tempB * s;\n\t\t\t\tarray[indexB1] = tempB * c + tempA * s;\n\t\t\t\tconst cTemp: number = oscillatorMultiplier * c - cPrev;\n\t\t\t\tconst sTemp: number = oscillatorMultiplier * s - sPrev;\n\t\t\t\tcPrev = c;\n\t\t\t\tsPrev = s;\n\t\t\t\tc = cTemp;\n\t\t\t\ts = sTemp;\n\t\t\t}\n\t\t}\n\t}\n\t/*\n\t// Commented out this block (and compensated with an extra pass above)\n\t// because it's slower in my testing so far.\n\t// Pass with stride 8.\n\tconst sqrt2over2: number = Math.sqrt(2.0) / 2.0;\n\tfor (let index: number = 0; index < fullArrayLength; index += 8) {\n\t\tconst index1: number = index + 1;\n\t\tconst index2: number = index + 2;\n\t\tconst index3: number = index + 3;\n\t\tconst index4: number = index + 4;\n\t\tconst index5: number = index + 5;\n\t\tconst index6: number = index + 6;\n\t\tconst index7: number = index + 7;\n\t\tconst real0: number = array[index ];\n\t\tconst real1: number = array[index1];\n\t\tconst real2: number = array[index2];\n\t\tconst real3: number = array[index3];\n\t\tconst imag4: number = array[index4];\n\t\tconst imag5: number = array[index5];\n\t\tconst imag6: number = array[index6];\n\t\tconst imag7: number = array[index7];\n\t\tconst tempA: number = real1 - real3;\n\t\tconst tempB: number = imag5 + imag7;\n\t\tarray[index ] = real0 + imag4;\n\t\tarray[index1] = real1 + real3;\n\t\tarray[index2] = real2 * 2;\n\t\tarray[index3] = imag7 - imag5;\n\t\tarray[index4] = real0 - imag4;\n\t\tarray[index5] = (tempA + tempB) * sqrt2over2;\n\t\tarray[index6] = imag6 * 2;\n\t\tarray[index7] = (tempB - tempA) * sqrt2over2;\n\t}\n\t*/\n\t// The final passes with strides 4 and 2, combined into one loop.\n\tfor (let index: number = 0; index < fullArrayLength; index += 4) {\n\t\tconst index1: number = index + 1;\n\t\tconst index2: number = index + 2;\n\t\tconst index3: number = index + 3;\n\t\t\tconst real0: number = array[index ];\n\t\tconst real1: number = array[index1] * 2;\n\t\tconst imag2: number = array[index2];\n\t\tconst imag3: number = array[index3] * 2;\n\t\tconst tempA: number = real0 + imag2;\n\t\tconst tempB: number = real0 - imag2;\n\t\t\tarray[index ] = tempA + real1;\n\t\tarray[index1] = tempA - real1;\n\t\tarray[index2] = tempB + imag3;\n\t\tarray[index3] = tempB - imag3;\n\t}\n\t\t\n\treverseIndexBits(array, fullArrayLength);\n}\n","// Copyright (c) 2012-2022 John Nesky and contributing authors, distributed under the MIT license, see accompanying the LICENSE.md file.\n\nexport class Deque<T> {\n\tprivate _capacity: number = 1;\n\tprivate _buffer: Array<T | undefined> = [undefined];\n\tprivate _mask: number = 0;\n\tprivate _offset: number = 0;\n\tprivate _count: number = 0;\n\n\tpublic pushFront(element: T): void {\n\t\tif (this._count >= this._capacity) this._expandCapacity();\n\t\tthis._offset = (this._offset - 1) & this._mask;\n\t\tthis._buffer[this._offset] = element;\n\t\tthis._count++;\n\t}\n\tpublic pushBack(element: T): void {\n\t\tif (this._count >= this._capacity) this._expandCapacity();\n\t\tthis._buffer[(this._offset + this._count) & this._mask] = element;\n\t\tthis._count++;\n\t}\n\tpublic popFront(): T {\n\t\tif (this._count <= 0) throw new Error(\"No elements left to pop.\");\n\t\tconst element: T = <T>this._buffer[this._offset];\n\t\tthis._buffer[this._offset] = undefined;\n\t\tthis._offset = (this._offset + 1) & this._mask;\n\t\tthis._count--;\n\t\treturn element;\n\t}\n\tpublic popBack(): T {\n\t\tif (this._count <= 0) throw new Error(\"No elements left to pop.\");\n\t\tthis._count--;\n\t\tconst index: number = (this._offset + this._count) & this._mask;\n\t\tconst element: T = <T>this._buffer[index];\n\t\tthis._buffer[index] = undefined;\n\t\treturn element;\n\t}\n\tpublic peakFront(): T {\n\t\tif (this._count <= 0) throw new Error(\"No elements left to pop.\");\n\t\treturn <T>this._buffer[this._offset];\n\t}\n\tpublic peakBack(): T {\n\t\tif (this._count <= 0) throw new Error(\"No elements left to pop.\");\n\t\treturn <T>this._buffer[(this._offset + this._count - 1) & this._mask];\n\t}\n\tpublic count(): number {\n\t\treturn this._count;\n\t}\n\tpublic set(index: number, element: T): void {\n\t\tif (index < 0 || index >= this._count) throw new Error(\"Invalid index\");\n\t\tthis._buffer[(this._offset + index) & this._mask] = element;\n\t}\n\tpublic get(index: number): T {\n\t\tif (index < 0 || index >= this._count) throw new Error(\"Invalid index\");\n\t\treturn <T>this._buffer[(this._offset + index) & this._mask];\n\t}\n\tpublic remove(index: number): void {\n\t\tif (index < 0 || index >= this._count) throw new Error(\"Invalid index\");\n\t\tif (index <= (this._count >> 1)) {\n\t\t\twhile (index > 0) {\n\t\t\t\tthis.set(index, this.get(index - 1));\n\t\t\t\tindex--;\n\t\t\t}\n\t\t\tthis.popFront();\n\t\t} else {\n\t\t\tindex++;\n\t\t\twhile (index < this._count) {\n\t\t\t\tthis.set(index - 1, this.get(index));\n\t\t\t\tindex++;\n\t\t\t}\n\t\t\tthis.popBack();\n\t\t}\n\t}\n\tprivate _expandCapacity(): void {\n\t\tif (this._capacity >= 0x40000000) throw new Error(\"Capacity too big.\");\n\t\tthis._capacity = this._capacity << 1;\n\t\tconst oldBuffer: Array<T | undefined> = this._buffer;\n\t\tconst newBuffer: Array<T | undefined> = new Array(this._capacity);\n\t\tconst size: number = this._count | 0;\n\t\tconst offset: number = this._offset | 0;\n\t\tfor (let i = 0; i < size; i++) {\n\t\t\tnewBuffer[i] = oldBuffer[(offset + i) & this._mask];\n\t\t}\n\t\tfor (let i = size; i < this._capacity; i++) {\n\t\t\tnewBuffer[i] = undefined;\n\t\t}\n\t\tthis._offset = 0;\n\t\tthis._buffer = newBuffer;\n\t\tthis._mask = this._capacity - 1;\n\t}\n}","//A simple events system for effectively direct links without actualy linking files or references\nclass EventManager { \n    private activeEvents:string[] = [];\n    private listeners:any = {};\n\n    constructor() {\n        this.activeEvents = [];\n        this.listeners = {};\n    }\n\n\n    public raise(eventType: string, eventData: any, extraEventData?: any): void {\n        if (this.listeners[eventType] == undefined) {\n            return;\n        }\n        this.activeEvents.push(eventType);\n        for (let i: number = 0; i < this.listeners[eventType].length; i++) {\n            this.listeners[eventType][i](eventData,extraEventData)\n        }\n        this.activeEvents.pop();\n    }\n\n    public listen(eventType:string,callback:Function): void {\n        if (this.listeners[eventType] == undefined) {\n            this.listeners[eventType] = []\n        }\n        this.listeners[eventType].push(callback)\n    }\n\n    public unlisten(eventType: string, callback: Function): void {\n        if (this.listeners[eventType] == undefined) {\n            return;\n        }\n        const lisen = this.listeners[eventType].indexOf(callback);\n        if (lisen != -1) {\n            this.listeners[eventType].splice(lisen, 1);\n        }\n    }\n    public unlistenAll(eventType: string): void {\n        if (this.listeners[eventType] == undefined) {\n            return;\n        }\n        this.listeners[eventType]=[];\n    }\n}\n\nexport const events:EventManager = new EventManager()","/*\nThis file contains code to compute digital audio filter coefficients based on\nthe desired type, cutoff frequency, and other parameters. You can use these\ncoefficients to apply the filter to audio samples. It also contains code to\nanalyze these filters, which is useful for graphically displaying their effects.\n\nAll of the filters in this file are known as \"Infinite Impulse Response\" or IIR\nfilters, because older output samples contribute feedback to newer output\nsamples and thus contribute to all future samples, although typically filters\nare design to reduce the contribution of older samples over time.\n\nLow-pass filters aka high-cut filters preserve audio signals below the cutoff\nfrequency, and attenuate audio signals above the cutoff frequency. High-pass\nfilters aka low-cut filters are the reverse. All-pass filters do not affect the\nvolume of the signal at all but induce phase changes above the cutoff frequency.\nPeak/Notch filters maintain the volume on either side of the cutoff frequency,\nbut raise or lower the volume at that frequency. \n\nThe number of old samples used in the filter determines the \"order\" of the\nfilter. First-order filters generally have shallower slopes, and second-order\nfilters generally have steeper slopes and can be configured to \"resonate\",\nmeaning they have a louder peak at the cutoff frequency. This file contains\nfirst-order filters and second-order filters, meaning one or two older samples\nare involved, as well as the current input sample.\n\nThe class FilterCoefficients is defined lower in this file. You can use it to\nset up a first order filter like this:\n\n\tconst cutoffRadiansPerSample: number = 2 * Math.PI * cutoffHz / sampleRate;\n\tconst filter: FilterCoefficients = new FilterCoefficients();\n\tfilter.lowPass1stOrderButterworth(cutoffRadiansPerSample);\n\t// output sample coefficients are conventionally called a0, a1, etc. Note\n\t// that a[0] is typically normalized to 1.0 and need not be used directly.\n\tconst a: number[] = filter.a;\n\t// input sample coefficients are conventionally called b0, b1, etc\n\tconst b: number[] = filter.b;\n\t// filter input samples, x[0] is the most recent, x[1] is the previous one, etc.\n\tconst x: number[] = [0, 0, 0];\n\t// filter output samples, y[0] will be computed by the filter based on input\n\t// samples and older output samples.\n\tconst y: number[] = [0, 0, 0];\n\nThen to apply the first-order filter to samples inside a loop, using the current\ninput sample (x[0]) as well as previous input and output samples, do this:\n\n\t// Compute the next output sample y[0]:\n\ty[0] = b[0] * x[0] + b[1] * x[1] - a[1] * y[1];\n\t// Remember the input and output samples for next time:\n\tx[1] = x[0];\n\ty[1] = y[0];\n\n2nd order filters are similar, but have more parameters and require more old\nsamples:\n\n\t// Compute the next output sample y[0]:\n\ty[0] = b[0] * x[0] + b[1] * x[1] + b[2] * x[2] - a[1] * y[1] - a[2] * y[2];\n\t// Remember the input and output samples for next time:\n\tx[2] = x[1];\n\tx[1] = x[0];\n\ty[2] = y[1];\n\ty[1] = y[0];\n\nYou can compose multiple filters into a higher order filter, although doing so\nreduces the numerical stability of the filter:\n\n\tfilter3.combination(filter1, filter2);\n\t// filter3.order will equal: filter1.order + filter2.order\n\t// The number of coefficients in filter3.a and filter3.b will be: order + 1\n\nThis file also contains a class called FrequencyResponse. You can use it to\ndetermine how much gain or attenuation a filter would apply to sounds at a\nspecific input frequency, as well as the phase offset:\n\n\tconst inputRadians: number = 2 * Math.PI * cutoffHz / sampleRate;\n\tconst response: FrequencyResponse = new FrequencyResponse();\n\tresponse.analyze(filter, inputRadians);\n\tconst gainResponse = response.magnitude();\n\tconst phaseResponse = response.angle();\n\nThat's basically all you need to know to use this code, but I'll also explain\nhow the analysis works.\n\nA first-order digital IIR filter is ordinarily implemented in a form like this:\n\n\toutput = inputCoeff * input + prevInputCoeff * prevInput - prevOutputCoeff * prevOutput;\n\nIf we adopt standard naming conventions for audio filters, this same code would\ninstead look like:\n\n\t// x0 = current input, x1 = prevInput, y0 = current output, y1 = prevOutput\n\ty0 = b0*x0 + b1*x1 - a1*y1;\n\nLeaving behind the world of code for a moment and entering the world of algebra,\nwe can rewrite this equation by moving all the output terms to the left side,\nand we can add a coefficient to the y0 term called a0 (which is typically\nnormalized to 1.0, which is why I didn't bother including it until now):\n\n\ta0*y0 + a1*y1 = b0*x0 + b1*x1\n\nThis is known as the symmetrical form of the filter, and it will help us analyze\nthe impact of the filter on an input audio signal. Here's a lesson that helped\nme understand the symmetrical form:\nhttps://web.archive.org/web/20200626183458/http://123.physics.ucdavis.edu/week_5_files/filters/digital_filter.pdf\n\nThe end of that lesson introduces a concept called the \"delay operator\" which\nlooks like \"z^-1\", which (magically) turns a sample into the previous sample\nwhen you multiply them. For example:\n\n\tx0 * z^-1 = x1\n\nThe lesson doesn't explain how it actually works. Audio signals aren't always\npredictable, which means that you generally can't do math on a single sample to\ncompute what the previous sample was. However, some audio signals ARE\npredictable, such as pure sine waves. Fortunately, all audio signals can be\nbroken down into a sum of independent sine waves. We can pick one sine wave at a\ntime, and use it to analyze the filter's impact on waves at that frequency. In\npractice, this tells us what the filter will do to unpredictable input samples\nthat contain a partial sine wave at that frequency.\n\nTechnically, you can't just use a single sine wave sample to determine the\nprevious sine wave sample, because each possible value is passed going upwards\nand downwards once per period and the direction is ambigous. This is where we\nneed to move into the complex number domain, where the real and imaginary\ncomponents can provide enough information to compute the previous position on\nthe input signal. So now instead of talking about sine waves, we're talking\nabout waves where the imaginary component is a sine wave and the real component\nis a cosine wave at the same frequency. Together, they trace around a unit\ncircle in the complex domain, and each sample is just a consistent rotation\napplied to the previous sample. The \"delay operator\" described above, z^-1, is\nthis same rotation applied in reverse, and it can be computed as:\n\n\tz^-1 = cos(radiansPerSample) - i * sin(radiansPerSample)\n\nMath nerds may be interested to know that \"Euler's formula\" was used here, but\nexplaining what that means is probably beyond the scope of this documentation\naside from noting that a complex number on the unit circle represents a 2D\nrotation that you can apply via multiplication.\n\nNow we can rewrite the symmetrical form using the delay operator and algebra:\n\n\ta0*y0 + a1*y0*z^-1 = b0*x0 + b1*x0*z^-1\n\ty0 * (a0 + a1*z^-1) = x0 * (b0 + b1*z^-1)\n\ty0 = x0 * (b0 + b1*z^-1) / (a0 + a1*z^-1)\n\ty0 / x0 = (b0 + b1*z^-1) / (a0 + a1*z^-1)\n\nThat last equation expresses the relationship between the input and output\nsignals (y0/x0) in terms of the filter coefficients and delay operator. At this\npoint, the specific values of the input and output samples don't even matter!\nThis is called the \"transfer function\", and it's conventionally named \"H(z)\":\n\n\tH(z) = (b0 + b1*z^-1) / (a0 + a1*z^-1)\n\nIf you plug in actual filter coefficients and express the delay operators as\ncomplex numbers with the appropriate trigonometry functions, the transfer\nfunction can be computed and produces a complex number that represents the\nrelationship between the input and output signals, whose magnitude represents\nthe volume gain (or attenuation) of signals at that frequency, and whose angle\nrepresents how much phase shift is applied by the filter to signals at that\nfrequency.\n\n(Note that in order to compute the transfer function, you'll need to do\nsomething about the complex number in the denominator. It turns out you can turn\nthe denominator into a real number by multiplying both the numerator and\ndenominator by the complex conjugate of the denominator, which is just the\ndenominator with the imaginary component negated.)\n\nFinally, I'll list some of the links that helped me understand filters and\nprovided some of the algorithms I that use here.\n\nHere's where I found accurate 2nd order low-pass and high-pass digital filters:\nhttps://web.archive.org/web/20120531011328/http://www.musicdsp.org/files/Audio-EQ-Cookbook.txt\n\nThis page is how I found a link to the cookbook article above. It claims these\nfilters are Butterworth filters:\nhttp://web.archive.org/web/20191213120120/https://crypto.stanford.edu/~blynn/sound/analog.html\n\nI found the first-order digital Butterworth filter coefficients at:\nhttps://www.researchgate.net/publication/338022014_Digital_Implementation_of_Butterworth_First-Order_Filter_Type_IIR\n\nThis meta-paper helped me understand how to make 2nd order peak/notch filters:\nhttps://web.archive.org/web/20170706085655/https://www.thesounddesign.com/MIO/EQ-Coefficients.pdf\n\nBeepBox originally used simpler low-pass filters that I adapted from SFXR:\nhttps://www.drpetter.se/project_sfxr.html\nFor low cutoff frequencies, the simpler filters and the Butterworth filters are\nnearly identical, but when closer to the nyquist frequency the simpler filters\ncreate extra resonance.\n*/\n\nexport class FilterCoefficients {\n\tpublic readonly a: number[] = [1.0]; // output coefficients (negated, keep a[0]=1)\n\tpublic readonly b: number[] = [1.0]; // input coefficients\n\tpublic order: number = 0;\n\t\n\tpublic linearGain0thOrder(linearGain: number): void {\n\t\t//a[0] = 1.0; // a0 should always be normalized to 1.0, no need to assign it directly.\n\t\tthis.b[0] = linearGain;\n\t\tthis.order = 0;\n\t}\n\t\n\tpublic lowPass1stOrderButterworth(cornerRadiansPerSample: number): void {\n\t\t// First-order Butterworth low-pass filter according to:\n\t\t// https://www.researchgate.net/publication/338022014_Digital_Implementation_of_Butterworth_First-Order_Filter_Type_IIR\n\t\t// A butterworth filter is one where the amplitude response is equal to:\n\t\t// 1 / (1 + (freq / cutoffFreq)^(2 * order))\n\t\tconst g: number = 1.0 / Math.tan(cornerRadiansPerSample * 0.5);\n\t\tconst a0: number = 1.0 + g;\n\t\tthis.a[1] = (1.0 - g) / a0;\n\t\tthis.b[1] = this.b[0] = 1 / a0;\n\t\tthis.order = 1;\n\t}\n\t\n\tpublic lowPass1stOrderSimplified(cornerRadiansPerSample: number): void {\n\t\t// The output of this filter is nearly identical to the 1st order\n\t\t// Butterworth low-pass above, except if the cutoff is set to nyquist/3,\n\t\t// then the output is the same as the input, and if the cutoff is higher\n\t\t// than that, then the output actually resonates at high frequencies\n\t\t// instead of attenuating.\n\t\t// I'm guessing this filter was converted from analog to digital using\n\t\t// the \"matched z-transform\" method instead of the \"bilinear transform\"\n\t\t// method. The difference is that the bilinear transform warps\n\t\t// frequencies so that the lowpass response of zero at analogue hz maps\n\t\t// to the digital nyquist frequency, whereas the matched z-transform\n\t\t// preserves the frequency of the filter response but also adds the\n\t\t// reflected response from above the nyquist frequency.\n\t\tconst g: number = 2.0 * Math.sin(cornerRadiansPerSample * 0.5);\n\t\tthis.a[1] = g - 1.0;\n\t\tthis.b[0] = g;\n\t\tthis.b[1] = 0.0;\n\t\t/*\n\t\t// Alternatively:\n\t\tconst g: number = 1.0 / (2.0 * Math.sin(cornerRadiansPerSample / 2));\n\t\tconst a0: number = g;\n\t\tthis.a[1] = (1.0 - g) / a0;\n\t\tthis.b[0] = 1.0 / a0;\n\t\tthis.b[1] = 0.0 / a0;\n\t\t*/\n\t\tthis.order = 1;\n\t}\n\t\n\tpublic highPass1stOrderButterworth(cornerRadiansPerSample: number): void {\n\t\t// First-order Butterworth high-pass filter according to:\n\t\t// https://www.researchgate.net/publication/338022014_Digital_Implementation_of_Butterworth_First-Order_Filter_Type_IIR\n\t\tconst g: number = 1.0 / Math.tan(cornerRadiansPerSample * 0.5);\n\t\tconst a0: number = 1.0 + g;\n\t\tthis.a[1] = (1.0 - g) / a0;\n\t\tthis.b[0] = g / a0;\n\t\tthis.b[1] = -g / a0;\n\t\tthis.order = 1;\n\t}\n\t/*\n\tpublic highPass1stOrderSimplified(cornerRadiansPerSample: number): void {\n\t\t// The output of this filter is nearly identical to the 1st order\n\t\t// Butterworth high-pass above, except it resonates when the cutoff\n\t\t// appoaches the nyquist.\n\t\tconst g: number = 2.0 * Math.sin(cornerRadiansPerSample * 0.5);\n\t\tthis.a[1] = g - 1.0;\n\t\tthis.b[0] = 1.0;\n\t\tthis.b[1] = -1.0;\n\t\tthis.order = 1;\n\t}\n\t*/\n\tpublic highShelf1stOrder(cornerRadiansPerSample: number, shelfLinearGain: number): void {\n\t\t// I had trouble figuring this one out because I couldn't find any\n\t\t// online algorithms that I understood. There are 3 degrees of freedom\n\t\t// and I could narrow down a couple of them based on the desired gain at\n\t\t// DC and nyquist, but getting the cutoff frequency correct took a\n\t\t// little bit of trial and error in my attempts to interpret page 53 of\n\t\t// this chapter: http://www.music.mcgill.ca/~ich/classes/FiltersChap2.pdf\n\t\t// Obviously I don't fully understand the bilinear transform yet!\n\t\tconst tan: number = Math.tan(cornerRadiansPerSample * 0.5);\n\t\tconst sqrtGain: number = Math.sqrt(shelfLinearGain);\n\t\tconst g: number = (tan * sqrtGain - 1) / (tan * sqrtGain + 1.0);\n\t\tconst a0: number = 1.0;\n\t\tthis.a[1] = g / a0;\n\t\tthis.b[0] = (1.0 + g + shelfLinearGain * (1.0 - g)) / (2.0 * a0);\n\t\tthis.b[1] = (1.0 + g - shelfLinearGain * (1.0 - g)) / (2.0 * a0);\n\t\tthis.order = 1;\n\t}\n\t\n\tpublic allPass1stOrderInvertPhaseAbove(cornerRadiansPerSample: number): void {\n\t\tconst g: number = (Math.sin(cornerRadiansPerSample) - 1.0) / Math.cos(cornerRadiansPerSample);\n\t\tthis.a[1] = g;\n\t\tthis.b[0] = g;\n\t\tthis.b[1] = 1.0;\n\t\tthis.order = 1;\n\t}\n\t\n\t/*\n\t// I haven't found a practical use for this version of the all pass filter.\n\t// It seems to create a weird subharmonic when used in a delay feedback loop.\n\tpublic allPass1stOrderInvertPhaseBelow(cornerRadiansPerSample: number): void {\n\t\tconst g: number = (Math.sin(cornerRadiansPerSample) - 1.0) / Math.cos(cornerRadiansPerSample);\n\t\tthis.a[1] = g;\n\t\tthis.b[0] = -g;\n\t\tthis.b[1] = -1.0;\n\t\tthis.order = 1;\n\t}\n\t*/\n\t\n\tpublic allPass1stOrderFractionalDelay(delay: number) {\n\t\t// Very similar to allPass1stOrderInvertPhaseAbove, but configured\n\t\t// differently and for a different purpose! Useful for interpolating\n\t\t// between samples in a delay line.\n\t\tconst g: number = (1.0 - delay) / (1.0 + delay);\n\t\tthis.a[1] = g;\n\t\tthis.b[0] = g;\n\t\tthis.b[1] = 1.0;\n\t\tthis.order = 1;\n\t}\n\t\n\tpublic lowPass2ndOrderButterworth(cornerRadiansPerSample: number, peakLinearGain: number): void {\n\t\t// This is Butterworth if peakLinearGain=1/2 according to:\n\t\t// http://web.archive.org/web/20191213120120/https://crypto.stanford.edu/~blynn/sound/analog.html\n\t\t// An interesting property is that if peakLinearGain=1/16 then the\n\t\t// output resembles a first-order lowpass at a cutoff 4 octaves lower,\n\t\t// although it gets distorted near the nyquist.\n\t\tconst alpha: number = Math.sin(cornerRadiansPerSample) / (2.0 * peakLinearGain);\n\t\tconst cos: number = Math.cos(cornerRadiansPerSample);\n\t\tconst a0: number = 1.0 + alpha;\n\t\tthis.a[1] = -2.0*cos / a0;\n\t\tthis.a[2] = (1 - alpha) / a0;\n\t\tthis.b[2] = this.b[0] = (1 - cos) / (2.0*a0);\n\t\tthis.b[1] = (1 - cos) / a0;\n\t\tthis.order = 2;\n\t}\n\t\n\tpublic lowPass2ndOrderSimplified(cornerRadiansPerSample: number, peakLinearGain: number): void {\n\t\t// This filter is adapted from the one in the SFXR source code:\n\t\t// https://www.drpetter.se/project_sfxr.html\n\t\t// The output is nearly identical to the resonant Butterworth low-pass\n\t\t// above, except it resonates too much when the cutoff appoaches the\n\t\t// nyquist. If the resonance is set to zero and the cutoff is set to\n\t\t// nyquist/3, then the output is the same as the input.\n\t\tconst g: number = 2.0 * Math.sin(cornerRadiansPerSample / 2.0);\n\t\tconst filterResonance: number = 1.0 - 1.0 / (2.0 * peakLinearGain);\n\t\tconst feedback: number = filterResonance + filterResonance / (1.0 - g);\n\t\tthis.a[1] = 2.0*g + (g - 1.0) * g*feedback - 2.0;\n\t\tthis.a[2] = (g - 1.0) * (g - g*feedback - 1.0);\n\t\tthis.b[0] = g*g;\n\t\tthis.b[1] = 0;\n\t\tthis.b[2] = 0;\n\t\tthis.order = 2;\n\t}\n\t\n\tpublic highPass2ndOrderButterworth(cornerRadiansPerSample: number, peakLinearGain: number): void {\n\t\tconst alpha: number = Math.sin(cornerRadiansPerSample) / (2 * peakLinearGain);\n\t\tconst cos: number = Math.cos(cornerRadiansPerSample);\n\t\tconst a0: number = 1.0 + alpha;\n\t\tthis.a[1] = -2.0*cos / a0;\n\t\tthis.a[2] = (1.0 - alpha) / a0;\n\t\tthis.b[2] = this.b[0] = (1.0 + cos) / (2.0*a0);\n\t\tthis.b[1] = -(1.0 + cos) / a0;\n\t\tthis.order = 2;\n\t}\n\t/*\n\tpublic highPass2ndOrderSimplified(cornerRadiansPerSample: number, peakLinearGain: number): void {\n\t\tconst g: number = 2.0 * Math.sin(cornerRadiansPerSample * 0.5);\n\t\tconst filterResonance: number = 1.0 - 1.0 / (2.0 * peakLinearGain);\n\t\tconst feedback: number = filterResonance + filterResonance / (1.0 - g);\n\t\tthis.a[1] = 2.0*g + (g - 1.0) * g*feedback - 2.0;\n\t\tthis.a[2] = (g - 1.0) * (g - g*feedback - 1.0);\n\t\tthis.b[0] = 1.0;\n\t\tthis.b[1] = -2.0;\n\t\tthis.b[2] = 1.0;\n\t\tthis.order = 2;\n\t}\n\t*/\n\tpublic peak2ndOrder(cornerRadiansPerSample: number, peakLinearGain: number, bandWidthScale: number): void {\n\t\tconst sqrtGain: number = Math.sqrt(peakLinearGain);\n\t\tconst bandWidth: number = bandWidthScale * cornerRadiansPerSample / (sqrtGain >= 1 ? sqrtGain : 1/sqrtGain);\n\t\t//const bandWidth: number = bandWidthScale * cornerRadiansPerSample / Math.max(sqrtGain, 1.0);\n\t\tconst alpha: number = Math.tan(bandWidth * 0.5);\n\t\tconst a0: number = 1.0 + alpha / sqrtGain;\n\t\tthis.b[0] = (1.0 + alpha * sqrtGain) / a0;\n\t\tthis.b[1] = this.a[1] = -2.0 * Math.cos(cornerRadiansPerSample) / a0;\n\t\tthis.b[2] = (1.0 - alpha * sqrtGain) / a0;\n\t\tthis.a[2] = (1.0 - alpha / sqrtGain) / a0;\n\t\tthis.order = 2;\n\t}\n\t/*\n\t// Create a higher order filter by combining two lower order filters.\n\t// However, making high order filters in this manner results in instability.\n\t// It is recommended to apply the 2nd order filters (biquads) in sequence instead.\n\tpublic combination(filter1: FilterCoefficients, filter2: FilterCoefficients): void {\n\t\tthis.order = filter1.order + filter2.order;\n\t\tfor (let i: number = 0; i <= this.order; i++) {\n\t\t\tthis.a[i] = 0.0;\n\t\t\tthis.b[i] = 0.0;\n\t\t}\n\t\tfor (let i: number = 0; i <= filter1.order; i++) {\n\t\t\tfor (let j: number = 0; j <= filter2.order; j++) {\n\t\t\t\tthis.a[i + j] += filter1.a[i] * filter2.a[j];\n\t\t\t\tthis.b[i + j] += filter1.b[i] * filter2.b[j];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic scaledDifference(other: FilterCoefficients, scale: number): void {\n\t\tif (other.order != this.order) throw new Error();\n\t\tfor (let i: number = 0; i <= this.order; i++) {\n\t\t\tthis.a[i] = (this.a[i] - other.a[i]) * scale;\n\t\t\tthis.b[i] = (this.b[i] - other.b[i]) * scale;\n\t\t}\n\t}\n\t\n\tpublic copy(other: FilterCoefficients): void {\n\t\tthis.order = other.order;\n\t\tfor (let i: number = 0; i <= this.order; i++) {\n\t\t\tthis.a[i] = other.a[i];\n\t\t\tthis.b[i] = other.b[i];\n\t\t}\n\t}\n\t*/\n}\n\nexport class FrequencyResponse {\n\tpublic real: number = 0.0;\n\tpublic imag: number = 0.0;\n\tpublic denom: number = 1.0;\n\t\n\tpublic analyze(filter: FilterCoefficients, radiansPerSample: number): void {\n\t\tthis.analyzeComplex(filter, Math.cos(radiansPerSample), Math.sin(radiansPerSample));\n\t}\n\t\n\tpublic analyzeComplex(filter: FilterCoefficients, real: number, imag: number): void {\n\t\tconst a: number[] = filter.a;\n\t\tconst b: number[] = filter.b;\n\t\tconst realZ1: number = real;\n\t\tconst imagZ1: number = -imag;\n\t\tlet realNum: number = b[0] + b[1] * realZ1;\n\t\tlet imagNum: number = b[1] * imagZ1;\n\t\tlet realDenom: number = 1.0 + a[1] * realZ1;\n\t\tlet imagDenom: number = a[1] * imagZ1;\n\t\tlet realZ: number = realZ1;\n\t\tlet imagZ: number = imagZ1;\n\t\tfor (let i: number = 2; i <= filter.order; i++) {\n\t\t\tconst realTemp: number = realZ * realZ1 - imagZ * imagZ1;\n\t\t\tconst imagTemp: number = realZ * imagZ1 + imagZ * realZ1;\n\t\t\trealZ = realTemp;\n\t\t\timagZ = imagTemp;\n\t\t\trealNum += b[i] * realZ;\n\t\t\timagNum += b[i] * imagZ;\n\t\t\trealDenom += a[i] * realZ;\n\t\t\timagDenom += a[i] * imagZ;\n\t\t}\n\t\tthis.denom = realDenom * realDenom + imagDenom * imagDenom;\n\t\tthis.real = realNum * realDenom + imagNum * imagDenom;\n\t\tthis.imag = imagNum * realDenom - realNum * imagDenom;\n\t}\n\t\n\tpublic magnitude(): number {\n\t\treturn Math.sqrt(this.real * this.real + this.imag * this.imag) / this.denom;\n\t}\n\t\n\tpublic angle(): number {\n\t\treturn Math.atan2(this.imag, this.real);\n\t}\n}\n\nexport class DynamicBiquadFilter {\n\tpublic a1: number = 0.0;\n\tpublic a2: number = 0.0;\n\tpublic b0: number = 1.0;\n\tpublic b1: number = 0.0;\n\tpublic b2: number = 0.0;\n\tpublic a1Delta: number = 0.0;\n\tpublic a2Delta: number = 0.0;\n\tpublic b0Delta: number = 0.0;\n\tpublic b1Delta: number = 0.0;\n\tpublic b2Delta: number = 0.0;\n\tpublic output1: number = 0.0;\n\tpublic output2: number = 0.0;\n\t\n\t// Some filter types are more stable when interpolating between coefficients\n\t// if the \"b\" coefficient interpolation is multiplicative. Don't enable this\n\t// for filter types where the \"b\" coefficients might change sign!\n\tpublic useMultiplicativeInputCoefficients: boolean = false;\n\t\n\tpublic resetOutput(): void {\n\t\tthis.output1 = 0.0;\n\t\tthis.output2 = 0.0;\n\t}\n\t\n\tpublic loadCoefficientsWithGradient(start: FilterCoefficients, end: FilterCoefficients, deltaRate: number, useMultiplicativeInputCoefficients: boolean): void {\n\t\tif (start.order != 2 || end.order != 2) throw new Error();\n\t\tthis.a1 = start.a[1];\n\t\tthis.a2 = start.a[2];\n\t\tthis.b0 = start.b[0];\n\t\tthis.b1 = start.b[1];\n\t\tthis.b2 = start.b[2];\n\t\tthis.a1Delta = (end.a[1] - start.a[1]) * deltaRate;\n\t\tthis.a2Delta = (end.a[2] - start.a[2]) * deltaRate;\n\t\tif (useMultiplicativeInputCoefficients) {\n\t\t\tthis.b0Delta = Math.pow(end.b[0] / start.b[0], deltaRate);\n\t\t\tthis.b1Delta = Math.pow(end.b[1] / start.b[1], deltaRate);\n\t\t\tthis.b2Delta = Math.pow(end.b[2] / start.b[2], deltaRate);\n\t\t} else {\n\t\t\tthis.b0Delta = (end.b[0] - start.b[0]) * deltaRate;\n\t\t\tthis.b1Delta = (end.b[1] - start.b[1]) * deltaRate;\n\t\t\tthis.b2Delta = (end.b[2] - start.b[2]) * deltaRate;\n\t\t}\n\t\tthis.useMultiplicativeInputCoefficients = useMultiplicativeInputCoefficients;\n\t}\n}\n","// Copyright (c) 2012-2022 John Nesky and contributing authors, distributed under the MIT license, see accompanying the LICENSE.md file.\n\nimport { startLoadingSample, sampleLoadingState, SampleLoadingState, sampleLoadEvents, SampleLoadedEvent, SampleLoadingStatus, loadBuiltInSamples, Dictionary, DictionaryArray, toNameMap, FilterType, EnvelopeType, InstrumentType, EffectType, EnvelopeComputeIndex, Transition, Unison, Chord, Vibrato, Envelope, AutomationTarget, Config, getDrumWave, drawNoiseSpectrum, getArpeggioPitchIndex, performIntegralOld, getPulseWidthRatio, effectsIncludeTransition, effectsIncludeChord, effectsIncludePitchShift, effectsIncludeDetune, effectsIncludeVibrato, effectsIncludeNoteFilter, effectsIncludeDistortion, effectsIncludeBitcrusher, effectsIncludePanning, effectsIncludeChorus, effectsIncludeEcho, effectsIncludeReverb, OperatorWave } from \"./SynthConfig\";\nimport { Preset, EditorConfig } from \"../editor/EditorConfig\";\nimport { scaleElementsByFactor, inverseRealFourierTransform } from \"./FFT\";\nimport { Deque } from \"./Deque\";\nimport { events } from \"../global/Events\";\nimport { FilterCoefficients, FrequencyResponse, DynamicBiquadFilter } from \"./filtering\";\n\ndeclare global {\n    interface Window {\n        AudioContext: any;\n        webkitAudioContext: any;\n    }\n}\n\nconst epsilon: number = (1.0e-24); // For detecting and avoiding float denormals, which have poor performance.\n\n// For performance debugging:\n//let samplesAccumulated: number = 0;\n//let samplePerformance: number = 0;\n\nexport function clamp(min: number, max: number, val: number): number {\n    max = max - 1;\n    if (val <= max) {\n        if (val >= min) return val;\n        else return min;\n    } else {\n        return max;\n    }\n}\n\nfunction validateRange(min: number, max: number, val: number): number {\n    if (min <= val && val <= max) return val;\n    throw new Error(`Value ${val} not in range [${min}, ${max}]`);\n}\n\nexport function parseFloatWithDefault<T>(s: string, defaultValue: T): number | T {\n    let result: number | T = parseFloat(s);\n    if (Number.isNaN(result)) result = defaultValue;\n    return result;\n}\n\nexport function parseIntWithDefault<T>(s: string, defaultValue: T): number | T {\n    let result: number | T = parseInt(s);\n    if (Number.isNaN(result)) result = defaultValue;\n    return result;\n}\n\nfunction encode32BitNumber(buffer: number[], x: number): void {\n    // 0b11_\n    buffer.push(base64IntToCharCode[(x >>> (6 * 5)) & 0x3]);\n    //      111111_\n    buffer.push(base64IntToCharCode[(x >>> (6 * 4)) & 0x3f]);\n    //             111111_\n    buffer.push(base64IntToCharCode[(x >>> (6 * 3)) & 0x3f]);\n    //                    111111_\n    buffer.push(base64IntToCharCode[(x >>> (6 * 2)) & 0x3f]);\n    //                           111111_\n    buffer.push(base64IntToCharCode[(x >>> (6 * 1)) & 0x3f]);\n    //                                  111111\n    buffer.push(base64IntToCharCode[(x >>> (6 * 0)) & 0x3f]);\n}\n\n// @TODO: This is error-prone, because the caller has to remember to increment\n// charIndex by 6 afterwards.\nfunction decode32BitNumber(compressed: string, charIndex: number): number {\n    let x: number = 0;\n    // 0b11_\n    x |= base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << (6 * 5);\n    //      111111_\n    x |= base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << (6 * 4);\n    //             111111_\n    x |= base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << (6 * 3);\n    //                    111111_\n    x |= base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << (6 * 2);\n    //                           111111_\n    x |= base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << (6 * 1);\n    //                                  111111\n    x |= base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << (6 * 0);\n    return x;\n}\n\nfunction encodeUnisonSettings(buffer: number[], v: number, s: number, o: number, e: number, i: number): void {\n    buffer.push(base64IntToCharCode[v]);\n    \n    // logically this should be done with bitshifts... but I don't know how to do that, so\n    buffer.push(base64IntToCharCode[Number((s > 0))]);\n    let cleanS = Math.round(Math.abs(s) * 1000);\n    let cleanSDivided = Math.floor(cleanS / 63);\n    buffer.push(base64IntToCharCode[cleanS % 63], base64IntToCharCode[cleanSDivided % 63], base64IntToCharCode[Math.floor(cleanSDivided / 63)]);\n\n    buffer.push(base64IntToCharCode[Number((o > 0))]);\n    let cleanO = Math.round(Math.abs(o) * 1000);\n    let cleanODivided = Math.floor(cleanO / 63);\n    buffer.push(base64IntToCharCode[cleanO % 63], base64IntToCharCode[cleanODivided % 63], base64IntToCharCode[Math.floor(cleanODivided / 63)]);\n    \n    buffer.push(base64IntToCharCode[Number((e > 0))]);\n    let cleanE = Math.round(Math.abs(e) * 1000);\n    buffer.push(base64IntToCharCode[cleanE % 63], base64IntToCharCode[Math.floor(cleanE / 63)]);\n\n    buffer.push(base64IntToCharCode[Number((i > 0))]);\n    let cleanI = Math.round(Math.abs(i) * 1000);\n    buffer.push(base64IntToCharCode[cleanI % 63], base64IntToCharCode[Math.floor(cleanI / 63)]);\n}\n\nfunction convertLegacyKeyToKeyAndOctave(rawKeyIndex: number): [number, number] {\n    let key: number = clamp(0, Config.keys.length, rawKeyIndex);\n    let octave: number = 0;\n    // This conversion code depends on C through B being\n    // available as keys, of course.\n    if (rawKeyIndex === 12) {\n        // { name: \"C+\", isWhiteKey: false, basePitch: 24 }\n        key = 0;\n        octave = 1;\n    } else if (rawKeyIndex === 13) {\n        // { name: \"G- (actually F#-)\", isWhiteKey: false, basePitch: 6 }\n        key = 6;\n        octave = -1;\n    } else if (rawKeyIndex === 14) {\n        // { name: \"C-\", isWhiteKey: true, basePitch: 0 }\n        key = 0;\n        octave = -1;\n    } else if (rawKeyIndex === 15) {\n        // { name: \"oh no (F-)\", isWhiteKey: true, basePitch: 5 }\n        key = 5;\n        octave = -1;\n    }\n    return [key, octave];\n}\n\nconst enum CharCode {\n    SPACE = 32,\n    HASH = 35,\n    PERCENT = 37,\n    AMPERSAND = 38,\n    PLUS = 43,\n    DASH = 45,\n    DOT = 46,\n    NUM_0 = 48,\n    NUM_1 = 49,\n    NUM_2 = 50,\n    NUM_3 = 51,\n    NUM_4 = 52,\n    NUM_5 = 53,\n    NUM_6 = 54,\n    NUM_7 = 55,\n    NUM_8 = 56,\n    NUM_9 = 57,\n    EQUALS = 61,\n    A = 65,\n    B = 66,\n    C = 67,\n    D = 68,\n    E = 69,\n    F = 70,\n    G = 71,\n    H = 72,\n    I = 73,\n    J = 74,\n    K = 75,\n    L = 76,\n    M = 77,\n    N = 78,\n    O = 79,\n    P = 80,\n    Q = 81,\n    R = 82,\n    S = 83,\n    T = 84,\n    U = 85,\n    V = 86,\n    W = 87,\n    X = 88,\n    Y = 89,\n    Z = 90,\n    UNDERSCORE = 95,\n    a = 97,\n    b = 98,\n    c = 99,\n    d = 100,\n    e = 101,\n    f = 102,\n    g = 103,\n    h = 104,\n    i = 105,\n    j = 106,\n    k = 107,\n    l = 108,\n    m = 109,\n    n = 110,\n    o = 111,\n    p = 112,\n    q = 113,\n    r = 114,\n    s = 115,\n    t = 116,\n    u = 117,\n    v = 118,\n    w = 119,\n    x = 120,\n    y = 121,\n    z = 122,\n    LEFT_CURLY_BRACE = 123,\n    RIGHT_CURLY_BRACE = 125,\n}\n\nconst enum SongTagCode {\n    beatCount = CharCode.a, // added in song url version 2\n    bars = CharCode.b, // added in 2\n    vibrato = CharCode.c, // added in 2, DEPRECATED\n    fadeInOut = CharCode.d, // added in 3 for transition, switched to fadeInOut in 9\n    loopEnd = CharCode.e, // added in 2\n    eqFilter = CharCode.f, // added in 3\n    barCount = CharCode.g, // added in 3\n    unison = CharCode.h, // added in 2\n    instrumentCount = CharCode.i, // added in 3\n    patternCount = CharCode.j, // added in 3\n    key = CharCode.k, // added in 2\n    loopStart = CharCode.l, // added in 2\n    reverb = CharCode.m, // added in 5, DEPRECATED\n    channelCount = CharCode.n, // added in 6\n    channelOctave = CharCode.o, // added in 3\n    patterns = CharCode.p, // added in 2\n    effects = CharCode.q, // added in 7\n    rhythm = CharCode.r, // added in 2\n    scale = CharCode.s, // added in 2\n    tempo = CharCode.t, // added in 2\n    preset = CharCode.u, // added in 7\n    volume = CharCode.v, // added in 2\n    wave = CharCode.w, // added in 2\n\n    filterResonance = CharCode.y, // added in 7, DEPRECATED, [UB] repurposed for chip wave loop controls\n    drumsetEnvelopes = CharCode.z, // added in 7 for filter envelopes, still used for drumset envelopes\n    algorithm = CharCode.A, // added in 6\n    feedbackAmplitude = CharCode.B, // added in 6\n    chord = CharCode.C, // added in 7, DEPRECATED\n    detune = CharCode.D, // [JB], added in 3(?), DEPRECATED\n    envelopes = CharCode.E, // added in 6 for FM operator envelopes, repurposed in 9 for general envelopes.\n    feedbackType = CharCode.F, // added in 6\n    arpeggioSpeed = CharCode.G, // [JB], added in 3, DEPRECATED\n    harmonics = CharCode.H, // added in 7\n    stringSustain = CharCode.I, // added in 9\n\n    pan = CharCode.L, // added between 8 and 9, DEPRECATED\n    customChipWave = CharCode.M, // [JB], added in 1(?)\n    songTitle = CharCode.N, // [JB], added in 1(?)\n    limiterSettings = CharCode.O, // [JB], added in 3(?)\n\n    operatorAmplitudes = CharCode.P, // added in 6\n    operatorFrequencies = CharCode.Q, // added in 6\n    operatorWaves = CharCode.R, // [JB], added in 4\n    spectrum = CharCode.S, // added in 7\n    startInstrument = CharCode.T, // added in 6\n    channelNames = CharCode.U, // [JB], added in 4(?)\n    feedbackEnvelope = CharCode.V, // added in 6, DEPRECATED\n    pulseWidth = CharCode.W, // added in 7\n    aliases = CharCode.X, // [JB], added in 4, DEPRECATED\n\n}\n\nconst base64IntToCharCode: ReadonlyArray<number> = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 45, 95];\nconst base64CharCodeToInt: ReadonlyArray<number> = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 62, 62, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 0, 0, 0, 0, 0, 0, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 0, 0, 0, 0, 63, 0, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 0, 0, 0, 0, 0]; // 62 could be represented by either \"-\" or \".\" for historical reasons. New songs should use \"-\".\n\nclass BitFieldReader {\n    private _bits: number[] = [];\n    private _readIndex: number = 0;\n\n    constructor(source: string, startIndex: number, stopIndex: number) {\n        for (let i: number = startIndex; i < stopIndex; i++) {\n            const value: number = base64CharCodeToInt[source.charCodeAt(i)];\n            this._bits.push((value >> 5) & 0x1);\n            this._bits.push((value >> 4) & 0x1);\n            this._bits.push((value >> 3) & 0x1);\n            this._bits.push((value >> 2) & 0x1);\n            this._bits.push((value >> 1) & 0x1);\n            this._bits.push(value & 0x1);\n        }\n    }\n\n    public read(bitCount: number): number {\n        let result: number = 0;\n        while (bitCount > 0) {\n            result = result << 1;\n            result += this._bits[this._readIndex++];\n            bitCount--;\n        }\n        return result;\n    }\n\n    public readLongTail(minValue: number, minBits: number): number {\n        let result: number = minValue;\n        let numBits: number = minBits;\n        while (this._bits[this._readIndex++]) {\n            result += 1 << numBits;\n            numBits++;\n        }\n        while (numBits > 0) {\n            numBits--;\n            if (this._bits[this._readIndex++]) {\n                result += 1 << numBits;\n            }\n        }\n        return result;\n    }\n\n    public readPartDuration(): number {\n        return this.readLongTail(1, 3);\n    }\n\n    public readLegacyPartDuration(): number {\n        return this.readLongTail(1, 2);\n    }\n\n    public readPinCount(): number {\n        return this.readLongTail(1, 0);\n    }\n\n    public readPitchInterval(): number {\n        if (this.read(1)) {\n            return -this.readLongTail(1, 3);\n        } else {\n            return this.readLongTail(1, 3);\n        }\n    }\n}\n\nclass BitFieldWriter {\n    private _index: number = 0;\n    private _bits: number[] = [];\n\n    public clear() {\n        this._index = 0;\n    }\n\n    public write(bitCount: number, value: number): void {\n        bitCount--;\n        while (bitCount >= 0) {\n            this._bits[this._index++] = (value >>> bitCount) & 1;\n            bitCount--;\n        }\n    }\n\n    public writeLongTail(minValue: number, minBits: number, value: number): void {\n        if (value < minValue) throw new Error(\"value out of bounds\");\n        value -= minValue;\n        let numBits: number = minBits;\n        while (value >= (1 << numBits)) {\n            this._bits[this._index++] = 1;\n            value -= 1 << numBits;\n            numBits++;\n        }\n        this._bits[this._index++] = 0;\n        while (numBits > 0) {\n            numBits--;\n            this._bits[this._index++] = (value >>> numBits) & 1;\n        }\n    }\n\n    public writePartDuration(value: number): void {\n        this.writeLongTail(1, 3, value);\n    }\n\n    public writePinCount(value: number): void {\n        this.writeLongTail(1, 0, value);\n    }\n\n    public writePitchInterval(value: number): void {\n        if (value < 0) {\n            this.write(1, 1); // sign\n            this.writeLongTail(1, 3, -value);\n        } else {\n            this.write(1, 0); // sign\n            this.writeLongTail(1, 3, value);\n        }\n    }\n\n    public concat(other: BitFieldWriter): void {\n        for (let i: number = 0; i < other._index; i++) {\n            this._bits[this._index++] = other._bits[i];\n        }\n    }\n\n    public encodeBase64(buffer: number[]): number[] {\n\n        for (let i: number = 0; i < this._index; i += 6) {\n            const value: number = (this._bits[i] << 5) | (this._bits[i + 1] << 4) | (this._bits[i + 2] << 3) | (this._bits[i + 3] << 2) | (this._bits[i + 4] << 1) | this._bits[i + 5];\n            buffer.push(base64IntToCharCode[value]);\n        }\n        return buffer;\n    }\n\n    public lengthBase64(): number {\n        return Math.ceil(this._index / 6);\n    }\n}\n\nexport interface NotePin {\n    interval: number;\n    time: number;\n    size: number;\n}\n\nexport function makeNotePin(interval: number, time: number, size: number): NotePin {\n    return { interval: interval, time: time, size: size };\n}\n\nexport class Note {\n    public pitches: number[];\n    public pins: NotePin[];\n    public start: number;\n    public end: number;\n    public continuesLastPattern: boolean;\n\n    public constructor(pitch: number, start: number, end: number, size: number, fadeout: boolean = false) {\n        this.pitches = [pitch];\n        this.pins = [makeNotePin(0, 0, size), makeNotePin(0, end - start, fadeout ? 0 : size)];\n        this.start = start;\n        this.end = end;\n        this.continuesLastPattern = false;\n    }\n\n    public pickMainInterval(): number {\n        let longestFlatIntervalDuration: number = 0;\n        let mainInterval: number = 0;\n        for (let pinIndex: number = 1; pinIndex < this.pins.length; pinIndex++) {\n            const pinA: NotePin = this.pins[pinIndex - 1];\n            const pinB: NotePin = this.pins[pinIndex];\n            if (pinA.interval == pinB.interval) {\n                const duration: number = pinB.time - pinA.time;\n                if (longestFlatIntervalDuration < duration) {\n                    longestFlatIntervalDuration = duration;\n                    mainInterval = pinA.interval;\n                }\n            }\n        }\n        if (longestFlatIntervalDuration == 0) {\n            let loudestSize: number = 0;\n            for (let pinIndex: number = 0; pinIndex < this.pins.length; pinIndex++) {\n                const pin: NotePin = this.pins[pinIndex];\n                if (loudestSize < pin.size) {\n                    loudestSize = pin.size;\n                    mainInterval = pin.interval;\n                }\n            }\n        }\n        return mainInterval;\n    }\n\n    public clone(): Note {\n        const newNote: Note = new Note(-1, this.start, this.end, 3);\n        newNote.pitches = this.pitches.concat();\n        newNote.pins = [];\n        for (const pin of this.pins) {\n            newNote.pins.push(makeNotePin(pin.interval, pin.time, pin.size));\n        }\n        newNote.continuesLastPattern = this.continuesLastPattern;\n        return newNote;\n    }\n\n    public getEndPinIndex(part: number): number {\n        let endPinIndex: number;\n        for (endPinIndex = 1; endPinIndex < this.pins.length - 1; endPinIndex++) {\n            if (this.pins[endPinIndex].time + this.start > part) break;\n        }\n        return endPinIndex;\n    }\n}\n\nexport class Pattern {\n    public notes: Note[] = [];\n    public readonly instruments: number[] = [0];\n\n    public cloneNotes(): Note[] {\n        const result: Note[] = [];\n        for (const note of this.notes) {\n            result.push(note.clone());\n        }\n        return result;\n    }\n\n    public reset(): void {\n        this.notes.length = 0;\n        this.instruments[0] = 0;\n        this.instruments.length = 1;\n    }\n\n    public toJsonObject(song: Song, channel: Channel, isModChannel: boolean): any {\n        const noteArray: Object[] = [];\n        for (const note of this.notes) {\n            // Only one ins per pattern is enforced in mod channels.\n            let instrument: Instrument = channel.instruments[this.instruments[0]];\n            let mod: number = Math.max(0, Config.modCount - note.pitches[0] - 1);\n            let volumeCap: number = song.getVolumeCapForSetting(isModChannel, instrument.modulators[mod], instrument.modFilterTypes[mod]);\n            const pointArray: Object[] = [];\n            for (const pin of note.pins) {\n                let useVol: number = isModChannel ? Math.round(pin.size) : Math.round(pin.size * 100 / volumeCap);\n                pointArray.push({\n                    \"tick\": (pin.time + note.start) * Config.rhythms[song.rhythm].stepsPerBeat / Config.partsPerBeat,\n                    \"pitchBend\": pin.interval,\n                    \"volume\": useVol,\n                    \"forMod\": isModChannel,\n                });\n            }\n\n            const noteObject: any = {\n                \"pitches\": note.pitches,\n                \"points\": pointArray,\n            };\n            if (note.start == 0) {\n                noteObject[\"continuesLastPattern\"] = note.continuesLastPattern;\n            }\n            noteArray.push(noteObject);\n        }\n\n        const patternObject: any = { \"notes\": noteArray };\n        if (song.patternInstruments) {\n            patternObject[\"instruments\"] = this.instruments.map(i => i + 1);\n        }\n        return patternObject;\n    }\n\n    public fromJsonObject(patternObject: any, song: Song, channel: Channel, importedPartsPerBeat: number, isNoiseChannel: boolean, isModChannel: boolean): void {\n        if (song.patternInstruments) {\n            if (Array.isArray(patternObject[\"instruments\"])) {\n                const instruments: any[] = patternObject[\"instruments\"];\n                const instrumentCount: number = clamp(Config.instrumentCountMin, song.getMaxInstrumentsPerPatternForChannel(channel) + 1, instruments.length);\n                for (let j: number = 0; j < instrumentCount; j++) {\n                    this.instruments[j] = clamp(0, channel.instruments.length, (instruments[j] | 0) - 1);\n                }\n                this.instruments.length = instrumentCount;\n            } else {\n                this.instruments[0] = clamp(0, channel.instruments.length, (patternObject[\"instrument\"] | 0) - 1);\n                this.instruments.length = 1;\n            }\n        }\n\n        if (patternObject[\"notes\"] && patternObject[\"notes\"].length > 0) {\n            const maxNoteCount: number = Math.min(song.beatsPerBar * Config.partsPerBeat * (isModChannel ? Config.modCount : 1), patternObject[\"notes\"].length >>> 0);\n\n            // TODO: Consider supporting notes specified in any timing order, sorting them and truncating as necessary.\n            //let tickClock: number = 0;\n            for (let j: number = 0; j < patternObject[\"notes\"].length; j++) {\n                if (j >= maxNoteCount) break;\n\n                const noteObject = patternObject[\"notes\"][j];\n                if (!noteObject || !noteObject[\"pitches\"] || !(noteObject[\"pitches\"].length >= 1) || !noteObject[\"points\"] || !(noteObject[\"points\"].length >= 2)) {\n                    continue;\n                }\n\n                const note: Note = new Note(0, 0, 0, 0);\n                note.pitches = [];\n                note.pins = [];\n\n                for (let k: number = 0; k < noteObject[\"pitches\"].length; k++) {\n                    const pitch: number = noteObject[\"pitches\"][k] | 0;\n                    if (note.pitches.indexOf(pitch) != -1) continue;\n                    note.pitches.push(pitch);\n                    if (note.pitches.length >= Config.maxChordSize) break;\n                }\n                if (note.pitches.length < 1) continue;\n\n                //let noteClock: number = tickClock;\n                let startInterval: number = 0;\n                for (let k: number = 0; k < noteObject[\"points\"].length; k++) {\n                    const pointObject: any = noteObject[\"points\"][k];\n                    if (pointObject == undefined || pointObject[\"tick\"] == undefined) continue;\n                    const interval: number = (pointObject[\"pitchBend\"] == undefined) ? 0 : (pointObject[\"pitchBend\"] | 0);\n\n                    const time: number = Math.round((+pointObject[\"tick\"]) * Config.partsPerBeat / importedPartsPerBeat);\n\n                    let instrument: Instrument = channel.instruments[this.instruments[0]];\n                    let mod: number = Math.max(0, Config.modCount - note.pitches[0] - 1);\n\n                    // Only one instrument per pattern allowed in mod channels.\n                    let volumeCap: number = song.getVolumeCapForSetting(isModChannel, instrument.modulators[mod], instrument.modFilterTypes[mod]);\n\n                    // The strange volume formula used for notes is not needed for mods. Some rounding errors were possible.\n                    // A \"forMod\" signifier was added to new JSON export to detect when the higher precision export was used in a file.\n                    let size: number;\n                    if (pointObject[\"volume\"] == undefined) {\n                        size = volumeCap;\n                    } else if (pointObject[\"forMod\"] == undefined) {\n                        size = Math.max(0, Math.min(volumeCap, Math.round((pointObject[\"volume\"] | 0) * volumeCap / 100)));\n                    }\n                    else {\n                        size = ((pointObject[\"forMod\"] | 0) > 0) ? Math.round(pointObject[\"volume\"] | 0) : Math.max(0, Math.min(volumeCap, Math.round((pointObject[\"volume\"] | 0) * volumeCap / 100)));\n                    }\n\n                    if (time > song.beatsPerBar * Config.partsPerBeat) continue;\n                    if (note.pins.length == 0) {\n                        //if (time < noteClock) continue;\n                        note.start = time;\n                        startInterval = interval;\n                    } else {\n                        //if (time <= noteClock) continue;\n                    }\n                    //noteClock = time;\n\n                    note.pins.push(makeNotePin(interval - startInterval, time - note.start, size));\n                }\n                if (note.pins.length < 2) continue;\n\n                note.end = note.pins[note.pins.length - 1].time + note.start;\n\n                const maxPitch: number = isNoiseChannel ? Config.drumCount - 1 : Config.maxPitch;\n                let lowestPitch: number = maxPitch;\n                let highestPitch: number = 0;\n                for (let k: number = 0; k < note.pitches.length; k++) {\n                    note.pitches[k] += startInterval;\n                    if (note.pitches[k] < 0 || note.pitches[k] > maxPitch) {\n                        note.pitches.splice(k, 1);\n                        k--;\n                    }\n                    if (note.pitches[k] < lowestPitch) lowestPitch = note.pitches[k];\n                    if (note.pitches[k] > highestPitch) highestPitch = note.pitches[k];\n                }\n                if (note.pitches.length < 1) continue;\n\n                for (let k: number = 0; k < note.pins.length; k++) {\n                    const pin: NotePin = note.pins[k];\n                    if (pin.interval + lowestPitch < 0) pin.interval = -lowestPitch;\n                    if (pin.interval + highestPitch > maxPitch) pin.interval = maxPitch - highestPitch;\n                    if (k >= 2) {\n                        if (pin.interval == note.pins[k - 1].interval &&\n                            pin.interval == note.pins[k - 2].interval &&\n                            pin.size == note.pins[k - 1].size &&\n                            pin.size == note.pins[k - 2].size) {\n                            note.pins.splice(k - 1, 1);\n                            k--;\n                        }\n                    }\n                }\n\n                if (note.start == 0) {\n                    note.continuesLastPattern = (noteObject[\"continuesLastPattern\"] === true);\n                } else {\n                    note.continuesLastPattern = false;\n                }\n\n                this.notes.push(note);\n            }\n        }\n    }\n}\n\nexport class Operator {\n    public frequency: number = 4;\n    public amplitude: number = 0;\n    public waveform: number = 0;\n    public pulseWidth: number = 0.5;\n\n    constructor(index: number) {\n        this.reset(index);\n    }\n\n    public reset(index: number): void {\n        this.frequency = 4; //defualt to 1x\n        this.amplitude = (index <= 1) ? Config.operatorAmplitudeMax : 0;\n        this.waveform = 0;\n        this.pulseWidth = 5;\n    }\n\n    public copy(other: Operator): void {\n        this.frequency = other.frequency;\n        this.amplitude = other.amplitude;\n        this.waveform = other.waveform;\n        this.pulseWidth = other.pulseWidth;\n    }\n}\n\nexport class CustomAlgorithm {\n    public name: string = \"\";\n    public carrierCount: number = 0;\n    public modulatedBy: number[][] = [[], [], [], [], [], []];\n    public associatedCarrier: number[] = [];\n\n    constructor(){\n        this.fromPreset(1);\n    }\n\n    public set(carriers: number, modulation: number[][]) {\n        this.reset();\n        this.carrierCount = carriers;\n        for (let i = 0; i < this.modulatedBy.length; i++) {\n            this.modulatedBy[i] = modulation[i];\n            if (i < carriers) {\n                this.associatedCarrier[i] = i+1;\n            }\n            this.name += (i+1);\n            for (let j = 0; j < modulation[i].length;j++) {\n                this.name += modulation[i][j];\n                if (modulation[i][j] > carriers-1) {\n                    this.associatedCarrier[modulation[i][j] - 1] = i + 1;\n                }\n                this.name += \",\";\n            }\n            if (i < carriers) {\n                this.name += \"|\";\n            } else {\n                this.name += \".\";\n            }\n        }\n    }\n\n    public reset(): void {\n        this.name = \"\"\n        this.carrierCount = 1;\n        this.modulatedBy = [[2, 3, 4, 5, 6], [], [], [], [], []];\n        this.associatedCarrier = [1, 1, 1, 1, 1, 1];\n    }\n\n    public copy(other: CustomAlgorithm): void {\n        this.name = other.name;\n        this.carrierCount = other.carrierCount;\n        this.modulatedBy = other.modulatedBy;\n        this.associatedCarrier = other.associatedCarrier;\n    }\n\n    public fromPreset(other: number): void {\n        this.reset();\n        let preset = Config.algorithms6Op[other]\n        this.name = preset.name;\n        this.carrierCount = preset.carrierCount;\n        for (var i = 0; i < preset.modulatedBy.length; i++) {\n            this.modulatedBy[i] = Array.from(preset.modulatedBy[i]);\n            this.associatedCarrier[i] = preset.associatedCarrier[i];\n        }\n    }\n}\n\nexport class CustomFeedBack { //feels redunant\n    public name: string = \"\";\n    public indices: number[][] = [[], [], [], [], [], []];\n\n    constructor() {\n        this.fromPreset(1);\n    }\n\n    public set(inIndices: number[][]) {\n        this.reset();\n        for (let i = 0; i < this.indices.length; i++) {\n            this.indices[i] = inIndices[i];\n            for (let j = 0; j < inIndices[i].length; j++) {\n                this.name += inIndices[i][j];\n                this.name += \",\";\n            }\n            this.name += \".\";\n        }\n    }\n\n    public reset(): void {\n        this.reset;\n        this.name = \"\";\n        this.indices = [[1], [], [], [], [], []];\n    }\n\n    public copy(other: CustomFeedBack): void {\n        this.name = other.name;\n        this.indices = other.indices;\n    }\n\n    public fromPreset(other: number): void {\n        this.reset();\n        let preset = Config.feedbacks6Op[other]\n        for (var i = 0; i < preset.indices.length; i++) {\n            this.indices[i] = Array.from(preset.indices[i]);\n            for (let j = 0; j < preset.indices[i].length; j++) {\n                this.name += preset.indices[i][j];\n                this.name += \",\";\n            }\n            this.name += \".\";\n        }\n    }\n}\n\nexport class SpectrumWave {\n    public spectrum: number[] = [];\n    public hash: number = -1;\n\n    constructor(isNoiseChannel: boolean) {\n        this.reset(isNoiseChannel);\n    }\n\n    public reset(isNoiseChannel: boolean): void {\n        for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n            if (isNoiseChannel) {\n                this.spectrum[i] = Math.round(Config.spectrumMax * (1 / Math.sqrt(1 + i / 3)));\n            } else {\n                const isHarmonic: boolean = i == 0 || i == 7 || i == 11 || i == 14 || i == 16 || i == 18 || i == 21 || i == 23 || i >= 25;\n                this.spectrum[i] = isHarmonic ? Math.max(0, Math.round(Config.spectrumMax * (1 - i / 30))) : 0;\n            }\n        }\n        this.markCustomWaveDirty();\n    }\n\n    public markCustomWaveDirty(): void {\n        const hashMult: number = Synth.fittingPowerOfTwo(Config.spectrumMax + 2) - 1;\n        let hash: number = 0;\n        for (const point of this.spectrum) hash = ((hash * hashMult) + point) >>> 0;\n        this.hash = hash;\n    }\n}\n\nclass SpectrumWaveState {\n    public wave: Float32Array | null = null;\n    private _hash: number = -1;\n\n    public getCustomWave(settings: SpectrumWave, lowestOctave: number): Float32Array {\n        if (this._hash == settings.hash) return this.wave!;\n        this._hash = settings.hash;\n\n        const waveLength: number = Config.spectrumNoiseLength;\n        if (this.wave == null || this.wave.length != waveLength + 1) {\n            this.wave = new Float32Array(waveLength + 1);\n        }\n        const wave: Float32Array = this.wave;\n\n        for (let i: number = 0; i < waveLength; i++) {\n            wave[i] = 0;\n        }\n\n        const highestOctave: number = 14;\n        const falloffRatio: number = 0.25;\n        // Nudge the 2/7 and 4/7 control points so that they form harmonic intervals.\n        const pitchTweak: number[] = [0, 1 / 7, Math.log2(5 / 4), 3 / 7, Math.log2(3 / 2), 5 / 7, 6 / 7];\n        function controlPointToOctave(point: number): number {\n            return lowestOctave + Math.floor(point / Config.spectrumControlPointsPerOctave) + pitchTweak[(point + Config.spectrumControlPointsPerOctave) % Config.spectrumControlPointsPerOctave];\n        }\n\n        let combinedAmplitude: number = 1;\n        for (let i: number = 0; i < Config.spectrumControlPoints + 1; i++) {\n            const value1: number = (i <= 0) ? 0 : settings.spectrum[i - 1];\n            const value2: number = (i >= Config.spectrumControlPoints) ? settings.spectrum[Config.spectrumControlPoints - 1] : settings.spectrum[i];\n            const octave1: number = controlPointToOctave(i - 1);\n            let octave2: number = controlPointToOctave(i);\n            if (i >= Config.spectrumControlPoints) octave2 = highestOctave + (octave2 - highestOctave) * falloffRatio;\n            if (value1 == 0 && value2 == 0) continue;\n\n            combinedAmplitude += 0.02 * drawNoiseSpectrum(wave, waveLength, octave1, octave2, value1 / Config.spectrumMax, value2 / Config.spectrumMax, -0.5);\n        }\n        if (settings.spectrum[Config.spectrumControlPoints - 1] > 0) {\n            combinedAmplitude += 0.02 * drawNoiseSpectrum(wave, waveLength, highestOctave + (controlPointToOctave(Config.spectrumControlPoints) - highestOctave) * falloffRatio, highestOctave, settings.spectrum[Config.spectrumControlPoints - 1] / Config.spectrumMax, 0, -0.5);\n        }\n\n        inverseRealFourierTransform(wave, waveLength);\n        scaleElementsByFactor(wave, 5.0 / (Math.sqrt(waveLength) * Math.pow(combinedAmplitude, 0.75)));\n\n        // Duplicate the first sample at the end for easier wrap-around interpolation.\n        wave[waveLength] = wave[0];\n\n        return wave;\n    }\n}\n\nexport class HarmonicsWave {\n    public harmonics: number[] = [];\n    public hash: number = -1;\n\n    constructor() {\n        this.reset();\n    }\n\n    public reset(): void {\n        for (let i: number = 0; i < Config.harmonicsControlPoints; i++) {\n            this.harmonics[i] = 0;\n        }\n        this.harmonics[0] = Config.harmonicsMax;\n        this.harmonics[3] = Config.harmonicsMax;\n        this.harmonics[6] = Config.harmonicsMax;\n        this.markCustomWaveDirty();\n    }\n\n    public markCustomWaveDirty(): void {\n        const hashMult: number = Synth.fittingPowerOfTwo(Config.harmonicsMax + 2) - 1;\n        let hash: number = 0;\n        for (const point of this.harmonics) hash = ((hash * hashMult) + point) >>> 0;\n        this.hash = hash;\n    }\n}\n\nclass HarmonicsWaveState {\n    public wave: Float32Array | null = null;\n    private _hash: number = -1;\n    private _generatedForType: InstrumentType;\n\n    public getCustomWave(settings: HarmonicsWave, instrumentType: InstrumentType): Float32Array {\n        if (this._hash == settings.hash && this._generatedForType == instrumentType) return this.wave!;\n        this._hash = settings.hash;\n        this._generatedForType = instrumentType;\n\n        const harmonicsRendered: number = (instrumentType == InstrumentType.pickedString) ? Config.harmonicsRenderedForPickedString : Config.harmonicsRendered;\n\n        const waveLength: number = Config.harmonicsWavelength;\n        const retroWave: Float32Array = getDrumWave(0, null, null);\n\n        if (this.wave == null || this.wave.length != waveLength + 1) {\n            this.wave = new Float32Array(waveLength + 1);\n        }\n        const wave: Float32Array = this.wave;\n\n        for (let i: number = 0; i < waveLength; i++) {\n            wave[i] = 0;\n        }\n\n        const overallSlope: number = -0.25;\n        let combinedControlPointAmplitude: number = 1;\n\n        for (let harmonicIndex: number = 0; harmonicIndex < harmonicsRendered; harmonicIndex++) {\n            const harmonicFreq: number = harmonicIndex + 1;\n            let controlValue: number = harmonicIndex < Config.harmonicsControlPoints ? settings.harmonics[harmonicIndex] : settings.harmonics[Config.harmonicsControlPoints - 1];\n            if (harmonicIndex >= Config.harmonicsControlPoints) {\n                controlValue *= 1 - (harmonicIndex - Config.harmonicsControlPoints) / (harmonicsRendered - Config.harmonicsControlPoints);\n            }\n            const normalizedValue: number = controlValue / Config.harmonicsMax;\n            let amplitude: number = Math.pow(2, controlValue - Config.harmonicsMax + 1) * Math.sqrt(normalizedValue);\n            if (harmonicIndex < Config.harmonicsControlPoints) {\n                combinedControlPointAmplitude += amplitude;\n            }\n            amplitude *= Math.pow(harmonicFreq, overallSlope);\n\n            // Multiply all the sine wave amplitudes by 1 or -1 based on the LFSR\n            // retro wave (effectively random) to avoid egregiously tall spikes.\n            amplitude *= retroWave[harmonicIndex + 589];\n\n            wave[waveLength - harmonicFreq] = amplitude;\n        }\n\n        inverseRealFourierTransform(wave, waveLength);\n\n        // Limit the maximum wave amplitude.\n        const mult: number = 1 / Math.pow(combinedControlPointAmplitude, 0.7);\n        for (let i: number = 0; i < wave.length; i++) wave[i] *= mult;\n\n        performIntegralOld(wave);\n\n        // The first sample should be zero, and we'll duplicate it at the end for easier interpolation.\n        wave[waveLength] = wave[0];\n\n        return wave;\n    }\n}\n\nexport class FilterControlPoint {\n    public freq: number = 0;\n    public gain: number = Config.filterGainCenter;\n    public type: FilterType = FilterType.peak;\n\n    public set(freqSetting: number, gainSetting: number): void {\n        this.freq = freqSetting;\n        this.gain = gainSetting;\n    }\n\n    public getHz(): number {\n        return FilterControlPoint.getHzFromSettingValue(this.freq);\n    }\n\n    public static getHzFromSettingValue(value: number): number {\n        return Config.filterFreqReferenceHz * Math.pow(2.0, (value - Config.filterFreqReferenceSetting) * Config.filterFreqStep);\n    }\n    public static getSettingValueFromHz(hz: number): number {\n        return Math.log2(hz / Config.filterFreqReferenceHz) / Config.filterFreqStep + Config.filterFreqReferenceSetting;\n    }\n    public static getRoundedSettingValueFromHz(hz: number): number {\n        return Math.max(0, Math.min(Config.filterFreqRange - 1, Math.round(FilterControlPoint.getSettingValueFromHz(hz))));\n    }\n\n    public getLinearGain(peakMult: number = 1.0): number {\n        const power: number = (this.gain - Config.filterGainCenter) * Config.filterGainStep;\n        const neutral: number = (this.type == FilterType.peak) ? 0.0 : -0.5;\n        const interpolatedPower: number = neutral + (power - neutral) * peakMult;\n        return Math.pow(2.0, interpolatedPower);\n    }\n    public static getRoundedSettingValueFromLinearGain(linearGain: number): number {\n        return Math.max(0, Math.min(Config.filterGainRange - 1, Math.round(Math.log2(linearGain) / Config.filterGainStep + Config.filterGainCenter)));\n    }\n\n    public toCoefficients(filter: FilterCoefficients, sampleRate: number, freqMult: number = 1.0, peakMult: number = 1.0): void {\n        const cornerRadiansPerSample: number = 2.0 * Math.PI * Math.max(Config.filterFreqMinHz, Math.min(Config.filterFreqMaxHz, freqMult * this.getHz())) / sampleRate;\n        const linearGain: number = this.getLinearGain(peakMult);\n        switch (this.type) {\n            case FilterType.lowPass:\n                filter.lowPass2ndOrderButterworth(cornerRadiansPerSample, linearGain);\n                break;\n            case FilterType.highPass:\n                filter.highPass2ndOrderButterworth(cornerRadiansPerSample, linearGain);\n                break;\n            case FilterType.peak:\n                filter.peak2ndOrder(cornerRadiansPerSample, linearGain, 1.0);\n                break;\n            default:\n                throw new Error();\n        }\n    }\n\n    public getVolumeCompensationMult(): number {\n        const octave: number = (this.freq - Config.filterFreqReferenceSetting) * Config.filterFreqStep;\n        const gainPow: number = (this.gain - Config.filterGainCenter) * Config.filterGainStep;\n        switch (this.type) {\n            case FilterType.lowPass:\n                const freqRelativeTo8khz: number = Math.pow(2.0, octave) * Config.filterFreqReferenceHz / 8000.0;\n                // Reverse the frequency warping from importing legacy simplified filters to imitate how the legacy filter cutoff setting affected volume.\n                const warpedFreq: number = (Math.sqrt(1.0 + 4.0 * freqRelativeTo8khz) - 1.0) / 2.0;\n                const warpedOctave: number = Math.log2(warpedFreq);\n                return Math.pow(0.5, 0.2 * Math.max(0.0, gainPow + 1.0) + Math.min(0.0, Math.max(-3.0, 0.595 * warpedOctave + 0.35 * Math.min(0.0, gainPow + 1.0))));\n            case FilterType.highPass:\n                return Math.pow(0.5, 0.125 * Math.max(0.0, gainPow + 1.0) + Math.min(0.0, 0.3 * (-octave - Math.log2(Config.filterFreqReferenceHz / 125.0)) + 0.2 * Math.min(0.0, gainPow + 1.0)));\n            case FilterType.peak:\n                const distanceFromCenter: number = octave + Math.log2(Config.filterFreqReferenceHz / 2000.0);\n                const freqLoudness: number = Math.pow(1.0 / (1.0 + Math.pow(distanceFromCenter / 3.0, 2.0)), 2.0);\n                return Math.pow(0.5, 0.125 * Math.max(0.0, gainPow) + 0.1 * freqLoudness * Math.min(0.0, gainPow));\n            default:\n                throw new Error();\n        }\n    }\n}\n\nexport class FilterSettings {\n    public readonly controlPoints: FilterControlPoint[] = [];\n    public controlPointCount: number = 0;\n\n    constructor() {\n        this.reset();\n    }\n\n    reset(): void {\n        this.controlPointCount = 0;\n    }\n\n    addPoint(type: FilterType, freqSetting: number, gainSetting: number): void {\n        let controlPoint: FilterControlPoint;\n        if (this.controlPoints.length <= this.controlPointCount) {\n            controlPoint = new FilterControlPoint();\n            this.controlPoints[this.controlPointCount] = controlPoint;\n        } else {\n            controlPoint = this.controlPoints[this.controlPointCount];\n        }\n        this.controlPointCount++;\n        controlPoint.type = type;\n        controlPoint.set(freqSetting, gainSetting);\n    }\n\n    public toJsonObject(): Object {\n        const filterArray: any[] = [];\n        for (let i: number = 0; i < this.controlPointCount; i++) {\n            const point: FilterControlPoint = this.controlPoints[i];\n            filterArray.push({\n                \"type\": Config.filterTypeNames[point.type],\n                \"cutoffHz\": Math.round(point.getHz() * 100) / 100,\n                \"linearGain\": Math.round(point.getLinearGain() * 10000) / 10000,\n            });\n        }\n        return filterArray;\n    }\n\n    public fromJsonObject(filterObject: any): void {\n        this.controlPoints.length = 0;\n        if (filterObject) {\n            for (const pointObject of filterObject) {\n                const point: FilterControlPoint = new FilterControlPoint();\n                point.type = Config.filterTypeNames.indexOf(pointObject[\"type\"]);\n                if (<any>point.type == -1) point.type = FilterType.peak;\n                if (pointObject[\"cutoffHz\"] != undefined) {\n                    point.freq = FilterControlPoint.getRoundedSettingValueFromHz(pointObject[\"cutoffHz\"]);\n                } else {\n                    point.freq = 0;\n                }\n                if (pointObject[\"linearGain\"] != undefined) {\n                    point.gain = FilterControlPoint.getRoundedSettingValueFromLinearGain(pointObject[\"linearGain\"]);\n                } else {\n                    point.gain = Config.filterGainCenter;\n                }\n                this.controlPoints.push(point);\n            }\n        }\n        this.controlPointCount = this.controlPoints.length;\n    }\n\n    // Returns true if all filter control points match in number and type (but not freq/gain)\n    public static filtersCanMorph(filterA: FilterSettings, filterB: FilterSettings): boolean {\n        if (filterA.controlPointCount != filterB.controlPointCount)\n            return false;\n        for (let i: number = 0; i < filterA.controlPointCount; i++) {\n            if (filterA.controlPoints[i].type != filterB.controlPoints[i].type)\n                return false;\n        }\n        return true;\n    }\n\n    // Interpolate two FilterSettings, where pos=0 is filterA and pos=1 is filterB\n    public static lerpFilters(filterA: FilterSettings, filterB: FilterSettings, pos: number): FilterSettings {\n\n        let lerpedFilter: FilterSettings = new FilterSettings();\n\n        // One setting or another is null, return the other.\n        if (filterA == null) {\n            return filterA;\n        }\n        if (filterB == null) {\n            return filterB;\n        }\n\n        pos = Math.max(0, Math.min(1, pos));\n\n        // Filter control points match in number and type\n        if (this.filtersCanMorph(filterA, filterB)) {\n            for (let i: number = 0; i < filterA.controlPointCount; i++) {\n                lerpedFilter.controlPoints[i] = new FilterControlPoint();\n                lerpedFilter.controlPoints[i].type = filterA.controlPoints[i].type;\n                lerpedFilter.controlPoints[i].freq = filterA.controlPoints[i].freq + (filterB.controlPoints[i].freq - filterA.controlPoints[i].freq) * pos;\n                lerpedFilter.controlPoints[i].gain = filterA.controlPoints[i].gain + (filterB.controlPoints[i].gain - filterA.controlPoints[i].gain) * pos;\n            }\n\n            lerpedFilter.controlPointCount = filterA.controlPointCount;\n\n            return lerpedFilter;\n        }\n        else {\n            // Not allowing morph of unmatching filters for now. It's a hornet's nest of problems, and I had it implemented and mostly working and it didn't sound very interesting since the shape becomes \"mushy\" in between\n            return (pos >= 1) ? filterB : filterA;\n        }\n        /* \n        // Filter control points do not match. Take all filterA points and move them to neutral at pos=1 (gain 7 for normal points, slide to edge and gain 7 for lo/hipass),\n        // and do the opposite for filterB points. Return a filter with points for both.\n        else {\n            let lerpedFilter: FilterSettings = new FilterSettings();\n            // Filter A's morph points\n            for (let i: number = 0; i < filterA.controlPointCount; i++) {\n                lerpedFilter.controlPoints[i] = new FilterControlPoint();\n                lerpedFilter.controlPoints[i].type = filterA.controlPoints[i].type;\n                lerpedFilter.controlPoints[i].gain = filterA.controlPoints[i].gain + (Config.filterGainCenter - filterA.controlPoints[i].gain) * pos;\n\n                if (filterA.controlPoints[i].type == FilterType.peak) {\n                    lerpedFilter.controlPoints[i].freq = filterA.controlPoints[i].freq;\n                }\n                else if (filterA.controlPoints[i].type == FilterType.highPass) {\n                    lerpedFilter.controlPoints[i].freq = filterA.controlPoints[i].freq * (1 - pos);\n                }\n                else {\n                    lerpedFilter.controlPoints[i].freq = filterA.controlPoints[i].freq + ((Config.filterFreqRange - 1) - filterA.controlPoints[i].freq) * pos;\n                }\n            }\n            // Filter B's morph points\n            for (let i: number = 0, j: number = filterA.controlPointCount; i < filterB.controlPointCount; i++, j++) {\n                lerpedFilter.controlPoints[j] = new FilterControlPoint();\n                lerpedFilter.controlPoints[j].type = filterB.controlPoints[i].type;\n                lerpedFilter.controlPoints[j].gain = filterB.controlPoints[i].gain + (Config.filterGainCenter - filterB.controlPoints[i].gain) * (1 - pos);\n\n                if (filterB.controlPoints[i].type == FilterType.peak) {\n                    lerpedFilter.controlPoints[j].freq = filterB.controlPoints[i].freq;\n                }\n                else if (filterB.controlPoints[i].type == FilterType.highPass) {\n                    lerpedFilter.controlPoints[j].freq = filterB.controlPoints[i].freq * pos;\n                }\n                else {\n                    lerpedFilter.controlPoints[j].freq = filterB.controlPoints[i].freq + ((Config.filterFreqRange - 1) - filterB.controlPoints[i].freq) * (1 - pos);\n                }\n            }\n\n            lerpedFilter.controlPointCount = filterA.controlPointCount + filterB.controlPointCount;\n\n            return lerpedFilter;\n        }\n        */\n    }\n\n    public convertLegacySettings(legacyCutoffSetting: number, legacyResonanceSetting: number, legacyEnv: Envelope): void {\n        this.reset();\n\n        const legacyFilterCutoffMaxHz: number = 8000; // This was carefully calculated to correspond to no change in response when filtering at 48000 samples per second... when using the legacy simplified low-pass filter.\n        const legacyFilterMax: number = 0.95;\n        const legacyFilterMaxRadians: number = Math.asin(legacyFilterMax / 2.0) * 2.0;\n        const legacyFilterMaxResonance: number = 0.95;\n        const legacyFilterCutoffRange: number = 11;\n        const legacyFilterResonanceRange: number = 8;\n\n        const resonant: boolean = (legacyResonanceSetting > 1);\n        const firstOrder: boolean = (legacyResonanceSetting == 0);\n        const cutoffAtMax: boolean = (legacyCutoffSetting == legacyFilterCutoffRange - 1);\n        const envDecays: boolean = (legacyEnv.type == EnvelopeType.flare || legacyEnv.type == EnvelopeType.twang || legacyEnv.type == EnvelopeType.decay || legacyEnv.type == EnvelopeType.noteSize);\n\n        const standardSampleRate: number = 48000;\n        const legacyHz: number = legacyFilterCutoffMaxHz * Math.pow(2.0, (legacyCutoffSetting - (legacyFilterCutoffRange - 1)) * 0.5);\n        const legacyRadians: number = Math.min(legacyFilterMaxRadians, 2 * Math.PI * legacyHz / standardSampleRate);\n\n        if (legacyEnv.type == EnvelopeType.none && !resonant && cutoffAtMax) {\n            // The response is flat and there's no envelopes, so don't even bother adding any control points.\n        } else if (firstOrder) {\n            // In general, a 1st order lowpass can be approximated by a 2nd order lowpass\n            // with a cutoff ~4 octaves higher (*16) and a gain of 1/16.\n            // However, BeepBox's original lowpass filters behaved oddly as they\n            // approach the nyquist frequency, so I've devised this curved conversion\n            // to guess at a perceptually appropriate new cutoff frequency and gain.\n            const extraOctaves: number = 3.5;\n            const targetRadians: number = legacyRadians * Math.pow(2.0, extraOctaves);\n            const curvedRadians: number = targetRadians / (1.0 + targetRadians / Math.PI);\n            const curvedHz: number = standardSampleRate * curvedRadians / (2.0 * Math.PI)\n            const freqSetting: number = FilterControlPoint.getRoundedSettingValueFromHz(curvedHz);\n            const finalHz: number = FilterControlPoint.getHzFromSettingValue(freqSetting);\n            const finalRadians: number = 2.0 * Math.PI * finalHz / standardSampleRate;\n\n            const legacyFilter: FilterCoefficients = new FilterCoefficients();\n            legacyFilter.lowPass1stOrderSimplified(legacyRadians);\n            const response: FrequencyResponse = new FrequencyResponse();\n            response.analyze(legacyFilter, finalRadians);\n            const legacyFilterGainAtNewRadians: number = response.magnitude();\n\n            let logGain: number = Math.log2(legacyFilterGainAtNewRadians);\n            // Bias slightly toward 2^(-extraOctaves):\n            logGain = -extraOctaves + (logGain + extraOctaves) * 0.82;\n            // Decaying envelopes move the cutoff frequency back into an area where the best approximation of the first order slope requires a lower gain setting.\n            if (envDecays) logGain = Math.min(logGain, -1.0);\n            const convertedGain: number = Math.pow(2.0, logGain);\n            const gainSetting: number = FilterControlPoint.getRoundedSettingValueFromLinearGain(convertedGain);\n\n            this.addPoint(FilterType.lowPass, freqSetting, gainSetting);\n        } else {\n            const intendedGain: number = 0.5 / (1.0 - legacyFilterMaxResonance * Math.sqrt(Math.max(0.0, legacyResonanceSetting - 1.0) / (legacyFilterResonanceRange - 2.0)));\n            const invertedGain: number = 0.5 / intendedGain;\n            const maxRadians: number = 2.0 * Math.PI * legacyFilterCutoffMaxHz / standardSampleRate;\n            const freqRatio: number = legacyRadians / maxRadians;\n            const targetRadians: number = legacyRadians * (freqRatio * Math.pow(invertedGain, 0.9) + 1.0);\n            const curvedRadians: number = legacyRadians + (targetRadians - legacyRadians) * invertedGain;\n            let curvedHz: number;\n            if (envDecays) {\n                curvedHz = standardSampleRate * Math.min(curvedRadians, legacyRadians * Math.pow(2, 0.25)) / (2.0 * Math.PI);\n            } else {\n                curvedHz = standardSampleRate * curvedRadians / (2.0 * Math.PI);\n            }\n            const freqSetting: number = FilterControlPoint.getRoundedSettingValueFromHz(curvedHz);\n\n            let legacyFilterGain: number;\n            if (envDecays) {\n                legacyFilterGain = intendedGain;\n            } else {\n                const legacyFilter: FilterCoefficients = new FilterCoefficients();\n                legacyFilter.lowPass2ndOrderSimplified(legacyRadians, intendedGain);\n                const response: FrequencyResponse = new FrequencyResponse();\n                response.analyze(legacyFilter, curvedRadians);\n                legacyFilterGain = response.magnitude();\n            }\n            if (!resonant) legacyFilterGain = Math.min(legacyFilterGain, Math.sqrt(0.5));\n            const gainSetting: number = FilterControlPoint.getRoundedSettingValueFromLinearGain(legacyFilterGain);\n\n            this.addPoint(FilterType.lowPass, freqSetting, gainSetting);\n        }\n\n        // Added for JummBox - making a 0 point filter does not truncate control points!\n        this.controlPoints.length = this.controlPointCount;\n    }\n\n    // Similar to above, but purpose-fit for quick conversions in synth calls.\n    public convertLegacySettingsForSynth(legacyCutoffSetting: number, legacyResonanceSetting: number, allowFirstOrder: boolean = false): void {\n        this.reset();\n\n        const legacyFilterCutoffMaxHz: number = 8000; // This was carefully calculated to correspond to no change in response when filtering at 48000 samples per second... when using the legacy simplified low-pass filter.\n        const legacyFilterMax: number = 0.95;\n        const legacyFilterMaxRadians: number = Math.asin(legacyFilterMax / 2.0) * 2.0;\n        const legacyFilterMaxResonance: number = 0.95;\n        const legacyFilterCutoffRange: number = 11;\n        const legacyFilterResonanceRange: number = 8;\n\n        const firstOrder: boolean = (legacyResonanceSetting == 0 && allowFirstOrder);\n        const standardSampleRate: number = 48000;\n        const legacyHz: number = legacyFilterCutoffMaxHz * Math.pow(2.0, (legacyCutoffSetting - (legacyFilterCutoffRange - 1)) * 0.5);\n        const legacyRadians: number = Math.min(legacyFilterMaxRadians, 2 * Math.PI * legacyHz / standardSampleRate);\n\n        if (firstOrder) {\n            // In general, a 1st order lowpass can be approximated by a 2nd order lowpass\n            // with a cutoff ~4 octaves higher (*16) and a gain of 1/16.\n            // However, BeepBox's original lowpass filters behaved oddly as they\n            // approach the nyquist frequency, so I've devised this curved conversion\n            // to guess at a perceptually appropriate new cutoff frequency and gain.\n            const extraOctaves: number = 3.5;\n            const targetRadians: number = legacyRadians * Math.pow(2.0, extraOctaves);\n            const curvedRadians: number = targetRadians / (1.0 + targetRadians / Math.PI);\n            const curvedHz: number = standardSampleRate * curvedRadians / (2.0 * Math.PI)\n            const freqSetting: number = FilterControlPoint.getRoundedSettingValueFromHz(curvedHz);\n            const finalHz: number = FilterControlPoint.getHzFromSettingValue(freqSetting);\n            const finalRadians: number = 2.0 * Math.PI * finalHz / standardSampleRate;\n\n            const legacyFilter: FilterCoefficients = new FilterCoefficients();\n            legacyFilter.lowPass1stOrderSimplified(legacyRadians);\n            const response: FrequencyResponse = new FrequencyResponse();\n            response.analyze(legacyFilter, finalRadians);\n            const legacyFilterGainAtNewRadians: number = response.magnitude();\n\n            let logGain: number = Math.log2(legacyFilterGainAtNewRadians);\n            // Bias slightly toward 2^(-extraOctaves):\n            logGain = -extraOctaves + (logGain + extraOctaves) * 0.82;\n            const convertedGain: number = Math.pow(2.0, logGain);\n            const gainSetting: number = FilterControlPoint.getRoundedSettingValueFromLinearGain(convertedGain);\n\n            this.addPoint(FilterType.lowPass, freqSetting, gainSetting);\n        } else {\n            const intendedGain: number = 0.5 / (1.0 - legacyFilterMaxResonance * Math.sqrt(Math.max(0.0, legacyResonanceSetting - 1.0) / (legacyFilterResonanceRange - 2.0)));\n            const invertedGain: number = 0.5 / intendedGain;\n            const maxRadians: number = 2.0 * Math.PI * legacyFilterCutoffMaxHz / standardSampleRate;\n            const freqRatio: number = legacyRadians / maxRadians;\n            const targetRadians: number = legacyRadians * (freqRatio * Math.pow(invertedGain, 0.9) + 1.0);\n            const curvedRadians: number = legacyRadians + (targetRadians - legacyRadians) * invertedGain;\n            let curvedHz: number;\n\n            curvedHz = standardSampleRate * curvedRadians / (2.0 * Math.PI);\n            const freqSetting: number = FilterControlPoint.getSettingValueFromHz(curvedHz);\n\n            let legacyFilterGain: number;\n\n            const legacyFilter: FilterCoefficients = new FilterCoefficients();\n            legacyFilter.lowPass2ndOrderSimplified(legacyRadians, intendedGain);\n            const response: FrequencyResponse = new FrequencyResponse();\n            response.analyze(legacyFilter, curvedRadians);\n            legacyFilterGain = response.magnitude();\n            const gainSetting: number = FilterControlPoint.getRoundedSettingValueFromLinearGain(legacyFilterGain);\n\n            this.addPoint(FilterType.lowPass, freqSetting, gainSetting);\n        }\n\n    }\n}\n\nexport class EnvelopeSettings {\n    public target: number = 0;\n    public index: number = 0;\n    public envelope: number = 0;\n\n    constructor() {\n        this.reset();\n    }\n\n    reset(): void {\n        this.target = 0;\n        this.index = 0;\n        this.envelope = 0;\n    }\n\n    public toJsonObject(): Object {\n        const envelopeObject: any = {\n            \"target\": Config.instrumentAutomationTargets[this.target].name,\n            \"envelope\": Config.envelopes[this.envelope].name,\n        };\n        if (Config.instrumentAutomationTargets[this.target].maxCount > 1) {\n            envelopeObject[\"index\"] = this.index;\n        }\n        return envelopeObject;\n    }\n\n    public fromJsonObject(envelopeObject: any): void {\n        this.reset();\n\n        let target: AutomationTarget = Config.instrumentAutomationTargets.dictionary[envelopeObject[\"target\"]];\n        if (target == null) target = Config.instrumentAutomationTargets.dictionary[\"noteVolume\"];\n        this.target = target.index;\n\n        let envelope: Envelope = Config.envelopes.dictionary[envelopeObject[\"envelope\"]];\n        if (envelope == null) envelope = Config.envelopes.dictionary[\"none\"];\n        this.envelope = envelope.index;\n\n        if (envelopeObject[\"index\"] != undefined) {\n            this.index = clamp(0, Config.instrumentAutomationTargets[this.target].maxCount, envelopeObject[\"index\"] | 0);\n        } else {\n            this.index = 0;\n        }\n    }\n}\n\n// Settings that were available to old versions of BeepBox but are no longer available in the\n// current version that need to be reinterpreted as a group to determine the best way to\n// represent them in the current version.\ninterface LegacySettings {\n    filterCutoff?: number;\n    filterResonance?: number;\n    filterEnvelope?: Envelope;\n    pulseEnvelope?: Envelope;\n    operatorEnvelopes?: Envelope[];\n    feedbackEnvelope?: Envelope;\n}\n\nexport class Instrument {\n    public type: InstrumentType = InstrumentType.chip;\n    public preset: number = 0;\n    public chipWave: number = 2;\n\t// advloop addition\n\tpublic isUsingAdvancedLoopControls: boolean = false;\n\tpublic chipWaveLoopStart: number = 0;\n\tpublic chipWaveLoopEnd = Config.rawRawChipWaves[this.chipWave].samples.length - 1;\n\tpublic chipWaveLoopMode: number = 0; // 0: loop, 1: ping-pong, 2: once, 3: play loop once\n\tpublic chipWavePlayBackwards: boolean = false;\n        public chipWaveStartOffset: number = 0;\n        // advloop addition\n    public chipNoise: number = 1;\n    public eqFilter: FilterSettings = new FilterSettings();\n    public eqFilterType: boolean = false;\n    public eqFilterSimpleCut: number = Config.filterSimpleCutRange - 1;\n    public eqFilterSimplePeak: number = 0;\n    public noteFilter: FilterSettings = new FilterSettings();\n    public noteFilterType: boolean = false;\n    public noteFilterSimpleCut: number = Config.filterSimpleCutRange - 1;\n    public noteFilterSimplePeak: number = 0;\n    public eqSubFilters: (FilterSettings | null)[] = [];\n    public noteSubFilters: (FilterSettings | null)[] = [];\n    public tmpEqFilterStart: FilterSettings | null;\n    public tmpEqFilterEnd: FilterSettings | null;\n    public tmpNoteFilterStart: FilterSettings | null;\n    public tmpNoteFilterEnd: FilterSettings | null;\n    public envelopes: EnvelopeSettings[] = [];\n    public fadeIn: number = 0;\n    public fadeOut: number = Config.fadeOutNeutral;\n    public envelopeCount: number = 0;\n    public transition: number = Config.transitions.dictionary[\"normal\"].index;\n    public pitchShift: number = 0;\n    public detune: number = 0;\n    public vibrato: number = 0;\n    public interval: number = 0;\n    public vibratoDepth: number = 0;\n    public vibratoSpeed: number = 10;\n    public vibratoDelay: number = 0;\n    public vibratoType: number = 0;\n    public unison: number = 0;\n    public unisonVoices: number = 1;\n    public unisonSpread: number = 0.0;\n    public unisonOffset: number = 0.0;\n    public unisonExpression: number = 1.4;\n    public unisonSign: number = 1.0;\n    public effects: number = 0;\n    public chord: number = 1;\n    public volume: number = 0;\n    public pan: number = Config.panCenter;\n    public panDelay: number = 10;\n    public arpeggioSpeed: number = 12;\n    public fastTwoNoteArp: boolean = false;\n    public legacyTieOver: boolean = false;\n    public clicklessTransition: boolean = false;\n    public aliases: boolean = false;\n    public pulseWidth: number = Config.pulseWidthRange;\n    public decimalOffset: number = 0;\n    public stringSustain: number = 10;\n    public distortion: number = 0;\n    public bitcrusherFreq: number = 0;\n    public bitcrusherQuantization: number = 0;\n    public chorus: number = 0;\n    public reverb: number = 0;\n    public echoSustain: number = 0;\n    public echoDelay: number = 0;\n    public algorithm: number = 0;\n    public feedbackType: number = 0;\n    public algorithm6Op: number = 1;\n    public feedbackType6Op: number = 1;//default to not custom\n    public customAlgorithm: CustomAlgorithm = new CustomAlgorithm(); //{ name: \"14(25 36\", carrierCount: 3, associatedCarrier: [1, 2, 3, 1, 2, 3], modulatedBy: [[2, 3, 4], [5], [6], [], [], []] };\n    public customFeedbackType: CustomFeedBack = new CustomFeedBack(); //{ name: \"14 25 36\", indices: [[3], [5], [6], [1], [2], [3]] };\n    public feedbackAmplitude: number = 0;\n    public LFOtime: number = 0;\n    public nextLFOtime: number = 0;\n    public arpTime: number = 0;\n    public customChipWave: Float32Array = new Float32Array(64);\n    public customChipWaveIntegral: Float32Array = new Float32Array(65); // One extra element for wrap-around in chipSynth.\n    public readonly operators: Operator[] = [];\n    public readonly spectrumWave: SpectrumWave;\n    public readonly harmonicsWave: HarmonicsWave = new HarmonicsWave();\n    public readonly drumsetEnvelopes: number[] = [];\n    public readonly drumsetSpectrumWaves: SpectrumWave[] = [];\n    public modChannels: number[] = [];\n    public modInstruments: number[] = [];\n    public modulators: number[] = [];\n    public modFilterTypes: number[] = [];\n    public invalidModulators: boolean[] = [];\n    constructor(isNoiseChannel: boolean, isModChannel: boolean) {\n\n        if (isModChannel) {\n            for (let mod: number = 0; mod < Config.modCount; mod++) {\n                this.modChannels.push(0);\n                this.modInstruments.push(0);\n                this.modulators.push(Config.modulators.dictionary[\"none\"].index);\n            }\n        }\n\n        this.spectrumWave = new SpectrumWave(isNoiseChannel);\n        for (let i: number = 0; i < Config.operatorCount+2; i++) {//hopefully won't break everything\n            this.operators[i] = new Operator(i);\n        }\n        for (let i: number = 0; i < Config.drumCount; i++) {\n            this.drumsetEnvelopes[i] = Config.envelopes.dictionary[\"twang 2\"].index;\n            this.drumsetSpectrumWaves[i] = new SpectrumWave(true);\n        }\n\n        for (let i = 0; i < 64; i++) {\n            this.customChipWave[i] = 24 - Math.floor(i * (48 / 64));\n        }\n\n        let sum: number = 0.0;\n        for (let i: number = 0; i < this.customChipWave.length; i++) {\n            sum += this.customChipWave[i];\n        }\n        const average: number = sum / this.customChipWave.length;\n\n        // Perform the integral on the wave. The chipSynth will perform the derivative to get the original wave back but with antialiasing.\n        let cumulative: number = 0;\n        let wavePrev: number = 0;\n        for (let i: number = 0; i < this.customChipWave.length; i++) {\n            cumulative += wavePrev;\n            wavePrev = this.customChipWave[i] - average;\n            this.customChipWaveIntegral[i] = cumulative;\n        }\n\n        // 65th, last sample is for anti-aliasing\n        this.customChipWaveIntegral[64] = 0.0;\n\n    }\n\n    public setTypeAndReset(type: InstrumentType, isNoiseChannel: boolean, isModChannel: boolean): void {\n        // Mod channels are forced to one type.\n        if (isModChannel) type = InstrumentType.mod;\n        this.type = type;\n        this.preset = type;\n        this.volume = 0;\n        this.effects = (1 << EffectType.panning); // Panning enabled by default in JB.\n        this.chorus = Config.chorusRange - 1;\n        this.reverb = 0;\n        this.echoSustain = Math.floor((Config.echoSustainRange - 1) * 0.5);\n        this.echoDelay = Math.floor((Config.echoDelayRange - 1) * 0.5);\n        this.eqFilter.reset();\n        this.eqFilterType = false;\n        this.eqFilterSimpleCut = Config.filterSimpleCutRange - 1;\n        this.eqFilterSimplePeak = 0;\n        for (let i: number = 0; i < Config.filterMorphCount; i++) {\n            this.eqSubFilters[i] = null;\n            this.noteSubFilters[i] = null;\n        }\n        this.noteFilter.reset();\n        this.noteFilterType = false;\n        this.noteFilterSimpleCut = Config.filterSimpleCutRange - 1;\n        this.noteFilterSimplePeak = 0;\n        this.distortion = Math.floor((Config.distortionRange - 1) * 0.75);\n        this.bitcrusherFreq = Math.floor((Config.bitcrusherFreqRange - 1) * 0.5)\n        this.bitcrusherQuantization = Math.floor((Config.bitcrusherQuantizationRange - 1) * 0.5);\n        this.pan = Config.panCenter;\n        this.panDelay = 10;\n        this.pitchShift = Config.pitchShiftCenter;\n        this.detune = Config.detuneCenter;\n        this.vibrato = 0;\n        this.unison = 0;\n        this.stringSustain = 10;\n        this.clicklessTransition = false;\n        this.arpeggioSpeed = 12;\n        this.legacyTieOver = false;\n        this.aliases = false;\n        this.fadeIn = 0;\n        this.fadeOut = Config.fadeOutNeutral;\n        this.transition = Config.transitions.dictionary[\"normal\"].index;\n        this.envelopeCount = 0;\n        switch (type) {\n            case InstrumentType.chip:\n                this.chipWave = 2;\n                // TODO: enable the chord effect?\n                this.chord = Config.chords.dictionary[\"arpeggio\"].index;\n\t\t\t\t\t\t\t\t // advloop addition\n                    this.isUsingAdvancedLoopControls = false;\n                    this.chipWaveLoopStart = 0;\n                    this.chipWaveLoopEnd = Config.rawRawChipWaves[this.chipWave].samples.length - 1;\n                    this.chipWaveLoopMode = 0;\n                    this.chipWavePlayBackwards = false;\n                    this.chipWaveStartOffset = 0;\n                    // advloop addition\n                break;\n            case InstrumentType.customChipWave:\n                this.chipWave = 2;\n                this.chord = Config.chords.dictionary[\"arpeggio\"].index;\n                for (let i: number = 0; i < 64; i++) {\n                    this.customChipWave[i] = 24 - (Math.floor(i * (48 / 64)));\n                }\n\n                let sum: number = 0.0;\n                for (let i: number = 0; i < this.customChipWave.length; i++) {\n                    sum += this.customChipWave[i];\n                }\n                const average: number = sum / this.customChipWave.length;\n\n                // Perform the integral on the wave. The chipSynth will perform the derivative to get the original wave back but with antialiasing.\n                let cumulative: number = 0;\n                let wavePrev: number = 0;\n                for (let i: number = 0; i < this.customChipWave.length; i++) {\n                    cumulative += wavePrev;\n                    wavePrev = this.customChipWave[i] - average;\n                    this.customChipWaveIntegral[i] = cumulative;\n                }\n\n                this.customChipWaveIntegral[64] = 0.0;\n                break;\n            case InstrumentType.fm:\n                this.chord = Config.chords.dictionary[\"custom interval\"].index;\n                this.algorithm = 0;\n                this.feedbackType = 0;\n                this.feedbackAmplitude = 0;\n                for (let i: number = 0; i < this.operators.length; i++) {\n                    this.operators[i].reset(i);\n                }\n                break;\n            case InstrumentType.fm6op:\n                this.transition = 1;\n                this.vibrato = 0;\n                this.effects = 1;\n                this.chord = 3;\n                this.algorithm = 0;\n                this.feedbackType = 0;\n                this.algorithm6Op = 1;\n                this.feedbackType6Op = 1;\n                this.customAlgorithm.fromPreset(1);\n                this.feedbackAmplitude = 0;\n                for (let i: number = 0; i < this.operators.length; i++) {\n                    this.operators[i].reset(i);\n                }\n                break;\n            case InstrumentType.noise:\n                this.chipNoise = 1;\n                this.chord = Config.chords.dictionary[\"arpeggio\"].index;\n                break;\n            case InstrumentType.spectrum:\n                this.chord = Config.chords.dictionary[\"simultaneous\"].index;\n                this.spectrumWave.reset(isNoiseChannel);\n                break;\n            case InstrumentType.drumset:\n                this.chord = Config.chords.dictionary[\"simultaneous\"].index;\n                for (let i: number = 0; i < Config.drumCount; i++) {\n                    this.drumsetEnvelopes[i] = Config.envelopes.dictionary[\"twang 2\"].index;\n                    if (this.drumsetSpectrumWaves[i] == undefined) {\n                        this.drumsetSpectrumWaves[i] = new SpectrumWave(true);\n                    }\n                    this.drumsetSpectrumWaves[i].reset(isNoiseChannel);\n                }\n                break;\n            case InstrumentType.harmonics:\n                this.chord = Config.chords.dictionary[\"simultaneous\"].index;\n                this.harmonicsWave.reset();\n                break;\n            case InstrumentType.pwm:\n                this.chord = Config.chords.dictionary[\"arpeggio\"].index;\n                this.pulseWidth = Config.pulseWidthRange;\n                break;\n            case InstrumentType.pickedString:\n                this.chord = Config.chords.dictionary[\"strum\"].index;\n                this.harmonicsWave.reset();\n                break;\n            case InstrumentType.mod:\n                this.transition = 0;\n                this.vibrato = 0;\n                this.interval = 0;\n                this.effects = 0;\n                this.chord = 0;\n                this.modChannels = [];\n                this.modInstruments = [];\n                this.modulators = [];\n                for (let mod: number = 0; mod < Config.modCount; mod++) {\n                    this.modChannels.push(-2);\n                    this.modInstruments.push(0);\n                    this.modulators.push(Config.modulators.dictionary[\"none\"].index);\n                    this.invalidModulators[mod] = false;\n                    this.modFilterTypes[mod] = 0;\n                }\n                break;\n            default:\n                throw new Error(\"Unrecognized instrument type: \" + type);\n        }\n        // Chip/noise instruments had arpeggio and FM had custom interval but neither\n        // explicitly saved the chorus setting beforeSeven so enable it here. The effects\n        // will otherwise get overridden when reading SongTagCode.startInstrument.\n        if (this.chord != Config.chords.dictionary[\"simultaneous\"].index) {\n            // Enable chord if it was used.\n            this.effects = (this.effects | (1 << EffectType.chord));\n        }\n    }\n\n    // (only) difference for JummBox: Returns whether or not the note filter was chosen for filter conversion.\n    public convertLegacySettings(legacySettings: LegacySettings, forceSimpleFilter: boolean): void {\n        let legacyCutoffSetting: number | undefined = legacySettings.filterCutoff;\n        let legacyResonanceSetting: number | undefined = legacySettings.filterResonance;\n        let legacyFilterEnv: Envelope | undefined = legacySettings.filterEnvelope;\n        let legacyPulseEnv: Envelope | undefined = legacySettings.pulseEnvelope;\n        let legacyOperatorEnvelopes: Envelope[] | undefined = legacySettings.operatorEnvelopes;\n        let legacyFeedbackEnv: Envelope | undefined = legacySettings.feedbackEnvelope;\n\n        // legacy defaults:\n        if (legacyCutoffSetting == undefined) legacyCutoffSetting = (this.type == InstrumentType.chip) ? 6 : 10;\n        if (legacyResonanceSetting == undefined) legacyResonanceSetting = 0;\n        if (legacyFilterEnv == undefined) legacyFilterEnv = Config.envelopes.dictionary[\"none\"];\n        if (legacyPulseEnv == undefined) legacyPulseEnv = Config.envelopes.dictionary[(this.type == InstrumentType.pwm) ? \"twang 2\" : \"none\"];\n        if (legacyOperatorEnvelopes == undefined) legacyOperatorEnvelopes = [Config.envelopes.dictionary[(this.type == InstrumentType.fm) ? \"note size\" : \"none\"], Config.envelopes.dictionary[\"none\"], Config.envelopes.dictionary[\"none\"], Config.envelopes.dictionary[\"none\"]];\n        if (legacyFeedbackEnv == undefined) legacyFeedbackEnv = Config.envelopes.dictionary[\"none\"];\n\n        // The \"punch\" envelope is special: it goes *above* the chosen cutoff. But if the cutoff was already at the max, it couldn't go any higher... except in the current version of BeepBox I raised the max cutoff so it *can* but then it sounds different, so to preserve the original sound let's just remove the punch envelope.\n        const legacyFilterCutoffRange: number = 11;\n        const cutoffAtMax: boolean = (legacyCutoffSetting == legacyFilterCutoffRange - 1);\n        if (cutoffAtMax && legacyFilterEnv.type == EnvelopeType.punch) legacyFilterEnv = Config.envelopes.dictionary[\"none\"];\n\n        const carrierCount: number = Config.algorithms[this.algorithm].carrierCount;\n        let noCarriersControlledByNoteSize: boolean = true;\n        let allCarriersControlledByNoteSize: boolean = true;\n        let noteSizeControlsSomethingElse: boolean = (legacyFilterEnv.type == EnvelopeType.noteSize) || (legacyPulseEnv.type == EnvelopeType.noteSize);\n        if (this.type == InstrumentType.fm) {\n            noteSizeControlsSomethingElse = noteSizeControlsSomethingElse || (legacyFeedbackEnv.type == EnvelopeType.noteSize);\n            for (let i: number = 0; i < legacyOperatorEnvelopes.length; i++) {\n                if (i < carrierCount) {\n                    if (legacyOperatorEnvelopes[i].type != EnvelopeType.noteSize) {\n                        allCarriersControlledByNoteSize = false;\n                    } else {\n                        noCarriersControlledByNoteSize = false;\n                    }\n                } else {\n                    noteSizeControlsSomethingElse = noteSizeControlsSomethingElse || (legacyOperatorEnvelopes[i].type == EnvelopeType.noteSize);\n                }\n            }\n        }\n\n        this.envelopeCount = 0;\n\n        if (this.type == InstrumentType.fm) {\n            if (allCarriersControlledByNoteSize && noteSizeControlsSomethingElse) {\n                this.addEnvelope(Config.instrumentAutomationTargets.dictionary[\"noteVolume\"].index, 0, Config.envelopes.dictionary[\"note size\"].index);\n            } else if (noCarriersControlledByNoteSize && !noteSizeControlsSomethingElse) {\n                this.addEnvelope(Config.instrumentAutomationTargets.dictionary[\"none\"].index, 0, Config.envelopes.dictionary[\"note size\"].index);\n            }\n        }\n\n        if (legacyFilterEnv.type == EnvelopeType.none) {\n            this.noteFilter.reset();\n            this.noteFilterType = false;\n            this.eqFilter.convertLegacySettings(legacyCutoffSetting, legacyResonanceSetting, legacyFilterEnv);\n            this.effects &= ~(1 << EffectType.noteFilter);\n            if (forceSimpleFilter || this.eqFilterType) {\n                this.eqFilterType = true;\n                this.eqFilterSimpleCut = legacyCutoffSetting;\n                this.eqFilterSimplePeak = legacyResonanceSetting;\n            }\n        } else {\n            this.eqFilter.reset();\n\n            this.eqFilterType = false;\n            this.noteFilterType = false;\n            this.noteFilter.convertLegacySettings(legacyCutoffSetting, legacyResonanceSetting, legacyFilterEnv);\n            this.effects |= 1 << EffectType.noteFilter;\n            this.addEnvelope(Config.instrumentAutomationTargets.dictionary[\"noteFilterAllFreqs\"].index, 0, legacyFilterEnv.index);\n            if (forceSimpleFilter || this.noteFilterType) {\n                this.noteFilterType = true;\n                this.noteFilterSimpleCut = legacyCutoffSetting;\n                this.noteFilterSimplePeak = legacyResonanceSetting;\n            }\n        }\n\n        if (legacyPulseEnv.type != EnvelopeType.none) {\n            this.addEnvelope(Config.instrumentAutomationTargets.dictionary[\"pulseWidth\"].index, 0, legacyPulseEnv.index);\n        }\n\n        for (let i: number = 0; i < legacyOperatorEnvelopes.length; i++) {\n            if (i < carrierCount && allCarriersControlledByNoteSize) continue;\n            if (legacyOperatorEnvelopes[i].type != EnvelopeType.none) {\n                this.addEnvelope(Config.instrumentAutomationTargets.dictionary[\"operatorAmplitude\"].index, i, legacyOperatorEnvelopes[i].index);\n            }\n        }\n\n        if (legacyFeedbackEnv.type != EnvelopeType.none) {\n            this.addEnvelope(Config.instrumentAutomationTargets.dictionary[\"feedbackAmplitude\"].index, 0, legacyFeedbackEnv.index);\n        }\n    }\n\n    public toJsonObject(): Object {\n        const instrumentObject: any = {\n            \"type\": Config.instrumentTypeNames[this.type],\n            \"volume\": this.volume,\n            \"eqFilter\": this.eqFilter.toJsonObject(),\n            \"eqFilterType\": this.eqFilterType,\n            \"eqSimpleCut\": this.eqFilterSimpleCut,\n            \"eqSimplePeak\": this.eqFilterSimplePeak\n        };\n\n        if (this.preset != this.type) {\n            instrumentObject[\"preset\"] = this.preset;\n        }\n\n        for (let i: number = 0; i < Config.filterMorphCount; i++) {\n            if (this.eqSubFilters[i] != null)\n                instrumentObject[\"eqSubFilters\" + i] = this.eqSubFilters[i]!.toJsonObject();\n        }\n\n        const effects: string[] = [];\n        for (const effect of Config.effectOrder) {\n            if (this.effects & (1 << effect)) {\n                effects.push(Config.effectNames[effect]);\n            }\n        }\n        instrumentObject[\"effects\"] = effects;\n\n\n        if (effectsIncludeTransition(this.effects)) {\n            instrumentObject[\"transition\"] = Config.transitions[this.transition].name;\n            instrumentObject[\"clicklessTransition\"] = this.clicklessTransition;\n        }\n        if (effectsIncludeChord(this.effects)) {\n            instrumentObject[\"chord\"] = this.getChord().name;\n            instrumentObject[\"fastTwoNoteArp\"] = this.fastTwoNoteArp;\n            instrumentObject[\"arpeggioSpeed\"] = this.arpeggioSpeed;\n        }\n        if (effectsIncludePitchShift(this.effects)) {\n            instrumentObject[\"pitchShiftSemitones\"] = this.pitchShift;\n        }\n        if (effectsIncludeDetune(this.effects)) {\n            instrumentObject[\"detuneCents\"] = Synth.detuneToCents(this.detune);\n        }\n        if (effectsIncludeVibrato(this.effects)) {\n            if (this.vibrato == -1) {\n                this.vibrato = 5;\n            }\n            if (this.vibrato != 5) {\n                instrumentObject[\"vibrato\"] = Config.vibratos[this.vibrato].name;\n            } else {\n                instrumentObject[\"vibrato\"] = \"custom\";\n            }\n            instrumentObject[\"vibratoDepth\"] = this.vibratoDepth;\n            instrumentObject[\"vibratoDelay\"] = this.vibratoDelay;\n            instrumentObject[\"vibratoSpeed\"] = this.vibratoSpeed;\n            instrumentObject[\"vibratoType\"] = this.vibratoType;\n        }\n        if (effectsIncludeNoteFilter(this.effects)) {\n            instrumentObject[\"noteFilterType\"] = this.noteFilterType;\n            instrumentObject[\"noteSimpleCut\"] = this.noteFilterSimpleCut;\n            instrumentObject[\"noteSimplePeak\"] = this.noteFilterSimplePeak;\n            instrumentObject[\"noteFilter\"] = this.noteFilter.toJsonObject();\n\n            for (let i: number = 0; i < Config.filterMorphCount; i++) {\n                if (this.noteSubFilters[i] != null)\n                    instrumentObject[\"noteSubFilters\" + i] = this.noteSubFilters[i]!.toJsonObject();\n            }\n        }\n        if (effectsIncludeDistortion(this.effects)) {\n            instrumentObject[\"distortion\"] = Math.round(100 * this.distortion / (Config.distortionRange - 1));\n            instrumentObject[\"aliases\"] = this.aliases;\n        }\n        if (effectsIncludeBitcrusher(this.effects)) {\n            instrumentObject[\"bitcrusherOctave\"] = (Config.bitcrusherFreqRange - 1 - this.bitcrusherFreq) * Config.bitcrusherOctaveStep;\n            instrumentObject[\"bitcrusherQuantization\"] = Math.round(100 * this.bitcrusherQuantization / (Config.bitcrusherQuantizationRange - 1));\n        }\n        if (effectsIncludePanning(this.effects)) {\n            instrumentObject[\"pan\"] = Math.round(100 * (this.pan - Config.panCenter) / Config.panCenter);\n            instrumentObject[\"panDelay\"] = this.panDelay;\n        }\n        if (effectsIncludeChorus(this.effects)) {\n            instrumentObject[\"chorus\"] = Math.round(100 * this.chorus / (Config.chorusRange - 1));\n        }\n        if (effectsIncludeEcho(this.effects)) {\n            instrumentObject[\"echoSustain\"] = Math.round(100 * this.echoSustain / (Config.echoSustainRange - 1));\n            instrumentObject[\"echoDelayBeats\"] = Math.round(1000 * (this.echoDelay + 1) * Config.echoDelayStepTicks / (Config.ticksPerPart * Config.partsPerBeat)) / 1000;\n        }\n        if (effectsIncludeReverb(this.effects)) {\n            instrumentObject[\"reverb\"] = Math.round(100 * this.reverb / (Config.reverbRange - 1));\n        }\n\n        if (this.type != InstrumentType.drumset) {\n            instrumentObject[\"fadeInSeconds\"] = Math.round(10000 * Synth.fadeInSettingToSeconds(this.fadeIn)) / 10000;\n            instrumentObject[\"fadeOutTicks\"] = Synth.fadeOutSettingToTicks(this.fadeOut);\n        }\n\n        if (this.type == InstrumentType.harmonics || this.type == InstrumentType.pickedString) {\n            instrumentObject[\"harmonics\"] = [];\n            for (let i: number = 0; i < Config.harmonicsControlPoints; i++) {\n                instrumentObject[\"harmonics\"][i] = Math.round(100 * this.harmonicsWave.harmonics[i] / Config.harmonicsMax);\n            }\n        }\n\n        if (this.type == InstrumentType.noise) {\n            instrumentObject[\"wave\"] = Config.chipNoises[this.chipNoise].name;\n        } else if (this.type == InstrumentType.spectrum) {\n            instrumentObject[\"spectrum\"] = [];\n            for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                instrumentObject[\"spectrum\"][i] = Math.round(100 * this.spectrumWave.spectrum[i] / Config.spectrumMax);\n            }\n        } else if (this.type == InstrumentType.drumset) {\n            instrumentObject[\"drums\"] = [];\n            for (let j: number = 0; j < Config.drumCount; j++) {\n                const spectrum: number[] = [];\n                for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                    spectrum[i] = Math.round(100 * this.drumsetSpectrumWaves[j].spectrum[i] / Config.spectrumMax);\n                }\n                instrumentObject[\"drums\"][j] = {\n                    \"filterEnvelope\": this.getDrumsetEnvelope(j).name,\n                    \"spectrum\": spectrum,\n                };\n            }\n        } else if (this.type == InstrumentType.chip) {\n            instrumentObject[\"wave\"] = Config.chipWaves[this.chipWave].name;\n            // should this unison pushing code be turned into a function..?\n            instrumentObject[\"unison\"] = this.unison == Config.unisons.length ? \"custom\" : Config.unisons[this.unison].name;   \n            // these don't need to be pushed if custom unisons aren't being used\n            if (this.unison == Config.unisons.length) {\n                instrumentObject[\"unisonVoices\"] = this.unisonVoices;\n                instrumentObject[\"unisonSpread\"] = this.unisonSpread;\n                instrumentObject[\"unisonOffset\"] = this.unisonOffset;\n                instrumentObject[\"unisonExpression\"] = this.unisonExpression;\n                instrumentObject[\"unisonSign\"] = this.unisonSign;\n            }\n\n\t\t\t\t\t\t// advloop addition\n                instrumentObject[\"isUsingAdvancedLoopControls\"] = this.isUsingAdvancedLoopControls;\n                instrumentObject[\"chipWaveLoopStart\"] = this.chipWaveLoopStart;\n                instrumentObject[\"chipWaveLoopEnd\"] = this.chipWaveLoopEnd;\n                instrumentObject[\"chipWaveLoopMode\"] = this.chipWaveLoopMode;\n                instrumentObject[\"chipWavePlayBackwards\"] = this.chipWavePlayBackwards;\n                instrumentObject[\"chipWaveStartOffset\"] = this.chipWaveStartOffset;\n                // advloop addition\n        } else if (this.type == InstrumentType.pwm) {\n            instrumentObject[\"pulseWidth\"] = this.pulseWidth;\n            instrumentObject[\"decimalOffset\"] = this.decimalOffset;\n        } else if (this.type == InstrumentType.pickedString) {\n            instrumentObject[\"unison\"] = this.unison == Config.unisons.length ? \"custom\" : Config.unisons[this.unison].name;\n            if (this.unison == Config.unisons.length) {\n                instrumentObject[\"unisonVoices\"] = this.unisonVoices;\n                instrumentObject[\"unisonSpread\"] = this.unisonSpread;\n                instrumentObject[\"unisonOffset\"] = this.unisonOffset;\n                instrumentObject[\"unisonExpression\"] = this.unisonExpression;\n                instrumentObject[\"unisonSign\"] = this.unisonSign;\n            }\n            instrumentObject[\"stringSustain\"] = Math.round(100 * this.stringSustain / (Config.stringSustainRange - 1));\n        } else if (this.type == InstrumentType.harmonics) {\n            instrumentObject[\"unison\"] = this.unison == Config.unisons.length ? \"custom\" : Config.unisons[this.unison].name;\n            if (this.unison == Config.unisons.length) {\n                instrumentObject[\"unisonVoices\"] = this.unisonVoices;\n                instrumentObject[\"unisonSpread\"] = this.unisonSpread;\n                instrumentObject[\"unisonOffset\"] = this.unisonOffset;\n                instrumentObject[\"unisonExpression\"] = this.unisonExpression;\n                instrumentObject[\"unisonSign\"] = this.unisonSign;\n            }\n        } else if (this.type == InstrumentType.fm || this.type == InstrumentType.fm6op) {\n            const operatorArray: Object[] = [];\n            for (const operator of this.operators) {\n                operatorArray.push({\n                    \"frequency\": Config.operatorFrequencies[operator.frequency].name,\n                    \"amplitude\": operator.amplitude,\n                    \"waveform\": Config.operatorWaves[operator.waveform].name,\n                    \"pulseWidth\": operator.pulseWidth,\n                });\n            }\n            if(this.type == InstrumentType.fm){\n                instrumentObject[\"algorithm\"] = Config.algorithms[this.algorithm].name;\n                instrumentObject[\"feedbackType\"] = Config.feedbacks[this.feedbackType].name;\n                instrumentObject[\"feedbackAmplitude\"] = this.feedbackAmplitude;\n                instrumentObject[\"operators\"] = operatorArray;\n            } else {\n                instrumentObject[\"algorithm\"] = Config.algorithms6Op[this.algorithm6Op].name;\n                instrumentObject[\"feedbackType\"] = Config.feedbacks6Op[this.feedbackType6Op].name;\n                instrumentObject[\"feedbackAmplitude\"] = this.feedbackAmplitude;\n                if(this.algorithm6Op == 0){\n                    const customAlgorithm: any = {};\n                    customAlgorithm[\"mods\"] = this.customAlgorithm.modulatedBy;\n                    customAlgorithm[\"carrierCount\"] = this.customAlgorithm.carrierCount;\n                    instrumentObject[\"customAlgorithm\"] = customAlgorithm;\n                }\n                if(this.feedbackType6Op == 0){\n                    const customFeedback: any = {};\n                    customFeedback[\"mods\"] = this.customFeedbackType.indices;\n                    instrumentObject[\"customFeedback\"] = customFeedback;\n                }\n\n                instrumentObject[\"operators\"] = operatorArray;\n            }\n        } else if (this.type == InstrumentType.customChipWave) {\n            instrumentObject[\"wave\"] = Config.chipWaves[this.chipWave].name;\n            instrumentObject[\"unison\"] = this.unison == Config.unisons.length ? \"custom\" : Config.unisons[this.unison].name;\n            if (this.unison == Config.unisons.length) {\n                instrumentObject[\"unisonVoices\"] = this.unisonVoices;\n                instrumentObject[\"unisonSpread\"] = this.unisonSpread;\n                instrumentObject[\"unisonOffset\"] = this.unisonOffset;\n                instrumentObject[\"unisonExpression\"] = this.unisonExpression;\n                instrumentObject[\"unisonSign\"] = this.unisonSign;\n            }\n            instrumentObject[\"customChipWave\"] = new Float64Array(64);\n            instrumentObject[\"customChipWaveIntegral\"] = new Float64Array(65);\n            for (let i: number = 0; i < this.customChipWave.length; i++) {\n                instrumentObject[\"customChipWave\"][i] = this.customChipWave[i];\n                // Meh, waste of space and can be inaccurate. It will be recalc'ed when instrument loads.\n                //instrumentObject[\"customChipWaveIntegral\"][i] = this.customChipWaveIntegral[i];\n            }\n        } else if (this.type == InstrumentType.mod) {\n            instrumentObject[\"modChannels\"] = [];\n            instrumentObject[\"modInstruments\"] = [];\n            instrumentObject[\"modSettings\"] = [];\n            instrumentObject[\"modStatuses\"] = [];\n            for (let mod: number = 0; mod < Config.modCount; mod++) {\n                instrumentObject[\"modChannels\"][mod] = this.modChannels[mod];\n                instrumentObject[\"modInstruments\"][mod] = this.modInstruments[mod];\n                instrumentObject[\"modSettings\"][mod] = this.modulators[mod];\n            }\n        } else {\n            throw new Error(\"Unrecognized instrument type\");\n        }\n\n        const envelopes: any[] = [];\n        for (let i = 0; i < this.envelopeCount; i++) {\n            envelopes.push(this.envelopes[i].toJsonObject());\n        }\n        instrumentObject[\"envelopes\"] = envelopes;\n\n        return instrumentObject;\n    }\n\n\n    public fromJsonObject(instrumentObject: any, isNoiseChannel: boolean, isModChannel: boolean, useSlowerRhythm: boolean, useFastTwoNoteArp: boolean, legacyGlobalReverb: number = 0): void {\n        if (instrumentObject == undefined) instrumentObject = {};\n\n        let type: InstrumentType = Config.instrumentTypeNames.indexOf(instrumentObject[\"type\"]);\n        if (<any>type == -1) type = isModChannel ? InstrumentType.mod : (isNoiseChannel ? InstrumentType.noise : InstrumentType.chip);\n        this.setTypeAndReset(type, isNoiseChannel, isModChannel);\n\n        if (instrumentObject[\"preset\"] != undefined) {\n            this.preset = instrumentObject[\"preset\"] >>> 0;\n        }\n\n        if (instrumentObject[\"volume\"] != undefined) {\n            this.volume = clamp(-Config.volumeRange / 2, (Config.volumeRange / 2) + 1, instrumentObject[\"volume\"] | 0);\n        } else {\n            this.volume = 0;\n        }\n\n        if (Array.isArray(instrumentObject[\"effects\"])) {\n            let effects: number = 0;\n            for (let i: number = 0; i < instrumentObject[\"effects\"].length; i++) {\n                effects = effects | (1 << Config.effectNames.indexOf(instrumentObject[\"effects\"][i]));\n            }\n            this.effects = (effects & ((1 << EffectType.length) - 1));\n        } else {\n            // The index of these names is reinterpreted as a bitfield, which relies on reverb and chorus being the first effects!\n            const legacyEffectsNames: string[] = [\"none\", \"reverb\", \"chorus\", \"chorus & reverb\"];\n            this.effects = legacyEffectsNames.indexOf(instrumentObject[\"effects\"]);\n            if (this.effects == -1) this.effects = (this.type == InstrumentType.noise) ? 0 : 1;\n        }\n\n        this.transition = Config.transitions.dictionary[\"normal\"].index; // default value.\n        const transitionProperty: any = instrumentObject[\"transition\"] || instrumentObject[\"envelope\"]; // the transition property used to be called envelope, so check that too.\n        if (transitionProperty != undefined) {\n            let transition: Transition | undefined = Config.transitions.dictionary[transitionProperty];\n            if (instrumentObject[\"fadeInSeconds\"] == undefined || instrumentObject[\"fadeOutTicks\"] == undefined) {\n                const legacySettings = (<any>{\n                    \"binary\": { transition: \"interrupt\", fadeInSeconds: 0.0, fadeOutTicks: -1 },\n                    \"seamless\": { transition: \"interrupt\", fadeInSeconds: 0.0, fadeOutTicks: -1 },\n                    \"sudden\": { transition: \"normal\", fadeInSeconds: 0.0, fadeOutTicks: -3 },\n                    \"hard\": { transition: \"normal\", fadeInSeconds: 0.0, fadeOutTicks: -3 },\n                    \"smooth\": { transition: \"normal\", fadeInSeconds: 0.025, fadeOutTicks: -3 },\n                    \"soft\": { transition: \"normal\", fadeInSeconds: 0.025, fadeOutTicks: -3 },\n                    // Note that the old slide transition has the same name as a new slide transition that is different.\n                    // Only apply legacy settings if the instrument JSON was created before, based on the presence\n                    // of the fade in/out fields.\n                    \"slide\": { transition: \"slide in pattern\", fadeInSeconds: 0.025, fadeOutTicks: -3 },\n                    \"cross fade\": { transition: \"normal\", fadeInSeconds: 0.04, fadeOutTicks: 6 },\n                    \"hard fade\": { transition: \"normal\", fadeInSeconds: 0.0, fadeOutTicks: 48 },\n                    \"medium fade\": { transition: \"normal\", fadeInSeconds: 0.0125, fadeOutTicks: 72 },\n                    \"soft fade\": { transition: \"normal\", fadeInSeconds: 0.06, fadeOutTicks: 96 },\n                })[transitionProperty];\n                if (legacySettings != undefined) {\n                    transition = Config.transitions.dictionary[legacySettings.transition];\n                    // These may be overridden below.\n                    this.fadeIn = Synth.secondsToFadeInSetting(legacySettings.fadeInSeconds);\n                    this.fadeOut = Synth.ticksToFadeOutSetting(legacySettings.fadeOutTicks);\n                }\n            }\n            if (transition != undefined) this.transition = transition.index;\n\n            if (this.transition != Config.transitions.dictionary[\"normal\"].index) {\n                // Enable transition if it was used.\n                this.effects = (this.effects | (1 << EffectType.transition));\n            }\n        }\n\n        // Overrides legacy settings in transition above.\n        if (instrumentObject[\"fadeInSeconds\"] != undefined) {\n            this.fadeIn = Synth.secondsToFadeInSetting(+instrumentObject[\"fadeInSeconds\"]);\n        }\n        if (instrumentObject[\"fadeOutTicks\"] != undefined) {\n            this.fadeOut = Synth.ticksToFadeOutSetting(+instrumentObject[\"fadeOutTicks\"]);\n        }\n\n        {\n            // Note that the chord setting may be overridden by instrumentObject[\"chorus\"] below.\n            const chordProperty: any = instrumentObject[\"chord\"];\n            const legacyChordNames: Dictionary<string> = { \"harmony\": \"simultaneous\" };\n            const chord: Chord | undefined = Config.chords.dictionary[legacyChordNames[chordProperty]] || Config.chords.dictionary[chordProperty];\n            if (chord != undefined) {\n                this.chord = chord.index;\n            } else {\n                // Different instruments have different default chord types based on historical behaviour.\n                if (this.type == InstrumentType.noise) {\n                    this.chord = Config.chords.dictionary[\"arpeggio\"].index;\n                } else if (this.type == InstrumentType.pickedString) {\n                    this.chord = Config.chords.dictionary[\"strum\"].index;\n                } else if (this.type == InstrumentType.chip) {\n                    this.chord = Config.chords.dictionary[\"arpeggio\"].index;\n                } else if (this.type == InstrumentType.fm||this.type == InstrumentType.fm6op) {\n                    this.chord = Config.chords.dictionary[\"custom interval\"].index;\n                } else {\n                    this.chord = Config.chords.dictionary[\"simultaneous\"].index;\n                }\n            }\n        }\n\n        this.unison = Config.unisons.dictionary[\"none\"].index; // default value.\n        const unisonProperty: any = instrumentObject[\"unison\"] || instrumentObject[\"interval\"] || instrumentObject[\"chorus\"]; // The unison property has gone by various names in the past.\n        if (unisonProperty != undefined) {\n            const legacyChorusNames: Dictionary<string> = { \"union\": \"none\", \"fifths\": \"fifth\", \"octaves\": \"octave\" };\n            const unison: Unison | undefined = Config.unisons.dictionary[legacyChorusNames[unisonProperty]] || Config.unisons.dictionary[unisonProperty];\n            if (unison != undefined) this.unison = unison.index;\n            if (unisonProperty == \"custom\") this.unison = Config.unisons.length;\n        }\n        //clamp these???\n        this.unisonVoices = (instrumentObject[\"unisonVoices\"] == undefined) ? Config.unisons[this.unison].voices : instrumentObject[\"unisonVoices\"];\n        this.unisonSpread = (instrumentObject[\"unisonSpread\"] == undefined) ? Config.unisons[this.unison].spread : instrumentObject[\"unisonSpread\"];\n        this.unisonOffset = (instrumentObject[\"unisonOffset\"] == undefined) ? Config.unisons[this.unison].offset : instrumentObject[\"unisonOffset\"];\n        this.unisonExpression = (instrumentObject[\"unisonExpression\"] == undefined) ? Config.unisons[this.unison].expression : instrumentObject[\"unisonExpression\"];\n        this.unisonSign = (instrumentObject[\"unisonSign\"] == undefined) ? Config.unisons[this.unison].sign : instrumentObject[\"unisonSign\"];\n\n        if (instrumentObject[\"chorus\"] == \"custom harmony\") {\n            // The original chorus setting had an option that now maps to two different settings. Override those if necessary.\n            this.unison = Config.unisons.dictionary[\"hum\"].index;\n            this.chord = Config.chords.dictionary[\"custom interval\"].index;\n        }\n        if (this.chord != Config.chords.dictionary[\"simultaneous\"].index && !Array.isArray(instrumentObject[\"effects\"])) {\n            // Enable chord if it was used.\n            this.effects = (this.effects | (1 << EffectType.chord));\n        }\n\n        if (instrumentObject[\"pitchShiftSemitones\"] != undefined) {\n            this.pitchShift = clamp(0, Config.pitchShiftRange, Math.round(+instrumentObject[\"pitchShiftSemitones\"]));\n        }\n        if (instrumentObject[\"detuneCents\"] != undefined) {\n            this.detune = clamp(Config.detuneMin, Config.detuneMax + 1, Math.round(Synth.centsToDetune(+instrumentObject[\"detuneCents\"])));\n        }\n\n        this.vibrato = Config.vibratos.dictionary[\"none\"].index; // default value.\n        const vibratoProperty: any = instrumentObject[\"vibrato\"] || instrumentObject[\"effect\"]; // The vibrato property was previously called \"effect\", not to be confused with the current \"effects\".\n        if (vibratoProperty != undefined) {\n\n            const legacyVibratoNames: Dictionary<string> = { \"vibrato light\": \"light\", \"vibrato delayed\": \"delayed\", \"vibrato heavy\": \"heavy\" };\n            const vibrato: Vibrato | undefined = Config.vibratos.dictionary[legacyVibratoNames[unisonProperty]] || Config.vibratos.dictionary[vibratoProperty];\n            if (vibrato != undefined)\n                this.vibrato = vibrato.index;\n            else if (vibratoProperty == \"custom\")\n                this.vibrato = Config.vibratos.length; // custom\n\n            if (this.vibrato == Config.vibratos.length) {\n                this.vibratoDepth = instrumentObject[\"vibratoDepth\"];\n                this.vibratoSpeed = instrumentObject[\"vibratoSpeed\"];\n                this.vibratoDelay = instrumentObject[\"vibratoDelay\"];\n                this.vibratoType = instrumentObject[\"vibratoType\"];\n            }\n            else { // Set defaults for the vibrato profile\n                this.vibratoDepth = Config.vibratos[this.vibrato].amplitude;\n                this.vibratoDelay = Config.vibratos[this.vibrato].delayTicks / 2;\n                this.vibratoSpeed = 10; // default;\n                this.vibratoType = Config.vibratos[this.vibrato].type;\n            }\n\n            // Old songs may have a vibrato effect without explicitly enabling it.\n            if (vibrato != Config.vibratos.dictionary[\"none\"]) {\n                this.effects = (this.effects | (1 << EffectType.vibrato));\n            }\n        }\n\n        if (instrumentObject[\"pan\"] != undefined) {\n            this.pan = clamp(0, Config.panMax + 1, Math.round(Config.panCenter + (instrumentObject[\"pan\"] | 0) * Config.panCenter / 100));\n\n            // Old songs may have a panning effect without explicitly enabling it.\n            if (this.pan != Config.panCenter) {\n                this.effects = (this.effects | (1 << EffectType.panning));\n            }\n        } else {\n            this.pan = Config.panCenter;\n            // Still enabling pan effect, to make it a default\n            this.effects = (this.effects | (1 << EffectType.panning));\n        }\n\n        if (instrumentObject[\"panDelay\"] != undefined) {\n            this.panDelay = (instrumentObject[\"panDelay\"] | 0);\n        } else {\n            this.panDelay = 10;\n        }\n\n        if (instrumentObject[\"detune\"] != undefined) {\n            this.detune = clamp(Config.detuneMin, Config.detuneMax + 1, (instrumentObject[\"detune\"] | 0));\n        }\n        else if (instrumentObject[\"detuneCents\"] == undefined) {\n            this.detune = Config.detuneCenter;\n        }\n\n        if (instrumentObject[\"distortion\"] != undefined) {\n            this.distortion = clamp(0, Config.distortionRange, Math.round((Config.distortionRange - 1) * (instrumentObject[\"distortion\"] | 0) / 100));\n        }\n\n        if (instrumentObject[\"bitcrusherOctave\"] != undefined) {\n            this.bitcrusherFreq = Config.bitcrusherFreqRange - 1 - (+instrumentObject[\"bitcrusherOctave\"]) / Config.bitcrusherOctaveStep;\n        }\n        if (instrumentObject[\"bitcrusherQuantization\"] != undefined) {\n            this.bitcrusherQuantization = clamp(0, Config.bitcrusherQuantizationRange, Math.round((Config.bitcrusherQuantizationRange - 1) * (instrumentObject[\"bitcrusherQuantization\"] | 0) / 100));\n        }\n\n        if (instrumentObject[\"echoSustain\"] != undefined) {\n            this.echoSustain = clamp(0, Config.echoSustainRange, Math.round((Config.echoSustainRange - 1) * (instrumentObject[\"echoSustain\"] | 0) / 100));\n        }\n        if (instrumentObject[\"echoDelayBeats\"] != undefined) {\n            this.echoDelay = clamp(0, Config.echoDelayRange, Math.round((+instrumentObject[\"echoDelayBeats\"]) * (Config.ticksPerPart * Config.partsPerBeat) / Config.echoDelayStepTicks - 1.0));\n        }\n\n        if (!isNaN(instrumentObject[\"chorus\"])) {\n            this.chorus = clamp(0, Config.chorusRange, Math.round((Config.chorusRange - 1) * (instrumentObject[\"chorus\"] | 0) / 100));\n        }\n\n        if (instrumentObject[\"reverb\"] != undefined) {\n            this.reverb = clamp(0, Config.reverbRange, Math.round((Config.reverbRange - 1) * (instrumentObject[\"reverb\"] | 0) / 100));\n        } else {\n            this.reverb = legacyGlobalReverb;\n        }\n\n        if (instrumentObject[\"pulseWidth\"] != undefined) {\n            this.pulseWidth = clamp(1, Config.pulseWidthRange + 1, Math.round(instrumentObject[\"pulseWidth\"]));\n        } else {\n            this.pulseWidth = Config.pulseWidthRange;\n        }\n\n        if (instrumentObject[\"decimalOffset\"] != undefined) {\n            this.decimalOffset = clamp(0, 99 + 1, Math.round(instrumentObject[\"decimalOffset\"]));\n        } else {\n            this.decimalOffset = 0;\n        }\n\n        if (instrumentObject[\"harmonics\"] != undefined) {\n            for (let i: number = 0; i < Config.harmonicsControlPoints; i++) {\n                this.harmonicsWave.harmonics[i] = Math.max(0, Math.min(Config.harmonicsMax, Math.round(Config.harmonicsMax * (+instrumentObject[\"harmonics\"][i]) / 100)));\n            }\n            this.harmonicsWave.markCustomWaveDirty();\n        } else {\n            this.harmonicsWave.reset();\n        }\n\n        if (instrumentObject[\"spectrum\"] != undefined) {\n            for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                this.spectrumWave.spectrum[i] = Math.max(0, Math.min(Config.spectrumMax, Math.round(Config.spectrumMax * (+instrumentObject[\"spectrum\"][i]) / 100)));\n            }\n        } else {\n            this.spectrumWave.reset(isNoiseChannel);\n        }\n\n        if (instrumentObject[\"stringSustain\"] != undefined) {\n            this.stringSustain = clamp(0, Config.stringSustainRange, Math.round((Config.stringSustainRange - 1) * (instrumentObject[\"stringSustain\"] | 0) / 100));\n        } else {\n            this.stringSustain = 10;\n        }\n\n        if (this.type == InstrumentType.noise) {\n            this.chipNoise = Config.chipNoises.findIndex(wave => wave.name == instrumentObject[\"wave\"]);\n            if (instrumentObject[\"wave\"] == \"pink noise\") this.chipNoise = Config.chipNoises.findIndex(wave => wave.name == \"pink\");\n            if (instrumentObject[\"wave\"] == \"brownian noise\") this.chipNoise = Config.chipNoises.findIndex(wave => wave.name == \"brownian\");\n            if (this.chipNoise == -1) this.chipNoise = 1;\n        }\n\n        const legacyEnvelopeNames: Dictionary<string> = { \"custom\": \"note size\", \"steady\": \"none\", \"pluck 1\": \"twang 1\", \"pluck 2\": \"twang 2\", \"pluck 3\": \"twang 3\" };\n        const getEnvelope = (name: any): Envelope | undefined => (legacyEnvelopeNames[name] != undefined) ? Config.envelopes.dictionary[legacyEnvelopeNames[name]] : Config.envelopes.dictionary[name];\n\n        if (this.type == InstrumentType.drumset) {\n            if (instrumentObject[\"drums\"] != undefined) {\n                for (let j: number = 0; j < Config.drumCount; j++) {\n                    const drum: any = instrumentObject[\"drums\"][j];\n                    if (drum == undefined) continue;\n\n                    this.drumsetEnvelopes[j] = Config.envelopes.dictionary[\"twang 2\"].index; // default value.\n                    if (drum[\"filterEnvelope\"] != undefined) {\n                        const envelope: Envelope | undefined = getEnvelope(drum[\"filterEnvelope\"]);\n                        if (envelope != undefined) this.drumsetEnvelopes[j] = envelope.index;\n                    }\n                    if (drum[\"spectrum\"] != undefined) {\n                        for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                            this.drumsetSpectrumWaves[j].spectrum[i] = Math.max(0, Math.min(Config.spectrumMax, Math.round(Config.spectrumMax * (+drum[\"spectrum\"][i]) / 100)));\n                        }\n                    }\n                }\n            }\n        }\n\n        if (this.type == InstrumentType.chip) {\n            const legacyWaveNames: Dictionary<number> = { \"triangle\": 1, \"square\": 2, \"pulse wide\": 3, \"pulse narrow\": 4, \"sawtooth\": 5, \"double saw\": 6, \"double pulse\": 7, \"spiky\": 8, \"plateau\": 0 };\n           \t\t\t\t const modboxWaveNames: Dictionary<number> = { \"10% pulse\": 22, \"sunsoft bass\": 23, \"loud pulse\": 24, \"sax\": 25, \"guitar\": 26, \"atari bass\": 28, \"atari pulse\": 29, \"1% pulse\": 30, \"curved sawtooth\": 31, \"viola\": 32, \"brass\": 33, \"acoustic bass\": 34, \"lyre\": 35, \"ramp pulse\": 36, \"piccolo\": 37, \"squaretooth\": 38, \"flatline\": 39, \"pnryshk a (u5)\": 40, \"pnryshk b (riff)\": 41 };\n             \t const sandboxWaveNames: Dictionary<number> = { \"shrill lute\": 42, \"shrill bass\": 44, \"nes pulse\": 45, \"saw bass\": 46, \"euphonium\": 47, \"shrill pulse\": 48, \"r-sawtooth\": 49, \"recorder\": 50, \"narrow saw\": 51, \"deep square\": 52, \"ring pulse\": 53, \"double sine\": 54, \"contrabass\": 55, \"double bass\": 56 };\n\t\t\t const zefboxWaveNames: Dictionary<number> = {\"semi-square\": 63, \"deep square\": 64, \"squaretal\": 40, \"saw wide\": 65, \"saw narrow \": 66, \"deep sawtooth\": 67, \"sawtal\": 68, \"pulse\": 69, \"triple pulse\": 70, \"high pulse\": 71,\"deep pulse\": 72 };\n\t\t\t const miscWaveNames: Dictionary<number> = {\"test1\": 56, \"pokey 4bit lfsr\": 57, \"pokey 5step bass\": 58, \"isolated spiky\": 59, \"unnamed 1\": 60, \"unnamed 2\": 61, \"guitar string\": 75, \"intense\": 76, \"buzz wave\": 77, \"pokey square\": 57, \"pokey bass\": 58, \"banana wave\": 83, \"test 1\": 84, \"test 2\": 84, \"real snare\": 85, \"earthbound o. guitar\": 86 };\n\t\t\t const paandorasboxWaveNames: Dictionary<number> = {\"kick\": 87, \"snare\": 88, \"piano1\": 89, \"WOW\": 90, \"overdrive\": 91, \"trumpet\": 92, \"saxophone\": 93, \"orchestrahit\": 94, \"detached violin\": 95, \"synth\": 96, \"sonic3snare\": 97, \"come on\": 98, \"choir\": 99, \"overdriveguitar\": 100, \"flute\": 101, \"legato violin\": 102, \"tremolo violin\": 103, \"amen break\": 104, \"pizzicato violin\": 105, \"tim allen grunt\": 106, \"tuba\": 107, \"loopingcymbal\": 108, \"standardkick\": 109, \"standardsnare\": 110, \"closedhihat\": 111, \"foothihat\": 112, \"openhihat\": 113, \"crashcymbal\": 114, \"pianoC4\": 115, \"liver pad\": 116, \"marimba\": 117, \"susdotwav\": 118, \"wackyboxtts\": 119};\n\t\t\t// const paandorasbetaWaveNames = {\"contrabass\": 55, \"double bass\": 56 };\n\t\t//this.chipWave = legacyWaveNames[instrumentObject[\"wave\"]] != undefined ? legacyWaveNames[instrumentObject[\"wave\"]] : Config.chipWaves.findIndex(wave => wave.name == instrumentObject[\"wave\"]);\n            this.chipWave = -1;\n            const rawName: string = instrumentObject[\"wave\"];\n            for (const table of [\n                legacyWaveNames,\n                modboxWaveNames,\n                sandboxWaveNames,\n                zefboxWaveNames,\n                miscWaveNames,\n                paandorasboxWaveNames\n            ]) {\n                if (this.chipWave == -1 && table[rawName] != undefined && Config.chipWaves[table[rawName]] != undefined) {\n                    this.chipWave = table[rawName];\n                    break;\n                }\n            }\n            if (this.chipWave == -1) {\n                const potentialChipWaveIndex: number = Config.chipWaves.findIndex(wave => wave.name == rawName);\n                if (potentialChipWaveIndex != -1) this.chipWave = potentialChipWaveIndex;\n            }\n            // this.chipWave = legacyWaveNames[instrumentObject[\"wave\"]] != undefined ? legacyWaveNames[instrumentObject[\"wave\"]] : modboxWaveNames[instrumentObject[\"wave\"]] != undefined ? modboxWaveNames[instrumentObject[\"wave\"]] : sandboxWaveNames[instrumentObject[\"wave\"]] != undefined ? sandboxWaveNames[instrumentObject[\"wave\"]] : zefboxWaveNames[instrumentObject[\"wave\"]] != undefined ? zefboxWaveNames[instrumentObject[\"wave\"]] : miscWaveNames[instrumentObject[\"wave\"]] != undefined ? miscWaveNames[instrumentObject[\"wave\"]] : paandorasboxWaveNames[instrumentObject[\"wave\"]] != undefined ? paandorasboxWaveNames[instrumentObject[\"wave\"]] : Config.chipWaves.findIndex(wave => wave.name == instrumentObject[\"wave\"]); \n\t\tif (this.chipWave == -1) this.chipWave = 1;\n        }\n\n        if (this.type == InstrumentType.fm || this.type == InstrumentType.fm6op) {\n            if(this.type == InstrumentType.fm) {\n                this.algorithm = Config.algorithms.findIndex(algorithm => algorithm.name == instrumentObject[\"algorithm\"]);\n                if (this.algorithm == -1) this.algorithm = 0;\n                this.feedbackType = Config.feedbacks.findIndex(feedback => feedback.name == instrumentObject[\"feedbackType\"]);\n                if (this.feedbackType == -1) this.feedbackType = 0;\n            } else {\n                this.algorithm6Op = Config.algorithms6Op.findIndex(algorithm6Op => algorithm6Op.name == instrumentObject[\"algorithm\"]);\n                if (this.algorithm6Op == -1) this.algorithm6Op = 1;\n                if(this.algorithm6Op == 0){ \n                    this.customAlgorithm.set(instrumentObject[\"customAlgorithm\"][\"carrierCount\"], instrumentObject[\"customAlgorithm\"][\"mods\"]);\n                } else{\n                    this.customAlgorithm.fromPreset(this.algorithm6Op);\n                }\n                this.feedbackType6Op = Config.feedbacks6Op.findIndex(feedback6Op => feedback6Op.name == instrumentObject[\"feedbackType\"]);\n                if (this.feedbackType6Op == -1) this.feedbackType6Op = 1;\n                if(this.feedbackType6Op == 0) {\n                    this.customFeedbackType.set(instrumentObject[\"customFeedback\"][\"mods\"]);\n                }else{\n                    this.customFeedbackType.fromPreset(this.feedbackType6Op)\n                }\n            }\n            if (instrumentObject[\"feedbackAmplitude\"] != undefined) {\n                this.feedbackAmplitude = clamp(0, Config.operatorAmplitudeMax + 1, instrumentObject[\"feedbackAmplitude\"] | 0);\n            } else {\n                this.feedbackAmplitude = 0;\n            }\n\n            for (let j: number = 0; j < Config.operatorCount + (this.type == InstrumentType.fm6op?2:0); j++) {\n                const operator: Operator = this.operators[j];\n                let operatorObject: any = undefined;\n                if (instrumentObject[\"operators\"] != undefined) operatorObject = instrumentObject[\"operators\"][j];\n                if (operatorObject == undefined) operatorObject = {};\n\n                operator.frequency = Config.operatorFrequencies.findIndex(freq => freq.name == operatorObject[\"frequency\"]);\n                if (operator.frequency == -1) operator.frequency = 0;\n                if (operatorObject[\"amplitude\"] != undefined) {\n                    operator.amplitude = clamp(0, Config.operatorAmplitudeMax + 1, operatorObject[\"amplitude\"] | 0);\n                } else {\n                    operator.amplitude = 0;\n                }\n                if (operatorObject[\"waveform\"] != undefined) {\n                    operator.waveform = Config.operatorWaves.findIndex(wave => wave.name == operatorObject[\"waveform\"]);\n                    if (operator.waveform == -1) {\n                        // GoldBox compatibility\n                        if (operatorObject[\"waveform\"] == \"square\") {\n                            operator.waveform = Config.operatorWaves.dictionary[\"pulse width\"].index;\n                            operator.pulseWidth = 5;\n                        } else {\n                            operator.waveform = 0;\n                        }\n\n                    }\n                } else {\n                    operator.waveform = 0;\n                }\n                if (operatorObject[\"pulseWidth\"] != undefined) {\n                    operator.pulseWidth = operatorObject[\"pulseWidth\"] | 0;\n                } else {\n                    operator.pulseWidth = 5;\n                }\n            }\n        }\n        else if (this.type == InstrumentType.customChipWave) {\n            if (instrumentObject[\"customChipWave\"]) {\n\n                for (let i: number = 0; i < 64; i++) {\n                    this.customChipWave[i] = instrumentObject[\"customChipWave\"][i];\n                }\n\n\n                let sum: number = 0.0;\n                for (let i: number = 0; i < this.customChipWave.length; i++) {\n                    sum += this.customChipWave[i];\n                }\n                const average: number = sum / this.customChipWave.length;\n\n                // Perform the integral on the wave. The chipSynth will perform the derivative to get the original wave back but with antialiasing.\n                let cumulative: number = 0;\n                let wavePrev: number = 0;\n                for (let i: number = 0; i < this.customChipWave.length; i++) {\n                    cumulative += wavePrev;\n                    wavePrev = this.customChipWave[i] - average;\n                    this.customChipWaveIntegral[i] = cumulative;\n                }\n\n                // 65th, last sample is for anti-aliasing\n                this.customChipWaveIntegral[64] = 0.0;\n            }\n        } else if (this.type == InstrumentType.mod) {\n            if (instrumentObject[\"modChannels\"] != undefined) {\n                for (let mod: number = 0; mod < Config.modCount; mod++) {\n                    this.modChannels[mod] = instrumentObject[\"modChannels\"][mod];\n                    this.modInstruments[mod] = instrumentObject[\"modInstruments\"][mod];\n                    this.modulators[mod] = instrumentObject[\"modSettings\"][mod];\n                }\n            }\n        }\n\n        if (this.type != InstrumentType.mod) {\n            // Arpeggio speed\n            if (this.chord == Config.chords.dictionary[\"arpeggio\"].index && instrumentObject[\"arpeggioSpeed\"] != undefined) {\n                this.arpeggioSpeed = instrumentObject[\"arpeggioSpeed\"];\n            }\n            else {\n                this.arpeggioSpeed = (useSlowerRhythm) ? 9 : 12; // Decide whether to import arps as x3/4 speed\n            }\n\n            if (instrumentObject[\"fastTwoNoteArp\"] != undefined) {\n                this.fastTwoNoteArp = instrumentObject[\"fastTwoNoteArp\"];\n            }\n            else {\n                this.fastTwoNoteArp = useFastTwoNoteArp;\n            }\n\n            if (instrumentObject[\"clicklessTransition\"] != undefined) {\n                this.clicklessTransition = instrumentObject[\"clicklessTransition\"];\n            }\n            else {\n                this.clicklessTransition = false;\n            }\n\n            if (instrumentObject[\"aliases\"] != undefined) {\n                this.aliases = instrumentObject[\"aliases\"];\n            }\n            else {\n                this.aliases = false;\n            }\n\n            if (instrumentObject[\"noteFilterType\"] != undefined) {\n                this.noteFilterType = instrumentObject[\"noteFilterType\"];\n            }\n            if (instrumentObject[\"noteSimpleCut\"] != undefined) {\n                this.noteFilterSimpleCut = instrumentObject[\"noteSimpleCut\"];\n            }\n            if (instrumentObject[\"noteSimplePeak\"] != undefined) {\n                this.noteFilterSimplePeak = instrumentObject[\"noteSimplePeak\"];\n            }\n            if (instrumentObject[\"noteFilter\"] != undefined) {\n                this.noteFilter.fromJsonObject(instrumentObject[\"noteFilter\"]);\n            } else {\n                this.noteFilter.reset();\n            }\n            for (let i: number = 0; i < Config.filterMorphCount; i++) {\n                if (Array.isArray(instrumentObject[\"noteSubFilters\" + i])) {\n                    this.noteSubFilters[i] = new FilterSettings();\n                    this.noteSubFilters[i]!.fromJsonObject(instrumentObject[\"noteSubFilters\" + i]);\n                }\n            }\n            if (instrumentObject[\"eqFilterType\"] != undefined) {\n                this.eqFilterType = instrumentObject[\"eqFilterType\"];\n            }\n            if (instrumentObject[\"eqSimpleCut\"] != undefined) {\n                this.eqFilterSimpleCut = instrumentObject[\"eqSimpleCut\"];\n            }\n            if (instrumentObject[\"eqSimplePeak\"] != undefined) {\n                this.eqFilterSimplePeak = instrumentObject[\"eqSimplePeak\"];\n            }\n            if (Array.isArray(instrumentObject[\"eqFilter\"])) {\n                this.eqFilter.fromJsonObject(instrumentObject[\"eqFilter\"]);\n            } else {\n                this.eqFilter.reset();\n\n                const legacySettings: LegacySettings = {};\n\n                // Try converting from legacy filter settings.\n                const filterCutoffMaxHz: number = 8000;\n                const filterCutoffRange: number = 11;\n                const filterResonanceRange: number = 8;\n                if (instrumentObject[\"filterCutoffHz\"] != undefined) {\n                    legacySettings.filterCutoff = clamp(0, filterCutoffRange, Math.round((filterCutoffRange - 1) + 2.0 * Math.log((instrumentObject[\"filterCutoffHz\"] | 0) / filterCutoffMaxHz) / Math.LN2));\n                } else {\n                    legacySettings.filterCutoff = (this.type == InstrumentType.chip) ? 6 : 10;\n                }\n                if (instrumentObject[\"filterResonance\"] != undefined) {\n                    legacySettings.filterResonance = clamp(0, filterResonanceRange, Math.round((filterResonanceRange - 1) * (instrumentObject[\"filterResonance\"] | 0) / 100));\n                } else {\n                    legacySettings.filterResonance = 0;\n                }\n\n                legacySettings.filterEnvelope = getEnvelope(instrumentObject[\"filterEnvelope\"]);\n                legacySettings.pulseEnvelope = getEnvelope(instrumentObject[\"pulseEnvelope\"]);\n                legacySettings.feedbackEnvelope = getEnvelope(instrumentObject[\"feedbackEnvelope\"]);\n                if (Array.isArray(instrumentObject[\"operators\"])) {\n                    legacySettings.operatorEnvelopes = [];\n                    for (let j: number = 0; j < Config.operatorCount; j++) {\n                        let envelope: Envelope | undefined;\n                        if (instrumentObject[\"operators\"][j] != undefined) {\n                            envelope = getEnvelope(instrumentObject[\"operators\"][j][\"envelope\"]);\n                        }\n                        legacySettings.operatorEnvelopes[j] = (envelope != undefined) ? envelope : Config.envelopes.dictionary[\"none\"];\n                    }\n                }\n\n                // Try converting from even older legacy filter settings.\n                if (instrumentObject[\"filter\"] != undefined) {\n                    const legacyToCutoff: number[] = [10, 6, 3, 0, 8, 5, 2];\n                    const legacyToEnvelope: string[] = [\"none\", \"none\", \"none\", \"none\", \"decay 1\", \"decay 2\", \"decay 3\"];\n                    const filterNames: string[] = [\"none\", \"bright\", \"medium\", \"soft\", \"decay bright\", \"decay medium\", \"decay soft\"];\n                    const oldFilterNames: Dictionary<number> = { \"sustain sharp\": 1, \"sustain medium\": 2, \"sustain soft\": 3, \"decay sharp\": 4 };\n                    let legacyFilter: number = oldFilterNames[instrumentObject[\"filter\"]] != undefined ? oldFilterNames[instrumentObject[\"filter\"]] : filterNames.indexOf(instrumentObject[\"filter\"]);\n                    if (legacyFilter == -1) legacyFilter = 0;\n                    legacySettings.filterCutoff = legacyToCutoff[legacyFilter];\n                    legacySettings.filterEnvelope = getEnvelope(legacyToEnvelope[legacyFilter]);\n                    legacySettings.filterResonance = 0;\n                }\n\n                this.convertLegacySettings(legacySettings, true);\n            }\n\n            for (let i: number = 0; i < Config.filterMorphCount; i++) {\n                if (Array.isArray(instrumentObject[\"eqSubFilters\" + i])) {\n                    this.eqSubFilters[i] = new FilterSettings();\n                    this.eqSubFilters[i]!.fromJsonObject(instrumentObject[\"eqSubFilters\" + i]);\n                }\n            }\n\n            if (Array.isArray(instrumentObject[\"envelopes\"])) {\n                const envelopeArray: any[] = instrumentObject[\"envelopes\"];\n                for (let i = 0; i < envelopeArray.length; i++) {\n                    if (this.envelopeCount >= Config.maxEnvelopeCount) break;\n                    const tempEnvelope: EnvelopeSettings = new EnvelopeSettings();\n                    tempEnvelope.fromJsonObject(envelopeArray[i]);\n                    this.addEnvelope(tempEnvelope.target, tempEnvelope.index, tempEnvelope.envelope);\n                }\n            }\n        }\n   \t\t // advloop addition\n            if (type === 0) {\n                if (instrumentObject[\"isUsingAdvancedLoopControls\"] != undefined) {\n                    this.isUsingAdvancedLoopControls = instrumentObject[\"isUsingAdvancedLoopControls\"];\n                    this.chipWaveLoopStart = instrumentObject[\"chipWaveLoopStart\"];\n                    this.chipWaveLoopEnd = instrumentObject[\"chipWaveLoopEnd\"];\n                    this.chipWaveLoopMode = instrumentObject[\"chipWaveLoopMode\"];\n                    this.chipWavePlayBackwards = instrumentObject[\"chipWavePlayBackwards\"];\n                    this.chipWaveStartOffset = instrumentObject[\"chipWaveStartOffset\"];\n                } else {\n                    this.isUsingAdvancedLoopControls = false;\n                    this.chipWaveLoopStart = 0;\n                    this.chipWaveLoopEnd = Config.rawRawChipWaves[this.chipWave].samples.length - 1;\n                    this.chipWaveLoopMode = 0;\n                    this.chipWavePlayBackwards = false;\n                    this.chipWaveStartOffset = 0;\n                }\n            }\n\t}\t\n           // advloop addition\n\n    public static frequencyFromPitch(pitch: number): number {\n        return 440.0 * Math.pow(2.0, (pitch - 69.0) / 12.0);\n    }\n\n    public addEnvelope(target: number, index: number, envelope: number): void {\n        let makeEmpty: boolean = false;\n        if (!this.supportsEnvelopeTarget(target, index)) makeEmpty = true;\n        if (this.envelopeCount >= Config.maxEnvelopeCount) throw new Error();\n        while (this.envelopes.length <= this.envelopeCount) this.envelopes[this.envelopes.length] = new EnvelopeSettings();\n        const envelopeSettings: EnvelopeSettings = this.envelopes[this.envelopeCount];\n        envelopeSettings.target = makeEmpty ? Config.instrumentAutomationTargets.dictionary[\"none\"].index : target;\n        envelopeSettings.index = makeEmpty ? 0 : index;\n        envelopeSettings.envelope = envelope;\n        this.envelopeCount++;\n    }\n\n    public supportsEnvelopeTarget(target: number, index: number): boolean {\n        const automationTarget: AutomationTarget = Config.instrumentAutomationTargets[target];\n        if (index >= automationTarget.maxCount) {\n            return false;\n        }\n        if (automationTarget.compatibleInstruments != null && automationTarget.compatibleInstruments.indexOf(this.type) == -1) {\n            return false;\n        }\n        if (automationTarget.effect != null && (this.effects & (1 << automationTarget.effect)) == 0) {\n            return false;\n        }\n        if (automationTarget.isFilter) {\n            //if (automationTarget.perNote) {\n            let useControlPointCount: number = this.noteFilter.controlPointCount;\n            if (this.noteFilterType)\n                useControlPointCount = 1;\n            if (index >= useControlPointCount) return false;\n            //} else {\n            //\tif (index >= this.eqFilter.controlPointCount)   return false;\n            //}\n        }\n        return true;\n    }\n\n    public clearInvalidEnvelopeTargets(): void {\n        for (let envelopeIndex: number = 0; envelopeIndex < this.envelopeCount; envelopeIndex++) {\n            const target: number = this.envelopes[envelopeIndex].target;\n            const index: number = this.envelopes[envelopeIndex].index;\n            if (!this.supportsEnvelopeTarget(target, index)) {\n                this.envelopes[envelopeIndex].target = Config.instrumentAutomationTargets.dictionary[\"none\"].index;\n                this.envelopes[envelopeIndex].index = 0;\n            }\n        }\n    }\n\n    public getTransition(): Transition {\n        return effectsIncludeTransition(this.effects) ? Config.transitions[this.transition] :\n            (this.type == InstrumentType.mod ? Config.transitions.dictionary[\"interrupt\"] : Config.transitions.dictionary[\"normal\"]);\n    }\n\n    public getFadeInSeconds(): number {\n        return (this.type == InstrumentType.drumset) ? 0.0 : Synth.fadeInSettingToSeconds(this.fadeIn);\n    }\n\n    public getFadeOutTicks(): number {\n        return (this.type == InstrumentType.drumset) ? Config.drumsetFadeOutTicks : Synth.fadeOutSettingToTicks(this.fadeOut)\n    }\n\n    public getChord(): Chord {\n        return effectsIncludeChord(this.effects) ? Config.chords[this.chord] : Config.chords.dictionary[\"simultaneous\"];\n    }\n\n    public getDrumsetEnvelope(pitch: number): Envelope {\n        if (this.type != InstrumentType.drumset) throw new Error(\"Can't getDrumsetEnvelope() for non-drumset.\");\n        return Config.envelopes[this.drumsetEnvelopes[pitch]];\n    }\n}\n\nexport class Channel {\n    public octave: number = 0;\n    public readonly instruments: Instrument[] = [];\n    public readonly patterns: Pattern[] = [];\n    public readonly bars: number[] = [];\n    public muted: boolean = false;\n    public name: string = \"\";\n}\n\nexport class Song {\n    private static readonly _format: string = \"UltraBox\";\n    private static readonly _oldestBeepboxVersion: number = 2;\n    private static readonly _latestBeepboxVersion: number = 9;\n    private static readonly _oldestJummBoxVersion: number = 1;\n    private static readonly _latestJummBoxVersion: number = 5;\n    private static readonly _oldestGoldBoxVersion: number = 1;\n    private static readonly _latestGoldBoxVersion: number = 4;\n    private static readonly _oldestUltraBoxVersion: number = 1;\n    private static readonly _latestUltraBoxVersion: number = 4;\n    // One-character variant detection at the start of URL to distinguish variants such as JummBox, Or Goldbox. \"j\" and \"g\" respectively\n\t//also \"u\" is ultrabox lol\n    private static readonly _variant = 0x75; //\"u\" ~ ultrabox\n\n    public title: string;\n    public scale: number;\n    public scaleCustom: boolean[] = [];\n    public key: number;\n    public octave: number;\n    public tempo: number;\n    public reverb: number;\n    public beatsPerBar: number;\n    public barCount: number;\n    public patternsPerChannel: number;\n    public rhythm: number;\n    public layeredInstruments: boolean;\n    public patternInstruments: boolean;\n    public loopStart: number;\n    public loopLength: number;\n    public pitchChannelCount: number;\n    public noiseChannelCount: number;\n    public modChannelCount: number;\n    public readonly channels: Channel[] = [];\n    public limitDecay: number = 4.0;\n    public limitRise: number = 4000.0;\n    public compressionThreshold: number = 1.0;\n    public limitThreshold: number = 1.0;\n    public compressionRatio: number = 1.0;\n    public limitRatio: number = 1.0;\n    public masterGain: number = 1.0;\n    public inVolumeCap: number = 0.0;\n    public outVolumeCap: number = 0.0;\n\n    constructor(string?: string) {\n        if (string != undefined) {\n            this.fromBase64String(string);\n        } else {\n            this.initToDefault(true);\n        }\n    }\n\n    // Returns the ideal new note volume when dragging (max volume for a normal note, a \"neutral\" value for mod notes based on how they work)\n    public getNewNoteVolume = (isMod: boolean, modChannel?: number, modInstrument?: number, modCount?: number): number => {\n        if (!isMod || modChannel == undefined || modInstrument == undefined || modCount == undefined)\n            return 6;\n        else {\n            // Sigh, the way pitches count up and the visual ordering in the UI are flipped.\n            modCount = Config.modCount - modCount - 1;\n\n            let vol: number | undefined = Config.modulators[this.channels[modChannel].instruments[modInstrument].modulators[modCount]].newNoteVol;\n\n            // For tempo, actually use user defined tempo\n            let tempoIndex: number = Config.modulators.dictionary[\"tempo\"].index;\n            if (this.channels[modChannel].instruments[modInstrument].modulators[modCount] == tempoIndex) {\n                vol = this.tempo - Config.modulators[tempoIndex].convertRealFactor;\n            }\n\n            if (vol != undefined)\n                return vol;\n            else\n                return 6;\n        }\n    }\n\n\n    public getVolumeCap = (isMod: boolean, modChannel?: number, modInstrument?: number, modCount?: number): number => {\n        if (!isMod || modChannel == undefined || modInstrument == undefined || modCount == undefined)\n            return 6;\n        else {\n            // Sigh, the way pitches count up and the visual ordering in the UI are flipped.\n            modCount = Config.modCount - modCount - 1;\n\n            let instrument: Instrument = this.channels[modChannel].instruments[modInstrument];\n            let modulator = Config.modulators[instrument.modulators[modCount]];\n            let cap: number | undefined = modulator.maxRawVol;\n\n            if (cap != undefined) {\n                // For filters, cap is dependent on which filter setting is targeted\n                if (modulator.name == \"eq filter\" || modulator.name == \"note filter\") {\n                    // type 0: number of filter morphs\n                    // type 1/odd: number of filter x positions\n                    // type 2/even: number of filter y positions\n                    cap = Config.filterMorphCount - 1;\n                    if (instrument.modFilterTypes[modCount] > 0 && instrument.modFilterTypes[modCount] % 2) {\n                        cap = Config.filterFreqRange;\n                    } else if (instrument.modFilterTypes[modCount] > 0) {\n                        cap = Config.filterGainRange;\n                    }\n                }\n                return cap;\n            }\n            else\n                return 6;\n        }\n    }\n\n    public getVolumeCapForSetting = (isMod: boolean, modSetting: number, filterType?: number): number => {\n        if (!isMod)\n            return Config.noteSizeMax;\n        else {\n            let cap: number | undefined = Config.modulators[modSetting].maxRawVol;\n            if (cap != undefined) {\n\n                // For filters, cap is dependent on which filter setting is targeted\n                if (filterType != undefined && (Config.modulators[modSetting].name == \"eq filter\" || Config.modulators[modSetting].name == \"note filter\")) {\n                    // type 0: number of filter morphs\n                    // type 1/odd: number of filter x positions\n                    // type 2/even: number of filter y positions\n                    cap = Config.filterMorphCount - 1;\n                    if (filterType > 0 && filterType % 2) {\n                        cap = Config.filterFreqRange;\n                    } else if (filterType > 0) {\n                        cap = Config.filterGainRange;\n                    }\n                }\n\n                return cap;\n            }\n            else\n                return Config.noteSizeMax;\n        }\n    }\n\n    public getChannelCount(): number {\n        return this.pitchChannelCount + this.noiseChannelCount + this.modChannelCount;\n    }\n\n    public getMaxInstrumentsPerChannel(): number {\n        return Math.max(\n            this.layeredInstruments ? Config.layeredInstrumentCountMax : Config.instrumentCountMin,\n            this.patternInstruments ? Config.patternInstrumentCountMax : Config.instrumentCountMin);\n    }\n\n    public getMaxInstrumentsPerPattern(channelIndex: number): number {\n        return this.getMaxInstrumentsPerPatternForChannel(this.channels[channelIndex]);\n    }\n\n    public getMaxInstrumentsPerPatternForChannel(channel: Channel): number {\n        return this.layeredInstruments\n            ? Math.min(Config.layeredInstrumentCountMax, channel.instruments.length)\n            : 1;\n    }\n\n    public getChannelIsNoise(channelIndex: number): boolean {\n        return (channelIndex >= this.pitchChannelCount && channelIndex < this.pitchChannelCount + this.noiseChannelCount);\n    }\n\n    public getChannelIsMod(channelIndex: number): boolean {\n        return (channelIndex >= this.pitchChannelCount + this.noiseChannelCount);\n    }\n\n    public initToDefault(andResetChannels: boolean = true): void {\n        this.scale = 0;\n        //this.scaleCustom = [true, false, true, true, false, false, false, true, true, false, true, true];\n\tthis.scaleCustom = [true, false, false, false, false, false, false, false, false, false, false, false];\n        this.key = 0;\n        this.octave = 0;\n        this.loopStart = 0;\n        this.loopLength = 4;\n        this.tempo = 120;\n        this.reverb = 0;\n        this.beatsPerBar = 8;\n        this.barCount = 16;\n        this.patternsPerChannel = 8;\n        this.rhythm = 3;\n        this.layeredInstruments = false;\n        this.patternInstruments = false;\n\n        this.title = \"Untitled\";\n        document.title = EditorConfig.versionDisplayName;\n\n        if (andResetChannels) {\n            this.pitchChannelCount = 3;\n            this.noiseChannelCount = 1;\n            this.modChannelCount = 0;\n            for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                const isNoiseChannel: boolean = channelIndex >= this.pitchChannelCount && channelIndex < this.pitchChannelCount + this.noiseChannelCount;\n                const isModChannel: boolean = channelIndex >= this.pitchChannelCount + this.noiseChannelCount;\n                if (this.channels.length <= channelIndex) {\n                    this.channels[channelIndex] = new Channel();\n                }\n                const channel: Channel = this.channels[channelIndex];\n                channel.octave = Math.max(3 - channelIndex, 0); // [3, 2, 1, 0]; Descending octaves with drums at zero in last channel.\n\n                for (let pattern: number = 0; pattern < this.patternsPerChannel; pattern++) {\n                    if (channel.patterns.length <= pattern) {\n                        channel.patterns[pattern] = new Pattern();\n                    } else {\n                        channel.patterns[pattern].reset();\n                    }\n                }\n                channel.patterns.length = this.patternsPerChannel;\n\n                for (let instrument: number = 0; instrument < Config.instrumentCountMin; instrument++) {\n                    if (channel.instruments.length <= instrument) {\n                        channel.instruments[instrument] = new Instrument(isNoiseChannel, isModChannel);\n                    }\n                    channel.instruments[instrument].setTypeAndReset(isModChannel ? InstrumentType.mod : (isNoiseChannel ? InstrumentType.noise : InstrumentType.chip), isNoiseChannel, isModChannel);\n                }\n                channel.instruments.length = Config.instrumentCountMin;\n\n                for (let bar: number = 0; bar < this.barCount; bar++) {\n                    channel.bars[bar] = bar < 4 ? 1 : 0;\n                }\n                channel.bars.length = this.barCount;\n            }\n            this.channels.length = this.getChannelCount();\n        }\n    }\n\n    public toBase64String(): string {\n        let bits: BitFieldWriter;\n        let buffer: number[] = [];\n\n        buffer.push(Song._variant);\n                 //   buffer.push(base64IntToCharCode[Song._latestGoldBoxVersion]);\n\t\t buffer.push(base64IntToCharCode[Song._latestUltraBoxVersion]);\n\n        // Length of the song name string\n        buffer.push(SongTagCode.songTitle);\n        var encodedSongTitle: string = encodeURIComponent(this.title);\n        buffer.push(base64IntToCharCode[encodedSongTitle.length >> 6], base64IntToCharCode[encodedSongTitle.length & 0x3f]);\n\n        // Actual encoded string follows\n        for (let i: number = 0; i < encodedSongTitle.length; i++) {\n            buffer.push(encodedSongTitle.charCodeAt(i));\n        }\n\n        buffer.push(SongTagCode.channelCount, base64IntToCharCode[this.pitchChannelCount], base64IntToCharCode[this.noiseChannelCount], base64IntToCharCode[this.modChannelCount]);\n        buffer.push(SongTagCode.scale, base64IntToCharCode[this.scale]);\n        if (this.scale == Config.scales[\"dictionary\"][\"Custom\"].index) {\n            for (var i = 1; i < Config.pitchesPerOctave; i++) {\n                buffer.push(base64IntToCharCode[this.scaleCustom[i]?1:0]) // ineffiecent? yes, all we're going to do for now? hell yes\n            }\n        }\n        buffer.push(SongTagCode.key, base64IntToCharCode[this.key], base64IntToCharCode[this.octave - Config.octaveMin]);\n        buffer.push(SongTagCode.loopStart, base64IntToCharCode[this.loopStart >> 6], base64IntToCharCode[this.loopStart & 0x3f]);\n        buffer.push(SongTagCode.loopEnd, base64IntToCharCode[(this.loopLength - 1) >> 6], base64IntToCharCode[(this.loopLength - 1) & 0x3f]);\n        buffer.push(SongTagCode.tempo, base64IntToCharCode[this.tempo >> 6], base64IntToCharCode[this.tempo & 0x3F]);\n        buffer.push(SongTagCode.beatCount, base64IntToCharCode[this.beatsPerBar - 1]);\n        buffer.push(SongTagCode.barCount, base64IntToCharCode[(this.barCount - 1) >> 6], base64IntToCharCode[(this.barCount - 1) & 0x3f]);\n        buffer.push(SongTagCode.patternCount, base64IntToCharCode[(this.patternsPerChannel - 1) >> 6], base64IntToCharCode[(this.patternsPerChannel - 1) & 0x3f]);\n        buffer.push(SongTagCode.rhythm, base64IntToCharCode[this.rhythm]);\n\n        // Push limiter settings, but only if they aren't the default!\n        buffer.push(SongTagCode.limiterSettings);\n        if (this.compressionRatio != 1.0 || this.limitRatio != 1.0 || this.limitRise != 4000.0 || this.limitDecay != 4.0 || this.limitThreshold != 1.0 || this.compressionThreshold != 1.0 || this.masterGain != 1.0) {\n            buffer.push(base64IntToCharCode[Math.round(this.compressionRatio < 1 ? this.compressionRatio * 10 : 10 + (this.compressionRatio - 1) * 60)]); // 0 ~ 1.15 uneven, mapped to 0 ~ 20\n            buffer.push(base64IntToCharCode[Math.round(this.limitRatio < 1 ? this.limitRatio * 10 : 9 + this.limitRatio)]); // 0 ~ 10 uneven, mapped to 0 ~ 20\n            buffer.push(base64IntToCharCode[this.limitDecay]); // directly 1 ~ 30\n            buffer.push(base64IntToCharCode[Math.round((this.limitRise - 2000.0) / 250.0)]); // 2000 ~ 10000 by 250, mapped to 0 ~ 32\n            buffer.push(base64IntToCharCode[Math.round(this.compressionThreshold * 20)]); // 0 ~ 1.1 by 0.05, mapped to 0 ~ 22\n            buffer.push(base64IntToCharCode[Math.round(this.limitThreshold * 20)]); // 0 ~ 2 by 0.05, mapped to 0 ~ 40\n            buffer.push(base64IntToCharCode[Math.round(this.masterGain * 50) >> 6], base64IntToCharCode[Math.round(this.masterGain * 50) & 0x3f]); // 0 ~ 5 by 0.02, mapped to 0 ~ 250\n        }\n        else {\n            buffer.push(base64IntToCharCode[0x3f]); // Not using limiter\n        }\n\n        buffer.push(SongTagCode.channelNames);\n        for (let channel: number = 0; channel < this.getChannelCount(); channel++) {\n            // Length of the channel name string\n            var encodedChannelName: string = encodeURIComponent(this.channels[channel].name);\n            buffer.push(base64IntToCharCode[encodedChannelName.length >> 6], base64IntToCharCode[encodedChannelName.length & 0x3f]);\n\n            // Actual encoded string follows\n            for (let i: number = 0; i < encodedChannelName.length; i++) {\n                buffer.push(encodedChannelName.charCodeAt(i));\n            }\n        }\n\n        buffer.push(SongTagCode.instrumentCount, base64IntToCharCode[(<any>this.layeredInstruments << 1) | <any>this.patternInstruments]);\n        if (this.layeredInstruments || this.patternInstruments) {\n            for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                buffer.push(base64IntToCharCode[this.channels[channelIndex].instruments.length - Config.instrumentCountMin]);\n            }\n        }\n\n        buffer.push(SongTagCode.channelOctave);\n        for (let channelIndex: number = 0; channelIndex < this.pitchChannelCount; channelIndex++) {\n            buffer.push(base64IntToCharCode[this.channels[channelIndex].octave]);\n        }\n\n        for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n            for (let i: number = 0; i < this.channels[channelIndex].instruments.length; i++) {\n                const instrument: Instrument = this.channels[channelIndex].instruments[i];\n                buffer.push(SongTagCode.startInstrument, base64IntToCharCode[instrument.type]);\n                buffer.push(SongTagCode.volume, base64IntToCharCode[(instrument.volume + Config.volumeRange / 2) >> 6], base64IntToCharCode[(instrument.volume + Config.volumeRange / 2) & 0x3f]);\n                buffer.push(SongTagCode.preset, base64IntToCharCode[instrument.preset >> 6], base64IntToCharCode[instrument.preset & 63]);\n\n                buffer.push(SongTagCode.eqFilter);\n                buffer.push(base64IntToCharCode[+instrument.eqFilterType]);\n                if (instrument.eqFilterType) {\n                    buffer.push(base64IntToCharCode[instrument.eqFilterSimpleCut]);\n                    buffer.push(base64IntToCharCode[instrument.eqFilterSimplePeak]);\n                }\n                else {\n                    if (instrument.eqFilter == null) {\n                        // Push null filter settings\n                        buffer.push(base64IntToCharCode[0]);\n                        console.log(\"Null EQ filter settings detected in toBase64String for channelIndex \" + channelIndex + \", instrumentIndex \" + i);\n                    } else {\n                        buffer.push(base64IntToCharCode[instrument.eqFilter.controlPointCount]);\n                        for (let j: number = 0; j < instrument.eqFilter.controlPointCount; j++) {\n                            const point: FilterControlPoint = instrument.eqFilter.controlPoints[j];\n                            buffer.push(base64IntToCharCode[point.type], base64IntToCharCode[Math.round(point.freq)], base64IntToCharCode[Math.round(point.gain)]);\n                        }\n                    }\n\n                    // Push subfilters as well. Skip Index 0, is a copy of the base filter.\n                    let usingSubFilterBitfield: number = 0;\n                    for (let j: number = 0; j < Config.filterMorphCount - 1; j++) {\n                        usingSubFilterBitfield |= (+(instrument.eqSubFilters[j + 1] != null) << j);\n                    }\n                    // Put subfilter usage into 2 chars (12 bits)\n                    buffer.push(base64IntToCharCode[usingSubFilterBitfield >> 6], base64IntToCharCode[usingSubFilterBitfield & 63]);\n                    // Put subfilter info in for all used subfilters\n                    for (let j: number = 0; j < Config.filterMorphCount - 1; j++) {\n                        if (usingSubFilterBitfield & (1 << j)) {\n                            buffer.push(base64IntToCharCode[instrument.eqSubFilters[j + 1]!.controlPointCount]);\n                            for (let k: number = 0; k < instrument.eqSubFilters[j + 1]!.controlPointCount; k++) {\n                                const point: FilterControlPoint = instrument.eqSubFilters[j + 1]!.controlPoints[k];\n                                buffer.push(base64IntToCharCode[point.type], base64IntToCharCode[Math.round(point.freq)], base64IntToCharCode[Math.round(point.gain)]);\n                            }\n                        }\n                    }\n                }\n\n                // The list of enabled effects is represented as a 12-bit bitfield using two six-bit characters.\n                buffer.push(SongTagCode.effects, base64IntToCharCode[instrument.effects >> 6], base64IntToCharCode[instrument.effects & 63]);\n                if (effectsIncludeNoteFilter(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[+instrument.noteFilterType]);\n                    if (instrument.noteFilterType) {\n                        buffer.push(base64IntToCharCode[instrument.noteFilterSimpleCut]);\n                        buffer.push(base64IntToCharCode[instrument.noteFilterSimplePeak]);\n                    }\n                    else {\n                        if (instrument.noteFilter == null) {\n                            // Push null filter settings\n                            buffer.push(base64IntToCharCode[0]);\n                            console.log(\"Null note filter settings detected in toBase64String for channelIndex \" + channelIndex + \", instrumentIndex \" + i);\n                        }\n                        else {\n                            buffer.push(base64IntToCharCode[instrument.noteFilter.controlPointCount]);\n                            for (let j: number = 0; j < instrument.noteFilter.controlPointCount; j++) {\n                                const point: FilterControlPoint = instrument.noteFilter.controlPoints[j];\n                                buffer.push(base64IntToCharCode[point.type], base64IntToCharCode[Math.round(point.freq)], base64IntToCharCode[Math.round(point.gain)]);\n                            }\n                        }\n\n                        // Push subfilters as well. Skip Index 0, is a copy of the base filter.\n                        let usingSubFilterBitfield: number = 0;\n                        for (let j: number = 0; j < Config.filterMorphCount - 1; j++) {\n                            usingSubFilterBitfield |= (+(instrument.noteSubFilters[j + 1] != null) << j);\n                        }\n                        // Put subfilter usage into 2 chars (12 bits)\n                        buffer.push(base64IntToCharCode[usingSubFilterBitfield >> 6], base64IntToCharCode[usingSubFilterBitfield & 63]);\n                        // Put subfilter info in for all used subfilters\n                        for (let j: number = 0; j < Config.filterMorphCount - 1; j++) {\n                            if (usingSubFilterBitfield & (1 << j)) {\n                                buffer.push(base64IntToCharCode[instrument.noteSubFilters[j + 1]!.controlPointCount]);\n                                for (let k: number = 0; k < instrument.noteSubFilters[j + 1]!.controlPointCount; k++) {\n                                    const point: FilterControlPoint = instrument.noteSubFilters[j + 1]!.controlPoints[k];\n                                    buffer.push(base64IntToCharCode[point.type], base64IntToCharCode[Math.round(point.freq)], base64IntToCharCode[Math.round(point.gain)]);\n                                }\n                            }\n                        }\n                    }\n                }\n                if (effectsIncludeTransition(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.transition]);\n                }\n                if (effectsIncludeChord(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.chord]);\n                    // Custom arpeggio speed... only if the instrument arpeggiates.\n                    if (instrument.chord == Config.chords.dictionary[\"arpeggio\"].index) {\n                        buffer.push(base64IntToCharCode[instrument.arpeggioSpeed]);\n                        buffer.push(base64IntToCharCode[+instrument.fastTwoNoteArp]); // Two note arp setting piggybacks on this\n                    }\n                }\n                if (effectsIncludePitchShift(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.pitchShift]);\n                }\n                if (effectsIncludeDetune(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[(instrument.detune - Config.detuneMin) >> 6], base64IntToCharCode[(instrument.detune - Config.detuneMin) & 0x3F]);\n                }\n                if (effectsIncludeVibrato(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.vibrato]);\n                    // Custom vibrato settings\n                    if (instrument.vibrato == Config.vibratos.length) {\n                        buffer.push(base64IntToCharCode[Math.round(instrument.vibratoDepth * 25)]);\n                        buffer.push(base64IntToCharCode[instrument.vibratoSpeed]);\n                        buffer.push(base64IntToCharCode[Math.round(instrument.vibratoDelay)]);\n                        buffer.push(base64IntToCharCode[instrument.vibratoType]);\n                    }\n                }\n                if (effectsIncludeDistortion(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.distortion]);\n                    // Aliasing is tied into distortion for now\n                    buffer.push(base64IntToCharCode[+instrument.aliases]);\n                }\n                if (effectsIncludeBitcrusher(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.bitcrusherFreq], base64IntToCharCode[instrument.bitcrusherQuantization]);\n                }\n                if (effectsIncludePanning(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.pan >> 6], base64IntToCharCode[instrument.pan & 0x3f]);\n                    buffer.push(base64IntToCharCode[instrument.panDelay]);\n                }\n                if (effectsIncludeChorus(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.chorus]);\n                }\n                if (effectsIncludeEcho(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.echoSustain], base64IntToCharCode[instrument.echoDelay]);\n                }\n                if (effectsIncludeReverb(instrument.effects)) {\n                    buffer.push(base64IntToCharCode[instrument.reverb]);\n                }\n\n                if (instrument.type != InstrumentType.drumset) {\n                    buffer.push(SongTagCode.fadeInOut, base64IntToCharCode[instrument.fadeIn], base64IntToCharCode[instrument.fadeOut]);\n                    // Transition info follows transition song tag\n                    buffer.push(base64IntToCharCode[+instrument.clicklessTransition]);\n                }\n\n                if (instrument.type == InstrumentType.harmonics || instrument.type == InstrumentType.pickedString) {\n                    buffer.push(SongTagCode.harmonics);\n                    const harmonicsBits: BitFieldWriter = new BitFieldWriter();\n                    for (let i: number = 0; i < Config.harmonicsControlPoints; i++) {\n                        harmonicsBits.write(Config.harmonicsControlPointBits, instrument.harmonicsWave.harmonics[i]);\n                    }\n                    harmonicsBits.encodeBase64(buffer);\n                }\n\n                if (instrument.type == InstrumentType.chip) {\n                   \t\t\t\t\t\tif (instrument.chipWave > 186) {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave - 186]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[3]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (instrument.chipWave > 124) {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave - 124]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[2]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (instrument.chipWave > 62) {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave - 62]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[1]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[0]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbuffer.push(104, base64IntToCharCode[instrument.unison]);\n                        if (instrument.unison == Config.unisons.length) encodeUnisonSettings(buffer, instrument.unisonVoices, instrument.unisonSpread, instrument.unisonOffset, instrument.unisonExpression, instrument.unisonSign);\n\n\t\t\t\t\t\t// Repurposed for chip wave loop controls.\n\t\t\t\t\t\tbuffer.push(SongTagCode.filterResonance);\n\t\t\t\t\t\t// The encoding here is as follows:\n\t\t\t\t\t\t// 0b11111_1\n\t\t\t\t\t\t//         ^-- isUsingAdvancedLoopControls\n\t\t\t\t\t\t//   ^^^^^---- chipWaveLoopMode\n\t\t\t\t\t\t// This essentially allocates 32 different loop modes,\n\t\t\t\t\t\t// which should be plenty.\n\t\t\t\t\t\tconst encodedLoopMode: number = (\n\t\t\t\t\t\t\t(clamp(0, 31 + 1, instrument.chipWaveLoopMode) << 1)\n\t\t\t\t\t\t\t| (instrument.isUsingAdvancedLoopControls ? 1 : 0)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbuffer.push(base64IntToCharCode[encodedLoopMode]);\n\t\t\t\t\t\t// The same encoding above is used here, but with the release mode\n\t\t\t\t\t\t// (which isn't implemented currently), and the backwards toggle.\n\t\t\t\t\t\tconst encodedReleaseMode: number = (\n\t\t\t\t\t\t\t(clamp(0, 31 + 1, 0) << 1)\n\t\t\t\t\t\t\t| (instrument.chipWavePlayBackwards ? 1 : 0)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbuffer.push(base64IntToCharCode[encodedReleaseMode]);\n\t\t\t\t\t\tencode32BitNumber(buffer, instrument.chipWaveLoopStart);\n\t\t\t\t\t\tencode32BitNumber(buffer, instrument.chipWaveLoopEnd);\n\t\t\t\t\t\tencode32BitNumber(buffer, instrument.chipWaveStartOffset);\n\n                } else if (instrument.type == InstrumentType.fm || instrument.type == InstrumentType.fm6op) {\n                    if (instrument.type == InstrumentType.fm) {\n                        buffer.push(SongTagCode.algorithm, base64IntToCharCode[instrument.algorithm]);\n                        buffer.push(SongTagCode.feedbackType, base64IntToCharCode[instrument.feedbackType]);\n                    } else {\n                        buffer.push(SongTagCode.algorithm, base64IntToCharCode[instrument.algorithm6Op]);\n                        if (instrument.algorithm6Op == 0) {\n                            buffer.push(SongTagCode.chord, base64IntToCharCode[instrument.customAlgorithm.carrierCount]);\n                            buffer.push(SongTagCode.effects);\n                            for (let o: number = 0; o < instrument.customAlgorithm.modulatedBy.length; o++) {\n                                for (let j: number = 0; j < instrument.customAlgorithm.modulatedBy[o].length; j++) {\n                                    buffer.push(base64IntToCharCode[instrument.customAlgorithm.modulatedBy[o][j]]);\n                                }\n                                buffer.push(SongTagCode.operatorWaves);\n                            }\n                            buffer.push(SongTagCode.effects);\n                        }\n                        buffer.push(SongTagCode.feedbackType, base64IntToCharCode[instrument.feedbackType6Op]);\n                        if (instrument.feedbackType6Op == 0) {\n                            buffer.push(SongTagCode.effects);\n                            for (let o: number = 0; o < instrument.customFeedbackType.indices.length; o++) {\n                                for (let j: number = 0; j < instrument.customFeedbackType.indices[o].length; j++) {\n                                    buffer.push(base64IntToCharCode[instrument.customFeedbackType.indices[o][j]]);\n                                }\n                                buffer.push(SongTagCode.operatorWaves);\n                            }\n                            buffer.push(SongTagCode.effects);\n                        }\n                    }\n                    buffer.push(SongTagCode.feedbackAmplitude, base64IntToCharCode[instrument.feedbackAmplitude]);\n\n                    buffer.push(SongTagCode.operatorFrequencies);\n                    for (let o: number = 0; o < (instrument.type == InstrumentType.fm6op?6:Config.operatorCount); o++) {\n                        buffer.push(base64IntToCharCode[instrument.operators[o].frequency]);\n                    }\n                    buffer.push(SongTagCode.operatorAmplitudes);\n                    for (let o: number = 0; o < (instrument.type == InstrumentType.fm6op ? 6 : Config.operatorCount); o++) {\n                        buffer.push(base64IntToCharCode[instrument.operators[o].amplitude]);\n                    }\n                    buffer.push(SongTagCode.operatorWaves);\n                    for (let o: number = 0; o < (instrument.type == InstrumentType.fm6op ? 6 : Config.operatorCount); o++) {\n                        buffer.push(base64IntToCharCode[instrument.operators[o].waveform]);\n                        // Push pulse width if that type is used\n                        if (instrument.operators[o].waveform == 2) {\n                            buffer.push(base64IntToCharCode[instrument.operators[o].pulseWidth]);\n                        }\n                    }\n                } else if (instrument.type == InstrumentType.customChipWave) {\n                    if (instrument.chipWave > 186) {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave - 186]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[3]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (instrument.chipWave > 124) {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave - 124]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[2]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (instrument.chipWave > 62) {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave - 62]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[1]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbuffer.push(119, base64IntToCharCode[instrument.chipWave]);\t\n\t\t\t\t\t\t\tbuffer.push(base64IntToCharCode[0]);\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbuffer.push(104, base64IntToCharCode[instrument.unison]);\n                        if (instrument.unison == Config.unisons.length) encodeUnisonSettings(buffer, instrument.unisonVoices, instrument.unisonSpread, instrument.unisonOffset, instrument.unisonExpression, instrument.unisonSign);\n                    buffer.push(SongTagCode.customChipWave);\n                    // Push custom wave values\n                    for (let j: number = 0; j < 64; j++) {\n                        buffer.push(base64IntToCharCode[(instrument.customChipWave[j] + 24) as number]);\n                    }\n                } else if (instrument.type == InstrumentType.noise) {\n                    buffer.push(SongTagCode.wave, base64IntToCharCode[instrument.chipNoise]);\n                } else if (instrument.type == InstrumentType.spectrum) {\n                    buffer.push(SongTagCode.spectrum);\n                    const spectrumBits: BitFieldWriter = new BitFieldWriter();\n                    for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                        spectrumBits.write(Config.spectrumControlPointBits, instrument.spectrumWave.spectrum[i]);\n                    }\n                    spectrumBits.encodeBase64(buffer);\n                } else if (instrument.type == InstrumentType.drumset) {\n                    buffer.push(SongTagCode.drumsetEnvelopes);\n                    for (let j: number = 0; j < Config.drumCount; j++) {\n                        buffer.push(base64IntToCharCode[instrument.drumsetEnvelopes[j]]);\n                    }\n\n                    buffer.push(SongTagCode.spectrum);\n                    const spectrumBits: BitFieldWriter = new BitFieldWriter();\n                    for (let j: number = 0; j < Config.drumCount; j++) {\n                        for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                            spectrumBits.write(Config.spectrumControlPointBits, instrument.drumsetSpectrumWaves[j].spectrum[i]);\n                        }\n                    }\n                    spectrumBits.encodeBase64(buffer);\n                } else if (instrument.type == InstrumentType.harmonics) {\n                    buffer.push(SongTagCode.unison, base64IntToCharCode[instrument.unison]);\n                    if (instrument.unison == Config.unisons.length) encodeUnisonSettings(buffer, instrument.unisonVoices, instrument.unisonSpread, instrument.unisonOffset, instrument.unisonExpression, instrument.unisonSign);\n                } else if (instrument.type == InstrumentType.pwm) {\n                    buffer.push(SongTagCode.pulseWidth, base64IntToCharCode[instrument.pulseWidth]);\n                    buffer.push(base64IntToCharCode[instrument.decimalOffset >> 6], base64IntToCharCode[instrument.decimalOffset & 0x3f]); \n                } else if (instrument.type == InstrumentType.pickedString) {\n                    buffer.push(SongTagCode.unison, base64IntToCharCode[instrument.unison]);\n                    if (instrument.unison == Config.unisons.length) encodeUnisonSettings(buffer, instrument.unisonVoices, instrument.unisonSpread, instrument.unisonOffset, instrument.unisonExpression, instrument.unisonSign);\n                    buffer.push(SongTagCode.stringSustain, base64IntToCharCode[instrument.stringSustain]);\n                } else if (instrument.type == InstrumentType.mod) {\n                    // Handled down below. Could be moved, but meh.\n                } else {\n                    throw new Error(\"Unknown instrument type.\");\n                }\n\n                buffer.push(SongTagCode.envelopes, base64IntToCharCode[instrument.envelopeCount]);\n                for (let envelopeIndex: number = 0; envelopeIndex < instrument.envelopeCount; envelopeIndex++) {\n                    buffer.push(base64IntToCharCode[instrument.envelopes[envelopeIndex].target]);\n                    if (Config.instrumentAutomationTargets[instrument.envelopes[envelopeIndex].target].maxCount > 1) {\n                        buffer.push(base64IntToCharCode[instrument.envelopes[envelopeIndex].index]);\n                    }\n                    buffer.push(base64IntToCharCode[instrument.envelopes[envelopeIndex].envelope]);\n                }\n            }\n        }\n\n        buffer.push(SongTagCode.bars);\n        bits = new BitFieldWriter();\n        let neededBits: number = 0;\n        while ((1 << neededBits) < this.patternsPerChannel + 1) neededBits++;\n        for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) for (let i: number = 0; i < this.barCount; i++) {\n            bits.write(neededBits, this.channels[channelIndex].bars[i]);\n        }\n        bits.encodeBase64(buffer);\n\n        buffer.push(SongTagCode.patterns);\n        bits = new BitFieldWriter();\n        const shapeBits: BitFieldWriter = new BitFieldWriter();\n        const bitsPerNoteSize: number = Song.getNeededBits(Config.noteSizeMax);\n        for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n            const channel: Channel = this.channels[channelIndex];\n            const maxInstrumentsPerPattern: number = this.getMaxInstrumentsPerPattern(channelIndex);\n            const isNoiseChannel: boolean = this.getChannelIsNoise(channelIndex);\n            const isModChannel: boolean = this.getChannelIsMod(channelIndex);\n            const neededInstrumentCountBits: number = Song.getNeededBits(maxInstrumentsPerPattern - Config.instrumentCountMin);\n            const neededInstrumentIndexBits: number = Song.getNeededBits(channel.instruments.length - 1);\n\n            // Some info about modulator settings immediately follows in mod channels.\n            if (isModChannel) {\n                const neededModInstrumentIndexBits: number = Song.getNeededBits(this.getMaxInstrumentsPerChannel() + 2);\n                for (let instrumentIndex: number = 0; instrumentIndex < channel.instruments.length; instrumentIndex++) {\n\n                    let instrument: Instrument = this.channels[channelIndex].instruments[instrumentIndex];\n\n                    for (let mod: number = 0; mod < Config.modCount; mod++) {\n                        const modChannel: number = instrument.modChannels[mod];\n                        const modInstrument: number = instrument.modInstruments[mod];\n                        const modSetting: number = instrument.modulators[mod];\n                        const modFilter: number = instrument.modFilterTypes[mod];\n\n                        // Still using legacy \"mod status\" format, but doing it manually as it's only used in the URL now.\n                        // 0 - For pitch/noise\n                        // 1 - (used to be For noise, not needed)\n                        // 2 - For song\n                        // 3 - None\n\n                        let status: number = Config.modulators[modSetting].forSong ? 2 : 0;\n                        if (modSetting == Config.modulators.dictionary[\"none\"].index)\n                            status = 3;\n\n                        bits.write(2, status);\n\n                        // Channel/Instrument is only used if the status isn't \"song\" or \"none\".\n                        if (status == 0 || status == 1) {\n                            bits.write(8, modChannel);\n                            bits.write(neededModInstrumentIndexBits, modInstrument);\n                        }\n\n                        // Only used if setting isn't \"none\".\n                        if (status != 3) {\n                            bits.write(6, modSetting);\n                        }\n\n                        // Write mod filter info, only if this is a filter mod\n                        if (Config.modulators[instrument.modulators[mod]].name == \"eq filter\" || Config.modulators[instrument.modulators[mod]].name == \"note filter\") {\n                            bits.write(6, modFilter);\n                        }\n                    }\n                }\n            }\n            const octaveOffset: number = (isNoiseChannel || isModChannel) ? 0 : channel.octave * Config.pitchesPerOctave;\n            let lastPitch: number = (isNoiseChannel ? 4 : octaveOffset);\n            const recentPitches: number[] = isModChannel ? [0, 1, 2, 3, 4, 5] : (isNoiseChannel ? [4, 6, 7, 2, 3, 8, 0, 10] : [0, 7, 12, 19, 24, -5, -12]);\n            const recentShapes: string[] = [];\n            for (let i: number = 0; i < recentPitches.length; i++) {\n                recentPitches[i] += octaveOffset;\n            }\n            for (const pattern of channel.patterns) {\n                if (this.patternInstruments) {\n                    const instrumentCount: number = validateRange(Config.instrumentCountMin, maxInstrumentsPerPattern, pattern.instruments.length);\n                    bits.write(neededInstrumentCountBits, instrumentCount - Config.instrumentCountMin);\n                    for (let i: number = 0; i < instrumentCount; i++) {\n                        bits.write(neededInstrumentIndexBits, pattern.instruments[i]);\n                    }\n                }\n\n                if (pattern.notes.length > 0) {\n                    bits.write(1, 1);\n\n                    let curPart: number = 0;\n                    for (const note of pattern.notes) {\n\n                        // For mod channels, a negative offset may be necessary.\n                        if (note.start < curPart && isModChannel) {\n                            bits.write(2, 0); // rest, then...\n                            bits.write(1, 1); // negative offset\n                            bits.writePartDuration(curPart - note.start);\n                        }\n\n                        if (note.start > curPart) {\n                            bits.write(2, 0); // rest\n                            if (isModChannel) bits.write(1, 0); // positive offset, only needed for mod channels\n                            bits.writePartDuration(note.start - curPart);\n                        }\n\n                        shapeBits.clear();\n\n                        // Old format was:\n                        // 0: 1 pitch, 10: 2 pitches, 110: 3 pitches, 111: 4 pitches\n                        // New format is:\n                        //      0: 1 pitch\n                        // 1[XXX]: 3 bits of binary signifying 2+ pitches\n                        if (note.pitches.length == 1) {\n                            shapeBits.write(1, 0);\n                        } else {\n                            shapeBits.write(1, 1);\n                            shapeBits.write(3, note.pitches.length - 2);\n                        }\n\n                        shapeBits.writePinCount(note.pins.length - 1);\n\n                        if (!isModChannel) {\n                            shapeBits.write(bitsPerNoteSize, note.pins[0].size); // volume\n                        }\n                        else {\n                            shapeBits.write(9, note.pins[0].size); // Modulator value. 9 bits for now = 512 max mod value?\n                        }\n\n                        let shapePart: number = 0;\n                        let startPitch: number = note.pitches[0];\n                        let currentPitch: number = startPitch;\n                        const pitchBends: number[] = [];\n                        for (let i: number = 1; i < note.pins.length; i++) {\n                            const pin: NotePin = note.pins[i];\n                            const nextPitch: number = startPitch + pin.interval;\n                            if (currentPitch != nextPitch) {\n                                shapeBits.write(1, 1);\n                                pitchBends.push(nextPitch);\n                                currentPitch = nextPitch;\n                            } else {\n                                shapeBits.write(1, 0);\n                            }\n                            shapeBits.writePartDuration(pin.time - shapePart);\n                            shapePart = pin.time;\n                            if (!isModChannel) {\n                                shapeBits.write(bitsPerNoteSize, pin.size);\n                            } else {\n                                shapeBits.write(9, pin.size);\n                            }\n                        }\n\n                        const shapeString: string = String.fromCharCode.apply(null, shapeBits.encodeBase64([]));\n                        const shapeIndex: number = recentShapes.indexOf(shapeString);\n                        if (shapeIndex == -1) {\n                            bits.write(2, 1); // new shape\n                            bits.concat(shapeBits);\n                        } else {\n                            bits.write(1, 1); // old shape\n                            bits.writeLongTail(0, 0, shapeIndex);\n                            recentShapes.splice(shapeIndex, 1);\n                        }\n                        recentShapes.unshift(shapeString);\n                        if (recentShapes.length > 10) recentShapes.pop();\n\n                        const allPitches: number[] = note.pitches.concat(pitchBends);\n                        for (let i: number = 0; i < allPitches.length; i++) {\n                            const pitch: number = allPitches[i];\n                            const pitchIndex: number = recentPitches.indexOf(pitch);\n                            if (pitchIndex == -1) {\n                                let interval: number = 0;\n                                let pitchIter: number = lastPitch;\n                                if (pitchIter < pitch) {\n                                    while (pitchIter != pitch) {\n                                        pitchIter++;\n                                        if (recentPitches.indexOf(pitchIter) == -1) interval++;\n                                    }\n                                } else {\n                                    while (pitchIter != pitch) {\n                                        pitchIter--;\n                                        if (recentPitches.indexOf(pitchIter) == -1) interval--;\n                                    }\n                                }\n                                bits.write(1, 0);\n                                bits.writePitchInterval(interval);\n                            } else {\n                                bits.write(1, 1);\n                                bits.write(4, pitchIndex);\n                                recentPitches.splice(pitchIndex, 1);\n                            }\n                            recentPitches.unshift(pitch);\n                            if (recentPitches.length > 16) recentPitches.pop();\n\n                            if (i == note.pitches.length - 1) {\n                                lastPitch = note.pitches[0];\n                            } else {\n                                lastPitch = pitch;\n                            }\n                        }\n\n                        if (note.start == 0) {\n                            bits.write(1, note.continuesLastPattern ? 1 : 0);\n                        }\n\n                        curPart = note.end;\n                    }\n\n                    if (curPart < this.beatsPerBar * Config.partsPerBeat + (+isModChannel)) {\n                        bits.write(2, 0); // rest\n                        if (isModChannel) bits.write(1, 0); // positive offset\n                        bits.writePartDuration(this.beatsPerBar * Config.partsPerBeat + (+isModChannel) - curPart);\n                    }\n                } else {\n                    bits.write(1, 0);\n                }\n            }\n        }\n        let stringLength: number = bits.lengthBase64();\n        let digits: number[] = [];\n        while (stringLength > 0) {\n            digits.unshift(base64IntToCharCode[stringLength & 0x3f]);\n            stringLength = stringLength >> 6;\n        }\n        buffer.push(base64IntToCharCode[digits.length]);\n        Array.prototype.push.apply(buffer, digits); // append digits to buffer.\n        bits.encodeBase64(buffer);\n\t    \n        const maxApplyArgs: number = 64000;\n\t    \t\t\t            let customSamplesStr = \"\";\n            if(EditorConfig.customSamples != undefined && EditorConfig.customSamples.length > 0){\n              customSamplesStr = \"|\" + EditorConfig.customSamples.join(\"|\")\n              \n          }\n\t\t  //samplemark\n        if (buffer.length < maxApplyArgs) {\n            // Note: Function.apply may break for long argument lists. \n                            return String.fromCharCode.apply(null, buffer) + customSamplesStr;\n\t\t\t\t//samplemark\n        } else {\n            let result: string = \"\";\n            for (let i: number = 0; i < buffer.length; i += maxApplyArgs) {\n                result += String.fromCharCode.apply(null, buffer.slice(i, i + maxApplyArgs));\n            }\n                          return result + customSamplesStr;\n\t\t\t   //samplemark\n        }\n    }\n\n    private static _envelopeFromLegacyIndex(legacyIndex: number): Envelope {\n        // I swapped the order of \"custom\"/\"steady\", now \"none\"/\"note size\".\n        if (legacyIndex == 0) legacyIndex = 1; else if (legacyIndex == 1) legacyIndex = 0;\n        return Config.envelopes[clamp(0, Config.envelopes.length, legacyIndex)];\n    }\n\n    public fromBase64String(compressed: string): void {\n        if (compressed == null || compressed == \"\") {\n            Song._clearSamples();\n\n            this.initToDefault(true);\n            return;\n        }\n        let charIndex: number = 0;\n        // skip whitespace.\n        while (compressed.charCodeAt(charIndex) <= CharCode.SPACE) charIndex++;\n        // skip hash mark.\n        if (compressed.charCodeAt(charIndex) == CharCode.HASH) charIndex++;\n        // if it starts with curly brace, treat it as JSON.\n        if (compressed.charCodeAt(charIndex) == CharCode.LEFT_CURLY_BRACE) {\n            this.fromJsonObject(JSON.parse(charIndex == 0 ? compressed : compressed.substring(charIndex)));\n            return;\n        }\n\n        const variantTest: number = compressed.charCodeAt(charIndex);\n        let fromBeepBox: boolean;\n        let fromJummBox: boolean;\n        let fromGoldBox: boolean;\n\tlet fromUltraBox: boolean;\n\n        // Detect variant here. If version doesn't match known variant, assume it is a vanilla string which does not report variant.\n        if (variantTest == 0x6A) { //\"j\"\n            fromBeepBox = false;\n            fromJummBox = true;\n            fromGoldBox = false;\n\t        fromUltraBox = false;\n            charIndex++;\n        } else if (variantTest == 0x67) { //\"g\"\n            fromBeepBox = false;\n            fromJummBox = false;\n            fromGoldBox = true;\n\t        fromUltraBox = false;\n            charIndex++;\n        } else if (variantTest == 0x75) { //\"u\"\n                fromBeepBox = false;\n                fromJummBox = false;\n                fromGoldBox = false;\n\t\t        fromUltraBox = true;\n                charIndex++;\n            } else {\n            fromBeepBox = true;\n            fromJummBox = false;\n            fromGoldBox = false;\n\t        fromUltraBox = false;\n        }\n\n        const version: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n        if (fromBeepBox && (version == -1 || version > Song._latestBeepboxVersion || version < Song._oldestBeepboxVersion)) return;\n        if (fromJummBox && (version == -1 || version > Song._latestJummBoxVersion || version < Song._oldestJummBoxVersion)) return;\n        if (fromGoldBox && (version == -1 || version > Song._latestGoldBoxVersion || version < Song._oldestGoldBoxVersion)) return;\n\t    if (fromUltraBox && (version == -1 || version > Song._latestUltraBoxVersion || version < Song._oldestUltraBoxVersion)) return;\n        const beforeTwo: boolean = version < 2;\n        const beforeThree: boolean = version < 3;\n        const beforeFour: boolean = version < 4;\n        const beforeFive: boolean = version < 5;\n        const beforeSix: boolean = version < 6;\n        const beforeSeven: boolean = version < 7;\n        const beforeEight: boolean = version < 8;\n        const beforeNine: boolean = version < 9;\n        this.initToDefault((fromBeepBox && beforeNine) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox)));\n        const forceSimpleFilter: boolean = (fromBeepBox && beforeNine || fromJummBox && beforeFive);\n\n        let willLoadLegacySamplesForOldSongs: boolean = false;\n\n        if (fromUltraBox || fromGoldBox) {\n            compressed = compressed.replaceAll(\"%7C\", \"|\")\n                var compressed_array = compressed.split(\"|\");\n                compressed = compressed_array.shift()!;\n                if(EditorConfig.customSamples == null || EditorConfig.customSamples.join(\", \") != compressed_array.join(\", \")) {\n\n                    Song._restoreChipWaveListToDefault();\n\n                    let willLoadLegacySamples = false;\n                    let willLoadNintariboxSamples = false;\n                    let willLoadMarioPaintboxSamples = false;\n                    const customSampleUrls = [];\n                    const customSamplePresets: Preset[] = [];\n                    sampleLoadingState.statusTable = {};\n                    sampleLoadingState.urlTable = {};\n                    sampleLoadingState.totalSamples = 0;\n                    sampleLoadingState.samplesLoaded = 0;\n                    sampleLoadEvents.dispatchEvent(new SampleLoadedEvent(\n                        sampleLoadingState.totalSamples,\n                        sampleLoadingState.samplesLoaded\n                    ));\n                    for (const url of compressed_array) {\n                        if (url.toLowerCase() === \"legacysamples\") {\n                            if (!willLoadLegacySamples) {\n                                willLoadLegacySamples = true;\n                                customSampleUrls.push(url);\n                                loadBuiltInSamples(0);\n                            }\n                        } \n                        else if (url.toLowerCase() === \"nintariboxsamples\") {\n                            if (!willLoadNintariboxSamples) {\n                                willLoadNintariboxSamples = true;\n                                customSampleUrls.push(url);\n                                loadBuiltInSamples(1);\n                            }\n                        }\n                        else if (url.toLowerCase() === \"mariopaintboxsamples\") {\n                            if (!willLoadMarioPaintboxSamples) {\n                                willLoadMarioPaintboxSamples = true;\n                                customSampleUrls.push(url);\n                                loadBuiltInSamples(2);\n                            }\n                        }\n                        \n                        else {\n                            // UB version 2 URLs and below will be using the old syntax, so we do need to parse it in that case.\n                            // UB version 3 URLs should only have the new syntax, though, unless the user has edited the URL manually.\n                            const parseOldSyntax: boolean = beforeThree;\n                            const ok: boolean = Song._parseAndConfigureCustomSample(url, customSampleUrls, customSamplePresets, sampleLoadingState, parseOldSyntax);\n                            if (!ok) {\n                                continue;\n                            }\n                        }\n                    }\n                    if (customSampleUrls.length > 0) {\n                        EditorConfig.customSamples = customSampleUrls;\n                    }\n                    if (customSamplePresets.length > 0) {\n                        const customSamplePresetsMap: DictionaryArray<Preset> = toNameMap(customSamplePresets);\n                        EditorConfig.presetCategories[EditorConfig.presetCategories.length] = {\n                            name: \"Custom Sample Presets\",\n                            presets: customSamplePresetsMap,\n                            index: EditorConfig.presetCategories.length,\n                        };\n                        // EditorConfig.presetCategories.splice(1, 0, {\n                             // name: \"Custom Sample Presets\",\n                             // presets: customSamplePresets,\n                             // index: EditorConfig.presetCategories.length,\n                        // });\n                    }\n\n               \n                }\n                //samplemark\n        }\n\n        if (beforeThree && fromBeepBox) {\n            // Originally, the only instrument transition was \"instant\" and the only drum wave was \"retro\".\n            for (const channel of this.channels) {\n                channel.instruments[0].transition = Config.transitions.dictionary[\"interrupt\"].index;\n                channel.instruments[0].effects |= 1 << EffectType.transition;\n            }\n            this.channels[3].instruments[0].chipNoise = 0;\n        }\n\n        let legacySettingsCache: LegacySettings[][] | null = null;\n        if ((fromBeepBox && beforeNine) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n            // Unfortunately, old versions of BeepBox had a variety of different ways of saving\n            // filter-and-envelope-related parameters in the URL, and none of them directly\n            // correspond to the new way of saving these parameters. We can approximate the old\n            // settings by collecting all the old settings for an instrument and passing them to\n            // convertLegacySettings(), so I use this data structure to collect the settings\n            // for each instrument if necessary.\n            legacySettingsCache = [];\n            for (let i: number = legacySettingsCache.length; i < this.getChannelCount(); i++) {\n                legacySettingsCache[i] = [];\n                for (let j: number = 0; j < Config.instrumentCountMin; j++) legacySettingsCache[i][j] = {};\n            }\n        }\n\n        let legacyGlobalReverb: number = 0; // beforeNine reverb was song-global, record that reverb here and adapt it to instruments as needed.\n\n        let instrumentChannelIterator: number = 0;\n        let instrumentIndexIterator: number = -1;\n        let command: number;\n        let useSlowerArpSpeed: boolean = false;\n        let useFastTwoNoteArp: boolean = false;\n        while (charIndex < compressed.length) switch (command = compressed.charCodeAt(charIndex++)) {\n            case SongTagCode.songTitle: {\n                // Length of song name string\n                var songNameLength = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                this.title = decodeURIComponent(compressed.substring(charIndex, charIndex + songNameLength));\n                document.title = this.title + \" - \" + EditorConfig.versionDisplayName;\n\n                charIndex += songNameLength;\n            } break;\n            case SongTagCode.channelCount: {\n                this.pitchChannelCount = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                this.noiseChannelCount = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                if (fromBeepBox || beforeTwo) {\n                    // No mod channel support before jummbox v2\n                    this.modChannelCount = 0;\n                } else {\n                    this.modChannelCount = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                }\n                this.pitchChannelCount = validateRange(Config.pitchChannelCountMin, Config.pitchChannelCountMax, this.pitchChannelCount);\n                this.noiseChannelCount = validateRange(Config.noiseChannelCountMin, Config.noiseChannelCountMax, this.noiseChannelCount);\n                this.modChannelCount = validateRange(Config.modChannelCountMin, Config.modChannelCountMax, this.modChannelCount);\n\n                for (let channelIndex = this.channels.length; channelIndex < this.getChannelCount(); channelIndex++) {\n                    this.channels[channelIndex] = new Channel();\n                }\n                this.channels.length = this.getChannelCount();\n                if ((fromBeepBox && beforeNine) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    for (let i: number = legacySettingsCache!.length; i < this.getChannelCount(); i++) {\n                        legacySettingsCache![i] = [];\n                        for (let j: number = 0; j < Config.instrumentCountMin; j++) legacySettingsCache![i][j] = {};\n                    }\n                }\n            } break;\n            case SongTagCode.scale: {\n                this.scale = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                // All the scales were jumbled around by Jummbox. Just convert to free.\n                if (this.scale == Config.scales[\"dictionary\"][\"Custom\"].index) {\n                    for (var i = 1; i < Config.pitchesPerOctave; i++) {\n                        this.scaleCustom[i] = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] == 1; // ineffiecent? yes, all we're going to do for now? hell yes\n                    }\n                }\n                if (fromBeepBox) this.scale = 0;\n            } break;\n            case SongTagCode.key: {\n                if (beforeSeven && fromBeepBox) {\n                    this.key = clamp(0, Config.keys.length, 11 - base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    this.octave = 0;\n                } else if (fromBeepBox || fromJummBox) {\n                    this.key = clamp(0, Config.keys.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    this.octave = 0;\n                } else if (fromGoldBox || (beforeThree && fromUltraBox)) {\n                    // GoldBox (so far) didn't introduce any new keys, but old\n                    // songs made with early versions of UltraBox share the\n                    // same URL format, and those can have more keys. This\n                    // shouldn't really result in anything other than 0-11 for\n                    // the key and 0 for the octave for GoldBox songs.\n                    const rawKeyIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const [key, octave]: [number, number] = convertLegacyKeyToKeyAndOctave(rawKeyIndex);\n                    this.key = key;\n                    this.octave = octave;\n                } else {\n                    this.key = clamp(0, Config.keys.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    this.octave = clamp(Config.octaveMin, Config.octaveMax + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + Config.octaveMin);\n                }\n            } break;\n            case SongTagCode.loopStart: {\n                if (beforeFive && fromBeepBox) {\n                    this.loopStart = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                } else {\n                    this.loopStart = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                }\n            } break;\n            case SongTagCode.loopEnd: {\n                if (beforeFive && fromBeepBox) {\n                    this.loopLength = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                } else {\n                    this.loopLength = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1;\n                }\n            } break;\n            case SongTagCode.tempo: {\n                if (beforeFour && fromBeepBox) {\n                    this.tempo = [95, 120, 151, 190][base64CharCodeToInt[compressed.charCodeAt(charIndex++)]];\n                } else if (beforeSeven && fromBeepBox) {\n                    this.tempo = [88, 95, 103, 111, 120, 130, 140, 151, 163, 176, 190, 206, 222, 240, 259][base64CharCodeToInt[compressed.charCodeAt(charIndex++)]];\n                } else {\n                    this.tempo = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) | (base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                }\n                this.tempo = clamp(Config.tempoMin, Config.tempoMax + 1, this.tempo);\n            } break;\n            case SongTagCode.reverb: {\n                if (beforeNine && fromBeepBox) {\n                    legacyGlobalReverb = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 12;\n                    legacyGlobalReverb = clamp(0, Config.reverbRange, legacyGlobalReverb);\n                } else if ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox)) {\n                    legacyGlobalReverb = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    legacyGlobalReverb = clamp(0, Config.reverbRange, legacyGlobalReverb);\n                } else {\n                    // Do nothing, BeepBox v9+ do not support song-wide reverb - JummBox still does via modulator.\n                }\n            } break;\n            case SongTagCode.beatCount: {\n                if (beforeThree && fromBeepBox) {\n                    this.beatsPerBar = [6, 7, 8, 9, 10][base64CharCodeToInt[compressed.charCodeAt(charIndex++)]];\n                } else {\n                    this.beatsPerBar = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1;\n                }\n                this.beatsPerBar = Math.max(Config.beatsPerBarMin, Math.min(Config.beatsPerBarMax, this.beatsPerBar));\n            } break;\n            case SongTagCode.barCount: {\n                const barCount: number = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1;\n                this.barCount = validateRange(Config.barCountMin, Config.barCountMax, barCount);\n                for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                    for (let bar = this.channels[channelIndex].bars.length; bar < this.barCount; bar++) {\n                        this.channels[channelIndex].bars[bar] = (bar < 4) ? 1 : 0;\n                    }\n                    this.channels[channelIndex].bars.length = this.barCount;\n                }\n            } break;\n            case SongTagCode.patternCount: {\n                let patternsPerChannel: number;\n                if (beforeEight && fromBeepBox) {\n                    patternsPerChannel = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1;\n                } else {\n                    patternsPerChannel = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1;\n                }\n                this.patternsPerChannel = validateRange(1, Config.barCountMax, patternsPerChannel);\n                const channelCount: number = this.getChannelCount();\n                for (let channelIndex: number = 0; channelIndex < channelCount; channelIndex++) {\n                    const patterns: Pattern[] = this.channels[channelIndex].patterns;\n                    for (let pattern = patterns.length; pattern < this.patternsPerChannel; pattern++) {\n                        patterns[pattern] = new Pattern();\n                    }\n                    patterns.length = this.patternsPerChannel;\n                }\n            } break;\n            case SongTagCode.instrumentCount: {\n                if ((beforeNine && fromBeepBox) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    const instrumentsPerChannel: number = validateRange(Config.instrumentCountMin, Config.patternInstrumentCountMax, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + Config.instrumentCountMin);\n                    this.layeredInstruments = false;\n                    this.patternInstruments = (instrumentsPerChannel > 1);\n\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        const isNoiseChannel: boolean = channelIndex >= this.pitchChannelCount && channelIndex < this.pitchChannelCount + this.noiseChannelCount;\n                        const isModChannel: boolean = channelIndex >= this.pitchChannelCount + this.noiseChannelCount;\n\n                        for (let instrumentIndex: number = this.channels[channelIndex].instruments.length; instrumentIndex < instrumentsPerChannel; instrumentIndex++) {\n                            this.channels[channelIndex].instruments[instrumentIndex] = new Instrument(isNoiseChannel, isModChannel);\n                        }\n                        this.channels[channelIndex].instruments.length = instrumentsPerChannel;\n                        if (beforeSix && fromBeepBox) {\n                            for (let instrumentIndex: number = 0; instrumentIndex < instrumentsPerChannel; instrumentIndex++) {\n                                this.channels[channelIndex].instruments[instrumentIndex].setTypeAndReset(isNoiseChannel ? InstrumentType.noise : InstrumentType.chip, isNoiseChannel, isModChannel);\n                            }\n                        }\n\n                        for (let j: number = legacySettingsCache![channelIndex].length; j < instrumentsPerChannel; j++) {\n                            legacySettingsCache![channelIndex][j] = {};\n                        }\n                    }\n                } else {\n                    const instrumentsFlagBits: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    this.layeredInstruments = (instrumentsFlagBits & (1 << 1)) != 0;\n                    this.patternInstruments = (instrumentsFlagBits & (1 << 0)) != 0;\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        let instrumentCount: number = 1;\n                        if (this.layeredInstruments || this.patternInstruments) {\n                            instrumentCount = validateRange(Config.instrumentCountMin, this.getMaxInstrumentsPerChannel(), base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + Config.instrumentCountMin);\n                        }\n                        const channel: Channel = this.channels[channelIndex];\n                        const isNoiseChannel: boolean = this.getChannelIsNoise(channelIndex);\n                        const isModChannel: boolean = this.getChannelIsMod(channelIndex);\n                        for (let i: number = channel.instruments.length; i < instrumentCount; i++) {\n                            channel.instruments[i] = new Instrument(isNoiseChannel, isModChannel);\n                        }\n                        channel.instruments.length = instrumentCount;\n                    }\n                }\n            } break;\n            case SongTagCode.rhythm: {\n                if (!fromUltraBox) {\n\t\t\tlet newRhythm = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\t\n\t\t\tthis.rhythm = clamp(0, Config.rhythms.length, newRhythm + 2);\n\t\t\tif (fromJummBox && beforeThree || fromBeepBox) {\n\t\t\t\tif (this.rhythm == 2 || this.rhythm == 3) {\n\t\t\t\t\tuseSlowerArpSpeed = true;\n\t\t\t\t}\n\t\t\t\tif (this.rhythm >= 2) {\n\t\t\t\t\tuseFastTwoNoteArp = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\t\t\tthis.rhythm = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\t\t}\n\t\t//rhythm fixes\n            } break;\n            case SongTagCode.channelOctave: {\n                if (beforeThree && fromBeepBox) {\n                    const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    this.channels[channelIndex].octave = clamp(0, Config.pitchOctaves, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1);\n                    if (channelIndex >= this.pitchChannelCount) this.channels[channelIndex].octave = 0;\n                } else if ((beforeNine && fromBeepBox) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        this.channels[channelIndex].octave = clamp(0, Config.pitchOctaves, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1);\n                        if (channelIndex >= this.pitchChannelCount) this.channels[channelIndex].octave = 0;\n                    }\n                } else {\n                    for (let channelIndex: number = 0; channelIndex < this.pitchChannelCount; channelIndex++) {\n                        this.channels[channelIndex].octave = clamp(0, Config.pitchOctaves, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    }\n                    for (let channelIndex: number = this.pitchChannelCount; channelIndex < this.getChannelCount(); channelIndex++) {\n                        this.channels[channelIndex].octave = 0;\n                    }\n                }\n            } break;\n            case SongTagCode.startInstrument: {\n                instrumentIndexIterator++;\n                if (instrumentIndexIterator >= this.channels[instrumentChannelIterator].instruments.length) {\n                    instrumentChannelIterator++;\n                    instrumentIndexIterator = 0;\n                }\n                validateRange(0, this.channels.length - 1, instrumentChannelIterator);\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                // JB before v5 had custom chip in the place where pickedString is now, and mod one sooner as well. New index is +1 for both.\n                let instrumentType: number = validateRange(0, InstrumentType.length - 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                if ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox)) {\n                    if (instrumentType == InstrumentType.pickedString) {\n                        instrumentType = InstrumentType.customChipWave;\n                    }\n                    else if (instrumentType == InstrumentType.customChipWave) {\n                        instrumentType = InstrumentType.mod;\n                    }\n                }\n                instrument.setTypeAndReset(instrumentType, instrumentChannelIterator >= this.pitchChannelCount && instrumentChannelIterator < this.pitchChannelCount + this.noiseChannelCount, instrumentChannelIterator >= this.pitchChannelCount + this.noiseChannelCount);\n\n                // Anti-aliasing was added in BeepBox 3.0 (v6->v7) and JummBox 1.3 (v1->v2 roughly but some leakage possible)\n                if (((beforeSeven && fromBeepBox) || (beforeTwo && fromJummBox)) && (instrumentType == InstrumentType.chip || instrumentType == InstrumentType.customChipWave || instrumentType == InstrumentType.pwm)) {\n                    instrument.aliases = true;\n                    instrument.distortion = 0;\n                    instrument.effects |= 1 << EffectType.distortion;\n                }\n                if (useSlowerArpSpeed) {\n                    instrument.arpeggioSpeed = 9; // x3/4 speed. This used to be tied to rhythm, but now it is decoupled to each instrument's arp speed slider. This flag gets set when importing older songs to keep things consistent.\n                }\n                if (useFastTwoNoteArp) {\n                    instrument.fastTwoNoteArp = true;\n                }\n\n                if (beforeSeven && fromBeepBox) {\n                    instrument.effects = 0;\n                    // Chip/noise instruments had arpeggio and FM had custom interval but neither\n                    // explicitly saved the chorus setting beforeSeven so enable it here.\n                    if (instrument.chord != Config.chords.dictionary[\"simultaneous\"].index) {\n                        // Enable chord if it was used.\n                        instrument.effects |= 1 << EffectType.chord;\n                    }\n                }\n            } break;\n            case SongTagCode.preset: {\n                const presetValue: number = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) | (base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].preset = presetValue;\n                // Picked string was inserted before custom chip in JB v5, so bump up preset index.\n                if ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox)) {\n                    if (this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].preset == InstrumentType.pickedString) {\n                        this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].preset = InstrumentType.customChipWave;\n                    }\n                }\n            } break;\n            case SongTagCode.wave: {\n                if (beforeThree && fromBeepBox) {\n                    const legacyWaves: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 0];\n                    const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const instrument: Instrument = this.channels[channelIndex].instruments[0];\n                    instrument.chipWave = clamp(0, Config.chipWaves.length, legacyWaves[base64CharCodeToInt[compressed.charCodeAt(charIndex++)]] | 0);\n\n                    // Version 2 didn't save any settings for settings for filters, or envelopes,\n                    // just waves, so initialize them here I guess.\n                    instrument.convertLegacySettings(legacySettingsCache![channelIndex][0], forceSimpleFilter);\n\n                } else if (beforeSix && fromBeepBox) {\n                    const legacyWaves: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 0];\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        for (const instrument of this.channels[channelIndex].instruments) {\n                            if (channelIndex >= this.pitchChannelCount) {\n                                instrument.chipNoise = clamp(0, Config.chipNoises.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            } else {\n                                instrument.chipWave = clamp(0, Config.chipWaves.length, legacyWaves[base64CharCodeToInt[compressed.charCodeAt(charIndex++)]] | 0);\n                            }\n                        }\n                    }\n                } else if (beforeSeven && fromBeepBox) {\n                    const legacyWaves: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 0];\n                    if (instrumentChannelIterator >= this.pitchChannelCount) {\n                        this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipNoise = clamp(0, Config.chipNoises.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    } else {\n                        this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, legacyWaves[base64CharCodeToInt[compressed.charCodeAt(charIndex++)]] | 0);\n                    }\n                } else {\n                    if (this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].type == InstrumentType.noise) {\n                        this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipNoise = clamp(0, Config.chipNoises.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    } else {\t\n\t\t\t\tif (fromUltraBox) {\n\t\t\t\t\tconst chipWaveReal = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\t\t\t\t\tconst chipWaveCounter = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\t\t\t\t\n\t\t\t\t\tif (chipWaveCounter == 3) {\n\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, chipWaveReal + 186);\t\t\t\t\t\t\t\t\t\t\t   \t\t\t\t\t   \t \t\t\t\t\t\t  \t\t\t\t\t\t\t\t\n\t\t\t\t\t} else if (chipWaveCounter == 2) {\n\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, chipWaveReal + 124);\t\t\t\t\t\t\t\t\t\t\t   \t\t\t\t\t   \t \t\t\t\t\t\t  \t\t\t\t\t\t\t\t\n\t\t\t\t\t} else if (chipWaveCounter == 1) {\n\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, chipWaveReal + 62);\t\t\t\t\t\t\t\t\t\t\t   \t\t\t\t\t   \t \t\t\t\t\t\t  \t\t\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, chipWaveReal);\t\t\t\t\t\t\t\t\t\t\t   \t\t\t\t\t   \t \t\t\t\t\t\t  \t\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n\t\t\t\t}\n\t\t }\n        \t}\n            } break;\n\t\t\tcase 120:\n\t\t\t\t\t\tif (fromGoldBox && !beforeFour && beforeSix) {\n\t\t\t\t\t\t\tconst chipWaveForCompat = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\t\t\t\t\t\t\tif ((chipWaveForCompat + 62) > 85) {\n\t\t\t\t\t\t\t\tif (document.URL.substring(document.URL.length - 13).toLowerCase() != \"legacysamples\") {\n\t\t\t\t\t\t\t\t\tif (!willLoadLegacySamplesForOldSongs) {\n\t\t\t\t\t\t\t\t\t\twillLoadLegacySamplesForOldSongs = true;\n\t\t\t\t\t\t\t\t\t\tConfig.willReloadForCustomSamples = true;\n\t\t\t\t\t\t\t\t\t\tEditorConfig.customSamples = [\"legacySamples\"];\n\t\t\t\t\t\t\t\t\t\tloadBuiltInSamples(0);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ((chipWaveForCompat + 62) > 78) {\n\t\t\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, chipWaveForCompat + 63);\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if ((chipWaveForCompat + 62) > 67) {\n\t\t\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, chipWaveForCompat + 61);\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if ((chipWaveForCompat + 62) == 67) {\n\t\t\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = 40;\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tthis.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, chipWaveForCompat + 62);\t\t\t\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//is it more useful to save base64 characters or url length?\n\t\t\t\t\tbreak;\n            case SongTagCode.eqFilter: {\n                if ((beforeNine && fromBeepBox) || (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)) {\n                    if (beforeSeven && fromBeepBox) {\n                        const legacyToCutoff: number[] = [10, 6, 3, 0, 8, 5, 2];\n                        //const pregoldToEnvelope: number[] = [0, 1, 2, 4, 5, 6, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 23, 24, 25, 27, 28, 29, 32, 33, 34, 31, 11];\n                        const legacyToEnvelope: string[] = [\"none\", \"none\", \"none\", \"none\", \"decay 1\", \"decay 2\", \"decay 3\"];\n\n                        if (beforeThree && fromBeepBox) {\n                            const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                            const instrument: Instrument = this.channels[channelIndex].instruments[0];\n                            const legacySettings: LegacySettings = legacySettingsCache![channelIndex][0];\n                            const legacyFilter: number = [1, 3, 4, 5][clamp(0, legacyToCutoff.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                            legacySettings.filterCutoff = legacyToCutoff[legacyFilter];\n                            legacySettings.filterResonance = 0;\n                            legacySettings.filterEnvelope = Config.envelopes.dictionary[legacyToEnvelope[legacyFilter]];\n                            instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                        } else if (beforeSix && fromBeepBox) {\n                            for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                                for (let i: number = 0; i < this.channels[channelIndex].instruments.length; i++) {\n                                    const instrument: Instrument = this.channels[channelIndex].instruments[i];\n                                    const legacySettings: LegacySettings = legacySettingsCache![channelIndex][i];\n                                    const legacyFilter: number = clamp(0, legacyToCutoff.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 1);\n                                    if (channelIndex < this.pitchChannelCount) {\n                                        legacySettings.filterCutoff = legacyToCutoff[legacyFilter];\n                                        legacySettings.filterResonance = 0;\n                                        legacySettings.filterEnvelope = Config.envelopes.dictionary[legacyToEnvelope[legacyFilter]];\n                                    } else {\n                                        legacySettings.filterCutoff = 10;\n                                        legacySettings.filterResonance = 0;\n                                        legacySettings.filterEnvelope = Config.envelopes.dictionary[\"none\"];\n                                    }\n                                    instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                                }\n                            }\n                        } else {\n                            const legacyFilter: number = clamp(0, legacyToCutoff.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                            const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                            legacySettings.filterCutoff = legacyToCutoff[legacyFilter];\n                            legacySettings.filterResonance = 0;\n                            legacySettings.filterEnvelope = Config.envelopes.dictionary[legacyToEnvelope[legacyFilter]];\n                            instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                        }\n                    } else {\n                        const filterCutoffRange: number = 11;\n                        const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                        const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                        legacySettings.filterCutoff = clamp(0, filterCutoffRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                    }\n                } else {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    let typeCheck: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\n                    if (fromBeepBox || typeCheck == 0) {\n                        instrument.eqFilterType = false;\n                        if (fromJummBox || fromGoldBox || fromUltraBox)\n                            typeCheck = base64CharCodeToInt[compressed.charCodeAt(charIndex++)]; // Skip to next to get control point count\n                        const originalControlPointCount: number = typeCheck;\n                        instrument.eqFilter.controlPointCount = clamp(0, Config.filterMaxPoints + 1, originalControlPointCount);\n                        for (let i: number = instrument.eqFilter.controlPoints.length; i < instrument.eqFilter.controlPointCount; i++) {\n                            instrument.eqFilter.controlPoints[i] = new FilterControlPoint();\n                        }\n                        for (let i: number = 0; i < instrument.eqFilter.controlPointCount; i++) {\n                            const point: FilterControlPoint = instrument.eqFilter.controlPoints[i];\n                            point.type = clamp(0, FilterType.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            point.freq = clamp(0, Config.filterFreqRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            point.gain = clamp(0, Config.filterGainRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                        for (let i: number = instrument.eqFilter.controlPointCount; i < originalControlPointCount; i++) {\n                            charIndex += 3;\n                        }\n\n                        // Get subfilters as well. Skip Index 0, is a copy of the base filter.\n                        instrument.eqSubFilters[0] = instrument.eqFilter;\n                        if ((fromJummBox && !beforeFive) || (fromGoldBox && !beforeFour) || fromUltraBox) {\n                            let usingSubFilterBitfield: number = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) | (base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            for (let j: number = 0; j < Config.filterMorphCount - 1; j++) {\n                                if (usingSubFilterBitfield & (1 << j)) {\n                                    // Number of control points\n                                    const originalSubfilterControlPointCount: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                                    if (instrument.eqSubFilters[j + 1] == null)\n                                        instrument.eqSubFilters[j + 1] = new FilterSettings();\n                                    instrument.eqSubFilters[j + 1]!.controlPointCount = clamp(0, Config.filterMaxPoints + 1, originalSubfilterControlPointCount);\n                                    for (let i: number = instrument.eqSubFilters[j + 1]!.controlPoints.length; i < instrument.eqSubFilters[j + 1]!.controlPointCount; i++) {\n                                        instrument.eqSubFilters[j + 1]!.controlPoints[i] = new FilterControlPoint();\n                                    }\n                                    for (let i: number = 0; i < instrument.eqSubFilters[j + 1]!.controlPointCount; i++) {\n                                        const point: FilterControlPoint = instrument.eqSubFilters[j + 1]!.controlPoints[i];\n                                        point.type = clamp(0, FilterType.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                        point.freq = clamp(0, Config.filterFreqRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                        point.gain = clamp(0, Config.filterGainRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                    }\n                                    for (let i: number = instrument.eqSubFilters[j + 1]!.controlPointCount; i < originalSubfilterControlPointCount; i++) {\n                                        charIndex += 3;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        instrument.eqFilterType = true;\n                        instrument.eqFilterSimpleCut = clamp(0, Config.filterSimpleCutRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        instrument.eqFilterSimplePeak = clamp(0, Config.filterSimplePeakRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    }\n                }\n            } break;\n            case SongTagCode.filterResonance: {\n                if (fromUltraBox) {\n                    if (beforeThree) {\n                        // Still have to support the old and bad loop control data format written as a test, sigh.\n                        const sampleLoopInfoEncodedLength = decode32BitNumber(compressed, charIndex);\n                        charIndex += 6;\n                        const sampleLoopInfoEncoded = compressed.slice(charIndex, charIndex + sampleLoopInfoEncodedLength);\n                        charIndex += sampleLoopInfoEncodedLength;\n                        interface SampleLoopInfo {\n                            isUsingAdvancedLoopControls: boolean;\n                            chipWaveLoopStart: number;\n                            chipWaveLoopEnd: number;\n                            chipWaveLoopMode: number;\n                            chipWavePlayBackwards: boolean;\n                            chipWaveStartOffset: number;\n                        }\n                        interface SampleLoopInfoEntry {\n                            channel: number;\n                            instrument: number;\n                            info: SampleLoopInfo;\n                        }\n                        const sampleLoopInfo: SampleLoopInfoEntry[] = JSON.parse(atob(sampleLoopInfoEncoded));\n                        for (const entry of sampleLoopInfo) {\n                            const channelIndex: number = entry[\"channel\"];\n                            const instrumentIndex: number = entry[\"instrument\"];\n                            const info: SampleLoopInfo = entry[\"info\"];\n                            const instrument: Instrument = this.channels[channelIndex].instruments[instrumentIndex];\n                            instrument.isUsingAdvancedLoopControls = info[\"isUsingAdvancedLoopControls\"];\n                            instrument.chipWaveLoopStart = info[\"chipWaveLoopStart\"];\n                            instrument.chipWaveLoopEnd = info[\"chipWaveLoopEnd\"];\n                            instrument.chipWaveLoopMode = info[\"chipWaveLoopMode\"];\n                            instrument.chipWavePlayBackwards = info[\"chipWavePlayBackwards\"];\n                            instrument.chipWaveStartOffset = info[\"chipWaveStartOffset\"];\n                            // @TODO: Whenever chipWaveReleaseMode is implemented, it should be set here to the default.\n                        }\n                    } else {\n                        // Read the new loop control data format.\n                        // See Song.toBase64String for details on the encodings used here.\n                        const encodedLoopMode: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        const isUsingAdvancedLoopControls: boolean = Boolean(encodedLoopMode & 1);\n                        const chipWaveLoopMode: number = encodedLoopMode >> 1;\n                        const encodedReleaseMode: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        const chipWavePlayBackwards: boolean = Boolean(encodedReleaseMode & 1);\n                        // const chipWaveReleaseMode: number = encodedReleaseMode >> 1;\n                        const chipWaveLoopStart: number = decode32BitNumber(compressed, charIndex);\n                        charIndex += 6;\n                        const chipWaveLoopEnd: number = decode32BitNumber(compressed, charIndex);\n                        charIndex += 6;\n                        const chipWaveStartOffset: number = decode32BitNumber(compressed, charIndex);\n                        charIndex += 6;\n                        const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                        instrument.isUsingAdvancedLoopControls = isUsingAdvancedLoopControls;\n                        instrument.chipWaveLoopStart = chipWaveLoopStart;\n                        instrument.chipWaveLoopEnd = chipWaveLoopEnd;\n                        instrument.chipWaveLoopMode = chipWaveLoopMode;\n                        instrument.chipWavePlayBackwards = chipWavePlayBackwards;\n                        instrument.chipWaveStartOffset = chipWaveStartOffset;\n                        // instrument.chipWaveReleaseMode = chipWaveReleaseMode;\n                    }\n                }\n                else if (fromGoldBox && !beforeFour && beforeSix) {\n                    if (document.URL.substring(document.URL.length - 13).toLowerCase() != \"legacysamples\") {\n                            if (!willLoadLegacySamplesForOldSongs) {\n                                willLoadLegacySamplesForOldSongs = true;\n                                Config.willReloadForCustomSamples = true;\n                                EditorConfig.customSamples = [\"legacySamples\"];\n                                loadBuiltInSamples(0);\n                            }\n                    }\n                    this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chipWave = clamp(0, Config.chipWaves.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + 125);\t\t\t\t\t\t\n                } else if ((beforeNine && fromBeepBox) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    const filterResonanceRange: number = 8;\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                    legacySettings.filterResonance = clamp(0, filterResonanceRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n\n                } else {\n                    // Do nothing? This song tag code is deprecated for now.\n                }\n            } break;\n            case SongTagCode.drumsetEnvelopes: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                const pregoldToEnvelope: number[] = [0, 1, 2, 4, 5, 6, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 23, 24, 25, 27, 28, 29, 32, 33, 34, 31, 11];\n                if ((beforeNine && fromBeepBox) || (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)) {\n                    if((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)){\n\n                    }\n                    if (instrument.type == InstrumentType.drumset) {\n                        for (let i: number = 0; i < Config.drumCount; i++) {\n                            let aa: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                            if((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)) aa = pregoldToEnvelope[aa];\n                            instrument.drumsetEnvelopes[i] = Song._envelopeFromLegacyIndex(aa).index;\n                        }\n                    } else {\n                        // This used to be used for general filter envelopes.\n                        // The presence of an envelope affects how convertLegacySettings\n                        // decides the closest possible approximation, so update it.\n                        const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                        let aa: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        if((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)) aa = pregoldToEnvelope[aa];\n                        legacySettings.filterEnvelope = Song._envelopeFromLegacyIndex(aa);\n                        instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                    }\n                } else {\n                    // This tag is now only used for drumset filter envelopes.\n                    for (let i: number = 0; i < Config.drumCount; i++) {\n                        let aa: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        if((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)) aa = pregoldToEnvelope[aa];\n                        instrument.drumsetEnvelopes[i] = clamp(0, Config.envelopes.length, aa);\n                    }\n                }\n            } break;\n            case SongTagCode.pulseWidth: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                instrument.pulseWidth = clamp(0, Config.pulseWidthRange + (+(fromJummBox)) + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                if (fromBeepBox) {\n                    // BeepBox formula\n                    instrument.pulseWidth = Math.round(Math.pow(0.5, (7 - instrument.pulseWidth) * Config.pulseWidthStepPower) * Config.pulseWidthRange);\n\n                }\n\n                if ((beforeNine && fromBeepBox) || (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)) {\n                    const pregoldToEnvelope: number[] = [0, 1, 2, 4, 5, 6, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 23, 24, 25, 27, 28, 29, 32, 33, 34, 31, 11];\n                    const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                    let aa: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    if((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)) aa = pregoldToEnvelope[aa];\n                    legacySettings.pulseEnvelope = Song._envelopeFromLegacyIndex(aa);\n                    instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                }\n\n                if (fromUltraBox && !beforeFour) {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];  \n                    instrument.decimalOffset = clamp(0, 99 + 1, (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                }\n\n            } break;\n            case SongTagCode.stringSustain: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                instrument.stringSustain = clamp(0, Config.stringSustainRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n            } break;\n            case SongTagCode.fadeInOut: {\n                if ((beforeNine && fromBeepBox) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    // this tag was used for a combination of transition and fade in/out.\n                    const legacySettings = [\n                        { transition: \"interrupt\", fadeInSeconds: 0.0, fadeOutTicks: -1 },\n                        { transition: \"normal\", fadeInSeconds: 0.0, fadeOutTicks: -3 },\n                        { transition: \"normal\", fadeInSeconds: 0.025, fadeOutTicks: -3 },\n                        { transition: \"slide in pattern\", fadeInSeconds: 0.025, fadeOutTicks: -3 },\n                        { transition: \"normal\", fadeInSeconds: 0.04, fadeOutTicks: 6 },\n                        { transition: \"normal\", fadeInSeconds: 0.0, fadeOutTicks: 48 },\n                        { transition: \"normal\", fadeInSeconds: 0.0125, fadeOutTicks: 72 },\n                        { transition: \"normal\", fadeInSeconds: 0.06, fadeOutTicks: 96 },\n                        { transition: \"slide in pattern\", fadeInSeconds: 0.025, fadeOutTicks: -3 },\n                    ];\n                    if (beforeThree && fromBeepBox) {\n                        const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        const settings = legacySettings[clamp(0, legacySettings.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                        const instrument: Instrument = this.channels[channelIndex].instruments[0];\n                        instrument.fadeIn = Synth.secondsToFadeInSetting(settings.fadeInSeconds);\n                        instrument.fadeOut = Synth.ticksToFadeOutSetting(settings.fadeOutTicks);\n                        instrument.transition = Config.transitions.dictionary[settings.transition].index;\n                        if (instrument.transition != Config.transitions.dictionary[\"normal\"].index) {\n                            // Enable transition if it was used.\n                            instrument.effects |= 1 << EffectType.transition;\n                        }\n                    } else if (beforeSix && fromBeepBox) {\n                        for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                            for (const instrument of this.channels[channelIndex].instruments) {\n                                const settings = legacySettings[clamp(0, legacySettings.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                                instrument.fadeIn = Synth.secondsToFadeInSetting(settings.fadeInSeconds);\n                                instrument.fadeOut = Synth.ticksToFadeOutSetting(settings.fadeOutTicks);\n                                instrument.transition = Config.transitions.dictionary[settings.transition].index;\n                                if (instrument.transition != Config.transitions.dictionary[\"normal\"].index) {\n                                    // Enable transition if it was used.\n                                    instrument.effects |= 1 << EffectType.transition;\n                                }\n                            }\n                        }\n                    } else if ((beforeFour && !fromGoldBox && !fromUltraBox) || fromBeepBox) {\n                        const settings = legacySettings[clamp(0, legacySettings.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                        const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                        instrument.fadeIn = Synth.secondsToFadeInSetting(settings.fadeInSeconds);\n                        instrument.fadeOut = Synth.ticksToFadeOutSetting(settings.fadeOutTicks);\n                        instrument.transition = Config.transitions.dictionary[settings.transition].index;\n                        if (instrument.transition != Config.transitions.dictionary[\"normal\"].index) {\n                            // Enable transition if it was used.\n                            instrument.effects |= 1 << EffectType.transition;\n                        }\n                    } else {\n                        const settings = legacySettings[clamp(0, legacySettings.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                        const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                        instrument.fadeIn = Synth.secondsToFadeInSetting(settings.fadeInSeconds);\n                        instrument.fadeOut = Synth.ticksToFadeOutSetting(settings.fadeOutTicks);\n                        instrument.transition = Config.transitions.dictionary[settings.transition].index;\n\n                        // Read tie-note \n                        if (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] > 0) {\n                            // Set legacy tie over flag, which is only used to port notes in patterns using this instrument as tying.\n                            instrument.legacyTieOver = true;\n\n                        }\n                        instrument.clicklessTransition = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] ? true : false;\n\n                        if (instrument.transition != Config.transitions.dictionary[\"normal\"].index || instrument.clicklessTransition) {\n                            // Enable transition if it was used.\n                            instrument.effects |= 1 << EffectType.transition;\n                        }\n                    }\n                } else {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.fadeIn = clamp(0, Config.fadeInRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    instrument.fadeOut = clamp(0, Config.fadeOutTicks.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    if (fromJummBox||fromGoldBox||fromUltraBox)\n                        instrument.clicklessTransition = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] ? true : false;\n                }\n            } break;\n            case SongTagCode.vibrato: {\n                if ((beforeNine && fromBeepBox) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    if (beforeSeven && fromBeepBox) {\n                        if (beforeThree && fromBeepBox) {\n                            const legacyEffects: number[] = [0, 3, 2, 0];\n                            const legacyEnvelopes: string[] = [\"none\", \"none\", \"none\", \"tremolo2\"];\n                            const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                            const effect: number = clamp(0, legacyEffects.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            const instrument: Instrument = this.channels[channelIndex].instruments[0];\n                            const legacySettings: LegacySettings = legacySettingsCache![channelIndex][0];\n                            instrument.vibrato = legacyEffects[effect];\n                            if (legacySettings.filterEnvelope == undefined || legacySettings.filterEnvelope.type == EnvelopeType.none) {\n                                // Imitate the legacy tremolo with a filter envelope.\n                                legacySettings.filterEnvelope = Config.envelopes.dictionary[legacyEnvelopes[effect]];\n                                instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                            }\n                            if (instrument.vibrato != Config.vibratos.dictionary[\"none\"].index) {\n                                // Enable vibrato if it was used.\n                                instrument.effects |= 1 << EffectType.vibrato;\n                            }\n                        } else if (beforeSix && fromBeepBox) {\n                            const legacyEffects: number[] = [0, 1, 2, 3, 0, 0];\n                            const legacyEnvelopes: string[] = [\"none\", \"none\", \"none\", \"none\", \"tremolo5\", \"tremolo2\"];\n                            for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                                for (let i: number = 0; i < this.channels[channelIndex].instruments.length; i++) {\n                                    const effect: number = clamp(0, legacyEffects.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                    const instrument: Instrument = this.channels[channelIndex].instruments[i];\n                                    const legacySettings: LegacySettings = legacySettingsCache![channelIndex][i];\n                                    instrument.vibrato = legacyEffects[effect];\n                                    if (legacySettings.filterEnvelope == undefined || legacySettings.filterEnvelope.type == EnvelopeType.none) {\n                                        // Imitate the legacy tremolo with a filter envelope.\n                                        legacySettings.filterEnvelope = Config.envelopes.dictionary[legacyEnvelopes[effect]];\n                                        instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                                    }\n                                    if (instrument.vibrato != Config.vibratos.dictionary[\"none\"].index) {\n                                        // Enable vibrato if it was used.\n                                        instrument.effects |= 1 << EffectType.vibrato;\n                                    }\n                                    if ((legacyGlobalReverb != 0 || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) && !this.getChannelIsNoise(channelIndex)) {\n                                        // Enable reverb if it was used globaly before. (Global reverb was added before the effects option so I need to pick somewhere else to initialize instrument reverb, and I picked the vibrato command.)\n                                        instrument.effects |= 1 << EffectType.reverb;\n                                        instrument.reverb = legacyGlobalReverb;\n                                    }\n                                }\n                            }\n                        } else {\n                            const legacyEffects: number[] = [0, 1, 2, 3, 0, 0];\n                            const legacyEnvelopes: string[] = [\"none\", \"none\", \"none\", \"none\", \"tremolo5\", \"tremolo2\"];\n                            const effect: number = clamp(0, legacyEffects.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                            const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                            instrument.vibrato = legacyEffects[effect];\n                            if (legacySettings.filterEnvelope == undefined || legacySettings.filterEnvelope.type == EnvelopeType.none) {\n                                // Imitate the legacy tremolo with a filter envelope.\n                                legacySettings.filterEnvelope = Config.envelopes.dictionary[legacyEnvelopes[effect]];\n                                instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                            }\n                            if (instrument.vibrato != Config.vibratos.dictionary[\"none\"].index) {\n                                // Enable vibrato if it was used.\n                                instrument.effects |= 1 << EffectType.vibrato;\n                            }\n                            if (legacyGlobalReverb != 0 || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                                // Enable reverb if it was used globaly before. (Global reverb was added before the effects option so I need to pick somewhere else to initialize instrument reverb, and I picked the vibrato command.)\n                                instrument.effects |= 1 << EffectType.reverb;\n                                instrument.reverb = legacyGlobalReverb;\n                            }\n                        }\n                    } else {\n                        const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                        const vibrato: number = clamp(0, Config.vibratos.length + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        instrument.vibrato = vibrato;\n                        if (instrument.vibrato != Config.vibratos.dictionary[\"none\"].index) {\n                            // Enable vibrato if it was used.\n                            instrument.effects |= 1 << EffectType.vibrato;\n                        }\n                        // Custom vibrato\n                        if (vibrato == Config.vibratos.length) {\n                            instrument.vibratoDepth = clamp(0, Config.modulators.dictionary[\"vibrato depth\"].maxRawVol + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) / 50;\n                            instrument.vibratoSpeed = clamp(0, Config.modulators.dictionary[\"vibrato speed\"].maxRawVol + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            instrument.vibratoDelay = clamp(0, Config.modulators.dictionary[\"vibrato delay\"].maxRawVol + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) / 2;\n                            instrument.vibratoType = clamp(0, Config.vibratoTypes.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            instrument.effects |= 1 << EffectType.vibrato;\n                        }\n                        // Enforce standard vibrato settings\n                        else {\n                            instrument.vibratoDepth = Config.vibratos[instrument.vibrato].amplitude;\n                            instrument.vibratoSpeed = 10; // Normal speed\n                            instrument.vibratoDelay = Config.vibratos[instrument.vibrato].delayTicks / 2;\n                            instrument.vibratoType = Config.vibratos[instrument.vibrato].type;\n                        }\n                    }\n                } else {\n                    // Do nothing? This song tag code is deprecated for now.\n                }\n            } break;\n            case SongTagCode.arpeggioSpeed: {\n                // Deprecated, but supported for legacy purposes\n                if ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox)) {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.arpeggioSpeed = clamp(0, Config.modulators.dictionary[\"arp speed\"].maxRawVol + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    instrument.fastTwoNoteArp = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] ? true : false; // Two note arp setting piggybacks on this\n                }\n                else {\n                    // Do nothing, deprecated for now\n                }\n            } break;\n            case SongTagCode.unison: {\n                if (beforeThree && fromBeepBox) {\n                    const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    this.channels[channelIndex].instruments[0].unison = clamp(0, Config.unisons.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                } else if (beforeSix && fromBeepBox) {\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        for (const instrument of this.channels[channelIndex].instruments) {\n                            const originalValue: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                            let unison: number = clamp(0, Config.unisons.length, originalValue);\n                            if (originalValue == 8) {\n                                // original \"custom harmony\" now maps to \"hum\" and \"custom interval\".\n                                unison = 2;\n                                instrument.chord = 3;\n                            }\n                            instrument.unison = unison;\n                        }\n                    }\n                } else if (beforeSeven && fromBeepBox) {\n                    const originalValue: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    let unison: number = clamp(0, Config.unisons.length, originalValue);\n                    if (originalValue == 8) {\n                        // original \"custom harmony\" now maps to \"hum\" and \"custom interval\".\n                        unison = 2;\n                        this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].chord = 3;\n                    }\n                    this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].unison = unison;\n                } else {\n                    this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].unison = clamp(0, Config.unisons.length + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                }\n                const instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                \n                //if (fromUltrabox) && !beforeFive && (instrument.unison == Config.unisons.length)  {\n                if (instrument.unison == Config.unisons.length) {\n                    instrument.unisonVoices = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\n                    const unisonSpreadNegative = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const unisonSpread: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + ((base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 63)) * 63);\n\n                    const unisonOffsetNegative = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const unisonOffset: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + ((base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 63)) * 63);\n\n                    const unisonExpressionNegative = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const unisonExpression: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 63);\n                    \n                    const unisonSignNegative = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const unisonSign: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] + (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 63);\n\n\n                    instrument.unisonSpread = unisonSpread / 1000;\n                    if (unisonSpreadNegative == 0) instrument.unisonSpread *= -1;\n\n                    instrument.unisonOffset = unisonOffset / 1000;\n                    if (unisonOffsetNegative == 0) instrument.unisonOffset *= -1;\n\n                    instrument.unisonExpression = unisonExpression / 1000;\n                    if (unisonExpressionNegative == 0) instrument.unisonExpression *= -1;\n\n                    instrument.unisonSign = unisonSign / 1000;\n                    if (unisonSignNegative == 0) instrument.unisonSign *= -1;\n                } else {\n                    instrument.unisonVoices = Config.unisons[instrument.unison].voices;\n                    instrument.unisonSpread = Config.unisons[instrument.unison].spread;\n                    instrument.unisonOffset = Config.unisons[instrument.unison].offset;\n                    instrument.unisonExpression = Config.unisons[instrument.unison].expression;\n                    instrument.unisonSign = Config.unisons[instrument.unison].sign;\n                }\n            \n            } break;\n            case SongTagCode.chord: {\n                if ((beforeNine && fromBeepBox) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.chord = clamp(0, Config.chords.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    if (instrument.chord != Config.chords.dictionary[\"simultaneous\"].index) {\n                        // Enable chord if it was used.\n                        instrument.effects |= 1 << EffectType.chord;\n                    }\n                } else {\n                    // Do nothing? This song tag code is deprecated for now.\n                }\n            } break;\n            case SongTagCode.effects: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                if ((beforeNine && fromBeepBox) || ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                    instrument.effects = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] & ((1 << EffectType.length) - 1));\n                    if (legacyGlobalReverb == 0 && !((fromJummBox && beforeFive) || (beforeFour && fromGoldBox))) {\n                        // Disable reverb if legacy song reverb was zero.\n                        instrument.effects &= ~(1 << EffectType.reverb);\n                    } else if (effectsIncludeReverb(instrument.effects)) {\n                        instrument.reverb = legacyGlobalReverb;\n                    }\n                    // @jummbus - Enabling pan effect on song import no matter what to make it a default.\n                    //if (instrument.pan != Config.panCenter) {\n                    instrument.effects |= 1 << EffectType.panning;\n                    //}\n                    if (instrument.vibrato != Config.vibratos.dictionary[\"none\"].index) {\n                        // Enable vibrato if it was used.\n                        instrument.effects |= 1 << EffectType.vibrato;\n                    }\n                    if (instrument.detune != Config.detuneCenter) {\n                        // Enable detune if it was used.\n                        instrument.effects |= 1 << EffectType.detune;\n                    }\n                    if (instrument.aliases)\n                        instrument.effects |= 1 << EffectType.distortion;\n                    else\n                        instrument.effects &= ~(1 << EffectType.distortion);\n\n                    // convertLegacySettings may need to force-enable note filter, call\n                    // it again here to make sure that this override takes precedence.\n                    const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                    instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                } else {\n                    // BeepBox currently uses two base64 characters at 6 bits each for a bitfield representing all the enabled effects.\n                    if (EffectType.length > 12) throw new Error();\n                    instrument.effects = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) | (base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n\n                    if (effectsIncludeNoteFilter(instrument.effects)) {\n                        let typeCheck: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        if (fromBeepBox || typeCheck == 0) {\n                            instrument.noteFilterType = false;\n                            if (fromJummBox || fromGoldBox || fromUltraBox)\n                                typeCheck = base64CharCodeToInt[compressed.charCodeAt(charIndex++)]; // Skip to next index in jummbox to get actual count\n                            instrument.noteFilter.controlPointCount = clamp(0, Config.filterMaxPoints + 1, typeCheck);\n                            for (let i: number = instrument.noteFilter.controlPoints.length; i < instrument.noteFilter.controlPointCount; i++) {\n                                instrument.noteFilter.controlPoints[i] = new FilterControlPoint();\n                            }\n                            for (let i: number = 0; i < instrument.noteFilter.controlPointCount; i++) {\n                                const point: FilterControlPoint = instrument.noteFilter.controlPoints[i];\n                                point.type = clamp(0, FilterType.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                point.freq = clamp(0, Config.filterFreqRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                point.gain = clamp(0, Config.filterGainRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            }\n                            for (let i: number = instrument.noteFilter.controlPointCount; i < typeCheck; i++) {\n                                charIndex += 3;\n                            }\n\n                            // Get subfilters as well. Skip Index 0, is a copy of the base filter.\n                            instrument.noteSubFilters[0] = instrument.noteFilter;\n                            if ((fromJummBox && !beforeFive) || (fromGoldBox) || (fromUltraBox)) {\n                                let usingSubFilterBitfield: number = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) | (base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                for (let j: number = 0; j < Config.filterMorphCount - 1; j++) {\n                                    if (usingSubFilterBitfield & (1 << j)) {\n                                        // Number of control points\n                                        const originalSubfilterControlPointCount: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                                        if (instrument.noteSubFilters[j + 1] == null)\n                                            instrument.noteSubFilters[j + 1] = new FilterSettings();\n                                        instrument.noteSubFilters[j + 1]!.controlPointCount = clamp(0, Config.filterMaxPoints + 1, originalSubfilterControlPointCount);\n                                        for (let i: number = instrument.noteSubFilters[j + 1]!.controlPoints.length; i < instrument.noteSubFilters[j + 1]!.controlPointCount; i++) {\n                                            instrument.noteSubFilters[j + 1]!.controlPoints[i] = new FilterControlPoint();\n                                        }\n                                        for (let i: number = 0; i < instrument.noteSubFilters[j + 1]!.controlPointCount; i++) {\n                                            const point: FilterControlPoint = instrument.noteSubFilters[j + 1]!.controlPoints[i];\n                                            point.type = clamp(0, FilterType.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                            point.freq = clamp(0, Config.filterFreqRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                            point.gain = clamp(0, Config.filterGainRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                        }\n                                        for (let i: number = instrument.noteSubFilters[j + 1]!.controlPointCount; i < originalSubfilterControlPointCount; i++) {\n                                            charIndex += 3;\n                                        }\n                                    }\n                                }\n                            }\n                        } else {\n                            instrument.noteFilterType = true;\n                            instrument.noteFilter.reset();\n                            instrument.noteFilterSimpleCut = clamp(0, Config.filterSimpleCutRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            instrument.noteFilterSimplePeak = clamp(0, Config.filterSimplePeakRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n\n                        }\n                    }\n                    if (effectsIncludeTransition(instrument.effects)) {\n                        instrument.transition = clamp(0, Config.transitions.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    }\n                    if (effectsIncludeChord(instrument.effects)) {\n                        instrument.chord = clamp(0, Config.chords.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        // Custom arpeggio speed... only in JB, and only if the instrument arpeggiates.\n                        if (instrument.chord == Config.chords.dictionary[\"arpeggio\"].index && (fromJummBox||fromGoldBox||fromUltraBox)) {\n                            instrument.arpeggioSpeed = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                            instrument.fastTwoNoteArp = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) ? true : false;\n                        }\n                    }\n                    if (effectsIncludePitchShift(instrument.effects)) {\n                        instrument.pitchShift = clamp(0, Config.pitchShiftRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    }\n                    if (effectsIncludeDetune(instrument.effects)) {\n                        if (fromBeepBox) {\n                            // Convert from BeepBox's formula\n                            instrument.detune = clamp(Config.detuneMin, Config.detuneMax + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            instrument.detune = Math.round((instrument.detune - 9) * (Math.abs(instrument.detune - 9) + 1) / 2 + Config.detuneCenter);\n                        } else {\n                            instrument.detune = clamp(Config.detuneMin, Config.detuneMax + 1, (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                    }\n                    if (effectsIncludeVibrato(instrument.effects)) {\n                        instrument.vibrato = clamp(0, Config.vibratos.length + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n\n                        // Custom vibrato\n                        if (instrument.vibrato == Config.vibratos.length && (fromJummBox || fromGoldBox || fromUltraBox)) {\n                            instrument.vibratoDepth = clamp(0, Config.modulators.dictionary[\"vibrato depth\"].maxRawVol + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) / 25;\n                            instrument.vibratoSpeed = clamp(0, Config.modulators.dictionary[\"vibrato speed\"].maxRawVol + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            instrument.vibratoDelay = clamp(0, Config.modulators.dictionary[\"vibrato delay\"].maxRawVol + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                            instrument.vibratoType = clamp(0, Config.vibratoTypes.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                        // Enforce standard vibrato settings\n                        else {\n                            instrument.vibratoDepth = Config.vibratos[instrument.vibrato].amplitude;\n                            instrument.vibratoSpeed = 10; // Normal speed\n                            instrument.vibratoDelay = Config.vibratos[instrument.vibrato].delayTicks / 2;\n                            instrument.vibratoType = Config.vibratos[instrument.vibrato].type;\n                        }\n                    }\n                    if (effectsIncludeDistortion(instrument.effects)) {\n                        instrument.distortion = clamp(0, Config.distortionRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        if ((fromJummBox && !beforeFive) || fromGoldBox || fromUltraBox)\n                            instrument.aliases = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] ? true : false;\n                    }\n                    if (effectsIncludeBitcrusher(instrument.effects)) {\n                        instrument.bitcrusherFreq = clamp(0, Config.bitcrusherFreqRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        instrument.bitcrusherQuantization = clamp(0, Config.bitcrusherQuantizationRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    }\n                    if (effectsIncludePanning(instrument.effects)) {\n                        if (fromBeepBox) {\n                            // Beepbox has a panMax of 8 (9 total positions), Jummbox has a panMax of 100 (101 total positions)\n                            instrument.pan = clamp(0, Config.panMax + 1, Math.round(base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * ((Config.panMax) / 8.0)));\n                        }\n                        else {\n                            instrument.pan = clamp(0, Config.panMax + 1, (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n\n                        // Now, pan delay follows on new versions of jummbox.\n                        if ((fromJummBox && !beforeTwo) || fromGoldBox || fromUltraBox)\n                            instrument.panDelay = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    }\n                    if (effectsIncludeChorus(instrument.effects)) {\n                        if (fromBeepBox) {\n                            // BeepBox has 4 chorus values vs. JB's 8\n                            instrument.chorus = clamp(0, (Config.chorusRange / 2) + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) * 2;\n                        }\n                        else {\n                            instrument.chorus = clamp(0, Config.chorusRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                    }\n                    if (effectsIncludeEcho(instrument.effects)) {\n                        instrument.echoSustain = clamp(0, Config.echoSustainRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        instrument.echoDelay = clamp(0, Config.echoDelayRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    }\n                    if (effectsIncludeReverb(instrument.effects)) {\n                        if (fromBeepBox) {\n                            instrument.reverb = clamp(0, Config.reverbRange, Math.round(base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * Config.reverbRange / 3.0));\n                        } else {\n                            instrument.reverb = clamp(0, Config.reverbRange, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                    }\n                }\n                // Clamp the range.\n                instrument.effects &= (1 << EffectType.length) - 1;\n            } break;\n            case SongTagCode.volume: {\n                if (beforeThree && fromBeepBox) {\n                    const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const instrument: Instrument = this.channels[channelIndex].instruments[0];\n                    instrument.volume = Math.round(clamp(-Config.volumeRange / 2, 1, -base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 5.0));\n                } else if (beforeSix && fromBeepBox) {\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        for (const instrument of this.channels[channelIndex].instruments) {\n                            instrument.volume = Math.round(clamp(-Config.volumeRange / 2, 1, -base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 5.0));\n                        }\n                    }\n                } else if (beforeSeven && fromBeepBox) {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.volume = Math.round(clamp(-Config.volumeRange / 2, 1, -base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 5.0));\n                } else if (fromBeepBox) {\n                    // Beepbox v9's volume range is 0-7 (0 is max, 7 is mute)\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.volume = Math.round(clamp(-Config.volumeRange / 2, 1, -base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 25.0 / 7.0));\n                } else {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    // Volume is stored in two bytes in jummbox just in case range ever exceeds one byte, e.g. through later waffling on the subject.\n                    instrument.volume = Math.round(clamp(-Config.volumeRange / 2, Config.volumeRange / 2 + 1, ((base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) | (base64CharCodeToInt[compressed.charCodeAt(charIndex++)])) - Config.volumeRange / 2));\n                }\n            } break;\n            case SongTagCode.pan: {\n                if (beforeNine && fromBeepBox) {\n                    // Beepbox has a panMax of 8 (9 total positions), Jummbox has a panMax of 100 (101 total positions)\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.pan = clamp(0, Config.panMax + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * ((Config.panMax) / 8.0));\n                } else if ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox)) {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.pan = clamp(0, Config.panMax + 1, (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    // Pan delay follows on v3 + v4\n                    if (fromJummBox && !beforeThree || fromGoldBox || fromUltraBox) {\n                        instrument.panDelay = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    }\n                } else {\n                    // Do nothing? This song tag code is deprecated for now.\n                }\n            } break;\n            case SongTagCode.detune: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n\n                if ((fromJummBox && beforeFive) || (beforeFour && fromGoldBox)) {\n                    // Before jummbox v5, detune was -50 to 50. Now it is 0 to 400\n                    instrument.detune = clamp(Config.detuneMin, Config.detuneMax + 1, ((base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) * 4);\n                    instrument.effects |= 1 << EffectType.detune;\n                } else {\n                    // Now in v5, tag code is deprecated and handled thru detune effects.\n                }\n            } break;\n            case SongTagCode.customChipWave: {\n                let instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                // Pop custom wave values\n                for (let j: number = 0; j < 64; j++) {\n                    instrument.customChipWave[j]\n                        = clamp(-24, 25, base64CharCodeToInt[compressed.charCodeAt(charIndex++)] - 24);\n                }\n\n                let sum: number = 0.0;\n                for (let i: number = 0; i < instrument.customChipWave.length; i++) {\n                    sum += instrument.customChipWave[i];\n                }\n                const average: number = sum / instrument.customChipWave.length;\n\n                // Perform the integral on the wave. The chipSynth will perform the derivative to get the original wave back but with antialiasing.\n                let cumulative: number = 0;\n                let wavePrev: number = 0;\n                for (let i: number = 0; i < instrument.customChipWave.length; i++) {\n                    cumulative += wavePrev;\n                    wavePrev = instrument.customChipWave[i] - average;\n                    instrument.customChipWaveIntegral[i] = cumulative;\n                }\n\n                // 65th, last sample is for anti-aliasing\n                instrument.customChipWaveIntegral[64] = 0.0;\n\n            } break;\n            case SongTagCode.limiterSettings: {\n                let nextValue: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\n                // Check if limiter settings are used... if not, restore to default\n                if (nextValue == 0x3f) {\n                    this.restoreLimiterDefaults();\n                }\n                else {\n                    // Limiter is used, grab values\n                    this.compressionRatio = (nextValue < 10 ? nextValue / 10 : (1 + (nextValue - 10) / 60));\n                    nextValue = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    this.limitRatio = (nextValue < 10 ? nextValue / 10 : (nextValue - 9));\n                    this.limitDecay = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    this.limitRise = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)] * 250.0) + 2000.0;\n                    this.compressionThreshold = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] / 20.0;\n                    this.limitThreshold = base64CharCodeToInt[compressed.charCodeAt(charIndex++)] / 20.0;\n                    this.masterGain = ((base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) / 50.0;\n                }\n            } break;\n            case SongTagCode.channelNames: {\n                for (let channel: number = 0; channel < this.getChannelCount(); channel++) {\n                    // Length of channel name string. Due to some crazy Unicode characters this needs to be 2 bytes...\n                    var channelNameLength;\n                    if (beforeFour && !fromGoldBox && !fromUltraBox)\n                        channelNameLength = base64CharCodeToInt[compressed.charCodeAt(charIndex++)]\n                    else\n                        channelNameLength = ((base64CharCodeToInt[compressed.charCodeAt(charIndex++)] << 6) + base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    this.channels[channel].name = decodeURIComponent(compressed.substring(charIndex, charIndex + channelNameLength));\n\n                    charIndex += channelNameLength;\n                }\n            } break;\n            case SongTagCode.algorithm: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                if (instrument.type == InstrumentType.fm) {\n                    instrument.algorithm = clamp(0, Config.algorithms.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                }\n                else {\n                    instrument.algorithm6Op = clamp(0, Config.algorithms6Op.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    instrument.customAlgorithm.fromPreset(instrument.algorithm6Op);\n                    if (compressed.charCodeAt(charIndex) == SongTagCode.chord) {\n                        let carrierCountTemp = clamp(1, Config.operatorCount + 2+1, base64CharCodeToInt[compressed.charCodeAt(charIndex + 1)]);\n                        charIndex++\n                        let tempModArray: number[][] = [];\n                        if (compressed.charCodeAt(charIndex+1) == SongTagCode.effects) {\n                            charIndex++\n                            let j: number = 0;\n                            charIndex++\n                            while (compressed.charCodeAt(charIndex) != SongTagCode.effects) {\n                                tempModArray[j] = [];\n                                let o: number = 0;\n                                while (compressed.charCodeAt(charIndex) != SongTagCode.operatorWaves) {\n                                    tempModArray[j][o] = clamp(1, Config.operatorCount + 3, base64CharCodeToInt[compressed.charCodeAt(charIndex)]);\n                                    o++\n                                    charIndex++\n                                }\n                                j++;\n                                charIndex++\n                            }\n                            instrument.customAlgorithm.set(carrierCountTemp, tempModArray);\n                            charIndex++; //????\n                        }\n                    }\n                }\n                if ((beforeNine && fromBeepBox) || (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)) {\n                    // The algorithm determines the carrier count, which affects how legacy settings are imported.\n                    const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                    instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                }\n            } break;\n            case SongTagCode.feedbackType: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                if (instrument.type == InstrumentType.fm) {\n                    instrument.feedbackType = clamp(0, Config.feedbacks.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                }\n                else {\n                    instrument.feedbackType6Op = clamp(0, Config.feedbacks6Op.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    instrument.customFeedbackType.fromPreset(instrument.feedbackType6Op);\n                    let tempModArray: number[][] = [];\n                    if (compressed.charCodeAt(charIndex) == SongTagCode.effects) {\n                        let j: number = 0;\n                        charIndex++\n                        while (compressed.charCodeAt(charIndex) != SongTagCode.effects) {\n                            tempModArray[j] = [];\n                            let o: number = 0;\n                            while (compressed.charCodeAt(charIndex) != SongTagCode.operatorWaves) {\n                                tempModArray[j][o] = clamp(1, Config.operatorCount + 2, base64CharCodeToInt[compressed.charCodeAt(charIndex)]);\n                                o++\n                                charIndex++\n                            }\n                            j++;\n                            charIndex++\n                        }\n                        instrument.customFeedbackType.set(tempModArray);\n                        charIndex++; //???? weirdly needs to skip the end character or it'll use that next loop instead of like just moving to the next one itself\n                    }\n                }\n\n            } break;\n            case SongTagCode.feedbackAmplitude: {\n                this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator].feedbackAmplitude = clamp(0, Config.operatorAmplitudeMax + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n            } break;\n            case SongTagCode.feedbackEnvelope: {\n                if ((beforeNine && fromBeepBox) || (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)) {\n                    const pregoldToEnvelope: number[] = [0, 1, 2, 4, 5, 6, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 23, 24, 25, 27, 28, 29, 32, 33, 34, 31, 11];\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                    \n                    let aa:number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    if ((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)) aa = pregoldToEnvelope[aa];\n                    legacySettings.feedbackEnvelope = Song._envelopeFromLegacyIndex(base64CharCodeToInt[aa]);\n                    instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                } else {\n                    // Do nothing? This song tag code is deprecated for now.\n                }\n            } break;\n            case SongTagCode.operatorFrequencies: {\n                const instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                            if (beforeThree && fromGoldBox) {\n\t\t\t\t\t\t\t\tconst freqToGold3 = [4, 5, 6, 7, 8, 10, 12, 13, 14, 15, 16, 18, 20, 22, 24, 2, 1, 9, 17, 19, 21, 23, 0, 3];\n                               \n\t\t\t\t\t\t\t\tfor (let o = 0; o < (instrument.type == 10 ? 6 : Config.operatorCount); o++) {\n                                    instrument.operators[o].frequency = freqToGold3[clamp(0, freqToGold3.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                                }\n                            }\n\t\t\t\t\t\t\telse if (!fromGoldBox && !fromUltraBox) {\n\t\t\t\t\t\t\t\tconst freqToUltraBox = [4, 5, 6, 7, 8, 10, 12, 13, 14, 15, 16, 18, 20, 23, 27, 2, 1, 9, 17, 19, 21, 23, 0, 3];\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfor (let o = 0; o < (instrument.type == 10 ? 6 : Config.operatorCount); o++) {\n                                    instrument.operators[o].frequency = freqToUltraBox[clamp(0, freqToUltraBox.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                                }\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n                            else {\n                                for (let o = 0; o < (instrument.type == 10 ? 6 : Config.operatorCount); o++) {\n                                    instrument.operators[o].frequency = clamp(0, Config.operatorFrequencies.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                                }\n                            }\n            } break;\n            case SongTagCode.operatorAmplitudes: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                for (let o: number = 0; o < (instrument.type == InstrumentType.fm6op ? 6 : Config.operatorCount); o++) {\n                    instrument.operators[o].amplitude = clamp(0, Config.operatorAmplitudeMax + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                }\n            } break;\n            case SongTagCode.envelopes: {\n                const pregoldToEnvelope: number[] = [0, 1, 2, 4, 5, 6, 8, 9, 10, 12, 13, 14, 16, 17, 18, 19, 20, 21, 23, 24, 25, 27, 28, 29, 32, 33, 34, 31, 11];\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                if ((beforeNine && fromBeepBox) || (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)) {\n                    const legacySettings: LegacySettings = legacySettingsCache![instrumentChannelIterator][instrumentIndexIterator];\n                    legacySettings.operatorEnvelopes = [];\n                    for (let o: number = 0; o < (instrument.type == InstrumentType.fm6op ? 6 : Config.operatorCount); o++) {\n                        let aa:number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        if ((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)) aa = pregoldToEnvelope[aa];  \n                        legacySettings.operatorEnvelopes[o] = Song._envelopeFromLegacyIndex(aa);\n                    }\n                    instrument.convertLegacySettings(legacySettings, forceSimpleFilter);\n                } else {\n                    const envelopeCount: number = clamp(0, Config.maxEnvelopeCount + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    for (let i: number = 0; i < envelopeCount; i++) {\n                        const target: number = clamp(0, Config.instrumentAutomationTargets.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        let index: number = 0;\n                        const maxCount: number = Config.instrumentAutomationTargets[target].maxCount;\n                        if (maxCount > 1) {\n                            index = clamp(0, maxCount, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                        let aa:number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        if ((beforeTwo && fromGoldBox) || (!fromGoldBox && !fromUltraBox)) aa = pregoldToEnvelope[aa]; \n                        const envelope: number = clamp(0, Config.envelopes.length, aa);\n                        instrument.addEnvelope(target, index, envelope);\n                    }\n                }\n            } break;\n            case SongTagCode.operatorWaves: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n\n                if (beforeThree && fromGoldBox) {\n                    for (let o: number = 0; o < Config.operatorCount; o++) {\n                        const pre3To3g = [0, 1, 3, 2, 2, 2, 4, 5];\n                        const old: number = clamp(0, pre3To3g.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        if (old == 3) {\n                            instrument.operators[o].pulseWidth = 5;\n                        } else if (old == 4) {\n                            instrument.operators[o].pulseWidth = 4;\n                        } else if (old == 5) {\n                            instrument.operators[o].pulseWidth = 6;\n                        }\n                        instrument.operators[o].waveform = pre3To3g[old];\n                    }\n                } else {\n                    for (let o: number = 0; o < (instrument.type == InstrumentType.fm6op ? 6 : Config.operatorCount); o++) {\n                        if (fromJummBox) {\n                            const jummToG = [0, 1, 3, 2, 4, 5];\n                            instrument.operators[o].waveform = jummToG[clamp(0, Config.operatorWaves.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)])];\n                        } else {\n                            instrument.operators[o].waveform = clamp(0, Config.operatorWaves.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                        // Pulse width follows, if it is a pulse width operator wave\n                        if (instrument.operators[o].waveform == 2) {\n                            instrument.operators[o].pulseWidth = clamp(0, Config.pwmOperatorWaves.length, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                        }\n                    }\n                }\n\n            } break;\n            case SongTagCode.spectrum: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                if (instrument.type == InstrumentType.spectrum) {\n                    const byteCount: number = Math.ceil(Config.spectrumControlPoints * Config.spectrumControlPointBits / 6)\n                    const bits: BitFieldReader = new BitFieldReader(compressed, charIndex, charIndex + byteCount);\n                    for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                        instrument.spectrumWave.spectrum[i] = bits.read(Config.spectrumControlPointBits);\n                    }\n                    instrument.spectrumWave.markCustomWaveDirty();\n                    charIndex += byteCount;\n                } else if (instrument.type == InstrumentType.drumset) {\n                    const byteCount: number = Math.ceil(Config.drumCount * Config.spectrumControlPoints * Config.spectrumControlPointBits / 6)\n                    const bits: BitFieldReader = new BitFieldReader(compressed, charIndex, charIndex + byteCount);\n                    for (let j: number = 0; j < Config.drumCount; j++) {\n                        for (let i: number = 0; i < Config.spectrumControlPoints; i++) {\n                            instrument.drumsetSpectrumWaves[j].spectrum[i] = bits.read(Config.spectrumControlPointBits);\n                        }\n                        instrument.drumsetSpectrumWaves[j].markCustomWaveDirty();\n                    }\n                    charIndex += byteCount;\n                } else {\n                    throw new Error(\"Unhandled instrument type for spectrum song tag code.\");\n                }\n            } break;\n            case SongTagCode.harmonics: {\n                const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                const byteCount: number = Math.ceil(Config.harmonicsControlPoints * Config.harmonicsControlPointBits / 6)\n                const bits: BitFieldReader = new BitFieldReader(compressed, charIndex, charIndex + byteCount);\n                for (let i: number = 0; i < Config.harmonicsControlPoints; i++) {\n                    instrument.harmonicsWave.harmonics[i] = bits.read(Config.harmonicsControlPointBits);\n                }\n                instrument.harmonicsWave.markCustomWaveDirty();\n                charIndex += byteCount;\n            } break;\n            case SongTagCode.aliases: {\n                if ((fromJummBox && beforeFive) || (fromGoldBox && beforeFour)) {\n                    const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];\n                    instrument.aliases = (base64CharCodeToInt[compressed.charCodeAt(charIndex++)]) ? true : false;\n                    if (instrument.aliases) {\n                        instrument.distortion = 0;\n                        instrument.effects |= 1 << EffectType.distortion;\n                    }\n                } else {\n                    if (fromUltraBox) {\n                        const instrument: Instrument = this.channels[instrumentChannelIterator].instruments[instrumentIndexIterator];  \n                        instrument.decimalOffset = clamp(0, 50 + 1, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    }\n                }\n            }\n                break;\n            case SongTagCode.bars: {\n                let subStringLength: number;\n                if (beforeThree && fromBeepBox) {\n                    const channelIndex: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    const barCount: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    subStringLength = Math.ceil(barCount * 0.5);\n                    const bits: BitFieldReader = new BitFieldReader(compressed, charIndex, charIndex + subStringLength);\n                    for (let i: number = 0; i < barCount; i++) {\n                        this.channels[channelIndex].bars[i] = bits.read(3) + 1;\n                    }\n                } else if (beforeFive && fromBeepBox) {\n                    let neededBits: number = 0;\n                    while ((1 << neededBits) < this.patternsPerChannel) neededBits++;\n                    subStringLength = Math.ceil(this.getChannelCount() * this.barCount * neededBits / 6);\n                    const bits: BitFieldReader = new BitFieldReader(compressed, charIndex, charIndex + subStringLength);\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        for (let i: number = 0; i < this.barCount; i++) {\n                            this.channels[channelIndex].bars[i] = bits.read(neededBits) + 1;\n                        }\n                    }\n                } else {\n                    let neededBits: number = 0;\n                    while ((1 << neededBits) < this.patternsPerChannel + 1) neededBits++;\n                    subStringLength = Math.ceil(this.getChannelCount() * this.barCount * neededBits / 6);\n                    const bits: BitFieldReader = new BitFieldReader(compressed, charIndex, charIndex + subStringLength);\n                    for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n                        for (let i: number = 0; i < this.barCount; i++) {\n                            this.channels[channelIndex].bars[i] = bits.read(neededBits);\n                        }\n                    }\n                }\n                charIndex += subStringLength;\n            } break;\n            case SongTagCode.patterns: {\n                let bitStringLength: number = 0;\n                let channelIndex: number;\n                let largerChords: boolean = !((beforeFour && fromJummBox) || fromBeepBox);\n                let recentPitchBitLength: number = (largerChords ? 4 : 3);\n                let recentPitchLength: number = (largerChords ? 16 : 8);\n                if (beforeThree && fromBeepBox) {\n                    channelIndex = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\n                    // The old format used the next character to represent the number of patterns in the channel, which is usually eight, the default. \n                    charIndex++; //let patternCount: number = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n\n                    bitStringLength = base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                    bitStringLength = bitStringLength << 6;\n                    bitStringLength += base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                } else {\n                    channelIndex = 0;\n                    let bitStringLengthLength: number = validateRange(1, 4, base64CharCodeToInt[compressed.charCodeAt(charIndex++)]);\n                    while (bitStringLengthLength > 0) {\n                        bitStringLength = bitStringLength << 6;\n                        bitStringLength += base64CharCodeToInt[compressed.charCodeAt(charIndex++)];\n                        bitStringLengthLength--;\n                    }\n                }\n\n                const bits: BitFieldReader = new BitFieldReader(compressed, charIndex, charIndex + bitStringLength);\n                charIndex += bitStringLength;\n\n                const bitsPerNoteSize: number = Song.getNeededBits(Config.noteSizeMax);\n                let songReverbChannel: number = -1;\n                let songReverbInstrument: number = -1;\n                let songReverbIndex: number = -1;\n\n                while (true) {\n                    const channel: Channel = this.channels[channelIndex];\n                    const isNoiseChannel: boolean = this.getChannelIsNoise(channelIndex);\n                    const isModChannel: boolean = this.getChannelIsMod(channelIndex);\n\n                    const maxInstrumentsPerPattern: number = this.getMaxInstrumentsPerPattern(channelIndex);\n                    const neededInstrumentCountBits: number = Song.getNeededBits(maxInstrumentsPerPattern - Config.instrumentCountMin);\n\n                    const neededInstrumentIndexBits: number = Song.getNeededBits(channel.instruments.length - 1);\n\n                    // Some info about modulator settings immediately follows in mod channels.\n                    if (isModChannel) {\n                        let jumfive: boolean = (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)\n\n                        // 2 more indices for 'all' and 'active'\n                        const neededModInstrumentIndexBits: number = (jumfive) ? neededInstrumentIndexBits : Song.getNeededBits(this.getMaxInstrumentsPerChannel() + 2);\n\n                        for (let instrumentIndex: number = 0; instrumentIndex < channel.instruments.length; instrumentIndex++) {\n\n                            let instrument: Instrument = channel.instruments[instrumentIndex];\n\n                            for (let mod: number = 0; mod < Config.modCount; mod++) {\n                                // Still using legacy \"mod status\" format, but doing it manually as it's only used in the URL now.\n                                // 0 - For pitch/noise\n                                // 1 - (used to be For noise, not needed)\n                                // 2 - For song\n                                // 3 - None\n                                let status: number = bits.read(2);\n\n                                switch (status) {\n                                    case 0: // Pitch\n                                        instrument.modChannels[mod] = clamp(0, this.pitchChannelCount + this.noiseChannelCount + 1, bits.read(8));\n                                        instrument.modInstruments[mod] = clamp(0, this.channels[instrument.modChannels[mod]].instruments.length + 2, bits.read(neededModInstrumentIndexBits));\n                                        break;\n                                    case 1: // Noise\n                                        // Getting a status of 1 means this is legacy mod info. Need to add pitch channel count, as it used to just store noise channel index and not overall channel index\n                                        instrument.modChannels[mod] = this.pitchChannelCount + clamp(0, this.noiseChannelCount + 1, bits.read(8));\n                                        instrument.modInstruments[mod] = clamp(0, this.channels[instrument.modChannels[mod]].instruments.length + 2, bits.read(neededInstrumentIndexBits));\n                                        break;\n                                    case 2: // For song\n                                        instrument.modChannels[mod] = -1;\n                                        break;\n                                    case 3: // None\n                                        instrument.modChannels[mod] = -2;\n                                        break;\n                                }\n\n                                // Mod setting is only used if the status isn't \"none\".\n                                if (status != 3) {\n                                    instrument.modulators[mod] = bits.read(6);\n                                }\n\n                                if (!jumfive && (Config.modulators[instrument.modulators[mod]].name == \"eq filter\" || Config.modulators[instrument.modulators[mod]].name == \"note filter\")) {\n                                    instrument.modFilterTypes[mod] = bits.read(6);\n                                }\n\n                                if (jumfive && instrument.modChannels[mod] >= 0) {\n                                    let forNoteFilter: boolean = effectsIncludeNoteFilter(this.channels[instrument.modChannels[mod]].instruments[instrument.modInstruments[mod]].effects);\n\n                                    // For legacy filter cut/peak, need to denote since scaling must be applied\n                                    if (instrument.modulators[mod] == 7) {\n                                        // Legacy filter cut index\n                                        // Check if there is no filter dot on prospective filter. If so, add a low pass at max possible freq.\n\n                                        if (forNoteFilter) {\n                                            instrument.modulators[mod] = Config.modulators.dictionary[\"note filt cut\"].index;\n                                        }\n                                        else {\n                                            instrument.modulators[mod] = Config.modulators.dictionary[\"eq filt cut\"].index;\n                                        }\n\n                                        instrument.modFilterTypes[mod] = 1; // Dot 1 X\n\n                                    }\n                                    else if (instrument.modulators[mod] == 8) {\n                                        // Legacy filter peak index\n                                        if (forNoteFilter) {\n                                            instrument.modulators[mod] = Config.modulators.dictionary[\"note filt peak\"].index;\n                                        }\n                                        else {\n                                            instrument.modulators[mod] = Config.modulators.dictionary[\"eq filt peak\"].index;\n                                        }\n\n                                        instrument.modFilterTypes[mod] = 2; // Dot 1 Y\n                                    }\n                                }\n                                else if (jumfive) {\n                                    // Check for song reverb mod, which must be handled differently now that it is a multiplier\n                                    if (instrument.modulators[mod] == Config.modulators.dictionary[\"song reverb\"].index) {\n                                        songReverbChannel = channelIndex;\n                                        songReverbInstrument = instrumentIndex;\n                                        songReverbIndex = mod;\n                                    }\n                                }\n\n                                // Based on setting, enable some effects for the modulated instrument. This isn't always set, say if the instrument's pan was right in the center.\n                                // Only used on import of old songs, because sometimes an invalid effect can be set in a mod in the new version that is actually unused. In that case,\n                                // keeping the mod invalid is better since it preserves the state.\n                                if (jumfive && Config.modulators[instrument.modulators[mod]].associatedEffect != EffectType.length) {\n                                    this.channels[instrument.modChannels[mod]].instruments[instrument.modInstruments[mod]].effects |= 1 << Config.modulators[instrument.modulators[mod]].associatedEffect;\n                                }\n                            }\n                        }\n                    }\n\n                    // Scalar applied to detune mods since its granularity was upped. Could be repurposed later if any other granularity changes occur.\n                    const detuneScaleNotes: number[][] = [];\n                    for (let j: number = 0; j < channel.instruments.length; j++) {\n                        detuneScaleNotes[j] = [];\n                        for (let i: number = 0; i < Config.modCount; i++) {\n                            detuneScaleNotes[j][Config.modCount - 1 - i] = 1 + 3 * +(((beforeFive && fromJummBox) || (beforeFour&&fromGoldBox)) && isModChannel && (channel.instruments[j].modulators[i] == Config.modulators.dictionary[\"detune\"].index));\n                        }\n                    }\n                    const octaveOffset: number = (isNoiseChannel || isModChannel) ? 0 : channel.octave * 12;\n                    let lastPitch: number = ((isNoiseChannel || isModChannel) ? 4 : octaveOffset);\n                    const recentPitches: number[] = isModChannel ? [0, 1, 2, 3, 4, 5] : (isNoiseChannel ? [4, 6, 7, 2, 3, 8, 0, 10] : [0, 7, 12, 19, 24, -5, -12]);\n                    const recentShapes: any[] = [];\n                    for (let i: number = 0; i < recentPitches.length; i++) {\n                        recentPitches[i] += octaveOffset;\n                    }\n                    for (let i: number = 0; i < this.patternsPerChannel; i++) {\n                        const newPattern: Pattern = channel.patterns[i];\n\n                        if ((beforeNine && fromBeepBox) || (beforeFive && fromJummBox) || (beforeFour && fromGoldBox)) {\n                            newPattern.instruments[0] = validateRange(0, channel.instruments.length - 1, bits.read(neededInstrumentIndexBits));\n                            newPattern.instruments.length = 1;\n                        } else {\n                            if (this.patternInstruments) {\n                                const instrumentCount: number = validateRange(Config.instrumentCountMin, maxInstrumentsPerPattern, bits.read(neededInstrumentCountBits) + Config.instrumentCountMin);\n                                for (let j: number = 0; j < instrumentCount; j++) {\n                                    newPattern.instruments[j] = validateRange(0, channel.instruments.length - 1 + +(isModChannel) * 2, bits.read(neededInstrumentIndexBits));\n                                }\n                                newPattern.instruments.length = instrumentCount;\n                            } else {\n                                newPattern.instruments[0] = 0;\n                                newPattern.instruments.length = Config.instrumentCountMin;\n                            }\n                        }\n\n                        if (!(fromBeepBox && beforeThree) && bits.read(1) == 0) {\n                            newPattern.notes.length = 0;\n                            continue;\n                        }\n\n                        let curPart: number = 0;\n                        const newNotes: Note[] = newPattern.notes;\n                        let noteCount: number = 0;\n                        // Due to arbitrary note positioning, mod channels don't end the count until curPart actually exceeds the max\n                        while (curPart < this.beatsPerBar * Config.partsPerBeat + (+isModChannel)) {\n\n                            const useOldShape: boolean = bits.read(1) == 1;\n                            let newNote: boolean = false;\n                            let shapeIndex: number = 0;\n                            if (useOldShape) {\n                                shapeIndex = validateRange(0, recentShapes.length - 1, bits.readLongTail(0, 0));\n                            } else {\n                                newNote = bits.read(1) == 1;\n                            }\n\n                            if (!useOldShape && !newNote) {\n                                // For mod channels, check if you need to move backward too (notes can appear in any order and offset from each other).\n                                if (isModChannel) {\n                                    const isBackwards: boolean = bits.read(1) == 1;\n                                    const restLength: number = bits.readPartDuration();\n                                    if (isBackwards) {\n                                        curPart -= restLength;\n                                    }\n                                    else {\n                                        curPart += restLength;\n                                    }\n                                } else {\n                                    const restLength: number = (beforeSeven && fromBeepBox)\n                                        ? bits.readLegacyPartDuration() * Config.partsPerBeat / Config.rhythms[this.rhythm].stepsPerBeat\n                                        : bits.readPartDuration();\n                                    curPart += restLength;\n\n                                }\n                            } else {\n                                let shape: any;\n                                if (useOldShape) {\n                                    shape = recentShapes[shapeIndex];\n                                    recentShapes.splice(shapeIndex, 1);\n                                } else {\n                                    shape = {};\n\n                                    if (!largerChords) {\n                                        // Old format: X 1's followed by a 0 => X+1 pitches, up to 4\n                                        shape.pitchCount = 1;\n                                        while (shape.pitchCount < 4 && bits.read(1) == 1) shape.pitchCount++;\n                                    }\n                                    else {\n                                        // New format is:\n                                        //      0: 1 pitch\n                                        // 1[XXX]: 3 bits of binary signifying 2+ pitches\n                                        if (bits.read(1) == 1) {\n                                            shape.pitchCount = bits.read(3) + 2;\n                                        }\n                                        else {\n                                            shape.pitchCount = 1;\n                                        }\n                                    }\n\n                                    shape.pinCount = bits.readPinCount();\n                                    if (fromBeepBox) {\n                                        shape.initialSize = bits.read(2) * 2;\n                                    } else if (!isModChannel) {\n                                        shape.initialSize = bits.read(bitsPerNoteSize);\n                                    } else {\n                                        shape.initialSize = bits.read(9);\n                                    }\n\n                                    shape.pins = [];\n                                    shape.length = 0;\n                                    shape.bendCount = 0;\n                                    for (let j: number = 0; j < shape.pinCount; j++) {\n                                        let pinObj: any = {};\n                                        pinObj.pitchBend = bits.read(1) == 1;\n                                        if (pinObj.pitchBend) shape.bendCount++;\n                                        shape.length += (beforeSeven && fromBeepBox)\n                                            ? bits.readLegacyPartDuration() * Config.partsPerBeat / Config.rhythms[this.rhythm].stepsPerBeat\n                                            : bits.readPartDuration();\n                                        pinObj.time = shape.length;\n                                        if (fromBeepBox) {\n                                            pinObj.size = bits.read(2) * 2;\n                                        } else if (!isModChannel) {\n                                            pinObj.size = bits.read(bitsPerNoteSize);\n                                        }\n                                        else {\n                                            pinObj.size = bits.read(9);\n                                        }\n                                        shape.pins.push(pinObj);\n                                    }\n                                }\n                                recentShapes.unshift(shape);\n                                if (recentShapes.length > 10) recentShapes.pop(); // TODO: Use Deque?\n\n                                let note: Note;\n                                if (newNotes.length <= noteCount) {\n                                    note = new Note(0, curPart, curPart + shape.length, shape.initialSize);\n                                    newNotes[noteCount++] = note;\n                                } else {\n                                    note = newNotes[noteCount++];\n                                    note.start = curPart;\n                                    note.end = curPart + shape.length;\n                                    note.pins[0].size = shape.initialSize;\n                                }\n\n                                let pitch: number;\n                                let pitchCount: number = 0;\n                                const pitchBends: number[] = []; // TODO: allocate this array only once! keep separate length and iterator index. Use Deque?\n                                for (let j: number = 0; j < shape.pitchCount + shape.bendCount; j++) {\n                                    const useOldPitch: boolean = bits.read(1) == 1;\n                                    if (!useOldPitch) {\n                                        const interval: number = bits.readPitchInterval();\n                                        pitch = lastPitch;\n                                        let intervalIter: number = interval;\n                                        while (intervalIter > 0) {\n                                            pitch++;\n                                            while (recentPitches.indexOf(pitch) != -1) pitch++;\n                                            intervalIter--;\n                                        }\n                                        while (intervalIter < 0) {\n                                            pitch--;\n                                            while (recentPitches.indexOf(pitch) != -1) pitch--;\n                                            intervalIter++;\n                                        }\n                                    } else {\n                                        const pitchIndex: number = validateRange(0, recentPitches.length - 1, bits.read(recentPitchBitLength));\n                                        pitch = recentPitches[pitchIndex];\n                                        recentPitches.splice(pitchIndex, 1);\n                                    }\n\n                                    recentPitches.unshift(pitch);\n                                    if (recentPitches.length > recentPitchLength) recentPitches.pop();\n\n                                    if (j < shape.pitchCount) {\n                                        note.pitches[pitchCount++] = pitch;\n                                    } else {\n                                        pitchBends.push(pitch);\n                                    }\n\n                                    if (j == shape.pitchCount - 1) {\n                                        lastPitch = note.pitches[0];\n                                    } else {\n                                        lastPitch = pitch;\n                                    }\n                                }\n                                note.pitches.length = pitchCount;\n                                pitchBends.unshift(note.pitches[0]); // TODO: Use Deque?\n                                if (isModChannel) {\n                                    note.pins[0].size *= detuneScaleNotes[newPattern.instruments[0]][note.pitches[0]];\n                                }\n                                let pinCount: number = 1;\n                                for (const pinObj of shape.pins) {\n                                    if (pinObj.pitchBend) pitchBends.shift();\n\n                                    const interval: number = pitchBends[0] - note.pitches[0];\n                                    if (note.pins.length <= pinCount) {\n                                        if (isModChannel) {\n                                            note.pins[pinCount++] = makeNotePin(interval, pinObj.time, pinObj.size * detuneScaleNotes[newPattern.instruments[0]][note.pitches[0]]);\n                                        } else {\n                                            note.pins[pinCount++] = makeNotePin(interval, pinObj.time, pinObj.size);\n                                        }\n                                    } else {\n                                        const pin: NotePin = note.pins[pinCount++];\n                                        pin.interval = interval;\n                                        pin.time = pinObj.time;\n                                        if (isModChannel) {\n                                            pin.size = pinObj.size * detuneScaleNotes[newPattern.instruments[0]][note.pitches[0]];\n                                        } else {\n                                            pin.size = pinObj.size;\n                                        }\n                                    }\n                                }\n                                note.pins.length = pinCount;\n\n                                if (note.start == 0) {\n                                    if (!((beforeNine && fromBeepBox) || (beforeFive && fromJummBox)||(beforeFour&&fromGoldBox))) {\n                                        note.continuesLastPattern = (bits.read(1) == 1);\n                                    } else {\n                                        if ((beforeFour && !fromUltraBox) || fromBeepBox) {\n                                            note.continuesLastPattern = false;\n                                        } else {\n                                            note.continuesLastPattern = channel.instruments[newPattern.instruments[0]].legacyTieOver;\n                                        }\n                                    }\n                                }\n\n                                curPart = validateRange(0, this.beatsPerBar * Config.partsPerBeat, note.end);\n                            }\n                        }\n                        newNotes.length = noteCount;\n                    }\n\n                    if (beforeThree && fromBeepBox) {\n                        break;\n                    } else {\n                        channelIndex++;\n                        if (channelIndex >= this.getChannelCount()) break;\n                    }\n                } // while (true)\n\n                // Correction for old JB songs that had song reverb mods. Change all instruments using reverb to max reverb\n                if (((fromJummBox && beforeFive)||(beforeFour && fromGoldBox)) && songReverbIndex >= 0) {\n                    for (let channelIndex: number = 0; channelIndex < this.channels.length; channelIndex++) {\n                        for (let instrumentIndex: number = 0; instrumentIndex < this.channels[channelIndex].instruments.length; instrumentIndex++) {\n                            const instrument: Instrument = this.channels[channelIndex].instruments[instrumentIndex];\n                            if (effectsIncludeReverb(instrument.effects)) {\n                                instrument.reverb = Config.reverbRange - 1;\n                            }\n                            // Set song reverb via mod to the old setting at song start.\n                            if (songReverbChannel == channelIndex && songReverbInstrument == instrumentIndex) {\n                                const patternIndex: number = this.channels[channelIndex].bars[0];\n                                if (patternIndex > 0) {\n                                    // Doesn't work if 1st pattern isn't using the right ins for song reverb...\n                                    // Add note to start of pattern\n                                    const pattern: Pattern = this.channels[channelIndex].patterns[patternIndex - 1];\n                                    let lowestPart: number = 6;\n                                    for (const note of pattern.notes) {\n                                        if (note.pitches[0] == Config.modCount - 1 - songReverbIndex) {\n                                            lowestPart = Math.min(lowestPart, note.start);\n                                        }\n                                    }\n\n                                    if (lowestPart > 0) {\n                                        pattern.notes.push(new Note(Config.modCount - 1 - songReverbIndex, 0, lowestPart, legacyGlobalReverb));\n                                    }\n                                }\n                                else {\n                                    // Add pattern\n                                    if (this.channels[channelIndex].patterns.length < Config.barCountMax) {\n                                        const pattern: Pattern = new Pattern();\n                                        this.channels[channelIndex].patterns.push(pattern);\n                                        this.channels[channelIndex].bars[0] = this.channels[channelIndex].patterns.length;\n                                        if (this.channels[channelIndex].patterns.length > this.patternsPerChannel) {\n                                            for (let chn: number = 0; chn < this.channels.length; chn++) {\n                                                if (this.channels[chn].patterns.length <= this.patternsPerChannel) {\n                                                    this.channels[chn].patterns.push(new Pattern());\n                                                }\n                                            }\n                                            this.patternsPerChannel++;\n                                        }\n                                        pattern.instruments.length = 1;\n                                        pattern.instruments[0] = songReverbInstrument;\n                                        pattern.notes.length = 0;\n                                        pattern.notes.push(new Note(Config.modCount - 1 - songReverbIndex, 0, 6, legacyGlobalReverb));\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            } break;\n            default: {\n                throw new Error(\"Unrecognized song tag code \" + String.fromCharCode(command) + \" at index \" + (charIndex - 1) + \" \" + compressed.substring(/*charIndex - 2*/0, charIndex));\n            } break;\n        }\n\n        if (Config.willReloadForCustomSamples) {\n            window.location.hash = this.toBase64String();\n            setTimeout(() => { location.reload(); }, 50);\n        }\n    }\n\n    private static _isProperUrl(string: string): boolean {\n        try { \n            return Boolean(new URL(string)); \n        }\n        catch(x){ \n            return false; \n        }\n    }\n\n    // @TODO: Share more of this code with AddSamplesPrompt.\n    private static _parseAndConfigureCustomSample(url: string, customSampleUrls: string[], customSamplePresets: Preset[], sampleLoadingState: SampleLoadingState, parseOldSyntax: boolean): boolean {\n        const defaultIndex: number = 0;\n        const defaultIntegratedSamples: Float32Array = Config.chipWaves[defaultIndex].samples;\n        const defaultSamples: Float32Array = Config.rawRawChipWaves[defaultIndex].samples;\n\n        const customSampleUrlIndex: number = customSampleUrls.length;\n        customSampleUrls.push(url);\n        // This depends on `Config.chipWaves` being the same\n        // length as `Config.rawRawChipWaves`.\n        const chipWaveIndex: number = Config.chipWaves.length;\n\n        let urlSliced: string = url;\n\n        let customSampleRate: number = 44100;\n        let isCustomPercussive: boolean = false;\n        let customRootKey: number = 60;\n        let presetIsUsingAdvancedLoopControls: boolean = false;\n        let presetChipWaveLoopStart: number | null = null;\n        let presetChipWaveLoopEnd: number | null = null;\n        let presetChipWaveStartOffset: number | null = null;\n        let presetChipWaveLoopMode: number | null = null;\n        let presetChipWavePlayBackwards: boolean = false;\n\n        let parsedSampleOptions: boolean = false;\n        let optionsStartIndex: number = url.indexOf(\"!\");\n        let optionsEndIndex: number = -1;\n        if (optionsStartIndex === 0) {\n            optionsEndIndex = url.indexOf(\"!\", optionsStartIndex + 1);\n            if (optionsEndIndex !== -1) {\n                const rawOptions: string[] = url.slice(optionsStartIndex + 1, optionsEndIndex).split(\",\");\n                for (const rawOption of rawOptions) {\n                    const optionCode: string = rawOption.charAt(0);\n                    const optionData: string = rawOption.slice(1, rawOption.length);\n                    if (optionCode === \"s\") {\n                        customSampleRate = clamp(8000, 96000 + 1, parseFloatWithDefault(optionData, 44100));\n                    } else if (optionCode === \"r\") {\n                        customRootKey = parseFloatWithDefault(optionData, 60);\n                    } else if (optionCode === \"p\") {\n                        isCustomPercussive = true;\n                    } else if (optionCode === \"a\") {\n                        presetChipWaveLoopStart = parseIntWithDefault(optionData, null);\n                        if (presetChipWaveLoopStart != null) {\n                            presetIsUsingAdvancedLoopControls = true;\n                        }\n                    } else if (optionCode === \"b\") {\n                        presetChipWaveLoopEnd = parseIntWithDefault(optionData, null);\n                        if (presetChipWaveLoopEnd != null) {\n                            presetIsUsingAdvancedLoopControls = true;\n                        }\n                    } else if (optionCode === \"c\") {\n                        presetChipWaveStartOffset = parseIntWithDefault(optionData, null);\n                        if (presetChipWaveStartOffset != null) {\n                            presetIsUsingAdvancedLoopControls = true;\n                        }\n                    } else if (optionCode === \"d\") {\n                        presetChipWaveLoopMode = parseIntWithDefault(optionData, null);\n                        if (presetChipWaveLoopMode != null) {\n                            // @TODO: Error-prone. This should be automatically\n                            // derived from the list of available loop modes.\n                            presetChipWaveLoopMode = clamp(0, 3 + 1, presetChipWaveLoopMode);\n                            presetIsUsingAdvancedLoopControls = true;\n                        }\n                    } else if (optionCode === \"e\") {\n                        presetChipWavePlayBackwards = true;\n                        presetIsUsingAdvancedLoopControls = true;\n                    }\n                }\n                urlSliced = url.slice(optionsEndIndex + 1, url.length);\n                parsedSampleOptions = true;\n            }\n        }\n\n        let parsedUrl: URL | null = null;\n        if (Song._isProperUrl(urlSliced)) {\n            parsedUrl = new URL(urlSliced);\n        }\n        else {\n            alert(url + \" is not a valid url\");\n            return false;\n        }\n\n        if (parseOldSyntax) {\n            if (!parsedSampleOptions && parsedUrl != null) {\n                if (url.indexOf(\"@\") != -1) {\n                    //urlSliced = url.slice(url.indexOf(\"@\"), url.indexOf(\"@\"));\n                    urlSliced = url.replaceAll(\"@\", \"\")\n                    parsedUrl = new URL(urlSliced);\n                    isCustomPercussive = true;\t\n                }\t\n\n                function sliceForSampleRate() {\n                    urlSliced = url.slice(0, url.indexOf(\",\"));\n                    parsedUrl = new URL(urlSliced);\n                    customSampleRate = clamp(8000, 96000 + 1, parseFloatWithDefault(url.slice(url.indexOf(\",\") + 1), 44100));\n                    //should this be parseFloat or parseInt?\n                    //ig floats let you do decimals and such, but idk where that would be useful\n                }\n\n                function sliceForRootKey() {\n                    urlSliced = url.slice(0, url.indexOf(\"!\"));\n                    parsedUrl = new URL(urlSliced);\n                    customRootKey = parseFloatWithDefault(url.slice(url.indexOf(\"!\") + 1), 60);\n                }\n\n\n                if (url.indexOf(\",\") != -1 && url.indexOf(\"!\") != -1) {\n                    if (url.indexOf(\",\") < url.indexOf(\"!\")) {\n                        sliceForRootKey();\n                        sliceForSampleRate();\n                    }\n                    else {\n                        sliceForSampleRate();\n                        sliceForRootKey();\n                    }\t\n                }\n                else {\n                    if (url.indexOf(\",\") != -1) {\n                        sliceForSampleRate();\n                    }\t\n                    if (url.indexOf(\"!\") != -1) {\n                        sliceForRootKey();\n                    }\t\n                }\n            }\n        }\n\n        if (parsedUrl != null) {\n            // Store in the new format.\n            let urlWithNamedOptions = urlSliced;\n            const namedOptions: string[] = [];\n            if (customSampleRate !== 44100) namedOptions.push(\"s\" + customSampleRate);\n            if (customRootKey !== 60) namedOptions.push(\"r\" + customRootKey);\n            if (isCustomPercussive) namedOptions.push(\"p\");\n            if (presetIsUsingAdvancedLoopControls) {\n                if (presetChipWaveLoopStart != null) namedOptions.push(\"a\" + presetChipWaveLoopStart);\n                if (presetChipWaveLoopEnd != null) namedOptions.push(\"b\" + presetChipWaveLoopEnd);\n                if (presetChipWaveStartOffset != null) namedOptions.push(\"c\" + presetChipWaveStartOffset);\n                if (presetChipWaveLoopMode != null) namedOptions.push(\"d\" + presetChipWaveLoopMode);\n                if (presetChipWavePlayBackwards) namedOptions.push(\"e\");\n            }\n            if (namedOptions.length > 0) {\n                urlWithNamedOptions = \"!\" + namedOptions.join(\",\") + \"!\" + urlSliced;\n            }\n            customSampleUrls[customSampleUrlIndex] = urlWithNamedOptions;\n\n            // @TODO: Could also remove known extensions, but it\n            // would probably be much better to be able to specify\n            // a custom name.\n            // @TODO: If for whatever inexplicable reason someone\n            // uses an url like `https://example.com`, this will\n            // result in an empty name here.\n            const name: string = decodeURIComponent(parsedUrl.pathname.replace(/^([^\\/]*\\/)+/, \"\"));\n            // @TODO: What to do about samples with the same name?\n            // The problem with using the url is that the name is\n            // user-facing and long names break assumptions of the\n            // UI.\n            const expression: number = 1.0;\n            Config.chipWaves[chipWaveIndex] = {\n                name: name,\n                expression: expression,\n                isCustomSampled: true,\n                isPercussion: isCustomPercussive,\n                rootKey: customRootKey,\n                sampleRate: customSampleRate,\n                samples: defaultIntegratedSamples,\n                index: chipWaveIndex,\n            };\n            Config.rawChipWaves[chipWaveIndex] = {\n                name: name,\n                expression: expression,\n                isCustomSampled: true,\n                isPercussion: isCustomPercussive,\n                rootKey: customRootKey,\n                sampleRate: customSampleRate,\n                samples: defaultSamples,\n                index: chipWaveIndex,\n            };\n            Config.rawRawChipWaves[chipWaveIndex] = {\n                name: name,\n                expression: expression,\n                isCustomSampled: true,\n                isPercussion: isCustomPercussive,\n                rootKey: customRootKey,\n                sampleRate: customSampleRate,\n                samples: defaultSamples,\n                index: chipWaveIndex,\n            };\n            const customSamplePresetSettings: Dictionary<any> = {\n                \"type\": \"chip\",\n                \"eqFilter\": [],\n                \"effects\": [],\n                \"transition\": \"normal\",\n                \"fadeInSeconds\": 0,\n                \"fadeOutTicks\": -3,\n                \"chord\": \"harmony\",\n                \"wave\": name,\n                \"unison\": \"none\",\n                \"envelopes\": [],\n            };\n            if (presetIsUsingAdvancedLoopControls) {\n                customSamplePresetSettings[\"isUsingAdvancedLoopControls\"] = true;\n                customSamplePresetSettings[\"chipWaveLoopStart\"] = presetChipWaveLoopStart != null ? presetChipWaveLoopStart : 0;\n                customSamplePresetSettings[\"chipWaveLoopEnd\"] = presetChipWaveLoopEnd != null ? presetChipWaveLoopEnd : 2;\n                customSamplePresetSettings[\"chipWaveLoopMode\"] = presetChipWaveLoopMode != null ? presetChipWaveLoopMode : 0;\n                customSamplePresetSettings[\"chipWavePlayBackwards\"] = presetChipWavePlayBackwards;\n                customSamplePresetSettings[\"chipWaveStartOffset\"] = presetChipWaveStartOffset != null ? presetChipWaveStartOffset : 0;\n            }\n            const customSamplePreset: Preset = {\n                index: 0, // This should be overwritten by toNameMap, in our caller.\n                name: name,\n                midiProgram: 80,\n                settings: customSamplePresetSettings,\n            };\n            customSamplePresets.push(customSamplePreset);\n            if (!Config.willReloadForCustomSamples) {\n                const rawLoopOptions: any = {\n                    \"isUsingAdvancedLoopControls\": presetIsUsingAdvancedLoopControls,\n                    \"chipWaveLoopStart\": presetChipWaveLoopStart,\n                    \"chipWaveLoopEnd\": presetChipWaveLoopEnd,\n                    \"chipWaveLoopMode\": presetChipWaveLoopMode,\n                    \"chipWavePlayBackwards\": presetChipWavePlayBackwards,\n                    \"chipWaveStartOffset\": presetChipWaveStartOffset,\n                };\n                startLoadingSample(urlSliced, chipWaveIndex, customSamplePresetSettings, rawLoopOptions, customSampleRate);\n            }\n            sampleLoadingState.statusTable[chipWaveIndex] = SampleLoadingStatus.loading;\n            sampleLoadingState.urlTable[chipWaveIndex] = urlSliced;\n            sampleLoadingState.totalSamples++;\n        }\n\n        return true;\n    }\n\n    private static _restoreChipWaveListToDefault(): void {\n        Config.chipWaves = toNameMap(Config.chipWaves.slice(0, Config.firstIndexForSamplesInChipWaveList));\n        Config.rawChipWaves = toNameMap(Config.rawChipWaves.slice(0, Config.firstIndexForSamplesInChipWaveList));\n        Config.rawRawChipWaves = toNameMap(Config.rawRawChipWaves.slice(0, Config.firstIndexForSamplesInChipWaveList));\n    }\n\n    private static _clearSamples(): void {\n        EditorConfig.customSamples = null;\n\n        Song._restoreChipWaveListToDefault();\n\n        sampleLoadingState.statusTable = {};\n        sampleLoadingState.urlTable = {};\n        sampleLoadingState.totalSamples = 0;\n        sampleLoadingState.samplesLoaded = 0;\n        sampleLoadEvents.dispatchEvent(new SampleLoadedEvent(\n            sampleLoadingState.totalSamples,\n            sampleLoadingState.samplesLoaded\n        ));\n    }\n\n    public toJsonObject(enableIntro: boolean = true, loopCount: number = 1, enableOutro: boolean = true): Object {\n        const channelArray: Object[] = [];\n        for (let channelIndex: number = 0; channelIndex < this.getChannelCount(); channelIndex++) {\n            const channel: Channel = this.channels[channelIndex];\n            const instrumentArray: Object[] = [];\n            const isNoiseChannel: boolean = this.getChannelIsNoise(channelIndex);\n            const isModChannel: boolean = this.getChannelIsMod(channelIndex);\n            for (const instrument of channel.instruments) {\n                instrumentArray.push(instrument.toJsonObject());\n            }\n\n            const patternArray: Object[] = [];\n            for (const pattern of channel.patterns) {\n                patternArray.push(pattern.toJsonObject(this, channel, isModChannel));\n            }\n\n            const sequenceArray: number[] = [];\n            if (enableIntro) for (let i: number = 0; i < this.loopStart; i++) {\n                sequenceArray.push(channel.bars[i]);\n            }\n            for (let l: number = 0; l < loopCount; l++) for (let i: number = this.loopStart; i < this.loopStart + this.loopLength; i++) {\n                sequenceArray.push(channel.bars[i]);\n            }\n            if (enableOutro) for (let i: number = this.loopStart + this.loopLength; i < this.barCount; i++) {\n                sequenceArray.push(channel.bars[i]);\n            }\n\n            const channelObject: any = {\n                \"type\": isModChannel ? \"mod\" : (isNoiseChannel ? \"drum\" : \"pitch\"),\n                \"name\": channel.name,\n                \"instruments\": instrumentArray,\n                \"patterns\": patternArray,\n                \"sequence\": sequenceArray,\n            };\n            if (!isNoiseChannel) {\n                // For compatibility with old versions the octave is offset by one.\n                channelObject[\"octaveScrollBar\"] = channel.octave - 1;\n            }\n            channelArray.push(channelObject);\n        }\n\n        const result: any = {\n            \"name\": this.title,\n            \"format\": Song._format,\n            \"version\": Song._latestUltraBoxVersion,\n            \"scale\": Config.scales[this.scale].name,\n            \"customScale\": this.scaleCustom,\n            \"key\": Config.keys[this.key].name,\n            \"keyOctave\": this.octave,\n            \"introBars\": this.loopStart,\n            \"loopBars\": this.loopLength,\n            \"beatsPerBar\": this.beatsPerBar,\n            \"ticksPerBeat\": Config.rhythms[this.rhythm].stepsPerBeat,\n            \"beatsPerMinute\": this.tempo,\n            \"reverb\": this.reverb,\n            \"masterGain\": this.masterGain,\n            \"compressionThreshold\": this.compressionThreshold,\n            \"limitThreshold\": this.limitThreshold,\n            \"limitDecay\": this.limitDecay,\n            \"limitRise\": this.limitRise,\n            \"limitRatio\": this.limitRatio,\n            \"compressionRatio\": this.compressionRatio,\n            //\"outroBars\": this.barCount - this.loopStart - this.loopLength; // derive this from bar arrays?\n            //\"patternCount\": this.patternsPerChannel, // derive this from pattern arrays?\n            \"layeredInstruments\": this.layeredInstruments,\n            \"patternInstruments\": this.patternInstruments,\n            \"channels\": channelArray,\n        };\n\n        if (EditorConfig.customSamples != null && EditorConfig.customSamples.length > 0) {\n            result[\"customSamples\"] = EditorConfig.customSamples;\n        }\n\n        return result;\n    }\n\n    public fromJsonObject(jsonObject: any): void {\n        this.initToDefault(true);\n        if (!jsonObject) return;\n\n        //const version: number = jsonObject[\"version\"] | 0;\n        //if (version > Song._latestVersion) return; // Go ahead and try to parse something from the future I guess? JSON is pretty easy-going!\n\n        if (jsonObject[\"name\"] != undefined) {\n            this.title = jsonObject[\"name\"];\n        }\n\n\t    \t\t\t// if (jsonObject[\"customSamples\"] != undefined && EditorConfig.customSamples == undefined) {\n                // EditorConfig.customSamples = atob(jsonObject[\"customSamples\"]);\n\t\t\t\t// console.log(EditorConfig.customSamples);\n\t\t\t\t// location.reload(); \n            // }\n\t\t\t//jsonmark\n\t\t\t//this doesn't work\n\n        if (jsonObject[\"customSamples\"] != undefined) {\n            const customSamples: string[] = jsonObject[\"customSamples\"];\n            if (EditorConfig.customSamples == null || EditorConfig.customSamples.join(\", \") != customSamples.join(\", \")) {\n                // Have to duplicate the work done in Song.fromBase64String\n                // early here, because Instrument.fromJsonObject depends on the\n                // chip wave list having the correct items already in memory.\n\n                Config.willReloadForCustomSamples = true;\n\n                Song._restoreChipWaveListToDefault();\n\n                let willLoadLegacySamples: boolean = false;\n                let willLoadNintariboxSamples: boolean = false;\n                let willLoadMarioPaintboxSamples: boolean = false;\n                const customSampleUrls: string[] = [];\n                const customSamplePresets: Preset[] = [];\n                for (const url of customSamples) {\n                    if (url.toLowerCase() === \"legacysamples\") {\n                        if (!willLoadLegacySamples) {\n                            willLoadLegacySamples = true;\n                            customSampleUrls.push(url);\n                            loadBuiltInSamples(0);\n                        }\n                    } \n                    else if (url.toLowerCase() === \"nintariboxsamples\") {\n                        if (!willLoadNintariboxSamples) {\n                            willLoadNintariboxSamples = true;\n                            customSampleUrls.push(url);\n                            loadBuiltInSamples(1);\n                        }\n                    }\n                    else if (url.toLowerCase() === \"mariopaintboxsamples\") {\n                        if (!willLoadMarioPaintboxSamples) {\n                            willLoadMarioPaintboxSamples = true;\n                            customSampleUrls.push(url);\n                            loadBuiltInSamples(2);\n                        }\n                    }\n                    \n                    else {\n                        // When EditorConfig.customSamples is saved in the json\n                        // export, it should be using the new syntax, unless\n                        // the user has manually modified the URL, so we don't\n                        // really need to parse the old syntax here.\n                        const parseOldSyntax: boolean = false;\n                        Song._parseAndConfigureCustomSample(url, customSampleUrls, customSamplePresets, sampleLoadingState, parseOldSyntax);\n                    }\n                }\n                if (customSampleUrls.length > 0) {\n                    EditorConfig.customSamples = customSampleUrls;\n                }\n                if (customSamplePresets.length > 0) {\n                    const customSamplePresetsMap: DictionaryArray<Preset> = toNameMap(customSamplePresets);\n                    EditorConfig.presetCategories[EditorConfig.presetCategories.length] = {\n                        name: \"Custom Sample Presets\",\n                        presets: customSamplePresetsMap,\n                        index: EditorConfig.presetCategories.length,\n                    };\n                }\n            }\n        } else {\n            // No custom samples, so the only possibility at this point is that\n            // we need to load the legacy samples. Let's check whether that's\n            // necessary.\n            let shouldLoadLegacySamples: boolean = false;\n            if (jsonObject[\"channels\"] != undefined) {\n                for (let channelIndex: number = 0; channelIndex < jsonObject[\"channels\"].length; channelIndex++) {\n                    const channelObject: any = jsonObject[\"channels\"][channelIndex];\n                    if (channelObject[\"type\"] !== \"pitch\") {\n                        // Legacy samples can only exist in pitch channels.\n                        continue;\n                    }\n                    if (Array.isArray(channelObject[\"instruments\"])) {\n                        const instrumentObjects: any[] = channelObject[\"instruments\"];\n                        for (let i: number = 0; i < instrumentObjects.length; i++) {\n                            const instrumentObject: any = instrumentObjects[i];\n                            if (instrumentObject[\"type\"] !== \"chip\") {\n                                // Legacy samples can only exist in chip wave\n                                // instruments.\n                                continue;\n                            }\n                            if (instrumentObject[\"wave\"] == null) {\n                                // This should exist if things got saved\n                                // correctly, but if they didn't, skip this.\n                                continue;\n                            }\n                            const waveName: string = instrumentObject[\"wave\"];\n                            // @TODO: Avoid this duplication.\n                            const names: string[] = [\n                                \"paandorasbox kick\",\n                                \"paandorasbox snare\",\n                                \"paandorasbox piano1\",\n                                \"paandorasbox WOW\",\n                                \"paandorasbox overdrive\",\n                                \"paandorasbox trumpet\",\n                                \"paandorasbox saxophone\",\n                                \"paandorasbox orchestrahit\",\n                                \"paandorasbox detatched violin\",\n                                \"paandorasbox synth\",\n                                \"paandorasbox sonic3snare\",\n                                \"paandorasbox come on\",\n                                \"paandorasbox choir\",\n                                \"paandorasbox overdriveguitar\",\n                                \"paandorasbox flute\",\n                                \"paandorasbox legato violin\",\n                                \"paandorasbox tremolo violin\",\n                                \"paandorasbox amen break\",\n                                \"paandorasbox pizzicato violin\",\n                                \"paandorasbox tim allen grunt\",\n                                \"paandorasbox tuba\",\n                                \"paandorasbox loopingcymbal\",\n                                \"paandorasbox standardkick\",\n                                \"paandorasbox standardsnare\",\n                                \"paandorasbox closedhihat\",\n                                \"paandorasbox foothihat\",\n                                \"paandorasbox openhihat\",\n                                \"paandorasbox crashcymbal\",\n                                \"paandorasbox pianoC4\",\n                                \"paandorasbox liver pad\",\n                                \"paandorasbox marimba\",\n                                \"paandorasbox susdotwav\",\n                                \"paandorasbox wackyboxtts\",\n                                \"paandorasbox peppersteak_1\",\n                                \"paandorasbox peppersteak_2\",\n                                \"paandorasbox vinyl_noise\",\n                                \"paandorasbeta slap bass\",\n                                \"paandorasbeta HD EB overdrive guitar\",\n                                \"paandorasbeta sunsoft bass\",\n                                \"paandorasbeta masculine choir\",\n                                \"paandorasbeta feminine choir\",\n                                \"paandorasbeta tololoche\",\n                                \"paandorasbeta harp\",\n                                \"paandorasbeta pan flute\",\n                                \"paandorasbeta krumhorn\",\n                                \"paandorasbeta timpani\",\n                                \"paandorasbeta crowd hey\",\n                                \"paandorasbeta wario land 4 brass\",\n                                \"paandorasbeta wario land 4 rock organ\",\n                                \"paandorasbeta wario land 4 DAOW\",\n                                \"paandorasbeta wario land 4 hour chime\",\n                                \"paandorasbeta wario land 4 tick\",\n                                \"paandorasbeta kirby kick\",\n                                \"paandorasbeta kirby snare\",\n                                \"paandorasbeta kirby bongo\",\n                                \"paandorasbeta kirby click\",\n                                \"paandorasbeta sonor kick\",\n                                \"paandorasbeta sonor snare\",\n                                \"paandorasbeta sonor snare (left hand)\",\n                                \"paandorasbeta sonor snare (right hand)\",\n                                \"paandorasbeta sonor high tom\",\n                                \"paandorasbeta sonor low tom\",\n                                \"paandorasbeta sonor hihat (closed)\",\n                                \"paandorasbeta sonor hihat (half opened)\",\n                                \"paandorasbeta sonor hihat (open)\",\n                                \"paandorasbeta sonor hihat (open tip)\",\n                                \"paandorasbeta sonor hihat (pedal)\",\n                                \"paandorasbeta sonor crash\",\n                                \"paandorasbeta sonor crash (tip)\",\n                                \"paandorasbeta sonor ride\"\n                            ];\n                            // The difference for these is in the doubled a.\n                            const oldNames: string[] = [\n                                \"pandoraasbox kick\",\n                                \"pandoraasbox snare\",\n                                \"pandoraasbox piano1\",\n                                \"pandoraasbox WOW\",\n                                \"pandoraasbox overdrive\",\n                                \"pandoraasbox trumpet\",\n                                \"pandoraasbox saxophone\",\n                                \"pandoraasbox orchestrahit\",\n                                \"pandoraasbox detatched violin\",\n                                \"pandoraasbox synth\",\n                                \"pandoraasbox sonic3snare\",\n                                \"pandoraasbox come on\",\n                                \"pandoraasbox choir\",\n                                \"pandoraasbox overdriveguitar\",\n                                \"pandoraasbox flute\",\n                                \"pandoraasbox legato violin\",\n                                \"pandoraasbox tremolo violin\",\n                                \"pandoraasbox amen break\",\n                                \"pandoraasbox pizzicato violin\",\n                                \"pandoraasbox tim allen grunt\",\n                                \"pandoraasbox tuba\",\n                                \"pandoraasbox loopingcymbal\",\n                                \"pandoraasbox standardkick\",\n                                \"pandoraasbox standardsnare\",\n                                \"pandoraasbox closedhihat\",\n                                \"pandoraasbox foothihat\",\n                                \"pandoraasbox openhihat\",\n                                \"pandoraasbox crashcymbal\",\n                                \"pandoraasbox pianoC4\",\n                                \"pandoraasbox liver pad\",\n                                \"pandoraasbox marimba\",\n                                \"pandoraasbox susdotwav\",\n                                \"pandoraasbox wackyboxtts\",\n                                \"pandoraasbox peppersteak_1\",\n                                \"pandoraasbox peppersteak_2\",\n                                \"pandoraasbox vinyl_noise\",\n                                \"pandoraasbeta slap bass\",\n                                \"pandoraasbeta HD EB overdrive guitar\",\n                                \"pandoraasbeta sunsoft bass\",\n                                \"pandoraasbeta masculine choir\",\n                                \"pandoraasbeta feminine choir\",\n                                \"pandoraasbeta tololoche\",\n                                \"pandoraasbeta harp\",\n                                \"pandoraasbeta pan flute\",\n                                \"pandoraasbeta krumhorn\",\n                                \"pandoraasbeta timpani\",\n                                \"pandoraasbeta crowd hey\",\n                                \"pandoraasbeta wario land 4 brass\",\n                                \"pandoraasbeta wario land 4 rock organ\",\n                                \"pandoraasbeta wario land 4 DAOW\",\n                                \"pandoraasbeta wario land 4 hour chime\",\n                                \"pandoraasbeta wario land 4 tick\",\n                                \"pandoraasbeta kirby kick\",\n                                \"pandoraasbeta kirby snare\",\n                                \"pandoraasbeta kirby bongo\",\n                                \"pandoraasbeta kirby click\",\n                                \"pandoraasbeta sonor kick\",\n                                \"pandoraasbeta sonor snare\",\n                                \"pandoraasbeta sonor snare (left hand)\",\n                                \"pandoraasbeta sonor snare (right hand)\",\n                                \"pandoraasbeta sonor high tom\",\n                                \"pandoraasbeta sonor low tom\",\n                                \"pandoraasbeta sonor hihat (closed)\",\n                                \"pandoraasbeta sonor hihat (half opened)\",\n                                \"pandoraasbeta sonor hihat (open)\",\n                                \"pandoraasbeta sonor hihat (open tip)\",\n                                \"pandoraasbeta sonor hihat (pedal)\",\n                                \"pandoraasbeta sonor crash\",\n                                \"pandoraasbeta sonor crash (tip)\",\n                                \"pandoraasbeta sonor ride\"\n                            ];\n                            // This mirrors paandorasboxWaveNames, which is unprefixed.\n                            const veryOldNames: string[] = [\n                                \"kick\",\n                                \"snare\",\n                                \"piano1\",\n                                \"WOW\",\n                                \"overdrive\",\n                                \"trumpet\",\n                                \"saxophone\",\n                                \"orchestrahit\",\n                                \"detatched violin\",\n                                \"synth\",\n                                \"sonic3snare\",\n                                \"come on\",\n                                \"choir\",\n                                \"overdriveguitar\",\n                                \"flute\",\n                                \"legato violin\",\n                                \"tremolo violin\",\n                                \"amen break\",\n                                \"pizzicato violin\",\n                                \"tim allen grunt\",\n                                \"tuba\",\n                                \"loopingcymbal\",\n                                \"standardkick\",\n                                \"standardsnare\",\n                                \"closedhihat\",\n                                \"foothihat\",\n                                \"openhihat\",\n                                \"crashcymbal\",\n                                \"pianoC4\",\n                                \"liver pad\",\n                                \"marimba\",\n                                \"susdotwav\",\n                                \"wackyboxtts\"\n                            ];\n                            if (names.includes(waveName)) {\n                                shouldLoadLegacySamples = true;\n                            } else if (oldNames.includes(waveName)) {\n                                shouldLoadLegacySamples = true;\n                                // If we see one of these old names, update it\n                                // to the corresponding new name.\n                                instrumentObject[\"wave\"] = names[oldNames.findIndex(x => x === waveName)];\n                            } else if (veryOldNames.includes(waveName)) {\n                                if (waveName === \"trumpet\" || waveName === \"flute\") {\n                                    // @TODO: This isn't exactly correct, but for now, if we see one of these two,\n                                    // leave them with the JummBox chip waves. The actual solution here will probably\n                                    // involve disambiguation via user input.\n                                } else {\n                                    // There's no other chip waves with ambiguous names like that, so it should\n                                    // be okay to assume we'll need to load the legacy samples now.\n                                    shouldLoadLegacySamples = true;\n                                    // If we see one of these old names, update it\n                                    // to the corresponding new name.\n                                    instrumentObject[\"wave\"] = names[veryOldNames.findIndex(x => x === waveName)];\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (shouldLoadLegacySamples) {\n                Config.willReloadForCustomSamples = true;\n\n                Song._restoreChipWaveListToDefault();\n\n                loadBuiltInSamples(0);\n                EditorConfig.customSamples = [\"legacySamples\"];\n            } else {\n                // We don't need to load the legacy samples, but we may have\n                // leftover samples in memory. If we do, clear them.\n                if (EditorConfig.customSamples != null && EditorConfig.customSamples.length > 0) {\n                    // We need to reload anyway in this case, because (for now)\n                    // the chip wave lists won't be correctly updated.\n                    Config.willReloadForCustomSamples = true;\n                    Song._clearSamples();\n                }\n            }\n        }\n\n        this.scale = 0; // default to free.\n        if (jsonObject[\"scale\"] != undefined) {\n            const oldScaleNames: Dictionary<string> = {\n                \"romani :)\": \"dbl harmonic :)\",\n                \"romani :(\": \"dbl harmonic :(\",\n                \"enigma\": \"strange\",\n            };\n            const scaleName: string = (oldScaleNames[jsonObject[\"scale\"]] != undefined) ? oldScaleNames[jsonObject[\"scale\"]] : jsonObject[\"scale\"];\n            const scale: number = Config.scales.findIndex(scale => scale.name == scaleName);\n            if (scale != -1) this.scale = scale;\n            if (this.scale == Config.scales[\"dictionary\"][\"Custom\"].index) {\n                if (jsonObject[\"customScale\"] != undefined) {\n                    for (var i of jsonObject[\"customScale\"].keys()) {\n                        this.scaleCustom[i] = jsonObject[\"customScale\"][i];\n                    }\n                }\n            }\n        }\n\n        if (jsonObject[\"key\"] != undefined) {\n            if (typeof (jsonObject[\"key\"]) == \"number\") {\n                this.key = ((jsonObject[\"key\"] + 1200) >>> 0) % Config.keys.length;\n            } else if (typeof (jsonObject[\"key\"]) == \"string\") {\n                const key: string = jsonObject[\"key\"];\n                // This conversion code depends on C through B being\n                // available as keys, of course.\n                if (key === \"C+\") {\n                    this.key = 0;\n                    this.octave = 1;\n                } else if (key === \"G- (actually F#-)\") {\n                    this.key = 6;\n                    this.octave = -1;\n                } else if (key === \"C-\") {\n                    this.key = 0;\n                    this.octave = -1;\n                } else if (key === \"oh no (F-)\") {\n                    this.key = 5;\n                    this.octave = -1;\n                } else {\n                    const letter: string = key.charAt(0).toUpperCase();\n                    const symbol: string = key.charAt(1).toLowerCase();\n                    const letterMap: Readonly<Dictionary<number>> = { \"C\": 0, \"D\": 2, \"E\": 4, \"F\": 5, \"G\": 7, \"A\": 9, \"B\": 11 };\n                    const accidentalMap: Readonly<Dictionary<number>> = { \"#\": 1, \"\": 1, \"b\": -1, \"\": -1 };\n                    let index: number | undefined = letterMap[letter];\n                    const offset: number | undefined = accidentalMap[symbol];\n                    if (index != undefined) {\n                        if (offset != undefined) index += offset;\n                        if (index < 0) index += 12;\n                        index = index % 12;\n                        this.key = index;\n                    }\n                }\n            }\n        }\n\n        if (jsonObject[\"beatsPerMinute\"] != undefined) {\n            this.tempo = clamp(Config.tempoMin, Config.tempoMax + 1, jsonObject[\"beatsPerMinute\"] | 0);\n        }\n\n        if (jsonObject[\"keyOctave\"] != undefined) {\n            this.octave = clamp(Config.octaveMin, Config.octaveMax + 1, jsonObject[\"keyOctave\"] | 0);\n        }\n\n        let legacyGlobalReverb: number = 0; // In older songs, reverb was song-global, record that here and pass it to Instrument.fromJsonObject() for context.\n        if (jsonObject[\"reverb\"] != undefined) {\n            legacyGlobalReverb = clamp(0, 32, jsonObject[\"reverb\"] | 0);\n        }\n\n        if (jsonObject[\"beatsPerBar\"] != undefined) {\n            this.beatsPerBar = Math.max(Config.beatsPerBarMin, Math.min(Config.beatsPerBarMax, jsonObject[\"beatsPerBar\"] | 0));\n        }\n\n        let importedPartsPerBeat: number = 4;\n        if (jsonObject[\"ticksPerBeat\"] != undefined) {\n            importedPartsPerBeat = (jsonObject[\"ticksPerBeat\"] | 0) || 4;\n            this.rhythm = Config.rhythms.findIndex(rhythm => rhythm.stepsPerBeat == importedPartsPerBeat);\n            if (this.rhythm == -1) {\n                this.rhythm = 1;\n            }\n        }\n\n        // Read limiter settings. Ranges and defaults are based on slider settings\n\n        if (jsonObject[\"masterGain\"] != undefined) {\n            this.masterGain = Math.max(0.0, Math.min(5.0, jsonObject[\"masterGain\"] || 0));\n        } else {\n            this.masterGain = 1.0;\n        }\n\n        if (jsonObject[\"limitThreshold\"] != undefined) {\n            this.limitThreshold = Math.max(0.0, Math.min(2.0, jsonObject[\"limitThreshold\"] || 0));\n        }\n        else {\n            this.limitThreshold = 1.0;\n        }\n\n        if (jsonObject[\"compressionThreshold\"] != undefined) {\n            this.compressionThreshold = Math.max(0.0, Math.min(1.1, jsonObject[\"compressionThreshold\"] || 0));\n        }\n        else {\n            this.compressionThreshold = 1.0;\n        }\n\n        if (jsonObject[\"limitRise\"] != undefined) {\n            this.limitRise = Math.max(2000.0, Math.min(10000.0, jsonObject[\"limitRise\"] || 0));\n        }\n        else {\n            this.limitRise = 4000.0;\n        }\n\n        if (jsonObject[\"limitDecay\"] != undefined) {\n            this.limitDecay = Math.max(1.0, Math.min(30.0, jsonObject[\"limitDecay\"] || 0));\n        }\n        else {\n            this.limitDecay = 4.0;\n        }\n\n        if (jsonObject[\"limitRatio\"] != undefined) {\n            this.limitRatio = Math.max(0.0, Math.min(11.0, jsonObject[\"limitRatio\"] || 0));\n        }\n        else {\n            this.limitRatio = 1.0;\n        }\n\n        if (jsonObject[\"compressionRatio\"] != undefined) {\n            this.compressionRatio = Math.max(0.0, Math.min(1.168, jsonObject[\"compressionRatio\"] || 0));\n        }\n        else {\n            this.compressionRatio = 1.0;\n        }\n\n        let maxInstruments: number = 1;\n        let maxPatterns: number = 1;\n        let maxBars: number = 1;\n        if (jsonObject[\"channels\"] != undefined) {\n            for (const channelObject of jsonObject[\"channels\"]) {\n                if (channelObject[\"instruments\"]) maxInstruments = Math.max(maxInstruments, channelObject[\"instruments\"].length | 0);\n                if (channelObject[\"patterns\"]) maxPatterns = Math.max(maxPatterns, channelObject[\"patterns\"].length | 0);\n                if (channelObject[\"sequence\"]) maxBars = Math.max(maxBars, channelObject[\"sequence\"].length | 0);\n            }\n        }\n\n        if (jsonObject[\"layeredInstruments\"] != undefined) {\n            this.layeredInstruments = !!jsonObject[\"layeredInstruments\"];\n        } else {\n            this.layeredInstruments = false;\n        }\n        if (jsonObject[\"patternInstruments\"] != undefined) {\n            this.patternInstruments = !!jsonObject[\"patternInstruments\"];\n        } else {\n            this.patternInstruments = (maxInstruments > 1);\n        }\n        this.patternsPerChannel = Math.min(maxPatterns, Config.barCountMax);\n        this.barCount = Math.min(maxBars, Config.barCountMax);\n\n        if (jsonObject[\"introBars\"] != undefined) {\n            this.loopStart = clamp(0, this.barCount, jsonObject[\"introBars\"] | 0);\n        }\n        if (jsonObject[\"loopBars\"] != undefined) {\n            this.loopLength = clamp(1, this.barCount - this.loopStart + 1, jsonObject[\"loopBars\"] | 0);\n        }\n\n        const newPitchChannels: Channel[] = [];\n        const newNoiseChannels: Channel[] = [];\n        const newModChannels: Channel[] = [];\n        if (jsonObject[\"channels\"] != undefined) {\n            for (let channelIndex: number = 0; channelIndex < jsonObject[\"channels\"].length; channelIndex++) {\n                let channelObject: any = jsonObject[\"channels\"][channelIndex];\n\n                const channel: Channel = new Channel();\n\n                let isNoiseChannel: boolean = false;\n                let isModChannel: boolean = false;\n                if (channelObject[\"type\"] != undefined) {\n                    isNoiseChannel = (channelObject[\"type\"] == \"drum\");\n                    isModChannel = (channelObject[\"type\"] == \"mod\");\n                } else {\n                    // for older files, assume drums are channel 3.\n                    isNoiseChannel = (channelIndex >= 3);\n                }\n                if (isNoiseChannel) {\n                    newNoiseChannels.push(channel);\n                } else if (isModChannel) {\n                    newModChannels.push(channel);\n                }\n                else {\n                    newPitchChannels.push(channel);\n                }\n\n                if (channelObject[\"octaveScrollBar\"] != undefined) {\n                    channel.octave = clamp(0, Config.pitchOctaves, (channelObject[\"octaveScrollBar\"] | 0) + 1);\n                    if (isNoiseChannel) channel.octave = 0;\n                }\n\n                if (channelObject[\"name\"] != undefined) {\n                    channel.name = channelObject[\"name\"];\n                }\n                else {\n                    channel.name = \"\";\n                }\n\n                if (Array.isArray(channelObject[\"instruments\"])) {\n                    const instrumentObjects: any[] = channelObject[\"instruments\"];\n                    for (let i: number = 0; i < instrumentObjects.length; i++) {\n                        if (i >= this.getMaxInstrumentsPerChannel()) break;\n                        const instrument: Instrument = new Instrument(isNoiseChannel, isModChannel);\n                        channel.instruments[i] = instrument;\n                        instrument.fromJsonObject(instrumentObjects[i], isNoiseChannel, isModChannel, false, false, legacyGlobalReverb);\n                    }\n\n                }\n\n                for (let i: number = 0; i < this.patternsPerChannel; i++) {\n                    const pattern: Pattern = new Pattern();\n                    channel.patterns[i] = pattern;\n\n                    let patternObject: any = undefined;\n                    if (channelObject[\"patterns\"]) patternObject = channelObject[\"patterns\"][i];\n                    if (patternObject == undefined) continue;\n\n                    pattern.fromJsonObject(patternObject, this, channel, importedPartsPerBeat, isNoiseChannel, isModChannel);\n                }\n                channel.patterns.length = this.patternsPerChannel;\n\n                for (let i: number = 0; i < this.barCount; i++) {\n                    channel.bars[i] = (channelObject[\"sequence\"] != undefined) ? Math.min(this.patternsPerChannel, channelObject[\"sequence\"][i] >>> 0) : 0;\n                }\n                channel.bars.length = this.barCount;\n            }\n        }\n\n        if (newPitchChannels.length > Config.pitchChannelCountMax) newPitchChannels.length = Config.pitchChannelCountMax;\n        if (newNoiseChannels.length > Config.noiseChannelCountMax) newNoiseChannels.length = Config.noiseChannelCountMax;\n        if (newModChannels.length > Config.modChannelCountMax) newModChannels.length = Config.modChannelCountMax;\n        this.pitchChannelCount = newPitchChannels.length;\n        this.noiseChannelCount = newNoiseChannels.length;\n        this.modChannelCount = newModChannels.length;\n        this.channels.length = 0;\n        Array.prototype.push.apply(this.channels, newPitchChannels);\n        Array.prototype.push.apply(this.channels, newNoiseChannels);\n        Array.prototype.push.apply(this.channels, newModChannels);\n\n        if (Config.willReloadForCustomSamples) {\n            window.location.hash = this.toBase64String();\n            // The prompt seems to get stuck if reloading is done too quickly.\n            setTimeout(() => { location.reload(); }, 50);\n        }\n    }\n\n    public getPattern(channelIndex: number, bar: number): Pattern | null {\n        if (bar < 0 || bar >= this.barCount) return null;\n        const patternIndex: number = this.channels[channelIndex].bars[bar];\n        if (patternIndex == 0) return null;\n        return this.channels[channelIndex].patterns[patternIndex - 1];\n    }\n\n    public getBeatsPerMinute(): number {\n        return this.tempo;\n    }\n\n    public static getNeededBits(maxValue: number): number {\n        return 32 - Math.clz32(Math.ceil(maxValue + 1) - 1);\n    }\n\n    public restoreLimiterDefaults(): void {\n        this.compressionRatio = 1.0;\n        this.limitRatio = 1.0;\n        this.limitRise = 4000.0;\n        this.limitDecay = 4.0;\n        this.limitThreshold = 1.0;\n        this.compressionThreshold = 1.0;\n        this.masterGain = 1.0;\n    }\n}\n\nclass PickedString {\n    public delayLine: Float32Array | null = null;\n    public delayIndex: number;\n    public allPassSample: number;\n    public allPassPrevInput: number;\n    public shelfSample: number;\n    public shelfPrevInput: number;\n    public fractionalDelaySample: number;\n    public prevDelayLength: number;\n    public delayLengthDelta: number;\n    public delayResetOffset: number;\n\n    public allPassG: number = 0.0;\n    public allPassGDelta: number = 0.0;\n    public shelfA1: number = 0.0;\n    public shelfA1Delta: number = 0.0;\n    public shelfB0: number = 0.0;\n    public shelfB0Delta: number = 0.0;\n    public shelfB1: number = 0.0;\n    public shelfB1Delta: number = 0.0;\n\n    constructor() {\n        this.reset();\n    }\n\n    public reset(): void {\n        this.delayIndex = -1;\n        this.allPassSample = 0.0;\n        this.allPassPrevInput = 0.0;\n        this.shelfSample = 0.0;\n        this.shelfPrevInput = 0.0;\n        this.fractionalDelaySample = 0.0;\n        this.prevDelayLength = -1.0;\n        this.delayResetOffset = 0;\n    }\n\n    public update(synth: Synth, instrumentState: InstrumentState, tone: Tone, stringIndex: number, roundedSamplesPerTick: number, stringDecayStart: number, stringDecayEnd: number): void {\n        const allPassCenter: number = 2.0 * Math.PI * Config.pickedStringDispersionCenterFreq / synth.samplesPerSecond;\n        const shelfRadians: number = 2.0 * Math.PI * Config.pickedStringShelfHz / synth.samplesPerSecond;\n        const decayCurveStart: number = (Math.pow(100.0, stringDecayStart) - 1.0) / 99.0;\n        const decayCurveEnd: number = (Math.pow(100.0, stringDecayEnd) - 1.0) / 99.0;\n\n        const prevDelayLength: number = this.prevDelayLength;\n\n        const phaseDeltaStart: number = tone.phaseDeltas[stringIndex];\n        const phaseDeltaScale: number = tone.phaseDeltaScales[stringIndex];\n        const phaseDeltaEnd: number = phaseDeltaStart * Math.pow(phaseDeltaScale, roundedSamplesPerTick);\n\n        const radiansPerSampleStart: number = Math.PI * 2.0 * phaseDeltaStart;\n        const radiansPerSampleEnd: number = Math.PI * 2.0 * phaseDeltaEnd;\n\n        const centerHarmonicStart: number = radiansPerSampleStart * 2.0;\n        const centerHarmonicEnd: number = radiansPerSampleEnd * 2.0;\n\n        const allPassRadiansStart: number = Math.min(Math.PI, radiansPerSampleStart * Config.pickedStringDispersionFreqMult * Math.pow(allPassCenter / radiansPerSampleStart, Config.pickedStringDispersionFreqScale));\n        const allPassRadiansEnd: number = Math.min(Math.PI, radiansPerSampleEnd * Config.pickedStringDispersionFreqMult * Math.pow(allPassCenter / radiansPerSampleEnd, Config.pickedStringDispersionFreqScale));\n\n        const decayRateStart: number = Math.pow(0.5, decayCurveStart * shelfRadians / radiansPerSampleStart);\n        const decayRateEnd: number = Math.pow(0.5, decayCurveEnd * shelfRadians / radiansPerSampleEnd);\n        const shelfGainStart: number = Math.pow(decayRateStart, Config.stringDecayRate);\n        const shelfGainEnd: number = Math.pow(decayRateEnd, Config.stringDecayRate);\n        const expressionDecayStart: number = Math.pow(decayRateStart, 0.002);\n        const expressionDecayEnd: number = Math.pow(decayRateEnd, 0.002);\n\n        Synth.tempFilterStartCoefficients.allPass1stOrderInvertPhaseAbove(allPassRadiansStart);\n        synth.tempFrequencyResponse.analyze(Synth.tempFilterStartCoefficients, centerHarmonicStart);\n        const allPassGStart: number = Synth.tempFilterStartCoefficients.b[0]; /* same as a[1] */\n        const allPassPhaseDelayStart: number = -synth.tempFrequencyResponse.angle() / centerHarmonicStart;\n\n        Synth.tempFilterEndCoefficients.allPass1stOrderInvertPhaseAbove(allPassRadiansEnd);\n        synth.tempFrequencyResponse.analyze(Synth.tempFilterEndCoefficients, centerHarmonicEnd);\n        const allPassGEnd: number = Synth.tempFilterEndCoefficients.b[0]; /* same as a[1] */\n        const allPassPhaseDelayEnd: number = -synth.tempFrequencyResponse.angle() / centerHarmonicEnd;\n\n        Synth.tempFilterStartCoefficients.highShelf1stOrder(shelfRadians, shelfGainStart);\n        synth.tempFrequencyResponse.analyze(Synth.tempFilterStartCoefficients, centerHarmonicStart);\n        const shelfA1Start: number = Synth.tempFilterStartCoefficients.a[1];\n        const shelfB0Start: number = Synth.tempFilterStartCoefficients.b[0] * expressionDecayStart;\n        const shelfB1Start: number = Synth.tempFilterStartCoefficients.b[1] * expressionDecayStart;\n        const shelfPhaseDelayStart: number = -synth.tempFrequencyResponse.angle() / centerHarmonicStart;\n\n        Synth.tempFilterEndCoefficients.highShelf1stOrder(shelfRadians, shelfGainEnd);\n        synth.tempFrequencyResponse.analyze(Synth.tempFilterEndCoefficients, centerHarmonicEnd);\n        const shelfA1End: number = Synth.tempFilterEndCoefficients.a[1];\n        const shelfB0End: number = Synth.tempFilterEndCoefficients.b[0] * expressionDecayEnd;\n        const shelfB1End: number = Synth.tempFilterEndCoefficients.b[1] * expressionDecayEnd;\n        const shelfPhaseDelayEnd: number = -synth.tempFrequencyResponse.angle() / centerHarmonicEnd;\n\n        const periodLengthStart: number = 1.0 / phaseDeltaStart;\n        const periodLengthEnd: number = 1.0 / phaseDeltaEnd;\n        const minBufferLength: number = Math.ceil(Math.max(periodLengthStart, periodLengthEnd) * 2);\n        const delayLength: number = periodLengthStart - allPassPhaseDelayStart - shelfPhaseDelayStart;\n        const delayLengthEnd: number = periodLengthEnd - allPassPhaseDelayEnd - shelfPhaseDelayEnd;\n\n        this.prevDelayLength = delayLength;\n        this.delayLengthDelta = (delayLengthEnd - delayLength) / roundedSamplesPerTick;\n        this.allPassG = allPassGStart;\n        this.shelfA1 = shelfA1Start;\n        this.shelfB0 = shelfB0Start;\n        this.shelfB1 = shelfB1Start;\n        this.allPassGDelta = (allPassGEnd - allPassGStart) / roundedSamplesPerTick;\n        this.shelfA1Delta = (shelfA1End - shelfA1Start) / roundedSamplesPerTick;\n        this.shelfB0Delta = (shelfB0End - shelfB0Start) / roundedSamplesPerTick;\n        this.shelfB1Delta = (shelfB1End - shelfB1Start) / roundedSamplesPerTick;\n\n        const pitchChanged: boolean = Math.abs(Math.log2(delayLength / prevDelayLength)) > 0.01;\n\n        const reinitializeImpulse: boolean = (this.delayIndex == -1 || pitchChanged);\n        if (this.delayLine == null || this.delayLine.length <= minBufferLength) {\n            // The delay line buffer will get reused for other tones so might as well\n            // start off with a buffer size that is big enough for most notes.\n            const likelyMaximumLength: number = Math.ceil(2 * synth.samplesPerSecond / Instrument.frequencyFromPitch(12));\n            const newDelayLine: Float32Array = new Float32Array(Synth.fittingPowerOfTwo(Math.max(likelyMaximumLength, minBufferLength)));\n            if (!reinitializeImpulse && this.delayLine != null) {\n                // If the tone has already started but the buffer needs to be reallocated,\n                // transfer the old data to the new buffer.\n                const oldDelayBufferMask: number = (this.delayLine.length - 1) >> 0;\n                const startCopyingFromIndex: number = this.delayIndex + this.delayResetOffset;\n                this.delayIndex = this.delayLine.length - this.delayResetOffset;\n                for (let i: number = 0; i < this.delayLine.length; i++) {\n                    newDelayLine[i] = this.delayLine[(startCopyingFromIndex + i) & oldDelayBufferMask];\n                }\n            }\n            this.delayLine = newDelayLine;\n        }\n        const delayLine: Float32Array = this.delayLine;\n        const delayBufferMask: number = (delayLine.length - 1) >> 0;\n\n        if (reinitializeImpulse) {\n            // -1 delay index means the tone was reset.\n            // Also, if the pitch changed suddenly (e.g. from seamless or arpeggio) then reset the wave.\n\n            this.delayIndex = 0;\n            this.allPassSample = 0.0;\n            this.allPassPrevInput = 0.0;\n            this.shelfSample = 0.0;\n            this.shelfPrevInput = 0.0;\n            this.fractionalDelaySample = 0.0;\n\n            // Clear away a region of the delay buffer for the new impulse.\n            const startImpulseFrom: number = -delayLength;\n            const startZerosFrom: number = Math.floor(startImpulseFrom - periodLengthStart / 2);\n            const stopZerosAt: number = Math.ceil(startZerosFrom + periodLengthStart * 2);\n            this.delayResetOffset = stopZerosAt; // And continue clearing the area in front of the delay line.\n            for (let i: number = startZerosFrom; i <= stopZerosAt; i++) {\n                delayLine[i & delayBufferMask] = 0.0;\n            }\n\n            const impulseWave: Float32Array = instrumentState.wave!;\n            const impulseWaveLength: number = impulseWave.length - 1; // The first sample is duplicated at the end, don't double-count it.\n            const impulsePhaseDelta: number = impulseWaveLength / periodLengthStart;\n\n            const fadeDuration: number = Math.min(periodLengthStart * 0.2, synth.samplesPerSecond * 0.003);\n            const startImpulseFromSample: number = Math.ceil(startImpulseFrom);\n            const stopImpulseAt: number = startImpulseFrom + periodLengthStart + fadeDuration;\n            const stopImpulseAtSample: number = stopImpulseAt;\n            let impulsePhase: number = (startImpulseFromSample - startImpulseFrom) * impulsePhaseDelta;\n            let prevWaveIntegral: number = 0.0;\n            for (let i: number = startImpulseFromSample; i <= stopImpulseAtSample; i++) {\n                const impulsePhaseInt: number = impulsePhase | 0;\n                const index: number = impulsePhaseInt % impulseWaveLength;\n                let nextWaveIntegral: number = impulseWave[index];\n                const phaseRatio: number = impulsePhase - impulsePhaseInt;\n                nextWaveIntegral += (impulseWave[index + 1] - nextWaveIntegral) * phaseRatio;\n                const sample: number = (nextWaveIntegral - prevWaveIntegral) / impulsePhaseDelta;\n                const fadeIn: number = Math.min(1.0, (i - startImpulseFrom) / fadeDuration);\n                const fadeOut: number = Math.min(1.0, (stopImpulseAt - i) / fadeDuration);\n                const combinedFade: number = fadeIn * fadeOut;\n                const curvedFade: number = combinedFade * combinedFade * (3.0 - 2.0 * combinedFade); // A cubic sigmoid from 0 to 1.\n                delayLine[i & delayBufferMask] += sample * curvedFade;\n                prevWaveIntegral = nextWaveIntegral;\n                impulsePhase += impulsePhaseDelta;\n            }\n        }\n    }\n}\n\nclass EnvelopeComputer {\n    public noteSecondsStart: number = 0.0;\n    public noteSecondsEnd: number = 0.0;\n    public noteTicksStart: number = 0.0;\n    public noteTicksEnd: number = 0.0;\n    public noteSizeStart: number = Config.noteSizeMax;\n    public noteSizeEnd: number = Config.noteSizeMax;\n    public prevNoteSize: number = Config.noteSizeMax;\n    public nextNoteSize: number = Config.noteSizeMax;\n    private _noteSizeFinal: number = Config.noteSizeMax;\n    public prevNoteSecondsStart: number = 0.0;\n    public prevNoteSecondsEnd: number = 0.0;\n    public prevNoteTicksStart: number = 0.0;\n    public prevNoteTicksEnd: number = 0.0;\n    private _prevNoteSizeFinal: number = Config.noteSizeMax;\n\n    public prevSlideStart: boolean = false;\n    public prevSlideEnd: boolean = false;\n    public nextSlideStart: boolean = false;\n    public nextSlideEnd: boolean = false;\n    public prevSlideRatioStart: number = 0.0;\n    public prevSlideRatioEnd: number = 0.0;\n    public nextSlideRatioStart: number = 0.0;\n    public nextSlideRatioEnd: number = 0.0;\n\n    public readonly envelopeStarts: number[] = [];\n    public readonly envelopeEnds: number[] = [];\n    private readonly _modifiedEnvelopeIndices: number[] = [];\n    private _modifiedEnvelopeCount: number = 0;\n    public lowpassCutoffDecayVolumeCompensation: number = 1.0;\n\n    constructor(/*private _perNote: boolean*/) {\n        //const length: number = this._perNote ? EnvelopeComputeIndex.length : InstrumentAutomationIndex.length;\n        const length: number = EnvelopeComputeIndex.length;\n        for (let i: number = 0; i < length; i++) {\n            this.envelopeStarts[i] = 1.0;\n            this.envelopeEnds[i] = 1.0;\n        }\n\n        this.reset();\n    }\n\n    public reset(): void {\n        this.noteSecondsEnd = 0.0;\n        this.noteTicksEnd = 0.0;\n        this._noteSizeFinal = Config.noteSizeMax;\n        this.prevNoteSecondsEnd = 0.0;\n        this.prevNoteTicksEnd = 0.0;\n        this._prevNoteSizeFinal = Config.noteSizeMax;\n        this._modifiedEnvelopeCount = 0;\n    }\n\n    public computeEnvelopes(instrument: Instrument, currentPart: number, tickTimeStart: number, secondsPerTick: number, tone: Tone | null): void {\n        const transition: Transition = instrument.getTransition();\n        if (tone != null && tone.atNoteStart && !transition.continues && !tone.forceContinueAtStart) {\n            this.prevNoteSecondsEnd = this.noteSecondsEnd;\n            this.prevNoteTicksEnd = this.noteTicksEnd;\n            this._prevNoteSizeFinal = this._noteSizeFinal;\n            this.noteSecondsEnd = 0.0;\n            this.noteTicksEnd = 0.0;\n        }\n        if (tone != null) {\n            if (tone.note != null) {\n                this._noteSizeFinal = tone.note.pins[tone.note.pins.length - 1].size;\n            } else {\n                this._noteSizeFinal = Config.noteSizeMax;\n            }\n        }\n\n        const tickTimeEnd: number = tickTimeStart + 1.0;\n        const noteSecondsStart: number = this.noteSecondsEnd;\n        const noteSecondsEnd: number = noteSecondsStart + secondsPerTick;\n        const noteTicksStart: number = this.noteTicksEnd;\n        const noteTicksEnd: number = noteTicksStart + 1.0;\n        const prevNoteSecondsStart: number = this.prevNoteSecondsEnd;\n        const prevNoteSecondsEnd: number = prevNoteSecondsStart + secondsPerTick;\n        const prevNoteTicksStart: number = this.prevNoteTicksEnd;\n        const prevNoteTicksEnd: number = prevNoteTicksStart + 1.0;\n\n        const beatsPerTick: number = 1.0 / (Config.ticksPerPart * Config.partsPerBeat);\n        const beatTimeStart: number = beatsPerTick * tickTimeStart;\n        const beatTimeEnd: number = beatsPerTick * tickTimeEnd;\n\n        let noteSizeStart: number = this._noteSizeFinal;\n        let noteSizeEnd: number = this._noteSizeFinal;\n        let prevNoteSize: number = this._prevNoteSizeFinal;\n        let nextNoteSize: number = 0;\n        let prevSlideStart: boolean = false;\n        let prevSlideEnd: boolean = false;\n        let nextSlideStart: boolean = false;\n        let nextSlideEnd: boolean = false;\n        let prevSlideRatioStart: number = 0.0;\n        let prevSlideRatioEnd: number = 0.0;\n        let nextSlideRatioStart: number = 0.0;\n        let nextSlideRatioEnd: number = 0.0;\n        if (tone != null && tone.note != null && !tone.passedEndOfNote) {\n            const endPinIndex: number = tone.note.getEndPinIndex(currentPart);\n            const startPin: NotePin = tone.note.pins[endPinIndex - 1];\n            const endPin: NotePin = tone.note.pins[endPinIndex];\n            const startPinTick: number = (tone.note.start + startPin.time) * Config.ticksPerPart;\n            const endPinTick: number = (tone.note.start + endPin.time) * Config.ticksPerPart;\n            const ratioStart: number = (tickTimeStart - startPinTick) / (endPinTick - startPinTick);\n            const ratioEnd: number = (tickTimeEnd - startPinTick) / (endPinTick - startPinTick);\n            noteSizeStart = startPin.size + (endPin.size - startPin.size) * ratioStart;\n            noteSizeEnd = startPin.size + (endPin.size - startPin.size) * ratioEnd;\n\n            if (transition.slides) {\n                const noteStartTick: number = tone.noteStartPart * Config.ticksPerPart;\n                const noteEndTick: number = tone.noteEndPart * Config.ticksPerPart;\n                const noteLengthTicks: number = noteEndTick - noteStartTick;\n                const maximumSlideTicks: number = noteLengthTicks * 0.5;\n                const slideTicks: number = Math.min(maximumSlideTicks, transition.slideTicks);\n                if (tone.prevNote != null && !tone.forceContinueAtStart) {\n                    if (tickTimeStart - noteStartTick < slideTicks) {\n                        prevSlideStart = true;\n                        prevSlideRatioStart = 0.5 * (1.0 - (tickTimeStart - noteStartTick) / slideTicks);\n                    }\n                    if (tickTimeEnd - noteStartTick < slideTicks) {\n                        prevSlideEnd = true;\n                        prevSlideRatioEnd = 0.5 * (1.0 - (tickTimeEnd - noteStartTick) / slideTicks);\n                    }\n                }\n                if (tone.nextNote != null && !tone.forceContinueAtEnd) {\n                    nextNoteSize = tone.nextNote.pins[0].size\n                    if (noteEndTick - tickTimeStart < slideTicks) {\n                        nextSlideStart = true;\n                        nextSlideRatioStart = 0.5 * (1.0 - (noteEndTick - tickTimeStart) / slideTicks);\n                    }\n                    if (noteEndTick - tickTimeEnd < slideTicks) {\n                        nextSlideEnd = true;\n                        nextSlideRatioEnd = 0.5 * (1.0 - (noteEndTick - tickTimeEnd) / slideTicks);\n                    }\n                }\n            }\n        }\n\n        let lowpassCutoffDecayVolumeCompensation: number = 1.0;\n        let usedNoteSize: boolean = false;\n        for (let envelopeIndex: number = 0; envelopeIndex <= instrument.envelopeCount; envelopeIndex++) {\n            let automationTarget: AutomationTarget;\n            let targetIndex: number;\n            let envelope: Envelope;\n            if (envelopeIndex == instrument.envelopeCount) {\n                if (usedNoteSize /*|| !this._perNote*/) break;\n                // Special case: if no other envelopes used note size, default to applying it to note volume.\n                automationTarget = Config.instrumentAutomationTargets.dictionary[\"noteVolume\"];\n                targetIndex = 0;\n                envelope = Config.envelopes.dictionary[\"note size\"];\n            } else {\n                let envelopeSettings: EnvelopeSettings = instrument.envelopes[envelopeIndex];\n                automationTarget = Config.instrumentAutomationTargets[envelopeSettings.target];\n                targetIndex = envelopeSettings.index;\n                envelope = Config.envelopes[envelopeSettings.envelope];\n                if (envelope.type == EnvelopeType.noteSize) usedNoteSize = true;\n            }\n            if (/*automationTarget.perNote == this._perNote &&*/ automationTarget.computeIndex != null) {\n                const computeIndex: number = automationTarget.computeIndex + targetIndex;\n                let envelopeStart: number = EnvelopeComputer.computeEnvelope(envelope, noteSecondsStart, beatTimeStart, noteSizeStart);\n                let envelopeEnd: number = EnvelopeComputer.computeEnvelope(envelope, noteSecondsEnd, beatTimeEnd, noteSizeEnd);\n\n                if (prevSlideStart) {\n                    const other: number = EnvelopeComputer.computeEnvelope(envelope, prevNoteSecondsStart, beatTimeStart, prevNoteSize);\n                    envelopeStart += (other - envelopeStart) * prevSlideRatioStart;\n                }\n                if (prevSlideEnd) {\n                    const other: number = EnvelopeComputer.computeEnvelope(envelope, prevNoteSecondsEnd, beatTimeEnd, prevNoteSize);\n                    envelopeEnd += (other - envelopeEnd) * prevSlideRatioEnd;\n                }\n                if (nextSlideStart) {\n                    const other: number = EnvelopeComputer.computeEnvelope(envelope, 0.0, beatTimeStart, nextNoteSize);\n                    envelopeStart += (other - envelopeStart) * nextSlideRatioStart;\n                }\n                if (nextSlideEnd) {\n                    const other: number = EnvelopeComputer.computeEnvelope(envelope, 0.0, beatTimeEnd, nextNoteSize);\n                    envelopeEnd += (other - envelopeEnd) * nextSlideRatioEnd;\n                }\n\n                this.envelopeStarts[computeIndex] *= envelopeStart;\n                this.envelopeEnds[computeIndex] *= envelopeEnd;\n                this._modifiedEnvelopeIndices[this._modifiedEnvelopeCount++] = computeIndex;\n\n                if (automationTarget.isFilter) {\n                    const filterSettings: FilterSettings = /*this._perNote ?*/ (instrument.tmpNoteFilterStart != null) ? instrument.tmpNoteFilterStart : instrument.noteFilter /*: instrument.eqFilter*/;\n                    if (filterSettings.controlPointCount > targetIndex && filterSettings.controlPoints[targetIndex].type == FilterType.lowPass) {\n                        lowpassCutoffDecayVolumeCompensation = Math.max(lowpassCutoffDecayVolumeCompensation, EnvelopeComputer.getLowpassCutoffDecayVolumeCompensation(envelope));\n                    }\n                }\n            }\n        }\n\n        this.noteSecondsStart = noteSecondsStart;\n        this.noteSecondsEnd = noteSecondsEnd;\n        this.noteTicksStart = noteTicksStart;\n        this.noteTicksEnd = noteTicksEnd;\n        this.prevNoteSecondsStart = prevNoteSecondsStart;\n        this.prevNoteSecondsEnd = prevNoteSecondsEnd;\n        this.prevNoteTicksStart = prevNoteTicksStart;\n        this.prevNoteTicksEnd = prevNoteTicksEnd;\n        this.prevNoteSize = prevNoteSize;\n        this.nextNoteSize = nextNoteSize;\n        this.noteSizeStart = noteSizeStart;\n        this.noteSizeEnd = noteSizeEnd;\n        this.prevSlideStart = prevSlideStart;\n        this.prevSlideEnd = prevSlideEnd;\n        this.nextSlideStart = nextSlideStart;\n        this.nextSlideEnd = nextSlideEnd;\n        this.prevSlideRatioStart = prevSlideRatioStart;\n        this.prevSlideRatioEnd = prevSlideRatioEnd;\n        this.nextSlideRatioStart = nextSlideRatioStart;\n        this.nextSlideRatioEnd = nextSlideRatioEnd;\n        this.lowpassCutoffDecayVolumeCompensation = lowpassCutoffDecayVolumeCompensation;\n    }\n\n    public clearEnvelopes(): void {\n        for (let envelopeIndex: number = 0; envelopeIndex < this._modifiedEnvelopeCount; envelopeIndex++) {\n            const computeIndex: number = this._modifiedEnvelopeIndices[envelopeIndex];\n            this.envelopeStarts[computeIndex] = 1.0;\n            this.envelopeEnds[computeIndex] = 1.0;\n        }\n        this._modifiedEnvelopeCount = 0;\n    }\n\n    public static computeEnvelope(envelope: Envelope, time: number, beats: number, noteSize: number): number {\n        switch (envelope.type) {\n            case EnvelopeType.noteSize: return Synth.noteSizeToVolumeMult(noteSize);\n            case EnvelopeType.none: return 1.0;\n            case EnvelopeType.twang: return 1.0 / (1.0 + time * envelope.speed);\n            case EnvelopeType.swell: return 1.0 - 1.0 / (1.0 + time * envelope.speed);\n            case EnvelopeType.tremolo: return 0.5 - Math.cos(beats * 2.0 * Math.PI * envelope.speed) * 0.5;\n            case EnvelopeType.tremolo2: return 0.75 - Math.cos(beats * 2.0 * Math.PI * envelope.speed) * 0.25;\n            case EnvelopeType.punch: return Math.max(1.0, 2.0 - time * 10.0);\n            case EnvelopeType.flare: const attack: number = 0.25 / Math.sqrt(envelope.speed); return time < attack ? time / attack : 1.0 / (1.0 + (time - attack) * envelope.speed);\n            case EnvelopeType.decay: return Math.pow(2, -envelope.speed * time);\n            case EnvelopeType.wibble:\n                let temp = 0.5 - Math.cos(beats * envelope.speed) * 0.5;\n                temp = 1.0 / (1.0 + time * (envelope.speed - (temp / (1.5 / envelope.speed))));\n                temp = temp > 0.0 ? temp : 0.0;\n                return temp;\n            case EnvelopeType.linear: {\n                let lin = (1.0 - (time / (16 / envelope.speed)));\n                lin = lin > 0.0 ? lin : 0.0;\n                return lin;\n            }\n            case EnvelopeType.rise: {\n                let lin = (time / (16 / envelope.speed));\n                lin = lin < 1.0 ? lin : 1.0;\n                return lin;\n            }\n            default: throw new Error(\"Unrecognized operator envelope type.\");\n        }\n\n    }\n\n    public static getLowpassCutoffDecayVolumeCompensation(envelope: Envelope): number {\n        // This is a little hokey in the details, but I designed it a while ago and keep it \n        // around for compatibility. This decides how much to increase the volume (or\n        // expression) to compensate for a decaying lowpass cutoff to maintain perceived\n        // volume overall.\n        if (envelope.type == EnvelopeType.decay) return 1.25 + 0.025 * envelope.speed;\n        if (envelope.type == EnvelopeType.twang) return 1.0 + 0.02 * envelope.speed;\n        return 1.0;\n    }\n}\n\nclass Tone {\n    public instrumentIndex: number;\n    public readonly pitches: number[] = Array(Config.maxChordSize+2).fill(0);\n    public pitchCount: number = 0;\n    public chordSize: number = 0;\n    public drumsetPitch: number | null = null;\n    public note: Note | null = null;\n    public prevNote: Note | null = null;\n    public nextNote: Note | null = null;\n    public prevNotePitchIndex: number = 0;\n    public nextNotePitchIndex: number = 0;\n    public freshlyAllocated: boolean = true;\n    public atNoteStart: boolean = false;\n    public isOnLastTick: boolean = false; // Whether the tone is finished fading out and ready to be freed.\n    public passedEndOfNote: boolean = false;\n    public forceContinueAtStart: boolean = false;\n    public forceContinueAtEnd: boolean = false;\n    public noteStartPart: number = 0;\n    public noteEndPart: number = 0;\n    public ticksSinceReleased: number = 0;\n    public liveInputSamplesHeld: number = 0;\n    public lastInterval: number = 0;\n    public noiseSample: number = 0.0;\n    public stringSustainStart: number = 0;\n    public stringSustainEnd: number = 0;\n    public readonly phases: number[] = [];\n    public readonly operatorWaves: OperatorWave[] = [];\n    public readonly phaseDeltas: number[] = [];\n\t\t\t// advloop addition\n        public directions: number[] = [];\n        public chipWaveCompletions: number[] = [];\n        public chipWavePrevWaves: number[] = [];\n        public chipWaveCompletionsLastWave: number[] = [];\n           // advloop addition\n    public readonly phaseDeltaScales: number[] = [];\n    public expression: number = 0.0;\n    public expressionDelta: number = 0.0;\n    public readonly operatorExpressions: number[] = [];\n    public readonly operatorExpressionDeltas: number[] = [];\n    public readonly prevPitchExpressions: Array<number | null> = Array(Config.maxPitchOrOperatorCount).fill(null);\n    public prevVibrato: number | null = null;\n    public prevStringDecay: number | null = null;\n    public pulseWidth: number = 0.0;\n    public pulseWidthDelta: number = 0.0;\n    public decimalOffset: number = 0.0;\n    public readonly pickedStrings: PickedString[] = [];\n\n    public readonly noteFilters: DynamicBiquadFilter[] = [];\n    public noteFilterCount: number = 0;\n    public initialNoteFilterInput1: number = 0.0;\n    public initialNoteFilterInput2: number = 0.0;\n\n    public specialIntervalExpressionMult: number = 1.0;\n    public readonly feedbackOutputs: number[] = [];\n    public feedbackMult: number = 0.0;\n    public feedbackDelta: number = 0.0;\n    public stereoVolumeLStart: number = 0.0;\n    public stereoVolumeRStart: number = 0.0;\n    public stereoVolumeLDelta: number = 0.0;\n    public stereoVolumeRDelta: number = 0.0;\n    public stereoDelayStart: number = 0.0;\n    public stereoDelayEnd: number = 0.0;\n    public stereoDelayDelta: number = 0.0;\n    public customVolumeStart: number = 0.0;\n    public customVolumeEnd: number = 0.0;\n    public filterResonanceStart: number = 0.0;\n    public filterResonanceDelta: number = 0.0;\n    public isFirstOrder: boolean = false;\n\n    public readonly envelopeComputer: EnvelopeComputer = new EnvelopeComputer(/*true*/);\n\n    constructor() {\n        this.reset();\n    }\n\n    public reset(): void {\n        this.noiseSample = 0.0;\n        for (let i: number = 0; i < Config.maxPitchOrOperatorCount; i++) {\n            this.phases[i] = 0.0;\n\t\t\t\t\t\t// advloop addition\n                this.directions[i] = 1;\n                this.chipWaveCompletions[i] = 0;\n                this.chipWavePrevWaves[i] = 0;\n                this.chipWaveCompletionsLastWave[i] = 0;\n                // advloop addition\n            this.operatorWaves[i] = Config.operatorWaves[0];\n            this.feedbackOutputs[i] = 0.0;\n            this.prevPitchExpressions[i] = null;\n        }\n        for (let i: number = 0; i < this.noteFilterCount; i++) {\n            this.noteFilters[i].resetOutput();\n        }\n        this.noteFilterCount = 0;\n        this.initialNoteFilterInput1 = 0.0;\n        this.initialNoteFilterInput2 = 0.0;\n        this.liveInputSamplesHeld = 0;\n        for (const pickedString of this.pickedStrings) {\n            pickedString.reset();\n        }\n        this.envelopeComputer.reset();\n        this.prevVibrato = null;\n        this.prevStringDecay = null;\n        this.drumsetPitch = null;\n    }\n}\n\nclass InstrumentState {\n    public instrument: Instrument;\n\n    public awake: boolean = false; // Whether the instrument's effects-processing loop should continue.\n    public computed: boolean = false; // Whether the effects-processing parameters are up-to-date for the current synth run.\n    public tonesAddedInThisTick: boolean = false; // Whether any instrument tones are currently active.\n    public flushingDelayLines: boolean = false; // If no tones were active recently, enter a mode where the delay lines are filled with zeros to reset them for later use.\n    public deactivateAfterThisTick: boolean = false; // Whether the instrument is ready to be deactivated because the delay lines, if any, are fully zeroed.\n    public attentuationProgress: number = 0.0; // How long since an active tone introduced an input signal to the delay lines, normalized from 0 to 1 based on how long to wait until the delay lines signal will have audibly dissapated.\n    public flushedSamples: number = 0; // How many delay line samples have been flushed to zero.\n    public readonly activeTones: Deque<Tone> = new Deque<Tone>();\n    public readonly activeModTones: Deque<Tone> = new Deque<Tone>();\n    public readonly releasedTones: Deque<Tone> = new Deque<Tone>(); // Tones that are in the process of fading out after the corresponding notes ended.\n    public readonly liveInputTones: Deque<Tone> = new Deque<Tone>(); // Tones that are initiated by a source external to the loaded song data.\n\n    public type: InstrumentType = InstrumentType.chip;\n    public synthesizer: Function | null = null;\n    public wave: Float32Array | null = null;\n\t\t\t\t // advloop addition\n            public isUsingAdvancedLoopControls = false;\n            public chipWaveLoopStart = 0;\n            public chipWaveLoopEnd = 0;\n            public chipWaveLoopMode = 0;\n            public chipWavePlayBackwards = false;\n            public chipWaveStartOffset = 0;\n            // advloop addition\n    public noisePitchFilterMult: number = 1.0;\n    public unison: Unison | null = null;\n    public unisonVoices: number = 1;\n    public unisonSpread: number = 0.0;\n    public unisonOffset: number = 0.0;\n    public unisonExpression: number = 1.4;\n    public unisonSign: number = 1.0;\n    public chord: Chord | null = null;\n    public effects: number = 0;\n\n    public volumeScale: number = 0;\n    public aliases: boolean = false;\n\n    public eqFilterVolume: number = 1.0;\n    public eqFilterVolumeDelta: number = 0.0;\n    public mixVolume: number = 1.0;\n    public mixVolumeDelta: number = 0.0;\n    public delayInputMult: number = 0.0;\n    public delayInputMultDelta: number = 0.0;\n\n    public distortion: number = 0.0;\n    public distortionDelta: number = 0.0;\n    public distortionDrive: number = 0.0;\n    public distortionDriveDelta: number = 0.0;\n    public distortionFractionalInput1: number = 0.0;\n    public distortionFractionalInput2: number = 0.0;\n    public distortionFractionalInput3: number = 0.0;\n    public distortionPrevInput: number = 0.0;\n    public distortionNextOutput: number = 0.0;\n\n    public bitcrusherPrevInput: number = 0.0;\n    public bitcrusherCurrentOutput: number = 0.0;\n    public bitcrusherPhase: number = 1.0;\n    public bitcrusherPhaseDelta: number = 0.0;\n    public bitcrusherPhaseDeltaScale: number = 1.0;\n    public bitcrusherScale: number = 1.0;\n    public bitcrusherScaleScale: number = 1.0;\n    public bitcrusherFoldLevel: number = 1.0;\n    public bitcrusherFoldLevelScale: number = 1.0;\n\n    public readonly eqFilters: DynamicBiquadFilter[] = [];\n    public eqFilterCount: number = 0;\n    public initialEqFilterInput1: number = 0.0;\n    public initialEqFilterInput2: number = 0.0;\n\n    public panningDelayLine: Float32Array | null = null;\n    public panningDelayPos: number = 0;\n    public panningVolumeL: number = 0.0;\n    public panningVolumeR: number = 0.0;\n    public panningVolumeDeltaL: number = 0.0;\n    public panningVolumeDeltaR: number = 0.0;\n    public panningOffsetL: number = 0.0;\n    public panningOffsetR: number = 0.0;\n    public panningOffsetDeltaL: number = 0.0;\n    public panningOffsetDeltaR: number = 0.0;\n\n    public chorusDelayLineL: Float32Array | null = null;\n    public chorusDelayLineR: Float32Array | null = null;\n    public chorusDelayLineDirty: boolean = false;\n    public chorusDelayPos: number = 0;\n    public chorusPhase: number = 0;\n    public chorusVoiceMult: number = 0;\n    public chorusVoiceMultDelta: number = 0;\n    public chorusCombinedMult: number = 0;\n    public chorusCombinedMultDelta: number = 0;\n\n    public echoDelayLineL: Float32Array | null = null;\n    public echoDelayLineR: Float32Array | null = null;\n    public echoDelayLineDirty: boolean = false;\n    public echoDelayPos: number = 0;\n    public echoDelayOffsetStart: number = 0;\n    public echoDelayOffsetEnd: number | null = null;\n    public echoDelayOffsetRatio: number = 0.0;\n    public echoDelayOffsetRatioDelta: number = 0.0;\n    public echoMult: number = 0.0;\n    public echoMultDelta: number = 0.0;\n    public echoShelfA1: number = 0.0;\n    public echoShelfB0: number = 0.0;\n    public echoShelfB1: number = 0.0;\n    public echoShelfSampleL: number = 0.0;\n    public echoShelfSampleR: number = 0.0;\n    public echoShelfPrevInputL: number = 0.0;\n    public echoShelfPrevInputR: number = 0.0;\n\n    public reverbDelayLine: Float32Array | null = null;\n    public reverbDelayLineDirty: boolean = false;\n    public reverbDelayPos: number = 0;\n    public reverbMult: number = 0.0;\n    public reverbMultDelta: number = 0.0;\n    public reverbShelfA1: number = 0.0;\n    public reverbShelfB0: number = 0.0;\n    public reverbShelfB1: number = 0.0;\n    public reverbShelfSample0: number = 0.0;\n    public reverbShelfSample1: number = 0.0;\n    public reverbShelfSample2: number = 0.0;\n    public reverbShelfSample3: number = 0.0;\n    public reverbShelfPrevInput0: number = 0.0;\n    public reverbShelfPrevInput1: number = 0.0;\n    public reverbShelfPrevInput2: number = 0.0;\n    public reverbShelfPrevInput3: number = 0.0;\n\n    //public readonly envelopeComputer: EnvelopeComputer = new EnvelopeComputer(false);\n\n    public readonly spectrumWave: SpectrumWaveState = new SpectrumWaveState();\n    public readonly harmonicsWave: HarmonicsWaveState = new HarmonicsWaveState();\n    public readonly drumsetSpectrumWaves: SpectrumWaveState[] = [];\n\n    constructor() {\n        for (let i: number = 0; i < Config.drumCount; i++) {\n            this.drumsetSpectrumWaves[i] = new SpectrumWaveState();\n        }\n    }\n\n\n    public allocateNecessaryBuffers(synth: Synth, instrument: Instrument, samplesPerTick: number): void {\n        if (effectsIncludePanning(instrument.effects)) {\n            if (this.panningDelayLine == null || this.panningDelayLine.length < synth.panningDelayBufferSize) {\n                this.panningDelayLine = new Float32Array(synth.panningDelayBufferSize);\n            }\n        }\n        if (effectsIncludeChorus(instrument.effects)) {\n            if (this.chorusDelayLineL == null || this.chorusDelayLineL.length < synth.chorusDelayBufferSize) {\n                this.chorusDelayLineL = new Float32Array(synth.chorusDelayBufferSize);\n            }\n            if (this.chorusDelayLineR == null || this.chorusDelayLineR.length < synth.chorusDelayBufferSize) {\n                this.chorusDelayLineR = new Float32Array(synth.chorusDelayBufferSize);\n            }\n        }\n        if (effectsIncludeEcho(instrument.effects)) {\n            // account for tempo and delay automation changing delay length during a tick?\n            const safeEchoDelaySteps: number = Math.max(Config.echoDelayRange >> 1, (instrument.echoDelay + 1)); // The delay may be very short now, but if it increases later make sure we have enough sample history.\n            const baseEchoDelayBufferSize: number = Synth.fittingPowerOfTwo(safeEchoDelaySteps * Config.echoDelayStepTicks * samplesPerTick);\n            const safeEchoDelayBufferSize: number = baseEchoDelayBufferSize * 2; // If the tempo or delay changes and we suddenly need a longer delay, make sure that we have enough sample history to accomodate the longer delay.\n\n            if (this.echoDelayLineL == null || this.echoDelayLineR == null) {\n                this.echoDelayLineL = new Float32Array(safeEchoDelayBufferSize);\n                this.echoDelayLineR = new Float32Array(safeEchoDelayBufferSize);\n            } else if (this.echoDelayLineL.length < safeEchoDelayBufferSize || this.echoDelayLineR.length < safeEchoDelayBufferSize) {\n                // The echo delay length may change whlie the song is playing if tempo changes,\n                // so buffers may need to be reallocated, but we don't want to lose any echoes\n                // so we need to copy the contents of the old buffer to the new one.\n                const newDelayLineL: Float32Array = new Float32Array(safeEchoDelayBufferSize);\n                const newDelayLineR: Float32Array = new Float32Array(safeEchoDelayBufferSize);\n                const oldMask: number = this.echoDelayLineL.length - 1;\n\n                for (let i = 0; i < this.echoDelayLineL.length; i++) {\n                    newDelayLineL[i] = this.echoDelayLineL[(this.echoDelayPos + i) & oldMask];\n                    newDelayLineR[i] = this.echoDelayLineL[(this.echoDelayPos + i) & oldMask];\n                }\n\n                this.echoDelayPos = this.echoDelayLineL.length;\n                this.echoDelayLineL = newDelayLineL;\n                this.echoDelayLineR = newDelayLineR;\n            }\n        }\n        if (effectsIncludeReverb(instrument.effects)) {\n            // TODO: Make reverb delay line sample rate agnostic. Maybe just double buffer size for 96KHz? Adjust attenuation and shelf cutoff appropriately?\n            if (this.reverbDelayLine == null) {\n                this.reverbDelayLine = new Float32Array(Config.reverbDelayBufferSize);\n            }\n        }\n    }\n\n    public deactivate(): void {\n        this.bitcrusherPrevInput = 0.0;\n        this.bitcrusherCurrentOutput = 0.0;\n        this.bitcrusherPhase = 1.0;\n        for (let i: number = 0; i < this.eqFilterCount; i++) {\n            this.eqFilters[i].resetOutput();\n        }\n        this.eqFilterCount = 0;\n        this.initialEqFilterInput1 = 0.0;\n        this.initialEqFilterInput2 = 0.0;\n        this.distortionFractionalInput1 = 0.0;\n        this.distortionFractionalInput2 = 0.0;\n        this.distortionFractionalInput3 = 0.0;\n        this.distortionPrevInput = 0.0;\n        this.distortionNextOutput = 0.0;\n        this.panningDelayPos = 0;\n        if (this.panningDelayLine != null) for (let i: number = 0; i < this.panningDelayLine.length; i++) this.panningDelayLine[i] = 0.0;\n        this.echoDelayOffsetEnd = null;\n        this.echoShelfSampleL = 0.0;\n        this.echoShelfSampleR = 0.0;\n        this.echoShelfPrevInputL = 0.0;\n        this.echoShelfPrevInputR = 0.0;\n        this.reverbShelfSample0 = 0.0;\n        this.reverbShelfSample1 = 0.0;\n        this.reverbShelfSample2 = 0.0;\n        this.reverbShelfSample3 = 0.0;\n        this.reverbShelfPrevInput0 = 0.0;\n        this.reverbShelfPrevInput1 = 0.0;\n        this.reverbShelfPrevInput2 = 0.0;\n        this.reverbShelfPrevInput3 = 0.0;\n\n        this.volumeScale = 1.0;\n        this.aliases = false;\n\n        this.awake = false;\n        this.flushingDelayLines = false;\n        this.deactivateAfterThisTick = false;\n        this.attentuationProgress = 0.0;\n        this.flushedSamples = 0;\n    }\n\n    public resetAllEffects(): void {\n        this.deactivate();\n\n        if (this.chorusDelayLineDirty) {\n            for (let i: number = 0; i < this.chorusDelayLineL!.length; i++) this.chorusDelayLineL![i] = 0.0;\n            for (let i: number = 0; i < this.chorusDelayLineR!.length; i++) this.chorusDelayLineR![i] = 0.0;\n        }\n        if (this.echoDelayLineDirty) {\n            for (let i: number = 0; i < this.echoDelayLineL!.length; i++) this.echoDelayLineL![i] = 0.0;\n            for (let i: number = 0; i < this.echoDelayLineR!.length; i++) this.echoDelayLineR![i] = 0.0;\n        }\n        if (this.reverbDelayLineDirty) {\n            for (let i: number = 0; i < this.reverbDelayLine!.length; i++) this.reverbDelayLine![i] = 0.0;\n        }\n\n        this.chorusPhase = 0.0;\n    }\n\n    public compute(synth: Synth, instrument: Instrument, samplesPerTick: number, roundedSamplesPerTick: number, tone: Tone | null, channelIndex: number, instrumentIndex: number): void {\n        this.computed = true;\n\n        this.type = instrument.type;\n        this.synthesizer = Synth.getInstrumentSynthFunction(instrument);\n        this.unison = Config.unisons[instrument.unison];\n        this.chord = instrument.getChord();\n        this.noisePitchFilterMult = Config.chipNoises[instrument.chipNoise].pitchFilterMult;\n        this.effects = instrument.effects;\t\n\n        this.aliases = instrument.aliases;\n        this.volumeScale = 1.0;\n\n        this.allocateNecessaryBuffers(synth, instrument, samplesPerTick);\n\n        const samplesPerSecond: number = synth.samplesPerSecond;\n        this.updateWaves(instrument, samplesPerSecond);\n\n        //const ticksIntoBar: number = synth.getTicksIntoBar();\n        //const tickTimeStart: number = ticksIntoBar;\n        //const tickTimeEnd:   number = ticksIntoBar + 1.0;\n        //const secondsPerTick: number = samplesPerTick / synth.samplesPerSecond;\n        //const currentPart: number = synth.getCurrentPart();\n        //this.envelopeComputer.computeEnvelopes(instrument, currentPart, tickTimeStart, secondsPerTick, tone);\n        //const envelopeStarts: number[] = this.envelopeComputer.envelopeStarts;\n        //const envelopeEnds: number[] = this.envelopeComputer.envelopeEnds;\n\n        const usesDistortion: boolean = effectsIncludeDistortion(this.effects);\n        const usesBitcrusher: boolean = effectsIncludeBitcrusher(this.effects);\n        const usesPanning: boolean = effectsIncludePanning(this.effects);\n        const usesChorus: boolean = effectsIncludeChorus(this.effects);\n        const usesEcho: boolean = effectsIncludeEcho(this.effects);\n        const usesReverb: boolean = effectsIncludeReverb(this.effects);\n\n        if (usesDistortion) {\n            let useDistortionStart: number = instrument.distortion;\n            let useDistortionEnd: number = instrument.distortion;\n\n            // Check for distortion mods\n            if (synth.isModActive(Config.modulators.dictionary[\"distortion\"].index, channelIndex, instrumentIndex)) {\n                useDistortionStart = synth.getModValue(Config.modulators.dictionary[\"distortion\"].index, channelIndex, instrumentIndex, false);\n                useDistortionEnd = synth.getModValue(Config.modulators.dictionary[\"distortion\"].index, channelIndex, instrumentIndex, true);\n            }\n\n            const distortionSliderStart = Math.min(1.0, /*envelopeStarts[InstrumentAutomationIndex.distortion] **/ useDistortionStart / (Config.distortionRange - 1));\n            const distortionSliderEnd = Math.min(1.0, /*envelopeEnds[  InstrumentAutomationIndex.distortion] **/ useDistortionEnd / (Config.distortionRange - 1));\n            const distortionStart: number = Math.pow(1.0 - 0.895 * (Math.pow(20.0, distortionSliderStart) - 1.0) / 19.0, 2.0);\n            const distortionEnd: number = Math.pow(1.0 - 0.895 * (Math.pow(20.0, distortionSliderEnd) - 1.0) / 19.0, 2.0);\n            const distortionDriveStart: number = (1.0 + 2.0 * distortionSliderStart) / Config.distortionBaseVolume;\n            const distortionDriveEnd: number = (1.0 + 2.0 * distortionSliderEnd) / Config.distortionBaseVolume;\n            this.distortion = distortionStart;\n            this.distortionDelta = (distortionEnd - distortionStart) / roundedSamplesPerTick;\n            this.distortionDrive = distortionDriveStart;\n            this.distortionDriveDelta = (distortionDriveEnd - distortionDriveStart) / roundedSamplesPerTick;\n        }\n\n        if (usesBitcrusher) {\n            let freqSettingStart: number = instrument.bitcrusherFreq /** Math.sqrt(envelopeStarts[InstrumentAutomationIndex.bitcrusherFrequency])*/;\n            let freqSettingEnd: number = instrument.bitcrusherFreq /** Math.sqrt(envelopeEnds[  InstrumentAutomationIndex.bitcrusherFrequency])*/;\n\n            // Check for freq crush mods\n            if (synth.isModActive(Config.modulators.dictionary[\"freq crush\"].index, channelIndex, instrumentIndex)) {\n                freqSettingStart = synth.getModValue(Config.modulators.dictionary[\"freq crush\"].index, channelIndex, instrumentIndex, false);\n                freqSettingEnd = synth.getModValue(Config.modulators.dictionary[\"freq crush\"].index, channelIndex, instrumentIndex, true);\n            }\n\n            let quantizationSettingStart: number = instrument.bitcrusherQuantization /** Math.sqrt(envelopeStarts[InstrumentAutomationIndex.bitcrusherQuantization])*/;\n            let quantizationSettingEnd: number = instrument.bitcrusherQuantization /** Math.sqrt(envelopeEnds[  InstrumentAutomationIndex.bitcrusherQuantization])*/;\n\n            // Check for bitcrush mods\n            if (synth.isModActive(Config.modulators.dictionary[\"bit crush\"].index, channelIndex, instrumentIndex)) {\n                quantizationSettingStart = synth.getModValue(Config.modulators.dictionary[\"bit crush\"].index, channelIndex, instrumentIndex, false);\n                quantizationSettingEnd = synth.getModValue(Config.modulators.dictionary[\"bit crush\"].index, channelIndex, instrumentIndex, true);\n            }\n\n            const basePitch: number = Config.keys[synth.song!.key].basePitch + (Config.pitchesPerOctave * synth.song!.octave); // TODO: What if there's a key change mid-song?\n            const freqStart: number = Instrument.frequencyFromPitch(basePitch + 60) * Math.pow(2.0, (Config.bitcrusherFreqRange - 1 - freqSettingStart) * Config.bitcrusherOctaveStep);\n            const freqEnd: number = Instrument.frequencyFromPitch(basePitch + 60) * Math.pow(2.0, (Config.bitcrusherFreqRange - 1 - freqSettingEnd) * Config.bitcrusherOctaveStep);\n            const phaseDeltaStart: number = Math.min(1.0, freqStart / samplesPerSecond);\n            const phaseDeltaEnd: number = Math.min(1.0, freqEnd / samplesPerSecond);\n            this.bitcrusherPhaseDelta = phaseDeltaStart;\n            this.bitcrusherPhaseDeltaScale = Math.pow(phaseDeltaEnd / phaseDeltaStart, 1.0 / roundedSamplesPerTick);\n\n            const scaleStart: number = 2.0 * Config.bitcrusherBaseVolume * Math.pow(2.0, 1.0 - Math.pow(2.0, (Config.bitcrusherQuantizationRange - 1 - quantizationSettingStart) * 0.5));\n            const scaleEnd: number = 2.0 * Config.bitcrusherBaseVolume * Math.pow(2.0, 1.0 - Math.pow(2.0, (Config.bitcrusherQuantizationRange - 1 - quantizationSettingEnd) * 0.5));\n            this.bitcrusherScale = scaleStart;\n            this.bitcrusherScaleScale = Math.pow(scaleEnd / scaleStart, 1.0 / roundedSamplesPerTick);\n\n            const foldLevelStart: number = 2.0 * Config.bitcrusherBaseVolume * Math.pow(1.5, Config.bitcrusherQuantizationRange - 1 - quantizationSettingStart);\n            const foldLevelEnd: number = 2.0 * Config.bitcrusherBaseVolume * Math.pow(1.5, Config.bitcrusherQuantizationRange - 1 - quantizationSettingEnd);\n            this.bitcrusherFoldLevel = foldLevelStart;\n            this.bitcrusherFoldLevelScale = Math.pow(foldLevelEnd / foldLevelStart, 1.0 / roundedSamplesPerTick);\n        }\n\n        let eqFilterVolume: number = 1.0; //this.envelopeComputer.lowpassCutoffDecayVolumeCompensation;\n        if (instrument.eqFilterType) {\n            // Simple EQ filter (old style). For analysis, using random filters from normal style since they are N/A in this context.\n            const eqFilterSettingsStart: FilterSettings = instrument.eqFilter;\n            if (instrument.eqSubFilters[1] == null)\n                instrument.eqSubFilters[1] = new FilterSettings();\n            const eqFilterSettingsEnd: FilterSettings = instrument.eqSubFilters[1];\n\n            // Change location based on slider values\n            let startSimpleFreq: number = instrument.eqFilterSimpleCut;\n            let startSimpleGain: number = instrument.eqFilterSimplePeak;\n            let endSimpleFreq: number = instrument.eqFilterSimpleCut;\n            let endSimpleGain: number = instrument.eqFilterSimplePeak;\n\n            let filterChanges: boolean = false;\n\n            if (synth.isModActive(Config.modulators.dictionary[\"eq filt cut\"].index, channelIndex, instrumentIndex)) {\n                startSimpleFreq = synth.getModValue(Config.modulators.dictionary[\"eq filt cut\"].index, channelIndex, instrumentIndex, false);\n                endSimpleFreq = synth.getModValue(Config.modulators.dictionary[\"eq filt cut\"].index, channelIndex, instrumentIndex, true);\n                filterChanges = true;\n            }\n            if (synth.isModActive(Config.modulators.dictionary[\"eq filt peak\"].index, channelIndex, instrumentIndex)) {\n                startSimpleGain = synth.getModValue(Config.modulators.dictionary[\"eq filt peak\"].index, channelIndex, instrumentIndex, false);\n                endSimpleGain = synth.getModValue(Config.modulators.dictionary[\"eq filt peak\"].index, channelIndex, instrumentIndex, true);\n                filterChanges = true;\n            }\n\n            let startPoint: FilterControlPoint;\n\n            if (filterChanges) {\n                eqFilterSettingsStart.convertLegacySettingsForSynth(startSimpleFreq, startSimpleGain);\n                eqFilterSettingsEnd.convertLegacySettingsForSynth(endSimpleFreq, endSimpleGain);\n\n                startPoint = eqFilterSettingsStart.controlPoints[0];\n                let endPoint: FilterControlPoint = eqFilterSettingsEnd.controlPoints[0];\n\n                startPoint.toCoefficients(Synth.tempFilterStartCoefficients, samplesPerSecond, 1.0, 1.0);\n                endPoint.toCoefficients(Synth.tempFilterEndCoefficients, samplesPerSecond, 1.0, 1.0);\n\n                if (this.eqFilters.length < 1) this.eqFilters[0] = new DynamicBiquadFilter();\n                this.eqFilters[0].loadCoefficientsWithGradient(Synth.tempFilterStartCoefficients, Synth.tempFilterEndCoefficients, 1.0 / roundedSamplesPerTick, startPoint.type == FilterType.lowPass);\n\n            } else {\n                eqFilterSettingsStart.convertLegacySettingsForSynth(startSimpleFreq, startSimpleGain, true);\n\n                startPoint = eqFilterSettingsStart.controlPoints[0];\n\n                startPoint.toCoefficients(Synth.tempFilterStartCoefficients, samplesPerSecond, 1.0, 1.0);\n\n                if (this.eqFilters.length < 1) this.eqFilters[0] = new DynamicBiquadFilter();\n                this.eqFilters[0].loadCoefficientsWithGradient(Synth.tempFilterStartCoefficients, Synth.tempFilterStartCoefficients, 1.0 / roundedSamplesPerTick, startPoint.type == FilterType.lowPass);\n\n            }\n\n            eqFilterVolume *= startPoint.getVolumeCompensationMult();\n\n            this.eqFilterCount = 1;\n            eqFilterVolume = Math.min(3.0, eqFilterVolume);\n        }\n        else {\n            const eqFilterSettings: FilterSettings = (instrument.tmpEqFilterStart != null) ? instrument.tmpEqFilterStart : instrument.eqFilter;\n            //const eqAllFreqsEnvelopeStart: number = envelopeStarts[InstrumentAutomationIndex.eqFilterAllFreqs];\n            //const eqAllFreqsEnvelopeEnd:   number = envelopeEnds[  InstrumentAutomationIndex.eqFilterAllFreqs];\n            for (let i: number = 0; i < eqFilterSettings.controlPointCount; i++) {\n                //const eqFreqEnvelopeStart: number = envelopeStarts[InstrumentAutomationIndex.eqFilterFreq0 + i];\n                //const eqFreqEnvelopeEnd:   number = envelopeEnds[  InstrumentAutomationIndex.eqFilterFreq0 + i];\n                //const eqPeakEnvelopeStart: number = envelopeStarts[InstrumentAutomationIndex.eqFilterGain0 + i];\n                //const eqPeakEnvelopeEnd:   number = envelopeEnds[  InstrumentAutomationIndex.eqFilterGain0 + i];\n                let startPoint: FilterControlPoint = eqFilterSettings.controlPoints[i];\n                let endPoint: FilterControlPoint = (instrument.tmpEqFilterEnd != null && instrument.tmpEqFilterEnd.controlPoints[i] != null) ? instrument.tmpEqFilterEnd.controlPoints[i] : eqFilterSettings.controlPoints[i];\n\n                // If switching dot type, do it all at once and do not try to interpolate since no valid interpolation exists.\n                if (startPoint.type != endPoint.type) {\n                    startPoint = endPoint;\n                }\n\n                startPoint.toCoefficients(Synth.tempFilterStartCoefficients, samplesPerSecond, /*eqAllFreqsEnvelopeStart * eqFreqEnvelopeStart*/ 1.0, /*eqPeakEnvelopeStart*/ 1.0);\n                endPoint.toCoefficients(Synth.tempFilterEndCoefficients, samplesPerSecond, /*eqAllFreqsEnvelopeEnd   * eqFreqEnvelopeEnd*/   1.0, /*eqPeakEnvelopeEnd*/   1.0);\n                if (this.eqFilters.length <= i) this.eqFilters[i] = new DynamicBiquadFilter();\n                this.eqFilters[i].loadCoefficientsWithGradient(Synth.tempFilterStartCoefficients, Synth.tempFilterEndCoefficients, 1.0 / roundedSamplesPerTick, startPoint.type == FilterType.lowPass);\n                eqFilterVolume *= startPoint.getVolumeCompensationMult();\n\n            }\n            this.eqFilterCount = eqFilterSettings.controlPointCount;\n            eqFilterVolume = Math.min(3.0, eqFilterVolume);\n        }\n\n        const mainInstrumentVolume: number = Synth.instrumentVolumeToVolumeMult(instrument.volume);\n        this.mixVolume = mainInstrumentVolume /** envelopeStarts[InstrumentAutomationIndex.mixVolume]*/;\n        let mixVolumeEnd: number = mainInstrumentVolume /** envelopeEnds[  InstrumentAutomationIndex.mixVolume]*/;\n\n        // Check for mod-related volume delta\n        if (synth.isModActive(Config.modulators.dictionary[\"mix volume\"].index, channelIndex, instrumentIndex)) {\n            // Linear falloff below 0, normal volume formula above 0. Seems to work best for scaling since the normal volume mult formula has a big gap from -25 to -24.\n            const startVal: number = synth.getModValue(Config.modulators.dictionary[\"mix volume\"].index, channelIndex, instrumentIndex, false);\n            const endVal: number = synth.getModValue(Config.modulators.dictionary[\"mix volume\"].index, channelIndex, instrumentIndex, true)\n            this.mixVolume *= ((startVal <= 0) ? ((startVal + Config.volumeRange / 2) / (Config.volumeRange / 2)) : Synth.instrumentVolumeToVolumeMult(startVal));\n            mixVolumeEnd *= ((endVal <= 0) ? ((endVal + Config.volumeRange / 2) / (Config.volumeRange / 2)) : Synth.instrumentVolumeToVolumeMult(endVal));\n        }\n\n        // Check for SONG mod-related volume delta\n        if (synth.isModActive(Config.modulators.dictionary[\"song volume\"].index)) {\n            this.mixVolume *= (synth.getModValue(Config.modulators.dictionary[\"song volume\"].index, undefined, undefined, false)) / 100.0;\n            mixVolumeEnd *= (synth.getModValue(Config.modulators.dictionary[\"song volume\"].index, undefined, undefined, true)) / 100.0;\n        }\n\n        this.mixVolumeDelta = (mixVolumeEnd - this.mixVolume) / roundedSamplesPerTick;\n\n        let eqFilterVolumeStart: number = eqFilterVolume;\n        let eqFilterVolumeEnd: number = eqFilterVolume;\n        let delayInputMultStart: number = 1.0;\n        let delayInputMultEnd: number = 1.0;\n\n        if (usesPanning) {\n            //const panEnvelopeStart: number = envelopeStarts[InstrumentAutomationIndex.panning] * 2.0 - 1.0;\n            //const panEnvelopeEnd:   number = envelopeEnds[  InstrumentAutomationIndex.panning] * 2.0 - 1.0;\n\n            let usePanStart: number = instrument.pan;\n            let usePanEnd: number = instrument.pan;\n            // Check for pan mods\n            if (synth.isModActive(Config.modulators.dictionary[\"pan\"].index, channelIndex, instrumentIndex)) {\n                usePanStart = synth.getModValue(Config.modulators.dictionary[\"pan\"].index, channelIndex, instrumentIndex, false);\n                usePanEnd = synth.getModValue(Config.modulators.dictionary[\"pan\"].index, channelIndex, instrumentIndex, true);\n            }\n\n            let panStart: number = Math.max(-1.0, Math.min(1.0, (usePanStart - Config.panCenter) / Config.panCenter /** panEnvelopeStart*/));\n            let panEnd: number = Math.max(-1.0, Math.min(1.0, (usePanEnd - Config.panCenter) / Config.panCenter /** panEnvelopeEnd  */));\n\n            const volumeStartL: number = Math.cos((1 + panStart) * Math.PI * 0.25) * 1.414;\n            const volumeStartR: number = Math.cos((1 - panStart) * Math.PI * 0.25) * 1.414;\n            const volumeEndL: number = Math.cos((1 + panEnd) * Math.PI * 0.25) * 1.414;\n            const volumeEndR: number = Math.cos((1 - panEnd) * Math.PI * 0.25) * 1.414;\n            const maxDelaySamples: number = samplesPerSecond * Config.panDelaySecondsMax;\n\n            let usePanDelayStart: number = instrument.panDelay;\n            let usePanDelayEnd: number = instrument.panDelay;\n            // Check for pan delay mods\n            if (synth.isModActive(Config.modulators.dictionary[\"pan delay\"].index, channelIndex, instrumentIndex)) {\n                usePanDelayStart = synth.getModValue(Config.modulators.dictionary[\"pan delay\"].index, channelIndex, instrumentIndex, false);\n                usePanDelayEnd = synth.getModValue(Config.modulators.dictionary[\"pan delay\"].index, channelIndex, instrumentIndex, true);\n            }\n\n            const delayStart: number = panStart * usePanDelayStart * maxDelaySamples / 10;\n            const delayEnd: number = panEnd * usePanDelayEnd * maxDelaySamples / 10;\n            const delayStartL: number = Math.max(0.0, delayStart);\n            const delayStartR: number = Math.max(0.0, -delayStart);\n            const delayEndL: number = Math.max(0.0, delayEnd);\n            const delayEndR: number = Math.max(0.0, -delayEnd);\n\n            this.panningVolumeL = volumeStartL;\n            this.panningVolumeR = volumeStartR;\n            this.panningVolumeDeltaL = (volumeEndL - volumeStartL) / roundedSamplesPerTick;\n            this.panningVolumeDeltaR = (volumeEndR - volumeStartR) / roundedSamplesPerTick;\n            this.panningOffsetL = this.panningDelayPos - delayStartL + synth.panningDelayBufferSize;\n            this.panningOffsetR = this.panningDelayPos - delayStartR + synth.panningDelayBufferSize;\n            this.panningOffsetDeltaL = (delayEndL - delayStartL) / roundedSamplesPerTick;\n            this.panningOffsetDeltaR = (delayEndR - delayStartR) / roundedSamplesPerTick;\n        }\n\n        if (usesChorus) {\n            //const chorusEnvelopeStart: number = envelopeStarts[InstrumentAutomationIndex.chorus];\n            //const chorusEnvelopeEnd:   number = envelopeEnds[  InstrumentAutomationIndex.chorus];\n            let useChorusStart: number = instrument.chorus;\n            let useChorusEnd: number = instrument.chorus;\n            // Check for chorus mods\n            if (synth.isModActive(Config.modulators.dictionary[\"chorus\"].index, channelIndex, instrumentIndex)) {\n                useChorusStart = synth.getModValue(Config.modulators.dictionary[\"chorus\"].index, channelIndex, instrumentIndex, false);\n                useChorusEnd = synth.getModValue(Config.modulators.dictionary[\"chorus\"].index, channelIndex, instrumentIndex, true);\n            }\n\n            let chorusStart: number = Math.min(1.0, /*chorusEnvelopeStart **/ useChorusStart / (Config.chorusRange - 1));\n            let chorusEnd: number = Math.min(1.0, /*chorusEnvelopeEnd   **/ useChorusEnd / (Config.chorusRange - 1));\n            chorusStart = chorusStart * 0.6 + (Math.pow(chorusStart, 6.0)) * 0.4;\n            chorusEnd = chorusEnd * 0.6 + (Math.pow(chorusEnd, 6.0)) * 0.4;\n            const chorusCombinedMultStart = 1.0 / Math.sqrt(3.0 * chorusStart * chorusStart + 1.0);\n            const chorusCombinedMultEnd = 1.0 / Math.sqrt(3.0 * chorusEnd * chorusEnd + 1.0);\n            this.chorusVoiceMult = chorusStart;\n            this.chorusVoiceMultDelta = (chorusEnd - chorusStart) / roundedSamplesPerTick;\n            this.chorusCombinedMult = chorusCombinedMultStart;\n            this.chorusCombinedMultDelta = (chorusCombinedMultEnd - chorusCombinedMultStart) / roundedSamplesPerTick;\n        }\n\n        let maxEchoMult = 0.0;\n        let averageEchoDelaySeconds: number = 0.0;\n        if (usesEcho) {\n            //const echoSustainEnvelopeStart: number = envelopeStarts[InstrumentAutomationIndex.echoSustain];\n            //const echoSustainEnvelopeEnd:   number = envelopeEnds[  InstrumentAutomationIndex.echoSustain];\n            let useEchoSustainStart: number = instrument.echoSustain;\n            let useEchoSustainEnd: number = instrument.echoSustain;\n            // Check for echo mods\n            if (synth.isModActive(Config.modulators.dictionary[\"echo\"].index, channelIndex, instrumentIndex)) {\n                useEchoSustainStart = Math.max( 0.0, synth.getModValue(Config.modulators.dictionary[\"echo\"].index, channelIndex, instrumentIndex, false) );\n                useEchoSustainEnd = Math.max( 0.0, synth.getModValue(Config.modulators.dictionary[\"echo\"].index, channelIndex, instrumentIndex, true) );\n            }\n            const echoMultStart: number = Math.min(1.0, Math.pow(/*echoSustainEnvelopeStart **/ useEchoSustainStart / Config.echoSustainRange, 1.1)) * 0.9;\n            const echoMultEnd: number = Math.min(1.0, Math.pow(/*echoSustainEnvelopeEnd   **/ useEchoSustainEnd / Config.echoSustainRange, 1.1)) * 0.9;\n            this.echoMult = echoMultStart;\n            this.echoMultDelta = Math.max(0.0, (echoMultEnd - echoMultStart) / roundedSamplesPerTick);\n            maxEchoMult = Math.max(echoMultStart, echoMultEnd);\n\n            // TODO: After computing a tick's settings once for multiple run lengths (which is\n            // good for audio worklet threads), compute the echo delay envelopes at tick (or\n            // part) boundaries to interpolate between two delay taps.\n            //const echoDelayEnvelopeStart:   number = envelopeStarts[InstrumentAutomationIndex.echoDelay];\n            //const echoDelayEnvelopeEnd:     number = envelopeEnds[  InstrumentAutomationIndex.echoDelay];\n            let useEchoDelayStart: number = instrument.echoDelay;\n            let useEchoDelayEnd: number = instrument.echoDelay;\n            let ignoreTicks: boolean = false;\n            // Check for pan delay mods\n            if (synth.isModActive(Config.modulators.dictionary[\"echo delay\"].index, channelIndex, instrumentIndex)) {\n                useEchoDelayStart = synth.getModValue(Config.modulators.dictionary[\"echo delay\"].index, channelIndex, instrumentIndex, false);\n                useEchoDelayEnd = synth.getModValue(Config.modulators.dictionary[\"echo delay\"].index, channelIndex, instrumentIndex, true);\n                ignoreTicks = true;\n            }\n\n            const tmpEchoDelayOffsetStart: number = Math.round((useEchoDelayStart + 1) * Config.echoDelayStepTicks * samplesPerTick);\n            const tmpEchoDelayOffsetEnd: number = Math.round((useEchoDelayEnd + 1) * Config.echoDelayStepTicks * samplesPerTick);\n            if (this.echoDelayOffsetEnd != null && !ignoreTicks) {\n                this.echoDelayOffsetStart = this.echoDelayOffsetEnd;\n            } else {\n                this.echoDelayOffsetStart = tmpEchoDelayOffsetStart;\n            }\n\n            this.echoDelayOffsetEnd = tmpEchoDelayOffsetEnd;\n            averageEchoDelaySeconds = (this.echoDelayOffsetStart + this.echoDelayOffsetEnd) * 0.5 / samplesPerSecond;\n\n            this.echoDelayOffsetRatio = 0.0;\n            this.echoDelayOffsetRatioDelta = 1.0 / roundedSamplesPerTick;\n\n            const shelfRadians: number = 2.0 * Math.PI * Config.echoShelfHz / synth.samplesPerSecond;\n            Synth.tempFilterStartCoefficients.highShelf1stOrder(shelfRadians, Config.echoShelfGain);\n            this.echoShelfA1 = Synth.tempFilterStartCoefficients.a[1];\n            this.echoShelfB0 = Synth.tempFilterStartCoefficients.b[0];\n            this.echoShelfB1 = Synth.tempFilterStartCoefficients.b[1];\n        }\n\n        let maxReverbMult = 0.0;\n        if (usesReverb) {\n            //const reverbEnvelopeStart: number = envelopeStarts[InstrumentAutomationIndex.reverb];\n            //const reverbEnvelopeEnd:   number = envelopeEnds[  InstrumentAutomationIndex.reverb];\n\n            let useReverbStart: number = instrument.reverb;\n            let useReverbEnd: number = instrument.reverb;\n\n            // Check for mod reverb, instrument level\n            if (synth.isModActive(Config.modulators.dictionary[\"reverb\"].index, channelIndex, instrumentIndex)) {\n                useReverbStart = synth.getModValue(Config.modulators.dictionary[\"reverb\"].index, channelIndex, instrumentIndex, false);\n                useReverbEnd = synth.getModValue(Config.modulators.dictionary[\"reverb\"].index, channelIndex, instrumentIndex, true);\n            }\n            // Check for mod reverb, song scalar\n            if (synth.isModActive(Config.modulators.dictionary[\"song reverb\"].index, channelIndex, instrumentIndex)) {\n                useReverbStart *= (synth.getModValue(Config.modulators.dictionary[\"song reverb\"].index, undefined, undefined, false) - Config.modulators.dictionary[\"song reverb\"].convertRealFactor) / Config.reverbRange;\n                useReverbEnd *= (synth.getModValue(Config.modulators.dictionary[\"song reverb\"].index, undefined, undefined, true) - Config.modulators.dictionary[\"song reverb\"].convertRealFactor) / Config.reverbRange;\n            }\n\n            const reverbStart: number = Math.min(1.0, Math.pow(/*reverbEnvelopeStart **/ useReverbStart / Config.reverbRange, 0.667)) * 0.425;\n            const reverbEnd: number = Math.min(1.0, Math.pow(/*reverbEnvelopeEnd   **/ useReverbEnd / Config.reverbRange, 0.667)) * 0.425;\n\n            this.reverbMult = reverbStart;\n            this.reverbMultDelta = (reverbEnd - reverbStart) / roundedSamplesPerTick;\n            maxReverbMult = Math.max(reverbStart, reverbEnd);\n\n            const shelfRadians: number = 2.0 * Math.PI * Config.reverbShelfHz / synth.samplesPerSecond;\n            Synth.tempFilterStartCoefficients.highShelf1stOrder(shelfRadians, Config.reverbShelfGain);\n            this.reverbShelfA1 = Synth.tempFilterStartCoefficients.a[1];\n            this.reverbShelfB0 = Synth.tempFilterStartCoefficients.b[0];\n            this.reverbShelfB1 = Synth.tempFilterStartCoefficients.b[1];\n        }\n\n        if (this.tonesAddedInThisTick) {\n            this.attentuationProgress = 0.0;\n            this.flushedSamples = 0;\n            this.flushingDelayLines = false;\n        } else if (!this.flushingDelayLines) {\n            // If this instrument isn't playing tones anymore, the volume can fade out by the\n            // end of the first tick. It's possible for filters and the panning delay line to\n            // continue past the end of the tone but they should have mostly dissipated by the\n            // end of the tick anyway.\n            if (this.attentuationProgress == 0.0) {\n                eqFilterVolumeEnd = 0.0;\n            } else {\n                eqFilterVolumeStart = 0.0;\n                eqFilterVolumeEnd = 0.0;\n            }\n\n            const attenuationThreshold: number = 1.0 / 256.0; // when the delay line signal has attenuated this much, it should be inaudible and should be flushed to zero.\n            const halfLifeMult: number = -Math.log2(attenuationThreshold);\n            let delayDuration: number = 0.0;\n\n            if (usesChorus) {\n                delayDuration += Config.chorusMaxDelay;\n            }\n\n            if (usesEcho) {\n                const attenuationPerSecond: number = Math.pow(maxEchoMult, 1.0 / averageEchoDelaySeconds);\n                const halfLife: number = -1.0 / Math.log2(attenuationPerSecond);\n                const echoDuration: number = halfLife * halfLifeMult;\n                delayDuration += echoDuration;\n            }\n\n            if (usesReverb) {\n                const averageMult: number = maxReverbMult * 2.0;\n                const averageReverbDelaySeconds: number = (Config.reverbDelayBufferSize / 4.0) / samplesPerSecond;\n                const attenuationPerSecond: number = Math.pow(averageMult, 1.0 / averageReverbDelaySeconds);\n                const halfLife: number = -1.0 / Math.log2(attenuationPerSecond);\n                const reverbDuration: number = halfLife * halfLifeMult;\n                delayDuration += reverbDuration;\n            }\n\n            const secondsInTick: number = samplesPerTick / samplesPerSecond;\n            const progressInTick: number = secondsInTick / delayDuration;\n            const progressAtEndOfTick: number = this.attentuationProgress + progressInTick;\n            if (progressAtEndOfTick >= 1.0) {\n                delayInputMultEnd = 0.0;\n            }\n\n            this.attentuationProgress = progressAtEndOfTick;\n            if (this.attentuationProgress >= 1.0) {\n                this.flushingDelayLines = true;\n            }\n        } else {\n            // Flushing delay lines to zero since the signal has mostly dissipated.\n            eqFilterVolumeStart = 0.0;\n            eqFilterVolumeEnd = 0.0;\n            delayInputMultStart = 0.0;\n            delayInputMultEnd = 0.0;\n\n            let totalDelaySamples: number = 0;\n            if (usesChorus) totalDelaySamples += synth.chorusDelayBufferSize;\n            if (usesEcho) totalDelaySamples += this.echoDelayLineL!.length;\n            if (usesReverb) totalDelaySamples += Config.reverbDelayBufferSize;\n\n            this.flushedSamples += roundedSamplesPerTick;\n            if (this.flushedSamples >= totalDelaySamples) {\n                this.deactivateAfterThisTick = true;\n            }\n        }\n\n        this.eqFilterVolume = eqFilterVolumeStart;\n        this.eqFilterVolumeDelta = (eqFilterVolumeEnd - eqFilterVolumeStart) / roundedSamplesPerTick;\n        this.delayInputMult = delayInputMultStart;\n        this.delayInputMultDelta = (delayInputMultEnd - delayInputMultStart) / roundedSamplesPerTick;\n    }\n\n    public updateWaves(instrument: Instrument, samplesPerSecond: number): void {\n        this.volumeScale = 1.0;\n        if (instrument.type == InstrumentType.chip) {\n            this.wave = (this.aliases) ? Config.rawChipWaves[instrument.chipWave].samples : Config.chipWaves[instrument.chipWave].samples;\n\t\t\t\t\t\t // advloop addition\n                this.isUsingAdvancedLoopControls = instrument.isUsingAdvancedLoopControls;\n                this.chipWaveLoopStart = instrument.chipWaveLoopStart;\n                this.chipWaveLoopEnd = instrument.chipWaveLoopEnd;\n                this.chipWaveLoopMode = instrument.chipWaveLoopMode;\n                this.chipWavePlayBackwards = instrument.chipWavePlayBackwards;\n                this.chipWaveStartOffset = instrument.chipWaveStartOffset;\n               // advloop addition\n\n               this.unisonVoices = instrument.unisonVoices;\n            this.unisonSpread = instrument.unisonSpread;\n            this.unisonOffset = instrument.unisonOffset;\n            this.unisonExpression = instrument.unisonExpression;\n            this.unisonSign = instrument.unisonSign;\n        } else if (instrument.type == InstrumentType.customChipWave) {\n            this.wave = (this.aliases) ? instrument.customChipWave! : instrument.customChipWaveIntegral!;\n            this.volumeScale = 0.05;\n            this.unisonVoices = instrument.unisonVoices;\n            this.unisonSpread = instrument.unisonSpread;\n            this.unisonOffset = instrument.unisonOffset;\n            this.unisonExpression = instrument.unisonExpression;\n            this.unisonSign = instrument.unisonSign;\n        } else if (instrument.type == InstrumentType.noise) {\n            this.wave = getDrumWave(instrument.chipNoise, inverseRealFourierTransform, scaleElementsByFactor);\n        } else if (instrument.type == InstrumentType.harmonics) {\n            this.wave = this.harmonicsWave.getCustomWave(instrument.harmonicsWave, instrument.type);\n            this.unisonVoices = instrument.unisonVoices;\n            this.unisonSpread = instrument.unisonSpread;\n            this.unisonOffset = instrument.unisonOffset;\n            this.unisonExpression = instrument.unisonExpression;\n            this.unisonSign = instrument.unisonSign;\n        } else if (instrument.type == InstrumentType.pickedString) {\n            this.wave = this.harmonicsWave.getCustomWave(instrument.harmonicsWave, instrument.type);\n            this.unisonVoices = instrument.unisonVoices;\n            this.unisonSpread = instrument.unisonSpread;\n            this.unisonOffset = instrument.unisonOffset;\n            this.unisonExpression = instrument.unisonExpression;\n            this.unisonSign = instrument.unisonSign;\n        } else if (instrument.type == InstrumentType.spectrum) {\n            this.wave = this.spectrumWave.getCustomWave(instrument.spectrumWave, 8);\n        } else if (instrument.type == InstrumentType.drumset) {\n            for (let i: number = 0; i < Config.drumCount; i++) {\n                this.drumsetSpectrumWaves[i].getCustomWave(instrument.drumsetSpectrumWaves[i], InstrumentState._drumsetIndexToSpectrumOctave(i));\n            }\n            this.wave = null;\n        } else {\n            this.wave = null;\n        }\n    }\n\n    public getDrumsetWave(pitch: number): Float32Array {\n        if (this.type == InstrumentType.drumset) {\n            return this.drumsetSpectrumWaves[pitch].wave!;\n        } else {\n            throw new Error(\"Unhandled instrument type in getDrumsetWave\");\n        }\n    }\n\n    public static drumsetIndexReferenceDelta(index: number): number {\n        return Instrument.frequencyFromPitch(Config.spectrumBasePitch + index * 6) / 44100;\n    }\n\n    private static _drumsetIndexToSpectrumOctave(index: number): number {\n        return 15 + Math.log2(InstrumentState.drumsetIndexReferenceDelta(index));\n    }\n}\n\nclass ChannelState {\n    public readonly instruments: InstrumentState[] = [];\n    public muted: boolean = false;\n    public singleSeamlessInstrument: number | null = null; // Seamless tones from a pattern with a single instrument can be transferred to a different single seamless instrument in the next pattern.\n}\n\nexport class Synth {\n\n    private syncSongState(): void {\n        const channelCount: number = this.song!.getChannelCount();\n        for (let i: number = this.channels.length; i < channelCount; i++) {\n            this.channels[i] = new ChannelState();\n        }\n        this.channels.length = channelCount;\n        for (let i: number = 0; i < channelCount; i++) {\n            const channel: Channel = this.song!.channels[i];\n            const channelState: ChannelState = this.channels[i];\n            for (let j: number = channelState.instruments.length; j < channel.instruments.length; j++) {\n                channelState.instruments[j] = new InstrumentState();\n            }\n            channelState.instruments.length = channel.instruments.length;\n\n            if (channelState.muted != channel.muted) {\n                channelState.muted = channel.muted;\n                if (channelState.muted) {\n                    for (const instrumentState of channelState.instruments) {\n                        instrumentState.resetAllEffects();\n                    }\n                }\n            }\n        }\n    }\n\n    public warmUpSynthesizer(song: Song | null): void {\n        // Don't bother to generate the drum waves unless the song actually\n        // uses them, since they may require a lot of computation.\n        if (song != null) {\n            this.syncSongState();\n            const samplesPerTick: number = this.getSamplesPerTick();\n            for (let channelIndex: number = 0; channelIndex < song.getChannelCount(); channelIndex++) {\n                for (let instrumentIndex: number = 0; instrumentIndex < song.channels[channelIndex].instruments.length; instrumentIndex++) {\n                    const instrument: Instrument = song.channels[channelIndex].instruments[instrumentIndex];\n                    const instrumentState: InstrumentState = this.channels[channelIndex].instruments[instrumentIndex];\n                    Synth.getInstrumentSynthFunction(instrument);\n                    instrument.LFOtime = 0;\n                    instrument.nextLFOtime = 0;\n                    instrument.arpTime = 0;\n                    instrument.tmpEqFilterStart = instrument.eqFilter;\n                    instrument.tmpEqFilterEnd = null;\n                    instrument.tmpNoteFilterStart = instrument.noteFilter;\n                    instrument.tmpNoteFilterEnd = null;\n                    instrumentState.updateWaves(instrument, this.samplesPerSecond);\n                    instrumentState.allocateNecessaryBuffers(this, instrument, samplesPerTick);\n                }\n\n            }\n        }\n\t    \t\t\t var dummyArray = new Float32Array(1);\n        this.isPlayingSong = true;\n        this.synthesize(dummyArray, dummyArray, 1, true);\n        this.isPlayingSong = false;\n\t\t//BUGFIX FROM JUMMBOX\n    }\n\n    public computeLatestModValues(): void {\n\n        if (this.song != null && this.song.modChannelCount > 0) {\n\n            // Clear all mod values, and set up temp variables for the time a mod would be set at.\n            let latestModTimes: (number | null)[] = [];\n            let latestModInsTimes: (number | null)[][][] = [];\n            this.modValues = [];\n            this.nextModValues = [];\n            this.modInsValues = [];\n            this.nextModInsValues = [];\n            for (let channel: number = 0; channel < this.song.pitchChannelCount + this.song.noiseChannelCount; channel++) {\n                latestModInsTimes[channel] = [];\n                this.modInsValues[channel] = [];\n                this.nextModInsValues[channel] = [];\n\n                for (let instrument: number = 0; instrument < this.song.channels[channel].instruments.length; instrument++) {\n                    this.modInsValues[channel][instrument] = [];\n                    this.nextModInsValues[channel][instrument] = [];\n                    latestModInsTimes[channel][instrument] = [];\n                }\n            }\n\n            // Find out where we're at in the fraction of the current bar.\n            let currentPart: number = this.beat * Config.partsPerBeat + this.part;\n\n            // For mod channels, calculate last set value for each mod\n            for (let channelIndex: number = this.song.pitchChannelCount + this.song.noiseChannelCount; channelIndex < this.song.getChannelCount(); channelIndex++) {\n                if (!(this.song.channels[channelIndex].muted)) {\n\n                    let pattern: Pattern | null;\n\n                    for (let currentBar: number = this.bar; currentBar >= 0; currentBar--) {\n                        pattern = this.song.getPattern(channelIndex, currentBar);\n\n                        if (pattern != null) {\n                            let instrumentIdx: number = pattern.instruments[0];\n                            let instrument: Instrument = this.song.channels[channelIndex].instruments[instrumentIdx];\n                            let latestPinParts: number[] = [];\n                            let latestPinValues: number[] = [];\n\n                            let partsInBar: number = (currentBar == this.bar)\n                                ? currentPart\n                                : this.findPartsInBar(currentBar);\n\n                            for (const note of pattern.notes) {\n                                if (note.start < partsInBar && (latestPinParts[Config.modCount - 1 - note.pitches[0]] == null || note.end > latestPinParts[Config.modCount - 1 - note.pitches[0]])) {\n                                    if (note.end <= partsInBar) {\n                                        latestPinParts[Config.modCount - 1 - note.pitches[0]] = note.end;\n                                        latestPinValues[Config.modCount - 1 - note.pitches[0]] = note.pins[note.pins.length - 1].size;\n                                    }\n                                    else {\n                                        latestPinParts[Config.modCount - 1 - note.pitches[0]] = partsInBar;\n                                        // Find the pin where bar change happens, and compute where pin volume would be at that time\n                                        for (let pinIdx = 0; pinIdx < note.pins.length; pinIdx++) {\n                                            if (note.pins[pinIdx].time + note.start > partsInBar) {\n                                                const transitionLength: number = note.pins[pinIdx].time - note.pins[pinIdx - 1].time;\n                                                const toNextBarLength: number = partsInBar - note.start - note.pins[pinIdx - 1].time;\n                                                const deltaVolume: number = note.pins[pinIdx].size - note.pins[pinIdx - 1].size;\n\n                                                latestPinValues[Config.modCount - 1 - note.pitches[0]] = Math.round(note.pins[pinIdx - 1].size + deltaVolume * toNextBarLength / transitionLength);\n                                                pinIdx = note.pins.length;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n\n                            // Set modulator value, if it wasn't set in another pattern already scanned\n                            for (let mod: number = 0; mod < Config.modCount; mod++) {\n                                if (latestPinParts[mod] != null) {\n                                    if (Config.modulators[instrument.modulators[mod]].forSong) {\n                                        if (latestModTimes[instrument.modulators[mod]] == null || currentBar * Config.partsPerBeat * this.song.beatsPerBar + latestPinParts[mod] > (latestModTimes[instrument.modulators[mod]] as number)) {\n                                            this.setModValue(latestPinValues[mod], latestPinValues[mod], mod, instrument.modChannels[mod], instrument.modInstruments[mod], instrument.modulators[mod]);\n                                            latestModTimes[instrument.modulators[mod]] = currentBar * Config.partsPerBeat * this.song.beatsPerBar + latestPinParts[mod];\n                                        }\n                                    }\n                                    else {\n                                        // Generate list of used instruments\n                                        let usedInstruments: number[] = [];\n                                        // All\n                                        if (instrument.modInstruments[mod] == this.song.channels[instrument.modChannels[mod]].instruments.length) {\n                                            for (let i: number = 0; i < this.song.channels[instrument.modChannels[mod]].instruments.length; i++) {\n                                                usedInstruments.push(i);\n                                            }\n                                        }\n                                        // Active\n                                        else if (instrument.modInstruments[mod] > this.song.channels[instrument.modChannels[mod]].instruments.length) {\n                                            const tgtPattern: Pattern | null = this.song.getPattern(instrument.modChannels[mod], currentBar);\n                                            if (tgtPattern != null)\n                                                usedInstruments = tgtPattern.instruments;\n                                        } else {\n                                            usedInstruments.push(instrument.modInstruments[mod]);\n                                        }\n                                        for (let instrumentIndex: number = 0; instrumentIndex < usedInstruments.length; instrumentIndex++) {\n                                            // Iterate through all used instruments by this modulator\n                                            // Special indices for mod filter targets, since they control multiple things.\n                                            const eqFilterParam: boolean = instrument.modulators[mod] == Config.modulators.dictionary[\"eq filter\"].index;\n                                            const noteFilterParam: boolean = instrument.modulators[mod] == Config.modulators.dictionary[\"note filter\"].index\n                                            let modulatorAdjust: number = instrument.modulators[mod];\n                                            if (eqFilterParam) {\n                                                modulatorAdjust = Config.modulators.length + instrument.modFilterTypes[mod];\n                                            } else if (noteFilterParam) {\n                                                // Skip all possible indices for eq filter\n                                                modulatorAdjust = Config.modulators.length + 1 + (2 * Config.filterMaxPoints) + instrument.modFilterTypes[mod];\n                                            }\n\n                                            if (latestModInsTimes[instrument.modChannels[mod]][usedInstruments[instrumentIndex]][modulatorAdjust] == null\n                                                || currentBar * Config.partsPerBeat * this.song.beatsPerBar + latestPinParts[mod] > latestModInsTimes[instrument.modChannels[mod]][usedInstruments[instrumentIndex]][modulatorAdjust]!) {\n\n                                                if (eqFilterParam) {\n                                                    let tgtInstrument: Instrument = this.song.channels[instrument.modChannels[mod]].instruments[usedInstruments[instrumentIndex]];\n                                                    if (instrument.modFilterTypes[mod] == 0) {\n                                                        tgtInstrument.tmpEqFilterStart = tgtInstrument.eqSubFilters[latestPinValues[mod]];\n                                                    } else {\n                                                        for (let i: number = 0; i < Config.filterMorphCount; i++) {\n                                                            if (tgtInstrument.tmpEqFilterStart == tgtInstrument.eqSubFilters[i]) {\n                                                                tgtInstrument.tmpEqFilterStart = new FilterSettings();\n                                                                tgtInstrument.tmpEqFilterStart.fromJsonObject(tgtInstrument.eqSubFilters[i]!.toJsonObject());\n                                                                i = Config.filterMorphCount;\n                                                            }\n                                                        }\n                                                        if (Math.floor((instrument.modFilterTypes[mod] - 1) / 2) < tgtInstrument.tmpEqFilterStart!.controlPointCount) {\n                                                            if (instrument.modFilterTypes[mod] % 2)\n                                                                tgtInstrument.tmpEqFilterStart!.controlPoints[Math.floor((instrument.modFilterTypes[mod] - 1) / 2)].freq = latestPinValues[mod];\n                                                            else\n                                                                tgtInstrument.tmpEqFilterStart!.controlPoints[Math.floor((instrument.modFilterTypes[mod] - 1) / 2)].gain = latestPinValues[mod];\n                                                        }\n                                                    }\n                                                    tgtInstrument.tmpEqFilterEnd = tgtInstrument.tmpEqFilterStart;\n                                                } else if (noteFilterParam) {\n                                                    let tgtInstrument: Instrument = this.song.channels[instrument.modChannels[mod]].instruments[usedInstruments[instrumentIndex]];\n                                                    if (instrument.modFilterTypes[mod] == 0) {\n                                                        tgtInstrument.tmpNoteFilterStart = tgtInstrument.noteSubFilters[latestPinValues[mod]];\n                                                    } else {\n                                                        for (let i: number = 0; i < Config.filterMorphCount; i++) {\n                                                            if (tgtInstrument.tmpNoteFilterStart == tgtInstrument.noteSubFilters[i]) {\n                                                                tgtInstrument.tmpNoteFilterStart = new FilterSettings();\n                                                                tgtInstrument.tmpNoteFilterStart.fromJsonObject(tgtInstrument.noteSubFilters[i]!.toJsonObject());\n                                                                i = Config.filterMorphCount;\n                                                            }\n                                                        }\n                                                        if (Math.floor((instrument.modFilterTypes[mod] - 1) / 2) < tgtInstrument.tmpNoteFilterStart!.controlPointCount) {\n                                                            if (instrument.modFilterTypes[mod] % 2)\n                                                                tgtInstrument.tmpNoteFilterStart!.controlPoints[Math.floor((instrument.modFilterTypes[mod] - 1) / 2)].freq = latestPinValues[mod];\n                                                            else\n                                                                tgtInstrument.tmpNoteFilterStart!.controlPoints[Math.floor((instrument.modFilterTypes[mod] - 1) / 2)].gain = latestPinValues[mod];\n                                                        }\n                                                    }\n                                                    tgtInstrument.tmpNoteFilterEnd = tgtInstrument.tmpNoteFilterStart;\n                                                }\n                                                else this.setModValue(latestPinValues[mod], latestPinValues[mod], mod, instrument.modChannels[mod], usedInstruments[instrumentIndex], modulatorAdjust);\n\n                                                latestModInsTimes[instrument.modChannels[mod]][usedInstruments[instrumentIndex]][modulatorAdjust] = currentBar * Config.partsPerBeat * this.song.beatsPerBar + latestPinParts[mod];\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // Detects if a modulator is set, but not valid for the current effects/instrument type/filter type\n    // Note, setting 'none' or the intermediary steps when clicking to add a mod, like an unset channel/unset instrument, counts as valid.\n    // TODO: This kind of check is mirrored in SongEditor.ts' whenUpdated. Creates a lot of redundancy for adding new mods. Can be moved into new properties for mods, to avoid this later.\n    public determineInvalidModulators(instrument: Instrument): void {\n        if (this.song == null)\n            return;\n        for (let mod: number = 0; mod < Config.modCount; mod++) {\n            instrument.invalidModulators[mod] = true;\n            // For song modulator, valid if any setting used\n            if (instrument.modChannels[mod] == -1) {\n                if (instrument.modulators[mod] != 0)\n                    instrument.invalidModulators[mod] = false;\n                continue;\n            }\n            const channel: Channel | null = this.song.channels[instrument.modChannels[mod]];\n            if (channel == null) continue;\n            let tgtInstrumentList: Instrument[] = [];\n            if (instrument.modInstruments[mod] >= channel.instruments.length) { // All or active\n                tgtInstrumentList = channel.instruments;\n            } else {\n                tgtInstrumentList = [channel.instruments[instrument.modInstruments[mod]]];\n            }\n            for (let i: number = 0; i < tgtInstrumentList.length; i++) {\n                const tgtInstrument: Instrument | null = tgtInstrumentList[i];\n                if (tgtInstrument == null) continue;\n                const str: string = Config.modulators[instrument.modulators[mod]].name;\n                // Check effects\n                if (!((Config.modulators[instrument.modulators[mod]].associatedEffect != EffectType.length && !(tgtInstrument.effects & (1 << Config.modulators[instrument.modulators[mod]].associatedEffect)))\n                    // Instrument type specific\n                    || ((tgtInstrument.type != InstrumentType.fm && tgtInstrument.type != InstrumentType.fm6op) && (str == \"fm slider 1\" || str == \"fm slider 2\" || str == \"fm slider 3\" || str == \"fm slider 4\" || str == \"fm feedback\"))\n                    || tgtInstrument.type != InstrumentType.fm6op && (str == \"fm slider 5\" || str == \"fm slider 6\")\n                    || (tgtInstrument.type != InstrumentType.pwm && (str == \"pulse width\"))\n                    // Arp check\n                    || (!tgtInstrument.getChord().arpeggiates && (str == \"arp speed\" || str == \"reset arp\"))\n                    // EQ Filter check\n                    || (tgtInstrument.eqFilterType && str == \"eq filter\")\n                    || (!tgtInstrument.eqFilterType && (str == \"eq filt cut\" || str == \"eq filt peak\"))\n                    || (str == \"eq filter\" && Math.floor((instrument.modFilterTypes[mod] + 1) / 2) > tgtInstrument.eqFilter.controlPointCount)\n                    // Note Filter check\n                    || (tgtInstrument.noteFilterType && str == \"note filter\")\n                    || (!tgtInstrument.noteFilterType && (str == \"note filt cut\" || str == \"note filt peak\"))\n                    || (str == \"note filter\" && Math.floor((instrument.modFilterTypes[mod] + 1) / 2) > tgtInstrument.noteFilter.controlPointCount))) {\n\n                    instrument.invalidModulators[mod] = false;\n                    i = tgtInstrumentList.length;\n                }\n            }\n\n        }\n    }\n\n    private static operatorAmplitudeCurve(amplitude: number): number {\n        return (Math.pow(16.0, amplitude / 15.0) - 1.0) / 15.0;\n    }\n\n    public samplesPerSecond: number = 44100;\n    public panningDelayBufferSize: number;\n    public panningDelayBufferMask: number;\n    public chorusDelayBufferSize: number;\n    public chorusDelayBufferMask: number;\n    // TODO: reverb\n\n    public song: Song | null = null;\n    public preferLowerLatency: boolean = false; // enable when recording performances from keyboard or MIDI. Takes effect next time you activate audio.\n    public anticipatePoorPerformance: boolean = false; // enable on mobile devices to reduce audio stutter glitches. Takes effect next time you activate audio.\n    public liveInputDuration: number = 0;\n    public liveInputStarted: boolean = false;\n    public liveInputPitches: number[] = [];\n    public liveInputChannel: number = 0;\n    public liveInputInstruments: number[] = [];\n    public loopRepeatCount: number = -1;\n    public volume: number = 1.0;\n    public oscRefreshEventTimer: number = 0;\n    public oscEnabled: boolean = true;\n    public enableMetronome: boolean = false;\n    public countInMetronome: boolean = false;\n    public renderingSong: boolean = false;\n\n    private wantToSkip: boolean = false;\n    private playheadInternal: number = 0.0;\n    private bar: number = 0;\n    private prevBar: number | null = null;\n    private nextBar: number | null = null;\n    private beat: number = 0;\n    private part: number = 0;\n    private tick: number = 0;\n    public isAtStartOfTick: boolean = true;\n    public isAtEndOfTick: boolean = true;\n    public tickSampleCountdown: number = 0;\n    private modValues: (number | null)[] = [];\n    private modInsValues: (number | null)[][][] = [];\n    private nextModValues: (number | null)[] = [];\n    private nextModInsValues: (number | null)[][][] = [];\n    private isPlayingSong: boolean = false;\n    private isRecording: boolean = false;\n    private liveInputEndTime: number = 0.0;\n    private browserAutomaticallyClearsAudioBuffer: boolean = true; // Assume true until proven otherwise. Older Chrome does not clear the buffer so it needs to be cleared manually.\n\n    public static readonly tempFilterStartCoefficients: FilterCoefficients = new FilterCoefficients();\n    public static readonly tempFilterEndCoefficients: FilterCoefficients = new FilterCoefficients();\n    private tempDrumSetControlPoint: FilterControlPoint = new FilterControlPoint();\n    public tempFrequencyResponse: FrequencyResponse = new FrequencyResponse();\n\n    private static readonly fmSynthFunctionCache: Dictionary<Function> = {};\n    private static readonly fm6SynthFunctionCache: Dictionary<Function> = {};\n    private static readonly effectsFunctionCache: Function[] = Array(1 << 7).fill(undefined); // keep in sync with the number of post-process effects.\n    private static readonly pickedStringFunctionCache: Function[] = Array(3).fill(undefined); // keep in sync with the number of unison voices.\n\n    private readonly channels: ChannelState[] = [];\n    private readonly tonePool: Deque<Tone> = new Deque<Tone>();\n    private readonly tempMatchedPitchTones: Array<Tone | null> = Array(Config.maxChordSize).fill(null);\n\n    private startedMetronome: boolean = false;\n    private metronomeSamplesRemaining: number = -1;\n    private metronomeAmplitude: number = 0.0;\n    private metronomePrevAmplitude: number = 0.0;\n    private metronomeFilter: number = 0.0;\n    private limit: number = 0.0;\n\n    private tempMonoInstrumentSampleBuffer: Float32Array | null = null;\n\n    private audioCtx: any | null = null;\n    private scriptNode: any | null = null;\n\n    public get playing(): boolean {\n        return this.isPlayingSong;\n    }\n\n    public get recording(): boolean {\n        return this.isRecording;\n    }\n\n    public get playhead(): number {\n        return this.playheadInternal;\n    }\n\n    public set playhead(value: number) {\n        if (this.song != null) {\n            this.playheadInternal = Math.max(0, Math.min(this.song.barCount, value));\n            let remainder: number = this.playheadInternal;\n            this.bar = Math.floor(remainder);\n            remainder = this.song.beatsPerBar * (remainder - this.bar);\n            this.beat = Math.floor(remainder);\n            remainder = Config.partsPerBeat * (remainder - this.beat);\n            this.part = Math.floor(remainder);\n            remainder = Config.ticksPerPart * (remainder - this.part);\n            this.tick = Math.floor(remainder);\n            this.tickSampleCountdown = 0;\n            this.isAtStartOfTick = true;\n            this.prevBar = null;\n        }\n    }\n\n    public getSamplesPerBar(): number {\n        if (this.song == null) throw new Error();\n        return this.getSamplesPerTick() * Config.ticksPerPart * Config.partsPerBeat * this.song.beatsPerBar;\n    }\n\n    public getTicksIntoBar(): number {\n        return (this.beat * Config.partsPerBeat + this.part) * Config.ticksPerPart + this.tick;\n    }\n    public getCurrentPart(): number {\n        return (this.beat * Config.partsPerBeat + this.part);\n    }\n\n    private findPartsInBar(bar: number): number {\n        if (this.song == null) return 0;\n        let partsInBar: number = Config.partsPerBeat * this.song.beatsPerBar;\n        for (let channel: number = this.song.pitchChannelCount + this.song.noiseChannelCount; channel < this.song.getChannelCount(); channel++) {\n            let pattern: Pattern | null = this.song.getPattern(channel, bar);\n            if (pattern != null) {\n                let instrument: Instrument = this.song.channels[channel].instruments[pattern.instruments[0]];\n                for (let mod: number = 0; mod < Config.modCount; mod++) {\n                    if (instrument.modulators[mod] == Config.modulators.dictionary[\"next bar\"].index) {\n                        for (const note of pattern.notes) {\n                            if (note.pitches[0] == (Config.modCount - 1 - mod)) {\n                                // Find the earliest next bar note.\n                                if (partsInBar > note.start)\n                                    partsInBar = note.start;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return partsInBar;\n    }\n\n    // Returns the total samples in the song\n    public getTotalSamples(enableIntro: boolean, enableOutro: boolean, loop: number): number {\n        if (this.song == null)\n            return -1;\n\n        // Compute the window to be checked (start bar to end bar)\n        let startBar: number = enableIntro ? 0 : this.song.loopStart;\n        let endBar: number = enableOutro ? this.song.barCount : (this.song.loopStart + this.song.loopLength);\n        let hasTempoMods: boolean = false;\n        let hasNextBarMods: boolean = false;\n        let prevTempo: number = this.song.tempo;\n\n        // Determine if any tempo or next bar mods happen anywhere in the window\n        for (let channel: number = this.song.pitchChannelCount + this.song.noiseChannelCount; channel < this.song.getChannelCount(); channel++) {\n            for (let bar: number = startBar; bar < endBar; bar++) {\n                let pattern: Pattern | null = this.song.getPattern(channel, bar);\n                if (pattern != null) {\n                    let instrument: Instrument = this.song.channels[channel].instruments[pattern.instruments[0]];\n                    for (let mod: number = 0; mod < Config.modCount; mod++) {\n                        if (instrument.modulators[mod] == Config.modulators.dictionary[\"tempo\"].index) {\n                            hasTempoMods = true;\n                        }\n                        if (instrument.modulators[mod] == Config.modulators.dictionary[\"next bar\"].index) {\n                            hasNextBarMods = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        // If intro is not zero length, determine what the \"entry\" tempo is going into the start part, by looking at mods that came before...\n        if (startBar > 0) {\n            let latestTempoPin: number | null = null;\n            let latestTempoValue: number = 0;\n\n            for (let bar: number = startBar - 1; bar >= 0; bar--) {\n                for (let channel: number = this.song.pitchChannelCount + this.song.noiseChannelCount; channel < this.song.getChannelCount(); channel++) {\n                    let pattern = this.song.getPattern(channel, bar);\n\n                    if (pattern != null) {\n                        let instrumentIdx: number = pattern.instruments[0];\n                        let instrument: Instrument = this.song.channels[channel].instruments[instrumentIdx];\n\n                        let partsInBar: number = this.findPartsInBar(bar);\n\n                        for (const note of pattern.notes) {\n                            if (instrument.modulators[Config.modCount - 1 - note.pitches[0]] == Config.modulators.dictionary[\"tempo\"].index) {\n                                if (note.start < partsInBar && (latestTempoPin == null || note.end > latestTempoPin)) {\n                                    if (note.end <= partsInBar) {\n                                        latestTempoPin = note.end;\n                                        latestTempoValue = note.pins[note.pins.length - 1].size;\n                                    }\n                                    else {\n                                        latestTempoPin = partsInBar;\n                                        // Find the pin where bar change happens, and compute where pin volume would be at that time\n                                        for (let pinIdx = 0; pinIdx < note.pins.length; pinIdx++) {\n                                            if (note.pins[pinIdx].time + note.start > partsInBar) {\n                                                const transitionLength: number = note.pins[pinIdx].time - note.pins[pinIdx - 1].time;\n                                                const toNextBarLength: number = partsInBar - note.start - note.pins[pinIdx - 1].time;\n                                                const deltaVolume: number = note.pins[pinIdx].size - note.pins[pinIdx - 1].size;\n\n                                                latestTempoValue = Math.round(note.pins[pinIdx - 1].size + deltaVolume * toNextBarLength / transitionLength);\n                                                pinIdx = note.pins.length;\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Done once you process a pattern where tempo mods happened, since the search happens backward\n                if (latestTempoPin != null) {\n                    prevTempo = latestTempoValue + Config.modulators.dictionary[\"tempo\"].convertRealFactor;\n                    bar = -1;\n                }\n            }\n        }\n\n        if (hasTempoMods || hasNextBarMods) {\n            // Run from start bar to end bar and observe looping, computing average tempo across each bar\n            let bar: number = startBar;\n            let ended: boolean = false;\n            let totalSamples: number = 0;\n\n            while (!ended) {\n                // Compute the subsection of the pattern that will play\n                let partsInBar: number = Config.partsPerBeat * this.song.beatsPerBar;\n                let currentPart: number = 0;\n\n                if (hasNextBarMods) {\n                    partsInBar = this.findPartsInBar(bar);\n                }\n\n                // Compute average tempo in this tick window, or use last tempo if nothing happened\n                if (hasTempoMods) {\n                    let foundMod: boolean = false;\n                    for (let channel: number = this.song.pitchChannelCount + this.song.noiseChannelCount; channel < this.song.getChannelCount(); channel++) {\n                        if (foundMod == false) {\n                            let pattern: Pattern | null = this.song.getPattern(channel, bar);\n                            if (pattern != null) {\n                                let instrument: Instrument = this.song.channels[channel].instruments[pattern.instruments[0]];\n                                for (let mod: number = 0; mod < Config.modCount; mod++) {\n                                    if (foundMod == false && instrument.modulators[mod] == Config.modulators.dictionary[\"tempo\"].index\n                                        && pattern.notes.find(n => n.pitches[0] == (Config.modCount - 1 - mod))) {\n                                        // Only the first tempo mod instrument for this bar will be checked (well, the first with a note in this bar).\n                                        foundMod = true;\n                                        // Need to re-sort the notes by start time to make the next part much less painful.\n                                        pattern.notes.sort(function (a, b) { return (a.start == b.start) ? a.pitches[0] - b.pitches[0] : a.start - b.start; });\n                                        for (const note of pattern.notes) {\n                                            if (note.pitches[0] == (Config.modCount - 1 - mod)) {\n                                                // Compute samples up to this note\n                                                totalSamples += (Math.min(partsInBar - currentPart, note.start - currentPart)) * Config.ticksPerPart * this.getSamplesPerTickSpecificBPM(prevTempo);\n\n                                                if (note.start < partsInBar) {\n                                                    for (let pinIdx: number = 1; pinIdx < note.pins.length; pinIdx++) {\n                                                        // Compute samples up to this pin\n                                                        if (note.pins[pinIdx - 1].time + note.start <= partsInBar) {\n                                                            const tickLength: number = Config.ticksPerPart * Math.min(partsInBar - (note.start + note.pins[pinIdx - 1].time), note.pins[pinIdx].time - note.pins[pinIdx - 1].time);\n                                                            const prevPinTempo: number = note.pins[pinIdx - 1].size + Config.modulators.dictionary[\"tempo\"].convertRealFactor;\n                                                            let currPinTempo: number = note.pins[pinIdx].size + Config.modulators.dictionary[\"tempo\"].convertRealFactor;\n                                                            if (note.pins[pinIdx].time + note.start > partsInBar) {\n                                                                // Compute an intermediary tempo since bar changed over mid-pin. Maybe I'm deep in \"what if\" territory now!\n                                                                currPinTempo = note.pins[pinIdx - 1].size + (note.pins[pinIdx].size - note.pins[pinIdx - 1].size) * (partsInBar - (note.start + note.pins[pinIdx - 1].time)) / (note.pins[pinIdx].time - note.pins[pinIdx - 1].time) + Config.modulators.dictionary[\"tempo\"].convertRealFactor;\n                                                            }\n                                                            let bpmScalar: number = Config.partsPerBeat * Config.ticksPerPart / 60;\n\n                                                            if (currPinTempo != prevPinTempo) {\n\n                                                                // Definite integral of SamplesPerTick w/r/t beats to find total samples from start point to end point for a variable tempo\n                                                                // The starting formula is\n                                                                // SamplesPerTick = SamplesPerSec / ((PartsPerBeat * TicksPerPart) / SecPerMin) * BeatsPerMin )\n                                                                //\n                                                                // This is an expression of samples per tick \"instantaneously\", and it can be multiplied by a number of ticks to get a sample count.\n                                                                // But this isn't the full story. BeatsPerMin, e.g. tempo, changes throughout the interval so it has to be expressed in terms of ticks, \"t\"\n                                                                // ( Also from now on PartsPerBeat, TicksPerPart, and SecPerMin are combined into one scalar, called \"BPMScalar\" )\n                                                                // Substituting BPM for a step variable that moves with respect to the current tick, we get\n                                                                // SamplesPerTick = SamplesPerSec / (BPMScalar * ( (EndTempo - StartTempo / TickLength) * t + StartTempo ) )\n                                                                //\n                                                                // When this equation is integrated from 0 to TickLength with respect to t, we get the following expression:\n                                                                //   Samples = - SamplesPerSec * TickLength * ( log( BPMScalar * EndTempo * TickLength ) - log( BPMScalar * StartTempo * TickLength ) ) / BPMScalar * ( StartTempo - EndTempo )\n\n                                                                totalSamples += - this.samplesPerSecond * tickLength * (Math.log(bpmScalar * currPinTempo * tickLength) - Math.log(bpmScalar * prevPinTempo * tickLength)) / (bpmScalar * (prevPinTempo - currPinTempo));\n\n                                                            }\n                                                            else {\n\n                                                                // No tempo change between the two pins.\n                                                                totalSamples += tickLength * this.getSamplesPerTickSpecificBPM(currPinTempo);\n\n                                                            }\n                                                            prevTempo = currPinTempo;\n                                                        }\n                                                        currentPart = Math.min(note.start + note.pins[pinIdx].time, partsInBar);\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Compute samples for the rest of the bar\n                totalSamples += (partsInBar - currentPart) * Config.ticksPerPart * this.getSamplesPerTickSpecificBPM(prevTempo);\n\n                bar++;\n                if (loop != 0 && bar == this.song.loopStart + this.song.loopLength) {\n                    bar = this.song.loopStart;\n                    if (loop > 0) loop--;\n                }\n                if (bar >= endBar) {\n                    ended = true;\n                }\n            }\n\n            return Math.ceil(totalSamples);\n        }\n        else {\n            // No tempo or next bar mods... phew! Just calculate normally.\n            return this.getSamplesPerBar() * this.getTotalBars(enableIntro, enableOutro, loop);\n        }\n    }\n\n    public getTotalBars(enableIntro: boolean, enableOutro: boolean, useLoopCount: number = this.loopRepeatCount): number {\n        if (this.song == null) throw new Error();\n        let bars: number = this.song.loopLength * (useLoopCount + 1);\n        if (enableIntro) bars += this.song.loopStart;\n        if (enableOutro) bars += this.song.barCount - (this.song.loopStart + this.song.loopLength);\n        return bars;\n    }\n\n    constructor(song: Song | string | null = null) {\n        this.computeDelayBufferSizes();\n        if (song != null) this.setSong(song);\n    }\n\n    public setSong(song: Song | string): void {\n        if (typeof (song) == \"string\") {\n            this.song = new Song(song);\n        } else if (song instanceof Song) {\n            this.song = song;\n        }\n        this.prevBar = null;\n    }\n\n    private computeDelayBufferSizes(): void {\n        this.panningDelayBufferSize = Synth.fittingPowerOfTwo(this.samplesPerSecond * Config.panDelaySecondsMax);\n        this.panningDelayBufferMask = this.panningDelayBufferSize - 1;\n        this.chorusDelayBufferSize = Synth.fittingPowerOfTwo(this.samplesPerSecond * Config.chorusMaxDelay);\n        this.chorusDelayBufferMask = this.chorusDelayBufferSize - 1;\n    }\n\n    private activateAudio(): void {\n        const bufferSize: number = this.anticipatePoorPerformance ? (this.preferLowerLatency ? 2048 : 4096) : (this.preferLowerLatency ? 512 : 2048);\n        if (this.audioCtx == null || this.scriptNode == null || this.scriptNode.bufferSize != bufferSize) {\n            if (this.scriptNode != null) this.deactivateAudio();\n            const latencyHint: string = this.anticipatePoorPerformance ? (this.preferLowerLatency ? \"balanced\" : \"playback\") : (this.preferLowerLatency ? \"interactive\" : \"balanced\");\n            this.audioCtx = this.audioCtx || new (window.AudioContext || window.webkitAudioContext)({ latencyHint: latencyHint });\n            this.samplesPerSecond = this.audioCtx.sampleRate;\n            this.scriptNode = this.audioCtx.createScriptProcessor ? this.audioCtx.createScriptProcessor(bufferSize, 0, 2) : this.audioCtx.createJavaScriptNode(bufferSize, 0, 2); // bufferSize samples per callback buffer, 0 input channels, 2 output channels (left/right)\n            this.scriptNode.onaudioprocess = this.audioProcessCallback;\n            this.scriptNode.channelCountMode = 'explicit';\n            this.scriptNode.channelInterpretation = 'speakers';\n            this.scriptNode.connect(this.audioCtx.destination);\n\n            this.computeDelayBufferSizes();\n        }\n        this.audioCtx.resume();\n    }\n\n    private deactivateAudio(): void {\n        if (this.audioCtx != null && this.scriptNode != null) {\n            this.scriptNode.disconnect(this.audioCtx.destination);\n            this.scriptNode = null;\n            if (this.audioCtx.close) this.audioCtx.close(); // firefox is missing this function?\n            this.audioCtx = null;\n        }\n    }\n\n    public maintainLiveInput(): void {\n        this.activateAudio();\n        this.liveInputEndTime = performance.now() + 10000.0;\n    }\n\n    public play(): void {\n        if (this.isPlayingSong) return;\n\t    \t\t\t this.computeLatestModValues();\n        this.warmUpSynthesizer(this.song);\n\t\t//BUGFIX FROM JUMMBOX\n        this.isPlayingSong = true;\n        this.activateAudio();\n                   //this.warmUpSynthesizer(this.song);\n           // this.computeLatestModValues();\n    }\n\n    public pause(): void {\n        if (!this.isPlayingSong) return;\n        this.isPlayingSong = false;\n        this.isRecording = false;\n        this.modValues = [];\n        this.nextModValues = [];\n        if (this.song != null) {\n            this.song.inVolumeCap = 0.0;\n            this.song.outVolumeCap = 0.0;\n            for (let channelIndex: number = 0; channelIndex < this.song.pitchChannelCount + this.song.noiseChannelCount; channelIndex++) {\n                this.modInsValues[channelIndex] = [];\n                this.nextModInsValues[channelIndex] = [];\n            }\n        }\n    }\n\n    public startRecording(): void {\n        this.preferLowerLatency = true;\n        this.isRecording = true;\n        this.play();\n    }\n\n    public resetEffects(): void {\n        this.limit = 0.0;\n        this.freeAllTones();\n        if (this.song != null) {\n            for (const channelState of this.channels) {\n                for (const instrumentState of channelState.instruments) {\n                    instrumentState.resetAllEffects();\n                }\n            }\n        }\n    }\n\n    public setModValue(volumeStart: number, volumeEnd: number, mod: number, channelIndex: number, instrumentIndex: number, setting: number): number {\n        let val: number = volumeStart + Config.modulators[setting].convertRealFactor;\n        let nextVal: number = volumeEnd + Config.modulators[setting].convertRealFactor;\n        if (Config.modulators[setting].optionalModify == \"invert-0to50\") {\n            val = 50 - val;\n            nextVal = 50 - nextVal;\n        }\n        if (Config.modulators[setting].optionalModify == \"invert-0to99\") {\n            val = 99 - val;\n            nextVal = 99 - nextVal;\n        }\n        //should this be turned into a function?\n        if (Config.modulators[setting].forSong) {\n            if (this.modValues[setting] == null || this.modValues[setting] != val || this.nextModValues[setting] != nextVal) {\n                this.modValues[setting] = val;\n                this.nextModValues[setting] = nextVal;\n            }\n        } else {\n            if (this.modInsValues[channelIndex][instrumentIndex][setting] == null\n                || this.modInsValues[channelIndex][instrumentIndex][setting] != val\n                || this.nextModInsValues[channelIndex][instrumentIndex][setting] != nextVal) {\n                this.modInsValues[channelIndex][instrumentIndex][setting] = val;\n                this.nextModInsValues[channelIndex][instrumentIndex][setting] = nextVal;\n            }\n        }\n\n        return val;\n    }\n\n    public getModValue(setting: number, channel?: number | null, instrument?: number | null, nextVal?: boolean): number {\n        const forSong: boolean = Config.modulators[setting].forSong;\n        if (forSong) {\n            if (this.modValues[setting] != null && this.nextModValues[setting] != null) {\n                return nextVal ? this.nextModValues[setting]! : this.modValues[setting]!;\n            }\n        } else if (channel != undefined && instrument != undefined) {\n            if (this.modInsValues[channel][instrument][setting] != null && this.nextModInsValues[channel][instrument][setting] != null) {\n                return nextVal ? this.nextModInsValues[channel][instrument][setting]! : this.modInsValues[channel][instrument][setting]!;\n            }\n        }\n        return -1;\n    }\n\n    // Checks if any mod is active for the given channel/instrument OR if any mod is active for the song scope. Could split the logic if needed later.\n    public isAnyModActive(channel: number, instrument: number): boolean {\n        for (let setting: number = 0; setting < Config.modulators.length; setting++) {\n            if ((this.modValues != undefined && this.modValues[setting] != null)\n                || (this.modInsValues != undefined && this.modInsValues[channel] != undefined && this.modInsValues[channel][instrument] != undefined && this.modInsValues[channel][instrument][setting] != null)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public unsetMod(setting: number, channel?: number, instrument?: number) {\n        if (this.isModActive(setting) || (channel != undefined && instrument != undefined && this.isModActive(setting, channel, instrument))) {\n            this.modValues[setting] = null;\n            this.nextModValues[setting] = null;\n            if (channel != undefined && instrument != undefined) {\n                this.modInsValues[channel][instrument][setting] = null;\n                this.nextModInsValues[channel][instrument][setting] = null;\n            }\n        }\n    }\n\n    public isFilterModActive(forNoteFilter: boolean, channelIdx: number, instrumentIdx: number) {\n        const instrument: Instrument = this.song!.channels[channelIdx].instruments[instrumentIdx];\n\n        if (forNoteFilter) {\n            if (instrument.noteFilterType)\n                return false;\n            if (instrument.tmpNoteFilterEnd != null)\n                return true;\n        }\n        else {\n            if (instrument.eqFilterType)\n                return false;\n            if (instrument.tmpEqFilterEnd != null)\n                return true;\n        }\n        return false\n    }\n\n    public isModActive(setting: number, channel?: number, instrument?: number): boolean {\n        const forSong: boolean = Config.modulators[setting].forSong;\n        if (forSong) {\n            return (this.modValues != undefined && this.modValues[setting] != null);\n        } else if (channel != undefined && instrument != undefined && this.modInsValues != undefined && this.modInsValues[channel] != null && this.modInsValues[channel][instrument] != null) {\n            return (this.modInsValues[channel][instrument][setting] != null);\n        }\n        return false;\n    }\n\n    public snapToStart(): void {\n        this.bar = 0;\n        this.resetEffects();\n        this.snapToBar();\n    }\n\n    public goToBar(bar: number): void {\n        this.bar = bar;\n        this.resetEffects();\n        this.playheadInternal = this.bar;\n    }\n\n    public snapToBar(): void {\n        this.playheadInternal = this.bar;\n        this.beat = 0;\n        this.part = 0;\n        this.tick = 0;\n        this.tickSampleCountdown = 0;\n    }\n\n    public jumpIntoLoop(): void {\n        if (!this.song) return;\n        if (this.bar < this.song.loopStart || this.bar >= this.song.loopStart + this.song.loopLength) {\n            const oldBar: number = this.bar;\n            this.bar = this.song.loopStart;\n            this.playheadInternal += this.bar - oldBar;\n\n            if (this.playing)\n                this.computeLatestModValues();\n        }\n    }\n\n    public goToNextBar(): void {\n        if (!this.song) return;\n        this.prevBar = this.bar;\n        const oldBar: number = this.bar;\n        this.bar++;\n        if (this.bar >= this.song.barCount) {\n            this.bar = 0;\n        }\n        this.playheadInternal += this.bar - oldBar;\n\n        if (this.playing)\n            this.computeLatestModValues();\n    }\n\n    public goToPrevBar(): void {\n        if (!this.song) return;\n        this.prevBar = null;\n        const oldBar: number = this.bar;\n        this.bar--;\n        if (this.bar < 0 || this.bar >= this.song.barCount) {\n            this.bar = this.song.barCount - 1;\n        }\n        this.playheadInternal += this.bar - oldBar;\n\n        if (this.playing)\n            this.computeLatestModValues();\n    }\n\n    private getNextBar(): number {\n        let nextBar: number = this.bar + 1;\n        if (this.isRecording) {\n            if (nextBar >= this.song!.barCount) {\n                nextBar = this.song!.barCount - 1;\n            }\n        } else if (this.loopRepeatCount != 0 && nextBar == this.song!.loopStart + this.song!.loopLength) {\n            nextBar = this.song!.loopStart;\n        }\n        return nextBar;\n    }\n\n    public skipBar(): void {\n        if (!this.song) return;\n        const samplesPerTick: number = this.getSamplesPerTick();\n        this.bar++;\n        this.beat = 0;\n        this.part = 0;\n        this.tick = 0;\n        this.tickSampleCountdown = samplesPerTick;\n\t    \t\t\tthis.isAtStartOfTick = true;\n\t\t\t//BUGFIX FROM JUMMBOX\n\n        if (this.loopRepeatCount != 0 && this.bar == this.song.loopStart + this.song.loopLength) {\n            this.bar = this.song.loopStart;\n            if (this.loopRepeatCount > 0) this.loopRepeatCount--;\n        }\n\n    }\n\n    private audioProcessCallback = (audioProcessingEvent: any): void => {\n        const outputBuffer = audioProcessingEvent.outputBuffer;\n        const outputDataL: Float32Array = outputBuffer.getChannelData(0);\n        const outputDataR: Float32Array = outputBuffer.getChannelData(1);\n\n        if (this.browserAutomaticallyClearsAudioBuffer && (outputDataL[0] != 0.0 || outputDataR[0] != 0.0 || outputDataL[outputBuffer.length - 1] != 0.0 || outputDataR[outputBuffer.length - 1] != 0.0)) {\n            // If the buffer is ever initially nonzero, then this must be an older browser that doesn't automatically clear the audio buffer.\n            this.browserAutomaticallyClearsAudioBuffer = false;\n        }\n        if (!this.browserAutomaticallyClearsAudioBuffer) {\n            // If this browser does not clear the buffer automatically, do so manually before continuing.\n            const length: number = outputBuffer.length;\n            for (let i: number = 0; i < length; i++) {\n                outputDataL[i] = 0.0;\n                outputDataR[i] = 0.0;\n            }\n        }\n\n        if (!this.isPlayingSong && performance.now() >= this.liveInputEndTime) {\n            this.deactivateAudio();\n        } else {\n            this.synthesize(outputDataL, outputDataR, outputBuffer.length, this.isPlayingSong);\n\n            if (this.oscEnabled) {\n                if (this.oscRefreshEventTimer <= 0) {\n                    events.raise(\"oscillascopeUpdate\", outputDataL, outputDataR);\n                    this.oscRefreshEventTimer = 2;\n                } else {\n                    this.oscRefreshEventTimer--;\n                }\n            }\n        }\n    }\n\n    public synthesize(outputDataL: Float32Array, outputDataR: Float32Array, outputBufferLength: number, playSong: boolean = true): void {\n        if (this.song == null) {\n            for (let i: number = 0; i < outputBufferLength; i++) {\n                outputDataL[i] = 0.0;\n                outputDataR[i] = 0.0;\n            }\n            this.deactivateAudio();\n            return;\n        }\n\n        const song: Song = this.song;\n        this.song.inVolumeCap = 0.0 // Reset volume cap for this run\n        this.song.outVolumeCap = 0.0;\n\n        let samplesPerTick: number = this.getSamplesPerTick();\n        let ended: boolean = false;\n\n        // Check the bounds of the playhead:\n        if (this.tickSampleCountdown <= 0 || this.tickSampleCountdown > samplesPerTick) {\n            this.tickSampleCountdown = samplesPerTick;\n            this.isAtStartOfTick = true;\n        }\n        if (playSong) {\n            if (this.beat >= song.beatsPerBar) {\n                this.beat = 0;\n                this.part = 0;\n                this.tick = 0;\n                this.tickSampleCountdown = samplesPerTick;\n                this.isAtStartOfTick = true;\n\n                this.prevBar = this.bar;\n                this.bar = this.getNextBar();\n                if (this.bar <= this.prevBar && this.loopRepeatCount > 0) this.loopRepeatCount--;\n\n            }\n            if (this.bar >= song.barCount) {\n                this.bar = 0;\n                if (this.loopRepeatCount != -1) {\n                    ended = true;\n                    this.pause();\n                }\n            }\n        }\n\n        //const synthStartTime: number = performance.now();\n\n        this.syncSongState();\n\n        if (this.tempMonoInstrumentSampleBuffer == null || this.tempMonoInstrumentSampleBuffer.length < outputBufferLength) {\n            this.tempMonoInstrumentSampleBuffer = new Float32Array(outputBufferLength);\n        }\n\n        // Post processing parameters:\n        const volume: number = +this.volume;\n        const limitDecay: number = 1.0 - Math.pow(0.5, 4.0 / this.samplesPerSecond);\n        const limitRise: number = 1.0 - Math.pow(0.5, 4000.0 / this.samplesPerSecond);\n        let limit: number = +this.limit;\n\t    \t\t\tlet skippedBars = [];\n        let firstSkippedBufferIndex = -1;\n\t\t//BUGFIX FROM JUMMBOX\n\n        let bufferIndex: number = 0;\n        while (bufferIndex < outputBufferLength && !ended) {\n\n            this.nextBar = this.getNextBar();\n            if (this.nextBar >= song.barCount) this.nextBar = null;\n\n            const samplesLeftInBuffer: number = outputBufferLength - bufferIndex;\n            const samplesLeftInTick: number = Math.ceil(this.tickSampleCountdown);\n            const runLength: number = Math.min(samplesLeftInTick, samplesLeftInBuffer);\n            const runEnd: number = bufferIndex + runLength;\n\n            // Handle mod synth\n            if (this.isPlayingSong || this.renderingSong) {\n                for (let channelIndex: number = song.pitchChannelCount + song.noiseChannelCount; channelIndex < song.getChannelCount(); channelIndex++) {\n                    const channel: Channel = song.channels[channelIndex];\n                    const channelState: ChannelState = this.channels[channelIndex];\n\n                    this.determineCurrentActiveTones(song, channelIndex, samplesPerTick, playSong);\n\n                    for (let instrumentIndex: number = 0; instrumentIndex < channel.instruments.length; instrumentIndex++) {\n                        const instrumentState: InstrumentState = channelState.instruments[instrumentIndex];\n\n                        for (let i: number = 0; i < instrumentState.activeModTones.count(); i++) {\n                            const tone: Tone = instrumentState.activeModTones.get(i);\n                            this.playModTone(song, channelIndex, samplesPerTick, bufferIndex, runLength, tone, false, false);\n                        }\n                    }\n                }\n            }\n\n            // Handle next bar mods if they were set\n            if (this.wantToSkip) {\n\t\t    \t\t\t\t\t// Unable to continue, as we have skipped back to a previously visited bar without generating new samples, which means we are infinitely skipping.\n                // In this case processing will return before the designated number of samples are processed. In other words, silence will be generated.\n                let barVisited = skippedBars.includes(this.bar);\n                if (barVisited && bufferIndex == firstSkippedBufferIndex)\n                    return;\n                if (firstSkippedBufferIndex == -1) {\n                    firstSkippedBufferIndex = bufferIndex;\n                }\n                if (!barVisited)\n                    skippedBars.push(this.bar);\n\t\t\t\t//BUGFIX FROM JUMMBOX\n                this.wantToSkip = false;\n                this.skipBar();\n\t\t    \t\t\t\t\tcontinue;\n\t\t\t\t\t//BUGFIX FROM JUMMBOX\n            }\n\n            for (let channelIndex: number = 0; channelIndex < song.pitchChannelCount + song.noiseChannelCount; channelIndex++) {\n                const channel: Channel = song.channels[channelIndex];\n                const channelState: ChannelState = this.channels[channelIndex];\n\n                if (this.isAtStartOfTick) {\n                    this.determineCurrentActiveTones(song, channelIndex, samplesPerTick, playSong && !this.countInMetronome);\n                    this.determineLiveInputTones(song, channelIndex, samplesPerTick);\n                }\n                for (let instrumentIndex: number = 0; instrumentIndex < channel.instruments.length; instrumentIndex++) {\n                    const instrument: Instrument = channel.instruments[instrumentIndex];\n                    const instrumentState: InstrumentState = channelState.instruments[instrumentIndex];\n\n                    if (this.isAtStartOfTick) {\n                        let tonesPlayedInThisInstrument: number = instrumentState.activeTones.count() + instrumentState.liveInputTones.count();\n\n                        for (let i: number = 0; i < instrumentState.releasedTones.count(); i++) {\n                            const tone: Tone = instrumentState.releasedTones.get(i);\n                            if (tone.ticksSinceReleased >= Math.abs(instrument.getFadeOutTicks())) {\n                                this.freeReleasedTone(instrumentState, i);\n                                i--;\n                                continue;\n                            }\n                            const shouldFadeOutFast: boolean = (tonesPlayedInThisInstrument >= Config.maximumTonesPerChannel);\n                            this.computeTone(song, channelIndex, samplesPerTick, tone, true, shouldFadeOutFast);\n                            tonesPlayedInThisInstrument++;\n                        }\n\n                        if (instrumentState.awake) {\n                            if (!instrumentState.computed) {\n                                instrumentState.compute(this, instrument, samplesPerTick, Math.ceil(samplesPerTick), null, channelIndex, instrumentIndex);\n                            }\n\n                            instrumentState.computed = false;\n                            //instrumentState.envelopeComputer.clearEnvelopes();\n                        }\n                    }\n\n                    for (let i: number = 0; i < instrumentState.activeTones.count(); i++) {\n                        const tone: Tone = instrumentState.activeTones.get(i);\n                        this.playTone(channelIndex, bufferIndex, runLength, tone);\n                    }\n\n                    for (let i: number = 0; i < instrumentState.liveInputTones.count(); i++) {\n                        const tone: Tone = instrumentState.liveInputTones.get(i);\n                        this.playTone(channelIndex, bufferIndex, runLength, tone);\n                    }\n\n                    for (let i: number = 0; i < instrumentState.releasedTones.count(); i++) {\n                        const tone: Tone = instrumentState.releasedTones.get(i);\n                        this.playTone(channelIndex, bufferIndex, runLength, tone);\n                    }\n\n                    if (instrumentState.awake) {\n                        Synth.effectsSynth(this, outputDataL, outputDataR, bufferIndex, runLength, instrumentState);\n                    }\n\n                    // Update LFO time for instruments (used to be deterministic based on bar position but now vibrato/arp speed messes that up!)\n\n                    const tickSampleCountdown: number = this.tickSampleCountdown;\n                    const startRatio: number = 1.0 - (tickSampleCountdown) / samplesPerTick;\n                    const endRatio: number = 1.0 - (tickSampleCountdown - runLength) / samplesPerTick;\n                    const ticksIntoBar: number = (this.beat * Config.partsPerBeat + this.part) * Config.ticksPerPart + this.tick;\n                    const partTimeTickStart: number = (ticksIntoBar) / Config.ticksPerPart;\n                    const partTimeTickEnd: number = (ticksIntoBar + 1) / Config.ticksPerPart;\n                    const partTimeStart: number = partTimeTickStart + (partTimeTickEnd - partTimeTickStart) * startRatio;\n                    const partTimeEnd: number = partTimeTickStart + (partTimeTickEnd - partTimeTickStart) * endRatio;\n                    let useVibratoSpeed: number = instrument.vibratoSpeed;\n\n                    instrument.LFOtime = instrument.nextLFOtime;\n\n                    if (this.isModActive(Config.modulators.dictionary[\"vibrato speed\"].index, channelIndex, instrumentIndex)) {\n                        useVibratoSpeed = this.getModValue(Config.modulators.dictionary[\"vibrato speed\"].index, channelIndex, instrumentIndex);\n                    }\n\n                    if (useVibratoSpeed == 0) {\n                        instrument.LFOtime = 0;\n                        instrument.nextLFOtime = 0;\n                    }\n                    else {\n                        instrument.nextLFOtime += useVibratoSpeed * 0.1 * (partTimeEnd - partTimeStart);\n                    }\n                }\n            }\n\n            if (this.enableMetronome || this.countInMetronome) {\n                if (this.part == 0) {\n                    if (!this.startedMetronome) {\n                        const midBeat: boolean = (song.beatsPerBar > 4 && (song.beatsPerBar % 2 == 0) && this.beat == song.beatsPerBar / 2);\n                        const periods: number = (this.beat == 0) ? 8 : midBeat ? 6 : 4;\n                        const hz: number = (this.beat == 0) ? 1600 : midBeat ? 1200 : 800;\n                        const amplitude: number = (this.beat == 0) ? 0.06 : midBeat ? 0.05 : 0.04;\n                        const samplesPerPeriod: number = this.samplesPerSecond / hz;\n                        const radiansPerSample: number = Math.PI * 2.0 / samplesPerPeriod;\n                        this.metronomeSamplesRemaining = Math.floor(samplesPerPeriod * periods);\n                        this.metronomeFilter = 2.0 * Math.cos(radiansPerSample);\n                        this.metronomeAmplitude = amplitude * Math.sin(radiansPerSample);\n                        this.metronomePrevAmplitude = 0.0;\n\n                        this.startedMetronome = true;\n                    }\n                    if (this.metronomeSamplesRemaining > 0) {\n                        const stopIndex: number = Math.min(runEnd, bufferIndex + this.metronomeSamplesRemaining);\n                        this.metronomeSamplesRemaining -= stopIndex - bufferIndex;\n                        for (let i: number = bufferIndex; i < stopIndex; i++) {\n                            outputDataL[i] += this.metronomeAmplitude;\n                            outputDataR[i] += this.metronomeAmplitude;\n                            const tempAmplitude: number = this.metronomeFilter * this.metronomeAmplitude - this.metronomePrevAmplitude;\n                            this.metronomePrevAmplitude = this.metronomeAmplitude;\n                            this.metronomeAmplitude = tempAmplitude;\n                        }\n                    }\n                } else {\n                    this.startedMetronome = false;\n                }\n            }\n\n            // Post processing:\n            for (let i: number = bufferIndex; i < runEnd; i++) {\n                // A compressor/limiter.\n                const sampleL = outputDataL[i] * song.masterGain * song.masterGain;\n                const sampleR = outputDataR[i] * song.masterGain * song.masterGain;\n                const absL: number = sampleL < 0.0 ? -sampleL : sampleL;\n                const absR: number = sampleR < 0.0 ? -sampleR : sampleR;\n                const abs: number = absL > absR ? absL : absR;\n                this.song.inVolumeCap = (this.song.inVolumeCap > abs ? this.song.inVolumeCap : abs); // Analytics, spit out raw input volume\n                // Determines which formula to use. 0 when volume is between [0, compressionThreshold], 1 when between (compressionThreshold, limitThreshold], 2 above\n                const limitRange: number = (+(abs > song.compressionThreshold)) + (+(abs > song.limitThreshold));\n                // Determine the target amplification based on the range of the curve\n                const limitTarget: number =\n                    (+(limitRange == 0)) * (((abs + 1 - song.compressionThreshold) * 0.8 + 0.25) * song.compressionRatio + 1.05 * (1 - song.compressionRatio))\n                    + (+(limitRange == 1)) * (1.05)\n                    + (+(limitRange == 2)) * (1.05 * ((abs + 1 - song.limitThreshold) * song.limitRatio + (1 - song.limitThreshold)));\n                // Move the limit towards the target\n                limit += ((limitTarget - limit) * (limit < limitTarget ? limitRise : limitDecay));\n                const limitedVolume = volume / (limit >= 1 ? limit * 1.05 : limit * 0.8 + 0.25);\n                outputDataL[i] = sampleL * limitedVolume;\n                outputDataR[i] = sampleR * limitedVolume;\n\n                this.song.outVolumeCap = (this.song.outVolumeCap > abs * limitedVolume ? this.song.outVolumeCap : abs * limitedVolume); // Analytics, spit out limited output volume\n            }\n\n            bufferIndex += runLength;\n\n            this.isAtStartOfTick = false;\n            this.tickSampleCountdown -= runLength;\n            if (this.tickSampleCountdown <= 0) {\n                this.isAtStartOfTick = true;\n\n                // Track how long tones have been released, and free them if there are too many.\n                // Also reset awake InstrumentStates that didn't have any Tones during this tick.\n                for (const channelState of this.channels) {\n                    for (const instrumentState of channelState.instruments) {\n                        for (let i: number = 0; i < instrumentState.releasedTones.count(); i++) {\n                            const tone: Tone = instrumentState.releasedTones.get(i);\n                            if (tone.isOnLastTick) {\n                                this.freeReleasedTone(instrumentState, i);\n                                i--;\n                            } else {\n                                tone.ticksSinceReleased++;\n                            }\n                        }\n                        if (instrumentState.deactivateAfterThisTick) {\n                            instrumentState.deactivate();\n                        }\n                        instrumentState.tonesAddedInThisTick = false;\n                    }\n                }\n\n                // Update arpeggio time, which is used to calculate arpeggio position\n                for (let channel: number = 0; channel < this.song.pitchChannelCount + this.song.noiseChannelCount; channel++) {\n                    for (let instrumentIdx: number = 0; instrumentIdx < this.song.channels[channel].instruments.length; instrumentIdx++) {\n                        let instrument: Instrument = this.song.channels[channel].instruments[instrumentIdx];\n                        let useArpeggioSpeed: number = instrument.arpeggioSpeed;\n                        if (this.isModActive(Config.modulators.dictionary[\"arp speed\"].index, channel, instrumentIdx)) {\n                            useArpeggioSpeed = this.getModValue(Config.modulators.dictionary[\"arp speed\"].index, channel, instrumentIdx, false);\n                            if (Number.isInteger(useArpeggioSpeed)) {\n                                instrument.arpTime += Config.arpSpeedScale[useArpeggioSpeed];\n                            } else {\n                                // Linear interpolate arpeggio values\n                                instrument.arpTime += (1 - (useArpeggioSpeed % 1)) * Config.arpSpeedScale[Math.floor(useArpeggioSpeed)] + (useArpeggioSpeed % 1) * Config.arpSpeedScale[Math.ceil(useArpeggioSpeed)];\n                            }\n                        }\n                        else {\n                            instrument.arpTime += Config.arpSpeedScale[useArpeggioSpeed];\n                        }\n                    }\n                }\n\n                // Update next-used filters after each run\n                for (let channel: number = 0; channel < this.song.pitchChannelCount + this.song.noiseChannelCount; channel++) {\n                    for (let instrumentIdx: number = 0; instrumentIdx < this.song.channels[channel].instruments.length; instrumentIdx++) {\n                        let instrument: Instrument = this.song.channels[channel].instruments[instrumentIdx];\n                        if (instrument.tmpEqFilterEnd != null) {\n                            instrument.tmpEqFilterStart = instrument.tmpEqFilterEnd;\n                        } else {\n                            instrument.tmpEqFilterStart = instrument.eqFilter;\n                        }\n                        if (instrument.tmpNoteFilterEnd != null) {\n                            instrument.tmpNoteFilterStart = instrument.tmpNoteFilterEnd;\n                        } else {\n                            instrument.tmpNoteFilterStart = instrument.noteFilter;\n                        }\n                    }\n                }\n\n                this.tick++;\n                this.tickSampleCountdown += samplesPerTick;\n                if (this.tick == Config.ticksPerPart) {\n                    this.tick = 0;\n                    this.part++;\n                    this.liveInputDuration--;\n\n                    if (this.part == Config.partsPerBeat) {\n                        this.part = 0;\n\n                        if (playSong) {\n                            this.beat++;\n                            if (this.beat == song.beatsPerBar) {\n                                // bar changed, reset for next bar:\n                                this.beat = 0;\n\n                                if (this.countInMetronome) {\n                                    this.countInMetronome = false;\n                                } else {\n                                    this.prevBar = this.bar;\n                                    this.bar = this.getNextBar();\n                                    if (this.bar <= this.prevBar && this.loopRepeatCount > 0) this.loopRepeatCount--;\n\n                                    if (this.bar >= song.barCount) {\n                                        this.bar = 0;\n                                        if (this.loopRepeatCount != -1) {\n                                            ended = true;\n                                            this.resetEffects();\n                                            this.pause();\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            // Update mod values so that next values copy to current values\n            for (let setting: number = 0; setting < Config.modulators.length; setting++) {\n                if (this.nextModValues != null && this.nextModValues[setting] != null)\n                    this.modValues[setting] = this.nextModValues[setting];\n            }\n\n            // Set samples per tick if song tempo mods changed it\n            if (this.isModActive(Config.modulators.dictionary[\"tempo\"].index)) {\n                samplesPerTick = this.getSamplesPerTick();\n                this.tickSampleCountdown = Math.min(this.tickSampleCountdown, samplesPerTick);\n            }\n\n            // Bound LFO times to be within their period (to keep values from getting large)\n            // I figured this modulo math probably doesn't have to happen every LFO tick.\n            for (let channel: number = 0; channel < this.song.pitchChannelCount; channel++) {\n                for (let instrument of this.song.channels[channel].instruments) {\n                    instrument.nextLFOtime = (instrument.nextLFOtime % (Config.vibratoTypes[instrument.vibratoType].period / (Config.ticksPerPart * samplesPerTick / this.samplesPerSecond)));\n                    instrument.arpTime = (instrument.arpTime % (2520 * Config.ticksPerArpeggio)); // 2520 = LCM of 4, 5, 6, 7, 8, 9 (arp sizes)\n                }\n            }\n\n            for (let setting: number = 0; setting < Config.modulators.length; setting++) {\n                for (let channel: number = 0; channel < this.song.pitchChannelCount + this.song.noiseChannelCount; channel++) {\n                    for (let instrument: number = 0; instrument < this.song.getMaxInstrumentsPerChannel(); instrument++) {\n                        if (this.nextModInsValues != null && this.nextModInsValues[channel] != null && this.nextModInsValues[channel][instrument] != null && this.nextModInsValues[channel][instrument][setting] != null) {\n                            this.modInsValues[channel][instrument][setting] = this.nextModInsValues[channel][instrument][setting];\n                        }\n                    }\n                }\n            }\n        }\n\n        // Optimization: Avoid persistent reverb values in the float denormal range.\n        if (!Number.isFinite(limit) || Math.abs(limit) < epsilon) limit = 0.0;\n        this.limit = limit;\n\n        if (playSong && !this.countInMetronome) {\n            this.playheadInternal = (((this.tick + 1.0 - this.tickSampleCountdown / samplesPerTick) / 2.0 + this.part) / Config.partsPerBeat + this.beat) / song.beatsPerBar + this.bar;\n        }\n\n        /*\n        const synthDuration: number = performance.now() - synthStartTime;\n        // Performance measurements:\n        samplesAccumulated += outputBufferLength;\n        samplePerformance += synthDuration;\n    \t\n        if (samplesAccumulated >= 44100 * 4) {\n            const secondsGenerated = samplesAccumulated / 44100;\n            const secondsRequired = samplePerformance / 1000;\n            const ratio = secondsRequired / secondsGenerated;\n            console.log(ratio);\n            samplePerformance = 0;\n            samplesAccumulated = 0;\n        }\n        */\n    }\n\n    private freeTone(tone: Tone): void {\n        this.tonePool.pushBack(tone);\n    }\n\n    private newTone(): Tone {\n        if (this.tonePool.count() > 0) {\n            const tone: Tone = this.tonePool.popBack();\n            tone.freshlyAllocated = true;\n            return tone;\n        }\n        return new Tone();\n    }\n\n    private releaseTone(instrumentState: InstrumentState, tone: Tone): void {\n        instrumentState.releasedTones.pushFront(tone);\n        tone.atNoteStart = false;\n        tone.passedEndOfNote = true;\n    }\n\n    private freeReleasedTone(instrumentState: InstrumentState, toneIndex: number): void {\n        this.freeTone(instrumentState.releasedTones.get(toneIndex));\n        instrumentState.releasedTones.remove(toneIndex);\n    }\n\n    public freeAllTones(): void {\n        for (const channelState of this.channels) {\n            for (const instrumentState of channelState.instruments) {\n                while (instrumentState.activeTones.count() > 0) this.freeTone(instrumentState.activeTones.popBack());\n                while (instrumentState.activeModTones.count() > 0) this.freeTone(instrumentState.activeModTones.popBack());\n                while (instrumentState.releasedTones.count() > 0) this.freeTone(instrumentState.releasedTones.popBack());\n                while (instrumentState.liveInputTones.count() > 0) this.freeTone(instrumentState.liveInputTones.popBack());\n            }\n        }\n    }\n\n    private determineLiveInputTones(song: Song, channelIndex: number, samplesPerTick: number): void {\n        const channel: Channel = song.channels[channelIndex];\n        const channelState: ChannelState = this.channels[channelIndex];\n        const pitches: number[] = this.liveInputPitches;\n\n        for (let instrumentIndex: number = 0; instrumentIndex < channel.instruments.length; instrumentIndex++) {\n            const instrumentState: InstrumentState = channelState.instruments[instrumentIndex];\n            const toneList: Deque<Tone> = instrumentState.liveInputTones;\n            let toneCount: number = 0;\n            if (this.liveInputDuration > 0 && channelIndex == this.liveInputChannel && pitches.length > 0 && this.liveInputInstruments.indexOf(instrumentIndex) != -1) {\n                const instrument: Instrument = channel.instruments[instrumentIndex];\n\n                if (instrument.getChord().singleTone) {\n                    let tone: Tone;\n                    if (toneList.count() <= toneCount) {\n                        tone = this.newTone();\n                        toneList.pushBack(tone);\n                    } else if (!instrument.getTransition().isSeamless && this.liveInputStarted) {\n                        this.releaseTone(instrumentState, toneList.get(toneCount));\n                        tone = this.newTone();\n                        toneList.set(toneCount, tone);\n                    } else {\n                        tone = toneList.get(toneCount);\n                    }\n                    toneCount++;\n\n                    for (let i: number = 0; i < pitches.length; i++) {\n                        tone.pitches[i] = pitches[i];\n                    }\n                    tone.pitchCount = pitches.length;\n                    tone.chordSize = 1;\n                    tone.instrumentIndex = instrumentIndex;\n                    tone.note = tone.prevNote = tone.nextNote = null;\n                    tone.atNoteStart = this.liveInputStarted;\n                    tone.forceContinueAtStart = false;\n                    tone.forceContinueAtEnd = false;\n                    this.computeTone(song, channelIndex, samplesPerTick, tone, false, false);\n                } else {\n                    //const transition: Transition = instrument.getTransition();\n\n                    this.moveTonesIntoOrderedTempMatchedList(toneList, pitches);\n\n                    for (let i: number = 0; i < pitches.length; i++) {\n                        //const strumOffsetParts: number = i * instrument.getChord().strumParts;\n\n                        let tone: Tone;\n                        if (this.tempMatchedPitchTones[toneCount] != null) {\n                            tone = this.tempMatchedPitchTones[toneCount]!;\n                            this.tempMatchedPitchTones[toneCount] = null;\n                            if (tone.pitchCount != 1 || tone.pitches[0] != pitches[i]) {\n                                this.releaseTone(instrumentState, tone);\n                                tone = this.newTone();\n                            }\n                            toneList.pushBack(tone);\n                        } else {\n                            tone = this.newTone();\n                            toneList.pushBack(tone);\n                        }\n                        toneCount++;\n\n                        tone.pitches[0] = pitches[i];\n                        tone.pitchCount = 1;\n                        tone.chordSize = pitches.length;\n                        tone.instrumentIndex = instrumentIndex;\n                        tone.note = tone.prevNote = tone.nextNote = null;\n                        tone.atNoteStart = this.liveInputStarted;\n                        tone.forceContinueAtStart = false;\n                        tone.forceContinueAtEnd = false;\n                        this.computeTone(song, channelIndex, samplesPerTick, tone, false, false);\n                    }\n                }\n            }\n\n            while (toneList.count() > toneCount) {\n                this.releaseTone(instrumentState, toneList.popBack());\n            }\n\n            this.clearTempMatchedPitchTones(toneCount, instrumentState);\n        }\n\n        this.liveInputStarted = false;\n    }\n\n    // Returns the chord type of the instrument in the adjacent pattern if it is compatible for a\n    // seamless transition across patterns, otherwise returns null.\n    private adjacentPatternHasCompatibleInstrumentTransition(song: Song, channel: Channel, pattern: Pattern, otherPattern: Pattern, instrumentIndex: number, transition: Transition, chord: Chord, note: Note, otherNote: Note, forceContinue: boolean): Chord | null {\n        if (song.patternInstruments && otherPattern.instruments.indexOf(instrumentIndex) == -1) {\n            // The adjacent pattern does not contain the same instrument as the current pattern.\n\n            if (pattern.instruments.length > 1 || otherPattern.instruments.length > 1) {\n                // The current or adjacent pattern contains more than one instrument, don't bother\n                // trying to connect them.\n                return null;\n            }\n            // Otherwise, the two patterns each contain one instrument, but not the same instrument.\n            // Try to connect them.\n            const otherInstrument: Instrument = channel.instruments[otherPattern.instruments[0]];\n\n            if (forceContinue) {\n                // Even non-seamless instruments can be connected across patterns if forced.\n                return otherInstrument.getChord();\n            }\n\n            // Otherwise, check that both instruments are seamless across patterns.\n            const otherTransition: Transition = otherInstrument.getTransition();\n            if (transition.includeAdjacentPatterns && otherTransition.includeAdjacentPatterns && otherTransition.slides == transition.slides) {\n                return otherInstrument.getChord();\n            } else {\n                return null;\n            }\n        } else {\n            // If both patterns contain the same instrument, check that it is seamless across patterns.\n            return (forceContinue || transition.includeAdjacentPatterns) ? chord : null;\n        }\n    }\n\n    public static adjacentNotesHaveMatchingPitches(firstNote: Note, secondNote: Note): boolean {\n        if (firstNote.pitches.length != secondNote.pitches.length) return false;\n        const firstNoteInterval: number = firstNote.pins[firstNote.pins.length - 1].interval;\n        for (const pitch of firstNote.pitches) {\n            if (secondNote.pitches.indexOf(pitch + firstNoteInterval) == -1) return false;\n        }\n        return true;\n    }\n\n    private moveTonesIntoOrderedTempMatchedList(toneList: Deque<Tone>, notePitches: number[]): void {\n        // The tones are about to seamlessly transition to a new note. The pitches\n        // from the old note may or may not match any of the pitches in the new\n        // note, and not necessarily in order, but if any do match, they'll sound\n        // better if those tones continue to have the same pitch. Attempt to find\n        // the right spot for each old tone in the new chord if possible.\n\n        for (let i: number = 0; i < toneList.count(); i++) {\n            const tone: Tone = toneList.get(i);\n            const pitch: number = tone.pitches[0] + tone.lastInterval;\n            for (let j: number = 0; j < notePitches.length; j++) {\n                if (notePitches[j] == pitch) {\n                    this.tempMatchedPitchTones[j] = tone;\n                    toneList.remove(i);\n                    i--;\n                    break;\n                }\n            }\n        }\n\n        // Any tones that didn't get matched should just fill in the gaps.\n        while (toneList.count() > 0) {\n            const tone: Tone = toneList.popFront();\n            for (let j: number = 0; j < this.tempMatchedPitchTones.length; j++) {\n                if (this.tempMatchedPitchTones[j] == null) {\n                    this.tempMatchedPitchTones[j] = tone;\n                    break;\n                }\n            }\n        }\n    }\n\n    private determineCurrentActiveTones(song: Song, channelIndex: number, samplesPerTick: number, playSong: boolean): void {\n        const channel: Channel = song.channels[channelIndex];\n        const channelState: ChannelState = this.channels[channelIndex];\n        const pattern: Pattern | null = song.getPattern(channelIndex, this.bar);\n        const currentPart: number = this.getCurrentPart();\n        const currentTick: number = this.tick + Config.ticksPerPart * currentPart;\n\n        if (playSong && song.getChannelIsMod(channelIndex)) {\n\n            // For mod channels, notes aren't strictly arranged chronologically. Also, each pitch value could play or not play at a given time. So... a bit more computation involved!\n            // The same transition logic should apply though, even though it isn't really used by mod channels.\n            let notes: (Note | null)[] = [];\n            let prevNotes: (Note | null)[] = [];\n            let nextNotes: (Note | null)[] = [];\n            let fillCount: number = Config.modCount;\n            while (fillCount--) {\n                notes.push(null);\n                prevNotes.push(null);\n                nextNotes.push(null);\n            }\n\n            if (pattern != null && !channel.muted) {\n                for (let i: number = 0; i < pattern.notes.length; i++) {\n                    if (pattern.notes[i].end <= currentPart) {\n                        // Actually need to check which note starts closer to the start of this note.\n                        if (prevNotes[pattern.notes[i].pitches[0]] == null || pattern.notes[i].end > (prevNotes[pattern.notes[i].pitches[0]] as Note).start) {\n                            prevNotes[pattern.notes[i].pitches[0]] = pattern.notes[i];\n                        }\n                    }\n                    else if (pattern.notes[i].start <= currentPart && pattern.notes[i].end > currentPart) {\n                        notes[pattern.notes[i].pitches[0]] = pattern.notes[i];\n                    }\n                    else if (pattern.notes[i].start > currentPart) {\n                        // Actually need to check which note starts closer to the end of this note.\n                        if (nextNotes[pattern.notes[i].pitches[0]] == null || pattern.notes[i].start < (nextNotes[pattern.notes[i].pitches[0]] as Note).start) {\n                            nextNotes[pattern.notes[i].pitches[0]] = pattern.notes[i];\n                        }\n                    }\n                }\n            }\n\n            let modToneCount: number = 0;\n            const newInstrumentIndex: number = (song.patternInstruments && (pattern != null)) ? pattern!.instruments[0] : 0;\n            const instrumentState: InstrumentState = channelState.instruments[newInstrumentIndex];\n            const toneList: Deque<Tone> = instrumentState.activeModTones;\n            for (let mod: number = 0; mod < Config.modCount; mod++) {\n                if (notes[mod] != null) {\n                    if (prevNotes[mod] != null && (prevNotes[mod] as Note).end != (notes[mod] as Note).start) prevNotes[mod] = null;\n                    if (nextNotes[mod] != null && (nextNotes[mod] as Note).start != (notes[mod] as Note).end) nextNotes[mod] = null;\n\n                }\n\n                if (channelState.singleSeamlessInstrument != null && channelState.singleSeamlessInstrument != newInstrumentIndex && channelState.singleSeamlessInstrument < channelState.instruments.length) {\n                    const sourceInstrumentState: InstrumentState = channelState.instruments[channelState.singleSeamlessInstrument];\n                    const destInstrumentState: InstrumentState = channelState.instruments[newInstrumentIndex];\n                    while (sourceInstrumentState.activeModTones.count() > 0) {\n                        destInstrumentState.activeModTones.pushFront(sourceInstrumentState.activeModTones.popBack());\n                    }\n                }\n                channelState.singleSeamlessInstrument = newInstrumentIndex;\n\n                if (notes[mod] != null) {\n                    let prevNoteForThisInstrument: Note | null = prevNotes[mod];\n                    let nextNoteForThisInstrument: Note | null = nextNotes[mod];\n\n                    let forceContinueAtStart: boolean = false;\n                    let forceContinueAtEnd: boolean = false;\n                    const atNoteStart: boolean = (Config.ticksPerPart * notes[mod]!.start == currentTick) && this.isAtStartOfTick;\n                    let tone: Tone;\n                    if (toneList.count() <= modToneCount) {\n                        tone = this.newTone();\n                        toneList.pushBack(tone);\n                    } else if (atNoteStart && (prevNoteForThisInstrument == null)) {\n                        const oldTone: Tone = toneList.get(modToneCount);\n                        if (oldTone.isOnLastTick) {\n                            this.freeTone(oldTone);\n                        } else {\n                            this.releaseTone(instrumentState, oldTone);\n                        }\n                        tone = this.newTone();\n                        toneList.set(modToneCount, tone);\n                    } else {\n                        tone = toneList.get(modToneCount);\n                    }\n                    modToneCount++;\n\n                    for (let i: number = 0; i < notes[mod]!.pitches.length; i++) {\n                        tone.pitches[i] = notes[mod]!.pitches[i];\n                    }\n                    tone.pitchCount = notes[mod]!.pitches.length;\n                    tone.chordSize = 1;\n                    tone.instrumentIndex = newInstrumentIndex;\n                    tone.note = notes[mod];\n                    tone.noteStartPart = notes[mod]!.start;\n                    tone.noteEndPart = notes[mod]!.end;\n                    tone.prevNote = prevNoteForThisInstrument;\n                    tone.nextNote = nextNoteForThisInstrument;\n                    tone.prevNotePitchIndex = 0;\n                    tone.nextNotePitchIndex = 0;\n                    tone.atNoteStart = atNoteStart;\n                    tone.passedEndOfNote = false;\n                    tone.forceContinueAtStart = forceContinueAtStart;\n                    tone.forceContinueAtEnd = forceContinueAtEnd;\n                }\n            }\n            // Automatically free or release seamless tones if there's no new note to take over.\n            while (toneList.count() > modToneCount) {\n                const tone: Tone = toneList.popBack();\n                const channel: Channel = song.channels[channelIndex];\n                if (tone.instrumentIndex < channel.instruments.length && !tone.isOnLastTick) {\n                    const instrumentState: InstrumentState = this.channels[channelIndex].instruments[tone.instrumentIndex];\n                    this.releaseTone(instrumentState, tone);\n                } else {\n                    this.freeTone(tone);\n                }\n            }\n\n        }\n        else if (!song.getChannelIsMod(channelIndex)) {\n\n            let note: Note | null = null;\n            let prevNote: Note | null = null;\n            let nextNote: Note | null = null;\n\n            if (playSong && pattern != null && !channel.muted && (!this.isRecording || this.liveInputChannel != channelIndex)) {\n                for (let i: number = 0; i < pattern.notes.length; i++) {\n                    if (pattern.notes[i].end <= currentPart) {\n                        prevNote = pattern.notes[i];\n                    } else if (pattern.notes[i].start <= currentPart && pattern.notes[i].end > currentPart) {\n                        note = pattern.notes[i];\n                    } else if (pattern.notes[i].start > currentPart) {\n                        nextNote = pattern.notes[i];\n                        break;\n                    }\n                }\n\n                if (note != null) {\n                    if (prevNote != null && prevNote.end != note.start) prevNote = null;\n                    if (nextNote != null && nextNote.start != note.end) nextNote = null;\n                }\n            }\n\n            // Seamless tones from a pattern with a single instrument can be transferred to a different single seamless instrument in the next pattern.\n            if (pattern != null && (!song.layeredInstruments || channel.instruments.length == 1 || (song.patternInstruments && pattern.instruments.length == 1))) {\n                const newInstrumentIndex: number = song.patternInstruments ? pattern.instruments[0] : 0;\n                if (channelState.singleSeamlessInstrument != null && channelState.singleSeamlessInstrument != newInstrumentIndex && channelState.singleSeamlessInstrument < channelState.instruments.length) {\n                    const sourceInstrumentState: InstrumentState = channelState.instruments[channelState.singleSeamlessInstrument];\n                    const destInstrumentState: InstrumentState = channelState.instruments[newInstrumentIndex];\n                    while (sourceInstrumentState.activeTones.count() > 0) {\n                        destInstrumentState.activeTones.pushFront(sourceInstrumentState.activeTones.popBack());\n                    }\n                }\n                channelState.singleSeamlessInstrument = newInstrumentIndex;\n            } else {\n                channelState.singleSeamlessInstrument = null;\n            }\n\n            for (let instrumentIndex: number = 0; instrumentIndex < channel.instruments.length; instrumentIndex++) {\n                const instrumentState: InstrumentState = channelState.instruments[instrumentIndex];\n                const toneList: Deque<Tone> = instrumentState.activeTones;\n                let toneCount: number = 0;\n                if ((note != null) && (!song.patternInstruments || (pattern!.instruments.indexOf(instrumentIndex) != -1))) {\n                    const instrument: Instrument = channel.instruments[instrumentIndex];\n                    let prevNoteForThisInstrument: Note | null = prevNote;\n                    let nextNoteForThisInstrument: Note | null = nextNote;\n\n                    const partsPerBar: Number = Config.partsPerBeat * song.beatsPerBar;\n                    const transition: Transition = instrument.getTransition();\n                    const chord: Chord = instrument.getChord();\n                    let forceContinueAtStart: boolean = false;\n                    let forceContinueAtEnd: boolean = false;\n                    let tonesInPrevNote: number = 0;\n                    let tonesInNextNote: number = 0;\n                    if (note.start == 0) {\n                        // If the beginning of the note coincides with the beginning of the pattern,\n                        let prevPattern: Pattern | null = (this.prevBar == null) ? null : song.getPattern(channelIndex, this.prevBar);\n                        if (prevPattern != null) {\n                            const lastNote: Note | null = (prevPattern.notes.length <= 0) ? null : prevPattern.notes[prevPattern.notes.length - 1];\n                            if (lastNote != null && lastNote.end == partsPerBar) {\n                                const patternForcesContinueAtStart: boolean = note.continuesLastPattern && Synth.adjacentNotesHaveMatchingPitches(lastNote, note);\n                                const chordOfCompatibleInstrument: Chord | null = this.adjacentPatternHasCompatibleInstrumentTransition(song, channel, pattern!, prevPattern, instrumentIndex, transition, chord, note, lastNote, patternForcesContinueAtStart);\n                                if (chordOfCompatibleInstrument != null) {\n                                    prevNoteForThisInstrument = lastNote;\n                                    tonesInPrevNote = chordOfCompatibleInstrument.singleTone ? 1 : prevNoteForThisInstrument.pitches.length\n                                    forceContinueAtStart = patternForcesContinueAtStart;\n                                }\n                            }\n                        }\n                    } else if (prevNoteForThisInstrument != null) {\n                        tonesInPrevNote = chord.singleTone ? 1 : prevNoteForThisInstrument.pitches.length\n                    }\n                    if (note.end == partsPerBar) {\n                        // If the end of the note coincides with the end of the pattern, look for an\n                        // adjacent note at the beginning of the next pattern.\n                        let nextPattern: Pattern | null = (this.nextBar == null) ? null : song.getPattern(channelIndex, this.nextBar);\n                        if (nextPattern != null) {\n                            const firstNote: Note | null = (nextPattern.notes.length <= 0) ? null : nextPattern.notes[0];\n                            if (firstNote != null && firstNote.start == 0) {\n                                const nextPatternForcesContinueAtStart: boolean = firstNote.continuesLastPattern && Synth.adjacentNotesHaveMatchingPitches(note, firstNote);\n                                const chordOfCompatibleInstrument: Chord | null = this.adjacentPatternHasCompatibleInstrumentTransition(song, channel, pattern!, nextPattern, instrumentIndex, transition, chord, note, firstNote, nextPatternForcesContinueAtStart);\n                                if (chordOfCompatibleInstrument != null) {\n                                    nextNoteForThisInstrument = firstNote;\n                                    tonesInNextNote = chordOfCompatibleInstrument.singleTone ? 1 : nextNoteForThisInstrument.pitches.length\n                                    forceContinueAtEnd = nextPatternForcesContinueAtStart;\n                                }\n                            }\n                        }\n                    } else if (nextNoteForThisInstrument != null) {\n                        tonesInNextNote = chord.singleTone ? 1 : nextNoteForThisInstrument.pitches.length\n                    }\n\n                    if (chord.singleTone) {\n                        const atNoteStart: boolean = (Config.ticksPerPart * note.start == currentTick);\n                        let tone: Tone;\n                        if (toneList.count() <= toneCount) {\n                            tone = this.newTone();\n                            toneList.pushBack(tone);\n                        } else if (atNoteStart && ((!(transition.isSeamless || instrument.clicklessTransition) && !forceContinueAtStart) || prevNoteForThisInstrument == null)) {\n                            const oldTone: Tone = toneList.get(toneCount);\n                            if (oldTone.isOnLastTick) {\n                                this.freeTone(oldTone);\n                            } else {\n                                this.releaseTone(instrumentState, oldTone);\n                            }\n                            tone = this.newTone();\n                            toneList.set(toneCount, tone);\n                        } else {\n                            tone = toneList.get(toneCount);\n                        }\n                        toneCount++;\n\n                        for (let i: number = 0; i < note.pitches.length; i++) {\n                            tone.pitches[i] = note.pitches[i];\n                        }\n                        tone.pitchCount = note.pitches.length;\n                        tone.chordSize = 1;\n                        tone.instrumentIndex = instrumentIndex;\n                        tone.note = note;\n                        tone.noteStartPart = note.start;\n                        tone.noteEndPart = note.end;\n                        tone.prevNote = prevNoteForThisInstrument;\n                        tone.nextNote = nextNoteForThisInstrument;\n                        tone.prevNotePitchIndex = 0;\n                        tone.nextNotePitchIndex = 0;\n                        tone.atNoteStart = atNoteStart;\n                        tone.passedEndOfNote = false;\n                        tone.forceContinueAtStart = forceContinueAtStart;\n                        tone.forceContinueAtEnd = forceContinueAtEnd;\n                        this.computeTone(song, channelIndex, samplesPerTick, tone, false, false);\n                    } else {\n                        const transition: Transition = instrument.getTransition();\n\n                        if (((transition.isSeamless && !transition.slides && chord.strumParts == 0) || forceContinueAtStart) && (Config.ticksPerPart * note.start == currentTick) && prevNoteForThisInstrument != null) {\n                            this.moveTonesIntoOrderedTempMatchedList(toneList, note.pitches);\n                        }\n\n                        let strumOffsetParts: number = 0;\n                        for (let i: number = 0; i < note.pitches.length; i++) {\n\n                            let prevNoteForThisTone: Note | null = (tonesInPrevNote > i) ? prevNoteForThisInstrument : null;\n                            let noteForThisTone: Note = note;\n                            let nextNoteForThisTone: Note | null = (tonesInNextNote > i) ? nextNoteForThisInstrument : null;\n                            let noteStartPart: number = noteForThisTone.start + strumOffsetParts;\n                            let passedEndOfNote: boolean = false;\n\n                            // Strumming may mean that a note's actual start time may be after the\n                            // note's displayed start time. If the note start hasn't been reached yet,\n                            // carry over the previous tone if available and seamless, otherwise skip\n                            // the new tone until it is ready to start.\n                            if (noteStartPart > currentPart) {\n                                if (toneList.count() > i && (transition.isSeamless || forceContinueAtStart) && prevNoteForThisTone != null) {\n                                    // Continue the previous note's chord until the current one takes over.\n                                    nextNoteForThisTone = noteForThisTone;\n                                    noteForThisTone = prevNoteForThisTone;\n                                    prevNoteForThisTone = null;\n                                    noteStartPart = noteForThisTone.start + strumOffsetParts;\n                                    passedEndOfNote = true;\n                                } else {\n                                    // This and the rest of the tones in the chord shouldn't start yet.\n                                    break;\n                                }\n                            }\n\n                            let noteEndPart: number = noteForThisTone.end;\n                            if ((transition.isSeamless || forceContinueAtStart) && nextNoteForThisTone != null) {\n                                noteEndPart = Math.min(Config.partsPerBeat * this.song!.beatsPerBar, noteEndPart + strumOffsetParts);\n                            }\n                            if ((!transition.continues && !forceContinueAtStart) || prevNoteForThisTone == null) {\n                                strumOffsetParts += chord.strumParts;\n                            }\n\n                            const atNoteStart: boolean = (Config.ticksPerPart * noteStartPart == currentTick);\n                            let tone: Tone;\n                            if (this.tempMatchedPitchTones[toneCount] != null) {\n                                tone = this.tempMatchedPitchTones[toneCount]!;\n                                this.tempMatchedPitchTones[toneCount] = null;\n                                toneList.pushBack(tone);\n                            } else if (toneList.count() <= toneCount) {\n                                tone = this.newTone();\n                                toneList.pushBack(tone);\n                            } else if (atNoteStart && ((!transition.isSeamless && !forceContinueAtStart) || prevNoteForThisTone == null)) {\n                                const oldTone: Tone = toneList.get(toneCount);\n                                if (oldTone.isOnLastTick) {\n                                    this.freeTone(oldTone);\n                                } else {\n                                    this.releaseTone(instrumentState, oldTone);\n                                }\n                                tone = this.newTone();\n                                toneList.set(toneCount, tone);\n                            } else {\n                                tone = toneList.get(toneCount);\n                            }\n                            toneCount++;\n\n                            tone.pitches[0] = noteForThisTone.pitches[i];\n                            tone.pitchCount = 1;\n                            tone.chordSize = noteForThisTone.pitches.length;\n                            tone.instrumentIndex = instrumentIndex;\n                            tone.note = noteForThisTone;\n                            tone.noteStartPart = noteStartPart;\n                            tone.noteEndPart = noteEndPart;\n                            tone.prevNote = prevNoteForThisTone;\n                            tone.nextNote = nextNoteForThisTone;\n                            tone.prevNotePitchIndex = i;\n                            tone.nextNotePitchIndex = i;\n                            tone.atNoteStart = atNoteStart;\n                            tone.passedEndOfNote = passedEndOfNote;\n                            tone.forceContinueAtStart = forceContinueAtStart && prevNoteForThisTone != null;\n                            tone.forceContinueAtEnd = forceContinueAtEnd && nextNoteForThisTone != null;\n                            this.computeTone(song, channelIndex, samplesPerTick, tone, false, false);\n                        }\n                    }\n                }\n                // Automatically free or release seamless tones if there's no new note to take over.\n                while (toneList.count() > toneCount) {\n                    const tone: Tone = toneList.popBack();\n                    const channel: Channel = song.channels[channelIndex];\n                    if (tone.instrumentIndex < channel.instruments.length && !tone.isOnLastTick) {\n                        const instrumentState: InstrumentState = channelState.instruments[tone.instrumentIndex];\n                        this.releaseTone(instrumentState, tone);\n                    } else {\n                        this.freeTone(tone);\n                    }\n                }\n\n                this.clearTempMatchedPitchTones(toneCount, instrumentState);\n            }\n        }\n    }\n\n    private clearTempMatchedPitchTones(toneCount: number, instrumentState: InstrumentState): void {\n        for (let i: number = toneCount; i < this.tempMatchedPitchTones.length; i++) {\n            const oldTone: Tone | null = this.tempMatchedPitchTones[i];\n            if (oldTone != null) {\n                if (oldTone.isOnLastTick) {\n                    this.freeTone(oldTone);\n                } else {\n                    this.releaseTone(instrumentState, oldTone);\n                }\n                this.tempMatchedPitchTones[i] = null;\n            }\n        }\n    }\n\n\n    private playTone(channelIndex: number, bufferIndex: number, runLength: number, tone: Tone): void {\n        const channelState: ChannelState = this.channels[channelIndex];\n        const instrumentState: InstrumentState = channelState.instruments[tone.instrumentIndex];\n\n        if (instrumentState.synthesizer != null) instrumentState.synthesizer!(this, bufferIndex, runLength, tone, instrumentState);\n        tone.envelopeComputer.clearEnvelopes();\n    }\n\n    // Computes mod note position at the start and end of the window and \"plays\" the mod tone, setting appropriate mod data.\n    private playModTone(song: Song, channelIndex: number, samplesPerTick: number, bufferIndex: number, roundedSamplesPerTick: number, tone: Tone, released: boolean, shouldFadeOutFast: boolean): void {\n        const channel: Channel = song.channels[channelIndex];\n        const instrument: Instrument = channel.instruments[tone.instrumentIndex];\n\n        if (tone.note != null) {\n            const ticksIntoBar: number = this.getTicksIntoBar();\n            const partTimeTickStart: number = (ticksIntoBar) / Config.ticksPerPart;\n            const partTimeTickEnd: number = (ticksIntoBar + 1) / Config.ticksPerPart;\n            const tickSampleCountdown: number = this.tickSampleCountdown;\n            const startRatio: number = 1.0 - (tickSampleCountdown) / samplesPerTick;\n            const endRatio: number = 1.0 - (tickSampleCountdown - roundedSamplesPerTick) / samplesPerTick;\n            const partTimeStart: number = partTimeTickStart + (partTimeTickEnd - partTimeTickStart) * startRatio;\n            const partTimeEnd: number = partTimeTickStart + (partTimeTickEnd - partTimeTickStart) * endRatio;\n            const tickTimeStart: number = Config.ticksPerPart * partTimeStart;\n            const tickTimeEnd: number = Config.ticksPerPart * partTimeEnd;\n            const endPinIndex: number = tone.note.getEndPinIndex(this.getCurrentPart());\n            const startPin: NotePin = tone.note.pins[endPinIndex - 1];\n            const endPin: NotePin = tone.note.pins[endPinIndex];\n            const startPinTick: number = (tone.note.start + startPin.time) * Config.ticksPerPart;\n            const endPinTick: number = (tone.note.start + endPin.time) * Config.ticksPerPart;\n            const ratioStart: number = (tickTimeStart - startPinTick) / (endPinTick - startPinTick);\n            const ratioEnd: number = (tickTimeEnd - startPinTick) / (endPinTick - startPinTick);\n            tone.expression = startPin.size + (endPin.size - startPin.size) * ratioStart;\n            tone.expressionDelta = (startPin.size + (endPin.size - startPin.size) * ratioEnd) - tone.expression;\n\n            Synth.modSynth(this, bufferIndex, roundedSamplesPerTick, tone, instrument);\n        }\n    }\n\n    private static computeChordExpression(chordSize: number): number {\n        return 1.0 / ((chordSize - 1) * 0.25 + 1.0);\n    }\n\n    private computeTone(song: Song, channelIndex: number, samplesPerTick: number, tone: Tone, released: boolean, shouldFadeOutFast: boolean): void {\n        const roundedSamplesPerTick: number = Math.ceil(samplesPerTick);\n        const channel: Channel = song.channels[channelIndex];\n        const channelState: ChannelState = this.channels[channelIndex];\n        const instrument: Instrument = channel.instruments[tone.instrumentIndex];\n        const instrumentState: InstrumentState = channelState.instruments[tone.instrumentIndex];\n        instrumentState.awake = true;\n        instrumentState.tonesAddedInThisTick = true;\n        if (!instrumentState.computed) {\n            instrumentState.compute(this, instrument, samplesPerTick, roundedSamplesPerTick, tone, channelIndex, tone.instrumentIndex);\n        }\n        const transition: Transition = instrument.getTransition();\n        const chord: Chord = instrument.getChord();\n        const chordExpression: number = chord.singleTone ? 1.0 : Synth.computeChordExpression(tone.chordSize);\n        const isNoiseChannel: boolean = song.getChannelIsNoise(channelIndex);\n        const intervalScale: number = isNoiseChannel ? Config.noiseInterval : 1;\n        const secondsPerPart: number = Config.ticksPerPart * samplesPerTick / this.samplesPerSecond;\n        const sampleTime: number = 1.0 / this.samplesPerSecond;\n        const beatsPerPart: number = 1.0 / Config.partsPerBeat;\n        const ticksIntoBar: number = this.getTicksIntoBar();\n        const partTimeStart: number = (ticksIntoBar) / Config.ticksPerPart;\n        const partTimeEnd: number = (ticksIntoBar + 1.0) / Config.ticksPerPart;\n        const currentPart: number = this.getCurrentPart();\n\n        let specialIntervalMult: number = 1.0;\n        tone.specialIntervalExpressionMult = 1.0;\n\n        //if (synth.isModActive(ModSetting.mstPan, channelIndex, tone.instrumentIndex)) {\n        //    startPan = synth.getModValue(ModSetting.mstPan, false, channel, instrumentIdx, false);\n        //    endPan = synth.getModValue(ModSetting.mstPan, false, channel, instrumentIdx, true);\n        //}\n\n        let toneIsOnLastTick: boolean = shouldFadeOutFast;\n        let intervalStart: number = 0.0;\n        let intervalEnd: number = 0.0;\n        let fadeExpressionStart: number = 1.0;\n        let fadeExpressionEnd: number = 1.0;\n        let chordExpressionStart: number = chordExpression;\n        let chordExpressionEnd: number = chordExpression;\n\n        let expressionReferencePitch: number = 16; // A low \"E\" as a MIDI pitch.\n        let basePitch: number = Config.keys[song.key].basePitch + (Config.pitchesPerOctave * song.octave);\n        let baseExpression: number = 1.0;\n        let pitchDamping: number = 48;\n        if (instrument.type == InstrumentType.spectrum) {\n            baseExpression = Config.spectrumBaseExpression;\n            if (isNoiseChannel) {\n                basePitch = Config.spectrumBasePitch;\n                baseExpression *= 2.0; // Note: spectrum is louder for drum channels than pitch channels!\n            }\n            expressionReferencePitch = Config.spectrumBasePitch;\n            pitchDamping = 28;\n        } else if (instrument.type == InstrumentType.drumset) {\n            basePitch = Config.spectrumBasePitch;\n            baseExpression = Config.drumsetBaseExpression;\n            expressionReferencePitch = basePitch;\n        } else if (instrument.type == InstrumentType.noise) {\n            // dogebox2 code, makes basic noise affected by keys in pitch channels\n            basePitch = isNoiseChannel ? Config.chipNoises[instrument.chipNoise].basePitch : basePitch + Config.chipNoises[instrument.chipNoise].basePitch - 12;\n            // maybe also lower expression in pitch channels?\n            baseExpression = Config.noiseBaseExpression;\n            expressionReferencePitch = basePitch;\n            pitchDamping = Config.chipNoises[instrument.chipNoise].isSoft ? 24.0 : 60.0;\n        } else if (instrument.type == InstrumentType.fm || instrument.type == InstrumentType.fm6op) {\n            baseExpression = Config.fmBaseExpression;\n        } else if (instrument.type == InstrumentType.chip){\n                baseExpression = Config.chipBaseExpression;\n\t\t\t\tif (Config.chipWaves[instrument.chipWave].isCustomSampled) {\n\t\t\t\t\tif (Config.chipWaves[instrument.chipWave].isPercussion){\n\t\t\t\t\t\tbasePitch = -84.37 + Math.log2(Config.chipWaves[instrument.chipWave].samples.length/Config.chipWaves[instrument.chipWave].sampleRate!) * -12 - (-60 + Config.chipWaves[instrument.chipWave].rootKey!);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\telse {\n\t\t\t\t\t\tbasePitch += -96.37 + Math.log2(Config.chipWaves[instrument.chipWave].samples.length/Config.chipWaves[instrument.chipWave].sampleRate!) * -12 - (-60 + Config.chipWaves[instrument.chipWave].rootKey!); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (Config.chipWaves[instrument.chipWave].isSampled && !Config.chipWaves[instrument.chipWave].isPercussion) {\n\t\t\t\t\t\tbasePitch = basePitch - 63 + Config.chipWaves[instrument.chipWave].extraSampleDetune!\n\t\t\t\t\t}\n\t\t\t\t\telse if (Config.chipWaves[instrument.chipWave].isSampled && Config.chipWaves[instrument.chipWave].isPercussion) {\n\t\t\t\t\tbasePitch = -51 + Config.chipWaves[instrument.chipWave].extraSampleDetune!;\n\t\t\t\t\t}\n\t\t\t\t}\n            } else if (instrument.type == InstrumentType.customChipWave) {\n            baseExpression = Config.chipBaseExpression;\n        } else if (instrument.type == InstrumentType.harmonics) {\n            baseExpression = Config.harmonicsBaseExpression;\n        } else if (instrument.type == InstrumentType.pwm) {\n            baseExpression = Config.pwmBaseExpression;\n        } else if (instrument.type == InstrumentType.pickedString) {\n            baseExpression = Config.pickedStringBaseExpression;\n        } else if (instrument.type == InstrumentType.mod) {\n            baseExpression = 1.0;\n            expressionReferencePitch = 0;\n            pitchDamping = 1.0;\n            basePitch = 0;\n        } else {\n            throw new Error(\"Unknown instrument type in computeTone.\");\n        }\n\n        if ((tone.atNoteStart && !transition.isSeamless && !tone.forceContinueAtStart) || tone.freshlyAllocated) {\n            tone.reset();\n\t\t\t\t\t\t // advloop addition\n                const chipWaveLength = Config.rawRawChipWaves[instrument.chipWave].samples.length - 1;\n                const firstOffset = instrument.chipWaveStartOffset / chipWaveLength;\n                // const lastOffset = (chipWaveLength - 0.01) / chipWaveLength;\n                // @TODO: This is silly and I should actually figure out how to\n                // properly keep lastOffset as 1.0 and not get it wrapped back\n                // to 0 once it's in `Synth.loopableChipSynth`.\n                const lastOffset = 0.999999999999999;\n                for (let i = 0; i < Config.maxPitchOrOperatorCount; i++) {\n                    tone.phases[i] = instrument.chipWavePlayBackwards ? Math.max(0, Math.min(lastOffset, firstOffset)) : Math.max(0, firstOffset);\n                    tone.directions[i] = instrument.chipWavePlayBackwards ? -1 : 1;\n                    tone.chipWaveCompletions[i] = 0;\n                    tone.chipWavePrevWaves[i] = 0;\n                    tone.chipWaveCompletionsLastWave[i] = 0;\n                }\n                // console.log(tone.directions);\n                // advloop addition\n        }\n        tone.freshlyAllocated = false;\n\n        for (let i: number = 0; i < Config.maxPitchOrOperatorCount; i++) {\n            tone.phaseDeltas[i] = 0.0;\n            tone.phaseDeltaScales[i] = 0.0;\n            tone.operatorExpressions[i] = 0.0;\n            tone.operatorExpressionDeltas[i] = 0.0;\n        }\n        tone.expression = 0.0;\n        tone.expressionDelta = 0.0;\n        for (let i: number = 0; i < Config.operatorCount; i++) {\n            tone.operatorWaves[i] = Synth.getOperatorWave(instrument.operators[i].waveform, instrument.operators[i].pulseWidth);\n        }\n\n        if (released) {\n            const startTicksSinceReleased: number = tone.ticksSinceReleased;\n            const endTicksSinceReleased: number = tone.ticksSinceReleased + 1.0;\n            intervalStart = intervalEnd = tone.lastInterval;\n            const fadeOutTicks: number = Math.abs(instrument.getFadeOutTicks());\n            fadeExpressionStart = Synth.noteSizeToVolumeMult((1.0 - startTicksSinceReleased / fadeOutTicks) * Config.noteSizeMax);\n            fadeExpressionEnd = Synth.noteSizeToVolumeMult((1.0 - endTicksSinceReleased / fadeOutTicks) * Config.noteSizeMax);\n\n            if (shouldFadeOutFast) {\n                fadeExpressionEnd = 0.0;\n            }\n\n            if (tone.ticksSinceReleased + 1 >= fadeOutTicks) toneIsOnLastTick = true;\n        } else if (tone.note == null) {\n            fadeExpressionStart = fadeExpressionEnd = 1.0;\n            tone.lastInterval = 0;\n            tone.ticksSinceReleased = 0;\n            tone.liveInputSamplesHeld += roundedSamplesPerTick;\n        } else {\n            const note: Note = tone.note;\n            const nextNote: Note | null = tone.nextNote;\n\n            const noteStartPart: number = tone.noteStartPart;\n            const noteEndPart: number = tone.noteEndPart;\n\n\n            const endPinIndex: number = note.getEndPinIndex(currentPart);\n            const startPin: NotePin = note.pins[endPinIndex - 1];\n            const endPin: NotePin = note.pins[endPinIndex];\n            const noteStartTick: number = noteStartPart * Config.ticksPerPart;\n            const noteEndTick: number = noteEndPart * Config.ticksPerPart;\n            const pinStart: number = (note.start + startPin.time) * Config.ticksPerPart;\n            const pinEnd: number = (note.start + endPin.time) * Config.ticksPerPart;\n\n            tone.ticksSinceReleased = 0;\n\n            const tickTimeStart: number = currentPart * Config.ticksPerPart + this.tick;\n            const tickTimeEnd: number = tickTimeStart + 1.0;\n            const noteTicksPassedTickStart: number = tickTimeStart - noteStartTick;\n            const noteTicksPassedTickEnd: number = tickTimeEnd - noteStartTick;\n            const pinRatioStart: number = Math.min(1.0, (tickTimeStart - pinStart) / (pinEnd - pinStart));\n            const pinRatioEnd: number = Math.min(1.0, (tickTimeEnd - pinStart) / (pinEnd - pinStart));\n            fadeExpressionStart = 1.0;\n            fadeExpressionEnd = 1.0;\n            intervalStart = startPin.interval + (endPin.interval - startPin.interval) * pinRatioStart;\n            intervalEnd = startPin.interval + (endPin.interval - startPin.interval) * pinRatioEnd;\n            tone.lastInterval = intervalEnd;\n\n            if ((!transition.isSeamless && !tone.forceContinueAtEnd) || nextNote == null) {\n                const fadeOutTicks: number = -instrument.getFadeOutTicks();\n                if (fadeOutTicks > 0.0) {\n                    // If the tone should fade out before the end of the note, do so here.\n                    const noteLengthTicks: number = noteEndTick - noteStartTick;\n                    fadeExpressionStart *= Math.min(1.0, (noteLengthTicks - noteTicksPassedTickStart) / fadeOutTicks);\n                    fadeExpressionEnd *= Math.min(1.0, (noteLengthTicks - noteTicksPassedTickEnd) / fadeOutTicks);\n                    if (tickTimeEnd >= noteStartTick + noteLengthTicks) toneIsOnLastTick = true;\n                }\n            }\n\n        }\n\n        tone.isOnLastTick = toneIsOnLastTick;\n\n        let tmpNoteFilter: FilterSettings = instrument.noteFilter;\n        let startPoint: FilterControlPoint;\n        let endPoint: FilterControlPoint;\n\n        if (instrument.noteFilterType) {\n            // Simple EQ filter (old style). For analysis, using random filters from normal style since they are N/A in this context.\n            const noteFilterSettingsStart: FilterSettings = instrument.noteFilter;\n            if (instrument.noteSubFilters[1] == null)\n                instrument.noteSubFilters[1] = new FilterSettings();\n            const noteFilterSettingsEnd: FilterSettings = instrument.noteSubFilters[1];\n\n            // Change location based on slider values\n            let startSimpleFreq: number = instrument.noteFilterSimpleCut;\n            let startSimpleGain: number = instrument.noteFilterSimplePeak;\n            let endSimpleFreq: number = instrument.noteFilterSimpleCut;\n            let endSimpleGain: number = instrument.noteFilterSimplePeak;\n            let filterChanges: boolean = false;\n\n            if (this.isModActive(Config.modulators.dictionary[\"note filt cut\"].index, channelIndex, tone.instrumentIndex)) {\n                startSimpleFreq = this.getModValue(Config.modulators.dictionary[\"note filt cut\"].index, channelIndex, tone.instrumentIndex, false);\n                endSimpleFreq = this.getModValue(Config.modulators.dictionary[\"note filt cut\"].index, channelIndex, tone.instrumentIndex, true);\n                filterChanges = true;\n            }\n            if (this.isModActive(Config.modulators.dictionary[\"note filt peak\"].index, channelIndex, tone.instrumentIndex)) {\n                startSimpleGain = this.getModValue(Config.modulators.dictionary[\"note filt peak\"].index, channelIndex, tone.instrumentIndex, false);\n                endSimpleGain = this.getModValue(Config.modulators.dictionary[\"note filt peak\"].index, channelIndex, tone.instrumentIndex, true);\n                filterChanges = true;\n            }\n\n            noteFilterSettingsStart.convertLegacySettingsForSynth(startSimpleFreq, startSimpleGain, !filterChanges);\n            noteFilterSettingsEnd.convertLegacySettingsForSynth(endSimpleFreq, endSimpleGain, !filterChanges);\n\n            startPoint = noteFilterSettingsStart.controlPoints[0];\n            endPoint = noteFilterSettingsEnd.controlPoints[0];\n\n            // Temporarily override so that envelope computer uses appropriate computed note filter\n            instrument.noteFilter = noteFilterSettingsStart;\n            instrument.tmpNoteFilterStart = noteFilterSettingsStart;\n        }\n\n        // Compute envelopes *after* resetting the tone, otherwise the envelope computer gets reset too!\n        const envelopeComputer: EnvelopeComputer = tone.envelopeComputer;\n        envelopeComputer.computeEnvelopes(instrument, currentPart, Config.ticksPerPart * partTimeStart, samplesPerTick / this.samplesPerSecond, tone);\n        const envelopeStarts: number[] = tone.envelopeComputer.envelopeStarts;\n        const envelopeEnds: number[] = tone.envelopeComputer.envelopeEnds;\n        instrument.noteFilter = tmpNoteFilter;\n\n        if (tone.note != null && transition.slides) {\n            // Slide interval and chordExpression at the start and/or end of the note if necessary.\n            const prevNote: Note | null = tone.prevNote;\n            const nextNote: Note | null = tone.nextNote;\n            if (prevNote != null) {\n                const intervalDiff: number = prevNote.pitches[tone.prevNotePitchIndex] + prevNote.pins[prevNote.pins.length - 1].interval - tone.pitches[0];\n                if (envelopeComputer.prevSlideStart) intervalStart += intervalDiff * envelopeComputer.prevSlideRatioStart;\n                if (envelopeComputer.prevSlideEnd) intervalEnd += intervalDiff * envelopeComputer.prevSlideRatioEnd;\n                if (!chord.singleTone) {\n                    const chordSizeDiff: number = prevNote.pitches.length - tone.chordSize;\n                    if (envelopeComputer.prevSlideStart) chordExpressionStart = Synth.computeChordExpression(tone.chordSize + chordSizeDiff * envelopeComputer.prevSlideRatioStart);\n                    if (envelopeComputer.prevSlideEnd) chordExpressionEnd = Synth.computeChordExpression(tone.chordSize + chordSizeDiff * envelopeComputer.prevSlideRatioEnd);\n                }\n            }\n            if (nextNote != null) {\n                const intervalDiff: number = nextNote.pitches[tone.nextNotePitchIndex] - (tone.pitches[0] + tone.note.pins[tone.note.pins.length - 1].interval);\n                if (envelopeComputer.nextSlideStart) intervalStart += intervalDiff * envelopeComputer.nextSlideRatioStart;\n                if (envelopeComputer.nextSlideEnd) intervalEnd += intervalDiff * envelopeComputer.nextSlideRatioEnd;\n                if (!chord.singleTone) {\n                    const chordSizeDiff: number = nextNote.pitches.length - tone.chordSize;\n                    if (envelopeComputer.nextSlideStart) chordExpressionStart = Synth.computeChordExpression(tone.chordSize + chordSizeDiff * envelopeComputer.nextSlideRatioStart);\n                    if (envelopeComputer.nextSlideEnd) chordExpressionEnd = Synth.computeChordExpression(tone.chordSize + chordSizeDiff * envelopeComputer.nextSlideRatioEnd);\n                }\n            }\n        }\n\n        if (effectsIncludePitchShift(instrument.effects)) {\n            let pitchShift: number = Config.justIntonationSemitones[instrument.pitchShift] / intervalScale;\n            let pitchShiftScalarStart: number = 1.0;\n            let pitchShiftScalarEnd: number = 1.0;\n            if (this.isModActive(Config.modulators.dictionary[\"pitch shift\"].index, channelIndex, tone.instrumentIndex)) {\n                pitchShift = Config.justIntonationSemitones[Config.justIntonationSemitones.length - 1];\n                pitchShiftScalarStart = (this.getModValue(Config.modulators.dictionary[\"pitch shift\"].index, channelIndex, tone.instrumentIndex, false)) / (Config.pitchShiftCenter);\n                pitchShiftScalarEnd = (this.getModValue(Config.modulators.dictionary[\"pitch shift\"].index, channelIndex, tone.instrumentIndex, true)) / (Config.pitchShiftCenter);\n            }\n            const envelopeStart: number = envelopeStarts[EnvelopeComputeIndex.pitchShift];\n            const envelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.pitchShift];\n            intervalStart += pitchShift * envelopeStart * pitchShiftScalarStart;\n            intervalEnd += pitchShift * envelopeEnd * pitchShiftScalarEnd;\n        }\n        if (effectsIncludeDetune(instrument.effects) || this.isModActive(Config.modulators.dictionary[\"song detune\"].index, channelIndex, tone.instrumentIndex)) {\n            const envelopeStart: number = envelopeStarts[EnvelopeComputeIndex.detune];\n            const envelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.detune];\n            let modDetuneStart: number = instrument.detune;\n            let modDetuneEnd: number = instrument.detune;\n            if (this.isModActive(Config.modulators.dictionary[\"detune\"].index, channelIndex, tone.instrumentIndex)) {\n                modDetuneStart = this.getModValue(Config.modulators.dictionary[\"detune\"].index, channelIndex, tone.instrumentIndex, false) + Config.detuneCenter;\n                modDetuneEnd = this.getModValue(Config.modulators.dictionary[\"detune\"].index, channelIndex, tone.instrumentIndex, true) + Config.detuneCenter;\n            }\n            if (this.isModActive(Config.modulators.dictionary[\"song detune\"].index, channelIndex, tone.instrumentIndex)) {\n                modDetuneStart += 4 * this.getModValue(Config.modulators.dictionary[\"song detune\"].index, channelIndex, tone.instrumentIndex, false);\n                modDetuneEnd += 4 * this.getModValue(Config.modulators.dictionary[\"song detune\"].index, channelIndex, tone.instrumentIndex, true);\n            }\n            intervalStart += Synth.detuneToCents((modDetuneStart) * envelopeStart) * Config.pitchesPerOctave / (12.0 * 100.0);\n            intervalEnd += Synth.detuneToCents((modDetuneEnd) * envelopeEnd) * Config.pitchesPerOctave / (12.0 * 100.0);\n        }\n\n        if (effectsIncludeVibrato(instrument.effects)) {\n            let delayTicks: number;\n            let vibratoAmplitudeStart: number;\n            let vibratoAmplitudeEnd: number;\n            // Custom vibrato\n            if (instrument.vibrato == Config.vibratos.length) {\n                delayTicks = instrument.vibratoDelay * 2; // Delay was changed from parts to ticks in BB v9\n                // Special case: if vibrato delay is max, NEVER vibrato.\n                if (instrument.vibratoDelay == Config.modulators.dictionary[\"vibrato delay\"].maxRawVol)\n                    delayTicks = Number.POSITIVE_INFINITY;\n                vibratoAmplitudeStart = instrument.vibratoDepth;\n                vibratoAmplitudeEnd = vibratoAmplitudeStart;\n            } else {\n                delayTicks = Config.vibratos[instrument.vibrato].delayTicks;\n                vibratoAmplitudeStart = Config.vibratos[instrument.vibrato].amplitude;\n                vibratoAmplitudeEnd = vibratoAmplitudeStart;\n            }\n\n            if (this.isModActive(Config.modulators.dictionary[\"vibrato delay\"].index, channelIndex, tone.instrumentIndex)) {\n                delayTicks = this.getModValue(Config.modulators.dictionary[\"vibrato delay\"].index, channelIndex, tone.instrumentIndex, false) * 2; // Delay was changed from parts to ticks in BB v9\n                if (delayTicks == Config.modulators.dictionary[\"vibrato delay\"].maxRawVol * 2)\n                    delayTicks = Number.POSITIVE_INFINITY;\n\n            }\n\n            if (this.isModActive(Config.modulators.dictionary[\"vibrato depth\"].index, channelIndex, tone.instrumentIndex)) {\n                vibratoAmplitudeStart = this.getModValue(Config.modulators.dictionary[\"vibrato depth\"].index, channelIndex, tone.instrumentIndex, false) / 25;\n                vibratoAmplitudeEnd = this.getModValue(Config.modulators.dictionary[\"vibrato depth\"].index, channelIndex, tone.instrumentIndex, true) / 25;\n            }\n\n\n            // To maintain pitch continuity, (mostly for picked string which retriggers impulse\n            // otherwise) remember the vibrato at the end of this run and reuse it at the start\n            // of the next run if available.\n            let vibratoStart: number;\n            if (tone.prevVibrato != null) {\n                vibratoStart = tone.prevVibrato;\n            } else {\n                let lfoStart: number = Synth.getLFOAmplitude(instrument, secondsPerPart * instrument.LFOtime);\n                const vibratoDepthEnvelopeStart: number = envelopeStarts[EnvelopeComputeIndex.vibratoDepth];\n                vibratoStart = vibratoAmplitudeStart * lfoStart * vibratoDepthEnvelopeStart;\n                if (delayTicks > 0.0) {\n                    const ticksUntilVibratoStart: number = delayTicks - envelopeComputer.noteTicksStart;\n                    vibratoStart *= Math.max(0.0, Math.min(1.0, 1.0 - ticksUntilVibratoStart / 2.0));\n                }\n            }\n\n            let lfoEnd: number = Synth.getLFOAmplitude(instrument, secondsPerPart * instrument.nextLFOtime);\n            const vibratoDepthEnvelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.vibratoDepth];\n            if (instrument.type != InstrumentType.mod) {\n                let vibratoEnd: number = vibratoAmplitudeEnd * lfoEnd * vibratoDepthEnvelopeEnd;\n                if (delayTicks > 0.0) {\n                    const ticksUntilVibratoEnd: number = delayTicks - envelopeComputer.noteTicksEnd;\n                    vibratoEnd *= Math.max(0.0, Math.min(1.0, 1.0 - ticksUntilVibratoEnd / 2.0));\n                }\n\n                tone.prevVibrato = vibratoEnd;\n\n                intervalStart += vibratoStart;\n                intervalEnd += vibratoEnd;\n            }\n        }\n\n        if ((!transition.isSeamless && !tone.forceContinueAtStart) || tone.prevNote == null) {\n            // Fade in the beginning of the note.\n            const fadeInSeconds: number = instrument.getFadeInSeconds();\n            if (fadeInSeconds > 0.0) {\n                fadeExpressionStart *= Math.min(1.0, envelopeComputer.noteSecondsStart / fadeInSeconds);\n                fadeExpressionEnd *= Math.min(1.0, envelopeComputer.noteSecondsEnd / fadeInSeconds);\n            }\n        }\n\n\n        if (instrument.type == InstrumentType.drumset && tone.drumsetPitch == null) {\n            // It's possible that the note will change while the user is editing it,\n            // but the tone's pitches don't get updated because the tone has already\n            // ended and is fading out. To avoid an array index out of bounds error, clamp the pitch.\n            tone.drumsetPitch = tone.pitches[0];\n            if (tone.note != null) tone.drumsetPitch += tone.note.pickMainInterval();\n            tone.drumsetPitch = Math.max(0, Math.min(Config.drumCount - 1, tone.drumsetPitch));\n        }\n\n        let noteFilterExpression: number = envelopeComputer.lowpassCutoffDecayVolumeCompensation;\n        if (!effectsIncludeNoteFilter(instrument.effects)) {\n            tone.noteFilterCount = 0;\n        } else {\n\n            const noteAllFreqsEnvelopeStart: number = envelopeStarts[EnvelopeComputeIndex.noteFilterAllFreqs];\n            const noteAllFreqsEnvelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.noteFilterAllFreqs];\n\n            // Simple note filter\n            if (instrument.noteFilterType) {\n                const noteFreqEnvelopeStart: number = envelopeStarts[EnvelopeComputeIndex.noteFilterFreq0];\n                const noteFreqEnvelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.noteFilterFreq0];\n                const notePeakEnvelopeStart: number = envelopeStarts[EnvelopeComputeIndex.noteFilterGain0];\n                const notePeakEnvelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.noteFilterGain0];\n\n                startPoint!.toCoefficients(Synth.tempFilterStartCoefficients, this.samplesPerSecond, noteAllFreqsEnvelopeStart * noteFreqEnvelopeStart, notePeakEnvelopeStart);\n                endPoint!.toCoefficients(Synth.tempFilterEndCoefficients, this.samplesPerSecond, noteAllFreqsEnvelopeEnd * noteFreqEnvelopeEnd, notePeakEnvelopeEnd);\n\n                if (tone.noteFilters.length < 1) tone.noteFilters[0] = new DynamicBiquadFilter();\n                tone.noteFilters[0].loadCoefficientsWithGradient(Synth.tempFilterStartCoefficients, Synth.tempFilterEndCoefficients, 1.0 / roundedSamplesPerTick, startPoint!.type == FilterType.lowPass);\n                noteFilterExpression *= startPoint!.getVolumeCompensationMult();\n\n                tone.noteFilterCount = 1;\n            }\n            else {\n                const noteFilterSettings: FilterSettings = (instrument.tmpNoteFilterStart != null) ? instrument.tmpNoteFilterStart : instrument.noteFilter;\n\n                for (let i: number = 0; i < noteFilterSettings.controlPointCount; i++) {\n                    const noteFreqEnvelopeStart: number = envelopeStarts[EnvelopeComputeIndex.noteFilterFreq0 + i];\n                    const noteFreqEnvelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.noteFilterFreq0 + i];\n                    const notePeakEnvelopeStart: number = envelopeStarts[EnvelopeComputeIndex.noteFilterGain0 + i];\n                    const notePeakEnvelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.noteFilterGain0 + i];\n                    let startPoint: FilterControlPoint = noteFilterSettings.controlPoints[i];\n                    const endPoint: FilterControlPoint = (instrument.tmpNoteFilterEnd != null && instrument.tmpNoteFilterEnd.controlPoints[i] != null) ? instrument.tmpNoteFilterEnd.controlPoints[i] : noteFilterSettings.controlPoints[i];\n\n                    // If switching dot type, do it all at once and do not try to interpolate since no valid interpolation exists.\n                    if (startPoint.type != endPoint.type) {\n                        startPoint = endPoint;\n                    }\n\n                    startPoint.toCoefficients(Synth.tempFilterStartCoefficients, this.samplesPerSecond, noteAllFreqsEnvelopeStart * noteFreqEnvelopeStart, notePeakEnvelopeStart);\n                    endPoint.toCoefficients(Synth.tempFilterEndCoefficients, this.samplesPerSecond, noteAllFreqsEnvelopeEnd * noteFreqEnvelopeEnd, notePeakEnvelopeEnd);\n                    if (tone.noteFilters.length <= i) tone.noteFilters[i] = new DynamicBiquadFilter();\n                    tone.noteFilters[i].loadCoefficientsWithGradient(Synth.tempFilterStartCoefficients, Synth.tempFilterEndCoefficients, 1.0 / roundedSamplesPerTick, startPoint.type == FilterType.lowPass);\n                    noteFilterExpression *= startPoint.getVolumeCompensationMult();\n                }\n                tone.noteFilterCount = noteFilterSettings.controlPointCount;\n            }\n        }\n\n        if (instrument.type == InstrumentType.drumset) {\n            const drumsetFilterEnvelope: Envelope = instrument.getDrumsetEnvelope(tone.drumsetPitch!);\n            // If the drumset lowpass cutoff decays, compensate by increasing expression.\n            noteFilterExpression *= EnvelopeComputer.getLowpassCutoffDecayVolumeCompensation(drumsetFilterEnvelope)\n\n            // Drumset filters use the same envelope timing as the rest of the envelopes, but do not include support for slide transitions.\n            let drumsetFilterEnvelopeStart: number = EnvelopeComputer.computeEnvelope(drumsetFilterEnvelope, envelopeComputer.noteSecondsStart, beatsPerPart * partTimeStart, envelopeComputer.noteSizeStart);\n            let drumsetFilterEnvelopeEnd: number = EnvelopeComputer.computeEnvelope(drumsetFilterEnvelope, envelopeComputer.noteSecondsEnd, beatsPerPart * partTimeEnd, envelopeComputer.noteSizeEnd);\n\n            // Apply slide interpolation to drumset envelope.\n            if (envelopeComputer.prevSlideStart) {\n                const other: number = EnvelopeComputer.computeEnvelope(drumsetFilterEnvelope, envelopeComputer.prevNoteSecondsStart, beatsPerPart * partTimeStart, envelopeComputer.prevNoteSize);\n                drumsetFilterEnvelopeStart += (other - drumsetFilterEnvelopeStart) * envelopeComputer.prevSlideRatioStart;\n            }\n            if (envelopeComputer.prevSlideEnd) {\n                const other: number = EnvelopeComputer.computeEnvelope(drumsetFilterEnvelope, envelopeComputer.prevNoteSecondsEnd, beatsPerPart * partTimeEnd, envelopeComputer.prevNoteSize);\n                drumsetFilterEnvelopeEnd += (other - drumsetFilterEnvelopeEnd) * envelopeComputer.prevSlideRatioEnd;\n            }\n            if (envelopeComputer.nextSlideStart) {\n                const other: number = EnvelopeComputer.computeEnvelope(drumsetFilterEnvelope, 0.0, beatsPerPart * partTimeStart, envelopeComputer.nextNoteSize);\n                drumsetFilterEnvelopeStart += (other - drumsetFilterEnvelopeStart) * envelopeComputer.nextSlideRatioStart;\n            }\n            if (envelopeComputer.nextSlideEnd) {\n                const other: number = EnvelopeComputer.computeEnvelope(drumsetFilterEnvelope, 0.0, beatsPerPart * partTimeEnd, envelopeComputer.nextNoteSize);\n                drumsetFilterEnvelopeEnd += (other - drumsetFilterEnvelopeEnd) * envelopeComputer.nextSlideRatioEnd;\n            }\n\n            const point: FilterControlPoint = this.tempDrumSetControlPoint;\n            point.type = FilterType.lowPass;\n            point.gain = FilterControlPoint.getRoundedSettingValueFromLinearGain(0.5);\n            point.freq = FilterControlPoint.getRoundedSettingValueFromHz(8000.0);\n            // Drumset envelopes are warped to better imitate the legacy simplified 2nd order lowpass at ~48000Hz that I used to use.\n            point.toCoefficients(Synth.tempFilterStartCoefficients, this.samplesPerSecond, drumsetFilterEnvelopeStart * (1.0 + drumsetFilterEnvelopeStart), 1.0);\n            point.toCoefficients(Synth.tempFilterEndCoefficients, this.samplesPerSecond, drumsetFilterEnvelopeEnd * (1.0 + drumsetFilterEnvelopeEnd), 1.0);\n            if (tone.noteFilters.length == tone.noteFilterCount) tone.noteFilters[tone.noteFilterCount] = new DynamicBiquadFilter();\n            tone.noteFilters[tone.noteFilterCount].loadCoefficientsWithGradient(Synth.tempFilterStartCoefficients, Synth.tempFilterEndCoefficients, 1.0 / roundedSamplesPerTick, true);\n            tone.noteFilterCount++;\n        }\n\n        noteFilterExpression = Math.min(3.0, noteFilterExpression);\n\n        if (instrument.type == InstrumentType.fm || instrument.type == InstrumentType.fm6op) {\n            // phase modulation!\n\n            let sineExpressionBoost: number = 1.0;\n            let totalCarrierExpression: number = 0.0;\n\n            let arpeggioInterval: number = 0;\n            const arpeggiates: boolean = chord.arpeggiates;\n            if (tone.pitchCount > 1 && arpeggiates) {\n                const arpeggio: number = Math.floor(instrument.arpTime / Config.ticksPerArpeggio);\n                arpeggioInterval = tone.pitches[getArpeggioPitchIndex(tone.pitchCount, instrument.fastTwoNoteArp, arpeggio)] - tone.pitches[0];\n            }\n\n\n            const carrierCount: number = (instrument.type == InstrumentType.fm6op ? instrument.customAlgorithm.carrierCount : Config.algorithms[instrument.algorithm].carrierCount);\n            for (let i: number = 0; i < (instrument.type == InstrumentType.fm6op? 6 : Config.operatorCount); i++) {\n\n                const associatedCarrierIndex: number = (instrument.type == InstrumentType.fm6op ? instrument.customAlgorithm.associatedCarrier[i]-1:Config.algorithms[instrument.algorithm].associatedCarrier[i] - 1);\n                const pitch: number = tone.pitches[arpeggiates ? 0 : ((i < tone.pitchCount) ? i : ((associatedCarrierIndex < tone.pitchCount) ? associatedCarrierIndex : 0))];\n                const freqMult = Config.operatorFrequencies[instrument.operators[i].frequency].mult;\n                const interval = Config.operatorCarrierInterval[associatedCarrierIndex] + arpeggioInterval;\n                const pitchStart: number = basePitch + (pitch + intervalStart) * intervalScale + interval;\n                const pitchEnd: number = basePitch + (pitch + intervalEnd) * intervalScale + interval;\n                const baseFreqStart: number = Instrument.frequencyFromPitch(pitchStart);\n                const baseFreqEnd: number = Instrument.frequencyFromPitch(pitchEnd);\n                const hzOffset: number = Config.operatorFrequencies[instrument.operators[i].frequency].hzOffset;\n                const targetFreqStart: number = freqMult * baseFreqStart + hzOffset;\n                const targetFreqEnd: number = freqMult * baseFreqEnd + hzOffset;\n\n                \n                const freqEnvelopeStart: number = envelopeStarts[EnvelopeComputeIndex.operatorFrequency0 + i];\n                const freqEnvelopeEnd: number = envelopeEnds[EnvelopeComputeIndex.operatorFrequency0 + i];\n                let freqStart: number;\n                let freqEnd: number;\n                if (freqEnvelopeStart != 1.0 || freqEnvelopeEnd != 1.0) {\n                    freqStart = Math.pow(2.0, Math.log2(targetFreqStart / baseFreqStart) * freqEnvelopeStart) * baseFreqStart;\n                    freqEnd = Math.pow(2.0, Math.log2(targetFreqEnd / baseFreqEnd) * freqEnvelopeEnd) * baseFreqEnd;\n                } else {\n                    freqStart = targetFreqStart;\n                    freqEnd = targetFreqEnd;\n                }\n                tone.phaseDeltas[i] = freqStart * sampleTime;\n                tone.phaseDeltaScales[i] = Math.pow(freqEnd / freqStart, 1.0 / roundedSamplesPerTick);\n\n                let amplitudeStart: number = instrument.operators[i].amplitude;\n                let amplitudeEnd: number = instrument.operators[i].amplitude;\n                if (i < 4){\n                    if (this.isModActive(Config.modulators.dictionary[\"fm slider 1\"].index + i, channelIndex, tone.instrumentIndex)) {\n                        amplitudeStart *= this.getModValue(Config.modulators.dictionary[\"fm slider 1\"].index + i, channelIndex, tone.instrumentIndex, false) / 15.0;\n                        amplitudeEnd *= this.getModValue(Config.modulators.dictionary[\"fm slider 1\"].index + i, channelIndex, tone.instrumentIndex, true) / 15.0;\n                    }\n                } else {\n                    if (this.isModActive(Config.modulators.dictionary[\"fm slider 5\"].index + i-4, channelIndex, tone.instrumentIndex)) {\n                        amplitudeStart *= this.getModValue(Config.modulators.dictionary[\"fm slider 5\"].index + i-4, channelIndex, tone.instrumentIndex, false) / 15.0;\n                        amplitudeEnd *= this.getModValue(Config.modulators.dictionary[\"fm slider 5\"].index + i-4, channelIndex, tone.instrumentIndex, true) / 15.0;\n                    }\n                }\n\n                const amplitudeCurveStart: number = Synth.operatorAmplitudeCurve(amplitudeStart);\n                const amplitudeCurveEnd: number = Synth.operatorAmplitudeCurve(amplitudeEnd);\n                const amplitudeMultStart: number = amplitudeCurveStart * Config.operatorFrequencies[instrument.operators[i].frequency].amplitudeSign;\n                const amplitudeMultEnd: number = amplitudeCurveEnd * Config.operatorFrequencies[instrument.operators[i].frequency].amplitudeSign;\n\n                let expressionStart: number = amplitudeMultStart;\n                let expressionEnd: number = amplitudeMultEnd;\n\n\n                if (i < carrierCount) {\n                    // carrier\n                    let pitchExpressionStart: number;\n                    if (tone.prevPitchExpressions[i] != null) {\n                        pitchExpressionStart = tone.prevPitchExpressions[i]!;\n                    } else {\n                        pitchExpressionStart = Math.pow(2.0, -(pitchStart - expressionReferencePitch) / pitchDamping);\n                    }\n                    const pitchExpressionEnd: number = Math.pow(2.0, -(pitchEnd - expressionReferencePitch) / pitchDamping);\n                    tone.prevPitchExpressions[i] = pitchExpressionEnd;\n                    expressionStart *= pitchExpressionStart;\n                    expressionEnd *= pitchExpressionEnd;\n\n                    totalCarrierExpression += amplitudeCurveEnd;\n                } else {\n                    // modulator\n                    expressionStart *= Config.sineWaveLength * 1.5;\n                    expressionEnd *= Config.sineWaveLength * 1.5;\n\n                    sineExpressionBoost *= 1.0 - Math.min(1.0, instrument.operators[i].amplitude / 15);\n                }\n\n                expressionStart *= envelopeStarts[EnvelopeComputeIndex.operatorAmplitude0 + i];\n                expressionEnd *= envelopeEnds[EnvelopeComputeIndex.operatorAmplitude0 + i];\n\n                // Check for mod-related volume delta\n                // @jummbus - This amplification is also applied to modulator FM operators which distorts the sound.\n                // The fix is to apply this only to carriers, but as this is a legacy bug and it can cause some interesting sounds, it's left in.\n                // You can use the mix volume modulator instead to avoid this effect.\n\n                if (this.isModActive(Config.modulators.dictionary[\"note volume\"].index, channelIndex, tone.instrumentIndex)) {\n                    // Linear falloff below 0, normal volume formula above 0. Seems to work best for scaling since the normal volume mult formula has a big gap from -25 to -24.\n                    const startVal: number = this.getModValue(Config.modulators.dictionary[\"note volume\"].index, channelIndex, tone.instrumentIndex, false);\n                    const endVal: number = this.getModValue(Config.modulators.dictionary[\"note volume\"].index, channelIndex, tone.instrumentIndex, true);\n                    expressionStart *= ((startVal <= 0) ? ((startVal + Config.volumeRange / 2) / (Config.volumeRange / 2)) : Synth.instrumentVolumeToVolumeMult(startVal));\n                    expressionEnd *= ((endVal <= 0) ? ((endVal + Config.volumeRange / 2) / (Config.volumeRange / 2)) : Synth.instrumentVolumeToVolumeMult(endVal));\n                }\n\n                tone.operatorExpressions[i] = expressionStart;\n                tone.operatorExpressionDeltas[i] = (expressionEnd - expressionStart) / roundedSamplesPerTick;\n\n            }\n\n            sineExpressionBoost *= (Math.pow(2.0, (2.0 - 1.4 * instrument.feedbackAmplitude / 15.0)) - 1.0) / 3.0;\n            sineExpressionBoost *= 1.0 - Math.min(1.0, Math.max(0.0, totalCarrierExpression - 1) / 2.0);\n            sineExpressionBoost = 1.0 + sineExpressionBoost * 3.0;\n            const expressionStart: number = baseExpression * sineExpressionBoost * noteFilterExpression * fadeExpressionStart * chordExpressionStart * envelopeStarts[EnvelopeComputeIndex.noteVolume];\n            const expressionEnd: number = baseExpression * sineExpressionBoost * noteFilterExpression * fadeExpressionEnd * chordExpressionEnd * envelopeEnds[EnvelopeComputeIndex.noteVolume];\n            tone.expression = expressionStart;\n            tone.expressionDelta = (expressionEnd - expressionStart) / roundedSamplesPerTick;\n\n\n            let useFeedbackAmplitudeStart: number = instrument.feedbackAmplitude;\n            let useFeedbackAmplitudeEnd: number = instrument.feedbackAmplitude;\n            if (this.isModActive(Config.modulators.dictionary[\"fm feedback\"].index, channelIndex, tone.instrumentIndex)) {\n                useFeedbackAmplitudeStart *= this.getModValue(Config.modulators.dictionary[\"fm feedback\"].index, channelIndex, tone.instrumentIndex, false) / 15.0;\n                useFeedbackAmplitudeEnd *= this.getModValue(Config.modulators.dictionary[\"fm feedback\"].index, channelIndex, tone.instrumentIndex, true) / 15.0;\n            }\n\n            let feedbackAmplitudeStart: number = Config.sineWaveLength * 0.3 * useFeedbackAmplitudeStart / 15.0;\n            const feedbackAmplitudeEnd: number = Config.sineWaveLength * 0.3 * useFeedbackAmplitudeEnd / 15.0;\n\n            let feedbackStart: number = feedbackAmplitudeStart * envelopeStarts[EnvelopeComputeIndex.feedbackAmplitude];\n            let feedbackEnd: number = feedbackAmplitudeEnd * envelopeEnds[EnvelopeComputeIndex.feedbackAmplitude];\n            tone.feedbackMult = feedbackStart;\n            tone.feedbackDelta = (feedbackEnd - feedbackStart) / roundedSamplesPerTick;\n\n\n        } else {\n            const basePhaseDeltaScale: number = Math.pow(2.0, ((intervalEnd - intervalStart) * intervalScale / 12.0) / roundedSamplesPerTick);\n\n            let pitch: number = tone.pitches[0];\n            if (tone.pitchCount > 1 && (chord.arpeggiates || chord.customInterval)) {\n                const arpeggio: number = Math.floor(instrument.arpTime / Config.ticksPerArpeggio);\n                if (chord.customInterval) {\n                    const intervalOffset: number = tone.pitches[1 + getArpeggioPitchIndex(tone.pitchCount - 1, instrument.fastTwoNoteArp, arpeggio)] - tone.pitches[0];\n                    specialIntervalMult = Math.pow(2.0, intervalOffset / 12.0);\n                    tone.specialIntervalExpressionMult = Math.pow(2.0, -intervalOffset / pitchDamping);\n                } else {\n                    pitch = tone.pitches[getArpeggioPitchIndex(tone.pitchCount, instrument.fastTwoNoteArp, arpeggio)];\n                }\n            }\n\n            const startPitch: number = basePitch + (pitch + intervalStart) * intervalScale;\n            const endPitch: number = basePitch + (pitch + intervalEnd) * intervalScale;\n            let pitchExpressionStart: number;\n            // TODO: use the second element of prevPitchExpressions for the unison voice, compute a separate expression delta for it.\n            if (tone.prevPitchExpressions[0] != null) {\n                pitchExpressionStart = tone.prevPitchExpressions[0]!;\n            } else {\n                pitchExpressionStart = Math.pow(2.0, -(startPitch - expressionReferencePitch) / pitchDamping);\n            }\n            const pitchExpressionEnd: number = Math.pow(2.0, -(endPitch - expressionReferencePitch) / pitchDamping);\n            tone.prevPitchExpressions[0] = pitchExpressionEnd;\n            let settingsExpressionMult: number = baseExpression * noteFilterExpression;\n\n            if (instrument.type == InstrumentType.noise) {\n                settingsExpressionMult *= Config.chipNoises[instrument.chipNoise].expression;\n            }\n            if (instrument.type == InstrumentType.chip) {\n                settingsExpressionMult *= Config.chipWaves[instrument.chipWave].expression;\n            }\n            if (instrument.type == InstrumentType.pwm) {\n                const basePulseWidth: number = getPulseWidthRatio(instrument.pulseWidth);\n\n                // Check for PWM mods to this instrument\n                let pulseWidthModStart: number = basePulseWidth;\n                let pulseWidthModEnd: number = basePulseWidth;\n                if (this.isModActive(Config.modulators.dictionary[\"pulse width\"].index, channelIndex, tone.instrumentIndex)) {\n                    pulseWidthModStart = (this.getModValue(Config.modulators.dictionary[\"pulse width\"].index, channelIndex, tone.instrumentIndex, false)) / (Config.pulseWidthRange * 2);\n                    pulseWidthModEnd = (this.getModValue(Config.modulators.dictionary[\"pulse width\"].index, channelIndex, tone.instrumentIndex, true)) / (Config.pulseWidthRange * 2);\n                }\n\n                const pulseWidthStart: number = pulseWidthModStart * envelopeStarts[EnvelopeComputeIndex.pulseWidth];\n                const pulseWidthEnd: number = pulseWidthModEnd * envelopeEnds[EnvelopeComputeIndex.pulseWidth];\n                tone.pulseWidth = pulseWidthStart;\n                tone.pulseWidthDelta = (pulseWidthEnd - pulseWidthStart) / roundedSamplesPerTick;\n\n                //decimal offset mods\n                let decimalOffsetModStart: number = instrument.decimalOffset;\n                if (this.isModActive(Config.modulators.dictionary[\"decimal offset\"].index, channelIndex, tone.instrumentIndex)) {\n                    decimalOffsetModStart = this.getModValue(Config.modulators.dictionary[\"decimal offset\"].index, channelIndex, tone.instrumentIndex, false);\n                }\n \n                const decimalOffsetStart: number = decimalOffsetModStart * envelopeStarts[EnvelopeComputeIndex.decimalOffset];\n                tone.decimalOffset = decimalOffsetStart;\n                \n                tone.pulseWidth -= (tone.decimalOffset) / 10000;\n            }\n            if (instrument.type == InstrumentType.pickedString) {\n                // Check for sustain mods\n                let useSustainStart: number = instrument.stringSustain;\n                let useSustainEnd: number = instrument.stringSustain;\n                if (this.isModActive(Config.modulators.dictionary[\"sustain\"].index, channelIndex, tone.instrumentIndex)) {\n                    useSustainStart = this.getModValue(Config.modulators.dictionary[\"sustain\"].index, channelIndex, tone.instrumentIndex, false);\n                    useSustainEnd = this.getModValue(Config.modulators.dictionary[\"sustain\"].index, channelIndex, tone.instrumentIndex, true);\n                }\n\n                tone.stringSustainStart = useSustainStart;\n                tone.stringSustainEnd = useSustainEnd;\n\n                // Increase expression to compensate for string decay.\n                settingsExpressionMult *= Math.pow(2.0, 0.7 * (1.0 - useSustainStart / (Config.stringSustainRange - 1)));\n\n            }\n\n            const startFreq: number = Instrument.frequencyFromPitch(startPitch);\n            if (instrument.type == InstrumentType.chip || instrument.type == InstrumentType.customChipWave || instrument.type == InstrumentType.harmonics || instrument.type == InstrumentType.pickedString) {\n                // These instruments have two waves at different frequencies for the unison feature.\n                //const unison: Unison = Config.unisons[instrument.unison];\n                const unisonVoices: number = instrument.unisonVoices;\n                const unisonSpread: number = instrument.unisonSpread;\n                const unisonOffset: number = instrument.unisonOffset;\n                const unisonExpression: number = instrument.unisonExpression;\n                //const unisonSign: number = Config.unisons[instrument.unisonSign];\n                //const unison: Unison = [voices:, ];\n                const voiceCountExpression: number = (instrument.type == InstrumentType.pickedString) ? 1 : unisonVoices / 2.0;\n                settingsExpressionMult *= unisonExpression * voiceCountExpression;\n                const unisonEnvelopeStart = envelopeStarts[EnvelopeComputeIndex.unison];\n                const unisonEnvelopeEnd = envelopeEnds[EnvelopeComputeIndex.unison];\n                const unisonAStart: number = Math.pow(2.0, (unisonOffset + unisonSpread) * unisonEnvelopeStart / 12.0);\n                const unisonAEnd: number = Math.pow(2.0, (unisonOffset + unisonSpread) * unisonEnvelopeEnd / 12.0);\n                const unisonBStart: number = Math.pow(2.0, (unisonOffset - unisonSpread) * unisonEnvelopeStart / 12.0) * specialIntervalMult;\n                const unisonBEnd: number = Math.pow(2.0, (unisonOffset- unisonSpread) * unisonEnvelopeEnd / 12.0) * specialIntervalMult;\n                tone.phaseDeltas[0] = startFreq * sampleTime * unisonAStart;\n                tone.phaseDeltas[1] = startFreq * sampleTime * unisonBStart;\n                tone.phaseDeltaScales[0] = basePhaseDeltaScale * Math.pow(unisonAEnd / unisonAStart, 1.0 / roundedSamplesPerTick);\n                tone.phaseDeltaScales[1] = basePhaseDeltaScale * Math.pow(unisonBEnd / unisonBStart, 1.0 / roundedSamplesPerTick);\n            } else {\n                tone.phaseDeltas[0] = startFreq * sampleTime;\n                tone.phaseDeltaScales[0] = basePhaseDeltaScale;\n            }\n\n            let expressionStart: number = settingsExpressionMult * fadeExpressionStart * chordExpressionStart * pitchExpressionStart * envelopeStarts[EnvelopeComputeIndex.noteVolume];\n            let expressionEnd: number = settingsExpressionMult * fadeExpressionEnd * chordExpressionEnd * pitchExpressionEnd * envelopeEnds[EnvelopeComputeIndex.noteVolume];\n\n            // Check for mod-related volume delta\n            if (this.isModActive(Config.modulators.dictionary[\"note volume\"].index, channelIndex, tone.instrumentIndex)) {\n                // Linear falloff below 0, normal volume formula above 0. Seems to work best for scaling since the normal volume mult formula has a big gap from -25 to -24.\n                const startVal: number = this.getModValue(Config.modulators.dictionary[\"note volume\"].index, channelIndex, tone.instrumentIndex, false);\n                const endVal: number = this.getModValue(Config.modulators.dictionary[\"note volume\"].index, channelIndex, tone.instrumentIndex, true)\n                expressionStart *= ((startVal <= 0) ? ((startVal + Config.volumeRange / 2) / (Config.volumeRange / 2)) : Synth.instrumentVolumeToVolumeMult(startVal));\n                expressionEnd *= ((endVal <= 0) ? ((endVal + Config.volumeRange / 2) / (Config.volumeRange / 2)) : Synth.instrumentVolumeToVolumeMult(endVal));\n            }\n\n            tone.expression = expressionStart;\n            tone.expressionDelta = (expressionEnd - expressionStart) / roundedSamplesPerTick;\n\n\n            if (instrument.type == InstrumentType.pickedString) {\n                let stringDecayStart: number;\n                if (tone.prevStringDecay != null) {\n                    stringDecayStart = tone.prevStringDecay;\n                } else {\n                    const sustainEnvelopeStart: number = tone.envelopeComputer.envelopeStarts[EnvelopeComputeIndex.stringSustain];\n                    stringDecayStart = 1.0 - Math.min(1.0, sustainEnvelopeStart * tone.stringSustainStart / (Config.stringSustainRange - 1));\n                }\n                const sustainEnvelopeEnd: number = tone.envelopeComputer.envelopeEnds[EnvelopeComputeIndex.stringSustain];\n                let stringDecayEnd: number = 1.0 - Math.min(1.0, sustainEnvelopeEnd * tone.stringSustainEnd / (Config.stringSustainRange - 1));\n                tone.prevStringDecay = stringDecayEnd;\n\n                //const unison: Unison = Config.unisons[instrument.unison];\n                const unisonVoices: number = instrument.unisonVoices;\n                for (let i: number = tone.pickedStrings.length; i < unisonVoices; i++) {\n                    tone.pickedStrings[i] = new PickedString();\n                }\n\n                if (tone.atNoteStart && !transition.continues && !tone.forceContinueAtStart) {\n                    for (const pickedString of tone.pickedStrings) {\n                        // Force the picked string to retrigger the attack impulse at the start of the note.\n                        pickedString.delayIndex = -1;\n                    }\n                }\n\n                for (let i: number = 0; i < unisonVoices; i++) {\n                    tone.pickedStrings[i].update(this, instrumentState, tone, i, roundedSamplesPerTick, stringDecayStart, stringDecayEnd);\n                }\n            }\n        }\n    }\n\n    public static getLFOAmplitude(instrument: Instrument, secondsIntoBar: number): number {\n        let effect: number = 0.0;\n        for (const vibratoPeriodSeconds of Config.vibratoTypes[instrument.vibratoType].periodsSeconds) {\n            effect += Math.sin(Math.PI * 2.0 * secondsIntoBar / vibratoPeriodSeconds);\n        }\n        return effect;\n    }\n\n\n    public static getInstrumentSynthFunction(instrument: Instrument): Function {\n        if (instrument.type == InstrumentType.fm) {\n            const fingerprint: string = instrument.algorithm + \"_\" + instrument.feedbackType;\n            if (Synth.fmSynthFunctionCache[fingerprint] == undefined) {\n                const synthSource: string[] = [];\n\n                for (const line of Synth.fmSourceTemplate) {\n                    if (line.indexOf(\"// CARRIER OUTPUTS\") != -1) {\n                        const outputs: string[] = [];\n                        for (let j: number = 0; j < Config.algorithms[instrument.algorithm].carrierCount; j++) {\n                            outputs.push(\"operator\" + j + \"Scaled\");\n                        }\n                        synthSource.push(line.replace(\"/*operator#Scaled*/\", outputs.join(\" + \")));\n                    } else if (line.indexOf(\"// INSERT OPERATOR COMPUTATION HERE\") != -1) {\n                        for (let j: number = Config.operatorCount - 1; j >= 0; j--) {\n                            for (const operatorLine of Synth.operatorSourceTemplate) {\n                                if (operatorLine.indexOf(\"/* + operator@Scaled*/\") != -1) {\n                                    let modulators = \"\";\n                                    for (const modulatorNumber of Config.algorithms[instrument.algorithm].modulatedBy[j]) {\n                                        modulators += \" + operator\" + (modulatorNumber - 1) + \"Scaled\";\n                                    }\n\n                                    const feedbackIndices: ReadonlyArray<number> = Config.feedbacks[instrument.feedbackType].indices[j];\n                                    if (feedbackIndices.length > 0) {\n                                        modulators += \" + feedbackMult * (\";\n                                        const feedbacks: string[] = [];\n                                        for (const modulatorNumber of feedbackIndices) {\n                                            feedbacks.push(\"operator\" + (modulatorNumber - 1) + \"Output\");\n                                        }\n                                        modulators += feedbacks.join(\" + \") + \")\";\n                                    }\n                                    synthSource.push(operatorLine.replace(/\\#/g, j + \"\").replace(\"/* + operator@Scaled*/\", modulators));\n                                } else {\n                                    synthSource.push(operatorLine.replace(/\\#/g, j + \"\"));\n                                }\n                            }\n                        }\n                    } else if (line.indexOf(\"#\") != -1) {\n                        for (let j: number = 0; j < Config.operatorCount; j++) {\n                            synthSource.push(line.replace(/\\#/g, j + \"\"));\n                        }\n                    } else {\n                        synthSource.push(line);\n                    }\n                }\n\n                //console.log(synthSource.join(\"\\n\"));\n\n                Synth.fmSynthFunctionCache[fingerprint] = new Function(\"synth\", \"bufferIndex\", \"roundedSamplesPerTick\", \"tone\", \"instrumentState\", synthSource.join(\"\\n\"));\n            }\n            return Synth.fmSynthFunctionCache[fingerprint];\n        } else if (instrument.type == InstrumentType.chip) {\n\t\t                 // advloop addition\n                if (instrument.isUsingAdvancedLoopControls) {\n                    return Synth.loopableChipSynth;\n                }\n                // advloop addition\n            return Synth.chipSynth;\n        } else if (instrument.type == InstrumentType.customChipWave) {\n            return Synth.chipSynth;\n        } else if (instrument.type == InstrumentType.harmonics) {\n            return Synth.harmonicsSynth;\n        } else if (instrument.type == InstrumentType.pwm) {\n            return Synth.pulseWidthSynth;\n        } else if (instrument.type == InstrumentType.pickedString) {\n            return Synth.pickedStringSynth;\n        } else if (instrument.type == InstrumentType.noise) {\n            return Synth.noiseSynth;\n        } else if (instrument.type == InstrumentType.spectrum) {\n            return Synth.spectrumSynth;\n        } else if (instrument.type == InstrumentType.drumset) {\n            return Synth.drumsetSynth;\n        } else if (instrument.type == InstrumentType.mod) {\n            return Synth.modSynth;\n        } else if (instrument.type == InstrumentType.fm6op) {\n            const fingerprint: string = instrument.customAlgorithm.name + \"_\" + instrument.customFeedbackType.name;\n            if (Synth.fm6SynthFunctionCache[fingerprint] == undefined) {\n                const synthSource: string[] = [];\n\n                for (const line of Synth.fmSourceTemplate) {\n                    if (line.indexOf(\"// CARRIER OUTPUTS\") != -1) {\n                        const outputs: string[] = [];\n                        for (let j: number = 0; j < instrument.customAlgorithm.carrierCount; j++) {\n                            outputs.push(\"operator\" + j + \"Scaled\");\n                        }\n                        synthSource.push(line.replace(\"/*operator#Scaled*/\", outputs.join(\" + \")));\n                    } else if (line.indexOf(\"// INSERT OPERATOR COMPUTATION HERE\") != -1) {\n                        for (let j: number = Config.operatorCount+2 - 1; j >= 0; j--) {\n                            for (const operatorLine of Synth.operatorSourceTemplate) {\n                                if (operatorLine.indexOf(\"/* + operator@Scaled*/\") != -1) {\n                                    let modulators = \"\";\n                                    for (const modulatorNumber of instrument.customAlgorithm.modulatedBy[j]) {\n                                        modulators += \" + operator\" + (modulatorNumber - 1) + \"Scaled\";\n                                    }\n\n                                    const feedbackIndices: ReadonlyArray<number> = instrument.customFeedbackType.indices[j];\n                                    if (feedbackIndices.length > 0) {\n                                        modulators += \" + feedbackMult * (\";\n                                        const feedbacks: string[] = [];\n                                        for (const modulatorNumber of feedbackIndices) {\n                                            feedbacks.push(\"operator\" + (modulatorNumber - 1) + \"Output\");\n                                        }\n                                        modulators += feedbacks.join(\" + \") + \")\";\n                                    }\n                                    synthSource.push(operatorLine.replace(/\\#/g, j + \"\").replace(\"/* + operator@Scaled*/\", modulators));\n                                } else {\n                                    synthSource.push(operatorLine.replace(/\\#/g, j + \"\"));\n                                }\n                            }\n                        }\n                    } else if (line.indexOf(\"#\") != -1) {\n                        for (let j = 0; j < Config.operatorCount+2; j++) {\n                            synthSource.push(line.replace(/\\#/g, j + \"\"));\n                        }\n                    } else {\n                        synthSource.push(line);\n                    }\n                }\n\n                //console.log(synthSource.join(\"\\n\"));\n\n                Synth.fm6SynthFunctionCache[fingerprint] = new Function(\"synth\", \"bufferIndex\", \"roundedSamplesPerTick\", \"tone\", \"instrumentState\", synthSource.join(\"\\n\"));\n            }\n            return Synth.fm6SynthFunctionCache[fingerprint];\n        }else{\n            throw new Error(\"Unrecognized instrument type: \" + instrument.type);\n        }\n    }\n// advloop addition\n        static wrap(x: number, b: number): number {\n            return (x % b + b) % b;\n        }\n        static loopableChipSynth(synth: Synth, bufferIndex: number, roundedSamplesPerTick: number, tone: Tone, instrumentState: InstrumentState): void {\n            // @TODO:\n            // - Longer declicking? This is more difficult than I thought.\n            //   When determining this automatically is difficult (or the input\n            //   samples are expected to vary too much), this is left up to the\n            //   user.\n            const aliases: boolean = (effectsIncludeDistortion(instrumentState.effects) && instrumentState.aliases);\n            // const aliases = false;\n            const data: Float32Array = synth.tempMonoInstrumentSampleBuffer!;\n            const wave: Float32Array = instrumentState.wave!;\n            const volumeScale: number = instrumentState.volumeScale;\n            const waveLength: number = (aliases && instrumentState.type == 8) ? wave.length : wave.length - 1;\n            let chipWaveLoopEnd: number = Math.max(0, Math.min(waveLength, instrumentState.chipWaveLoopEnd));\n            let chipWaveLoopStart: number = Math.max(0, Math.min(chipWaveLoopEnd - 1, instrumentState.chipWaveLoopStart));\n\t\t\t// @TODO: This is where to set things up for the release loop mode.\n           // const ticksSinceReleased = tone.ticksSinceReleased;\n            // if (ticksSinceReleased > 0) {\n            //     chipWaveLoopStart = 0;\n            //     chipWaveLoopEnd = waveLength - 1;\n            // }\n            let chipWaveLoopLength: number = chipWaveLoopEnd - chipWaveLoopStart;\n\t\t\tif (chipWaveLoopLength < 2) {\n                chipWaveLoopStart = 0;\n                chipWaveLoopEnd = waveLength;\n                chipWaveLoopLength = waveLength;\n            }\n            const chipWaveLoopMode: number = instrumentState.chipWaveLoopMode;\n            const chipWavePlayBackwards: boolean = instrumentState.chipWavePlayBackwards;\n            const unisonSign: number = tone.specialIntervalExpressionMult * instrumentState.unisonSign;\n            if (instrumentState.unisonVoices == 1 && !instrumentState.chord!.customInterval)\n                tone.phases[1] = tone.phases[0];\n            let phaseDeltaA: number = tone.phaseDeltas[0] * waveLength;\n            let phaseDeltaB: number = tone.phaseDeltas[1] * waveLength;\n            let directionA: number = tone.directions[0];\n            let directionB: number = tone.directions[1];\n            let chipWaveCompletionA: number = tone.chipWaveCompletions[0];\n            let chipWaveCompletionB: number = tone.chipWaveCompletions[1];\n            if (chipWaveLoopMode === 3 || chipWaveLoopMode === 2 || chipWaveLoopMode === 0) {\n                // If playing once or looping, we force the correct direction,\n                // since it shouldn't really change. This is mostly so that if\n                // the mode is changed midway through playback, it won't get\n                // stuck on the wrong direction.\n                if (!chipWavePlayBackwards) {\n                    directionA = 1;\n                    directionB = 1;\n                } else {\n                    directionA = -1;\n                    directionB = -1;\n                }\n            }\n            if (chipWaveLoopMode === 0 || chipWaveLoopMode === 1) {\n                // If looping or ping-ponging, we clear the completion status,\n                // as it's not relevant anymore. This is mostly so that if the\n                // mode is changed midway through playback, it won't get stuck\n                // on zero volume.\n                chipWaveCompletionA = 0;\n                chipWaveCompletionB = 0;\n            }\n            let lastWaveA: number = tone.chipWaveCompletionsLastWave[0];\n            let lastWaveB: number = tone.chipWaveCompletionsLastWave[1];\n            const chipWaveCompletionFadeLength: number = 1000;\n            const phaseDeltaScaleA: number = +tone.phaseDeltaScales[0];\n            const phaseDeltaScaleB: number = +tone.phaseDeltaScales[1];\n            let expression: number = +tone.expression;\n            const expressionDelta: number = +tone.expressionDelta;\n            let phaseA: number = Synth.wrap(tone.phases[0], 1) * waveLength;\n            let phaseB: number = Synth.wrap(tone.phases[1], 1) * waveLength;\n            let prevWaveIntegralA: number = 0;\n            let prevWaveIntegralB: number = 0;\n            if (!aliases) {\n                const phaseAInt = Math.floor(phaseA);\n                const phaseBInt = Math.floor(phaseB);\n                const indexA = Synth.wrap(phaseAInt, waveLength);\n               const indexB = Synth.wrap(phaseBInt, waveLength);\n                const phaseRatioA = phaseA - phaseAInt;\n                const phaseRatioB = phaseB - phaseBInt;\n                prevWaveIntegralA = +wave[indexA];\n                prevWaveIntegralB = +wave[indexB];\n                prevWaveIntegralA += (wave[Synth.wrap(indexA + 1, waveLength)] - prevWaveIntegralA) * phaseRatioA;\n                prevWaveIntegralB += (wave[Synth.wrap(indexB + 1, waveLength)] - prevWaveIntegralB) * phaseRatioB;\n           }\n            const filters = tone.noteFilters;\n            const filterCount: number = tone.noteFilterCount | 0;\n            let initialFilterInput1: number = +tone.initialNoteFilterInput1;\n            let initialFilterInput2: number = +tone.initialNoteFilterInput2;\n            const applyFilters: Function = Synth.applyFilters;\n            const stopIndex: number = bufferIndex + roundedSamplesPerTick;\n            let prevWaveA: number = tone.chipWavePrevWaves[0];\n            let prevWaveB: number = tone.chipWavePrevWaves[1];\n            for (let sampleIndex: number = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n                if (chipWaveCompletionA > 0 && chipWaveCompletionA < chipWaveCompletionFadeLength) {\n                    chipWaveCompletionA++;\n                }\n                if (chipWaveCompletionB > 0 && chipWaveCompletionB < chipWaveCompletionFadeLength) {\n                    chipWaveCompletionB++;\n                }\n               let wrapped: number = 0;\n                phaseA += phaseDeltaA * directionA;\n                phaseB += phaseDeltaB * directionB;\n                if (chipWaveLoopMode === 2) {\n                    // once\n                    if (directionA === 1) {\n                        if (phaseA > waveLength) {\n                            if (chipWaveCompletionA <= 0) {\n                                lastWaveA = prevWaveA;\n                                chipWaveCompletionA++;\n                            }\n                            wrapped = 1;\n                        }\n                    } else if (directionA === -1) {\n                        if (phaseA < 0) {\n                            if (chipWaveCompletionA <= 0) {\n                                lastWaveA = prevWaveA;\n                                chipWaveCompletionA++;\n                            }\n                            wrapped = 1;\n                        }\n                    }\n                    if (directionB === 1) {\n                        if (phaseB > waveLength) {\n                            if (chipWaveCompletionB <= 0) {\n                                lastWaveB = prevWaveB;\n                                chipWaveCompletionB++;\n                            }\n                            wrapped = 1;\n                        }\n                    } else if (directionA === -1) {\n                        if (phaseB < 0) {\n                            if (chipWaveCompletionB <= 0) {\n                                lastWaveB = prevWaveB;\n                                chipWaveCompletionB++;\n                            }\n                            wrapped = 1;\n                        }\n                    }\n                } else if (chipWaveLoopMode === 3) {\n                    // loop once\n                    if (directionA === 1) {\n                        if (phaseA > chipWaveLoopEnd) {\n                            if (chipWaveCompletionA <= 0) {\n                                lastWaveA = prevWaveA;\n                                chipWaveCompletionA++;\n                            }\n                            wrapped = 1;\n                        }\n                    } else if (directionA === -1) {\n                        if (phaseA < chipWaveLoopStart) {\n                            if (chipWaveCompletionA <= 0) {\n                                lastWaveA = prevWaveA;\n                                chipWaveCompletionA++;\n                            }\n                            wrapped = 1;\n                        }\n                    }\n                    if (directionB === 1) {\n                        if (phaseB > chipWaveLoopEnd) {\n                            if (chipWaveCompletionB <= 0) {\n                                lastWaveB = prevWaveB;\n                                chipWaveCompletionB++;\n                            }\n                            wrapped = 1;\n                        }\n                    } else if (directionA === -1) {\n                        if (phaseB < chipWaveLoopStart) {\n                            if (chipWaveCompletionB <= 0) {\n                                lastWaveB = prevWaveB;\n                                chipWaveCompletionB++;\n                            }\n                            wrapped = 1;\n                        }\n                    }\n                } else if (chipWaveLoopMode === 0) {\n                    // loop\n                    if (directionA === 1) {\n                        if (phaseA > chipWaveLoopEnd) {\n                            phaseA = chipWaveLoopStart + Synth.wrap(phaseA - chipWaveLoopEnd, chipWaveLoopLength);\n                            // phaseA = chipWaveLoopStart;\n                            wrapped = 1;\n                        }\n                    } else if (directionA === -1) {\n                        if (phaseA < chipWaveLoopStart) {\n                            phaseA = chipWaveLoopEnd - Synth.wrap(chipWaveLoopStart - phaseA, chipWaveLoopLength);\n                            // phaseA = chipWaveLoopEnd;\n                            wrapped = 1;\n                        }\n                    }\n                    if (directionB === 1) {\n                        if (phaseB > chipWaveLoopEnd) {\n                            phaseB = chipWaveLoopStart + Synth.wrap(phaseB - chipWaveLoopEnd, chipWaveLoopLength);\n                            // phaseB = chipWaveLoopStart;\n                            wrapped = 1;\n                        }\n                    } else if (directionB === -1) {\n                        if (phaseB < chipWaveLoopStart) {\n                            phaseB = chipWaveLoopEnd - Synth.wrap(chipWaveLoopStart - phaseB, chipWaveLoopLength);\n                            // phaseB = chipWaveLoopEnd;\n                            wrapped = 1;\n                        }\n                    }\n                } else if (chipWaveLoopMode === 1) {\n                    // ping-pong\n                    if (directionA === 1) {\n                        if (phaseA > chipWaveLoopEnd) {\n                            phaseA = chipWaveLoopEnd - Synth.wrap(phaseA - chipWaveLoopEnd, chipWaveLoopLength);\n                            // phaseA = chipWaveLoopEnd;\n                            directionA = -1;\n                           wrapped = 1;\n                        }\n                    } else if (directionA === -1) {\n                        if (phaseA < chipWaveLoopStart) {\n                            phaseA = chipWaveLoopStart + Synth.wrap(chipWaveLoopStart - phaseA, chipWaveLoopLength);\n                            // phaseA = chipWaveLoopStart;\n                            directionA = 1;\n                           wrapped = 1;\n                        }\n                    }\n                    if (directionB === 1) {\n                        if (phaseB > chipWaveLoopEnd) {\n                            phaseB = chipWaveLoopEnd - Synth.wrap(phaseB - chipWaveLoopEnd, chipWaveLoopLength);\n                            // phaseB = chipWaveLoopEnd;\n                            directionB = -1;\n                            wrapped = 1;\n                        }\n                    } else if (directionB === -1) {\n                        if (phaseB < chipWaveLoopStart) {\n                            phaseB = chipWaveLoopStart + Synth.wrap(chipWaveLoopStart - phaseB, chipWaveLoopLength);\n                            // phaseB = chipWaveLoopStart;\n                            directionB = 1;\n                            wrapped = 1;\n                        }\n                    }\n               }\n                let waveA = 0;\n                let waveB = 0;\n                let inputSample = 0;\n                if (aliases) {\n                    waveA = wave[Synth.wrap(Math.floor(phaseA), waveLength)];\n                    waveB = wave[Synth.wrap(Math.floor(phaseB), waveLength)];\n                    prevWaveA = waveA;\n                    prevWaveB = waveB;\n                    const completionFadeA: number = chipWaveCompletionA > 0 ? ((chipWaveCompletionFadeLength - Math.min(chipWaveCompletionA, chipWaveCompletionFadeLength)) / chipWaveCompletionFadeLength) : 1;\n                    const completionFadeB: number = chipWaveCompletionB > 0 ? ((chipWaveCompletionFadeLength - Math.min(chipWaveCompletionB, chipWaveCompletionFadeLength)) / chipWaveCompletionFadeLength) : 1;\n                    inputSample = 0;\n                    if (chipWaveCompletionA > 0) {\n                        inputSample += lastWaveA * completionFadeA;\n                    } else {\n                        inputSample += waveA;\n                    }\n                    if (chipWaveCompletionB > 0) {\n                        inputSample += lastWaveB * completionFadeB;\n                    } else {\n                        inputSample += waveB;\n                    }\n                }\n                else {\n                    const phaseAInt = Math.floor(phaseA);\n                    const phaseBInt = Math.floor(phaseB);\n                    const indexA = Synth.wrap(phaseAInt, waveLength);\n                    const indexB = Synth.wrap(phaseBInt, waveLength);\n                    let nextWaveIntegralA = wave[indexA];\n                    let nextWaveIntegralB = wave[indexB];\n                    const phaseRatioA = phaseA - phaseAInt;\n                    const phaseRatioB = phaseB - phaseBInt;\n                    nextWaveIntegralA += (wave[Synth.wrap(indexA + 1, waveLength)] - nextWaveIntegralA) * phaseRatioA;\n                    nextWaveIntegralB += (wave[Synth.wrap(indexB + 1, waveLength)] - nextWaveIntegralB) * phaseRatioB;\n                    if (!(chipWaveLoopMode === 0 && chipWaveLoopStart === 0 && chipWaveLoopEnd === waveLength) && wrapped !== 0) {\n                        let pwia = 0;\n                        let pwib = 0;\n                        const phaseA_ = Math.max(0, phaseA - phaseDeltaA * directionA);\n                        const phaseB_ = Math.max(0, phaseB - phaseDeltaB * directionB);\n                        const phaseAInt = Math.floor(phaseA_);\n                        const phaseBInt = Math.floor(phaseB_);\n                        const indexA = Synth.wrap(phaseAInt, waveLength);\n                        const indexB = Synth.wrap(phaseBInt, waveLength);\n                        pwia = wave[indexA];\n                        pwib = wave[indexB];\n                        pwia += (wave[Synth.wrap(indexA + 1, waveLength)] - pwia) * (phaseA_ - phaseAInt) * directionA;\n                        pwib += (wave[Synth.wrap(indexB + 1, waveLength)] - pwib) * (phaseB_ - phaseBInt) * directionB;\n                        prevWaveIntegralA = pwia;\n                        prevWaveIntegralB = pwib;\n\t\t\t\t   }\n                   if (chipWaveLoopMode === 1 && wrapped !== 0) {\n                       waveA = prevWaveA;\n                       waveB = prevWaveB;\n                   } else {\n                       waveA = (nextWaveIntegralA - prevWaveIntegralA) / (phaseDeltaA * directionA);\n                       waveB = (nextWaveIntegralB - prevWaveIntegralB) / (phaseDeltaB * directionB);\n                   }\n                   prevWaveA = waveA;\n                   prevWaveB = waveB;\n\t\t\t\t   prevWaveIntegralA = nextWaveIntegralA;\n\t\t\t\t   prevWaveIntegralB = nextWaveIntegralB;\n                    const completionFadeA = chipWaveCompletionA > 0 ? ((chipWaveCompletionFadeLength - Math.min(chipWaveCompletionA, chipWaveCompletionFadeLength)) / chipWaveCompletionFadeLength) : 1;\n                    const completionFadeB = chipWaveCompletionB > 0 ? ((chipWaveCompletionFadeLength - Math.min(chipWaveCompletionB, chipWaveCompletionFadeLength)) / chipWaveCompletionFadeLength) : 1;\n                    if (chipWaveCompletionA > 0) {\n                        inputSample += lastWaveA * completionFadeA;\n                    } else {\n                        inputSample += waveA;\n                    }\n                    if (chipWaveCompletionB > 0) {\n                        inputSample += lastWaveB * completionFadeB;\n                    } else {\n                        inputSample += waveB * unisonSign;\n                    }\n                }\n                const sample = applyFilters(inputSample * volumeScale, initialFilterInput1, initialFilterInput2, filterCount, filters);\n                initialFilterInput2 = initialFilterInput1;\n                initialFilterInput1 = inputSample * volumeScale;\n                phaseDeltaA *= phaseDeltaScaleA;\n                phaseDeltaB *= phaseDeltaScaleB;\n                const output = sample * expression;\n                expression += expressionDelta;\n                data[sampleIndex] += output;\n            }\n            tone.phases[0] = phaseA / waveLength;\n            tone.phases[1] = phaseB / waveLength;\n            tone.phaseDeltas[0] = phaseDeltaA / waveLength;\n            tone.phaseDeltas[1] = phaseDeltaB / waveLength;\n            tone.directions[0] = directionA;\n            tone.directions[1] = directionB;\n            tone.chipWaveCompletions[0] = chipWaveCompletionA;\n            tone.chipWaveCompletions[1] = chipWaveCompletionB;\n            tone.chipWavePrevWaves[0] = prevWaveA;\n            tone.chipWavePrevWaves[1] = prevWaveB;\n            tone.chipWaveCompletionsLastWave[0] = lastWaveA;\n            tone.chipWaveCompletionsLastWave[1] = lastWaveB;\n            tone.expression = expression;\n            synth.sanitizeFilters(filters);\n            tone.initialNoteFilterInput1 = initialFilterInput1;\n            tone.initialNoteFilterInput2 = initialFilterInput2;\n        }\n        // advloop addition\n    private static chipSynth(synth: Synth, bufferIndex: number, roundedSamplesPerTick: number, tone: Tone, instrumentState: InstrumentState): void {\n        const aliases: boolean = (effectsIncludeDistortion(instrumentState.effects) && instrumentState.aliases);\n        const data: Float32Array = synth.tempMonoInstrumentSampleBuffer!;\n        const wave: Float32Array = instrumentState.wave!;\n        const volumeScale = instrumentState.volumeScale;\n\n        const waveLength = (aliases && instrumentState.type == 8) ? wave.length : wave.length - 1;\n\t\t\t//BUGFIX FROM JUMMBOX\n\n        const unisonSign: number = tone.specialIntervalExpressionMult * instrumentState.unisonSign;\n        if (instrumentState.unisonVoices == 1 && !instrumentState.chord!.customInterval) tone.phases[1] = tone.phases[0];\n        let phaseDeltaA: number = tone.phaseDeltas[0] * waveLength;\n        let phaseDeltaB: number = tone.phaseDeltas[1] * waveLength;\n        const phaseDeltaScaleA: number = +tone.phaseDeltaScales[0];\n        const phaseDeltaScaleB: number = +tone.phaseDeltaScales[1];\n        let expression: number = +tone.expression;\n        const expressionDelta: number = +tone.expressionDelta;\n        let phaseA: number = (tone.phases[0] % 1) * waveLength;\n        let phaseB: number = (tone.phases[1] % 1) * waveLength;\n\n        const filters: DynamicBiquadFilter[] = tone.noteFilters;\n        const filterCount: number = tone.noteFilterCount | 0;\n        let initialFilterInput1: number = +tone.initialNoteFilterInput1;\n        let initialFilterInput2: number = +tone.initialNoteFilterInput2;\n        const applyFilters: Function = Synth.applyFilters;\n        let prevWaveIntegralA: number = 0;\n        let prevWaveIntegralB: number = 0;\n\n        if (!aliases) {\n            const phaseAInt: number = phaseA | 0;\n            const phaseBInt: number = phaseB | 0;\n            const indexA: number = phaseAInt % waveLength;\n            const indexB: number = phaseBInt % waveLength;\n            const phaseRatioA: number = phaseA - phaseAInt;\n            const phaseRatioB: number = phaseB - phaseBInt;\n            prevWaveIntegralA = +wave[indexA];\n            prevWaveIntegralB = +wave[indexB];\n            prevWaveIntegralA += (wave[indexA + 1] - prevWaveIntegralA) * phaseRatioA;\n            prevWaveIntegralB += (wave[indexB + 1] - prevWaveIntegralB) * phaseRatioB;\n        }\n\n        const stopIndex: number = bufferIndex + roundedSamplesPerTick;\n        for (let sampleIndex: number = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n\n            phaseA += phaseDeltaA;\n            phaseB += phaseDeltaB;\n\n            let waveA: number;\n            let waveB: number;\n            let inputSample: number;\n\n            if (aliases) {\n                waveA = wave[(0 | phaseA) % waveLength];\n                waveB = wave[(0 | phaseB) % waveLength];\n                inputSample = waveA + waveB;\n            } else {\n                const phaseAInt: number = phaseA | 0;\n                const phaseBInt: number = phaseB | 0;\n                const indexA: number = phaseAInt % waveLength;\n                const indexB: number = phaseBInt % waveLength;\n                let nextWaveIntegralA: number = wave[indexA];\n                let nextWaveIntegralB: number = wave[indexB];\n                const phaseRatioA: number = phaseA - phaseAInt;\n                const phaseRatioB: number = phaseB - phaseBInt;\n                nextWaveIntegralA += (wave[indexA + 1] - nextWaveIntegralA) * phaseRatioA;\n                nextWaveIntegralB += (wave[indexB + 1] - nextWaveIntegralB) * phaseRatioB;\n                waveA = (nextWaveIntegralA - prevWaveIntegralA) / phaseDeltaA;\n                waveB = (nextWaveIntegralB - prevWaveIntegralB) / phaseDeltaB;\n                prevWaveIntegralA = nextWaveIntegralA;\n                prevWaveIntegralB = nextWaveIntegralB;\n                inputSample = waveA + waveB * unisonSign;\n            }\n\n            const sample: number = applyFilters(inputSample * volumeScale, initialFilterInput1, initialFilterInput2, filterCount, filters);\n\t\t//BUGFIX FROM JUMMBOX\n            initialFilterInput2 = initialFilterInput1;\n            initialFilterInput1 = inputSample * volumeScale;\n\n            phaseDeltaA *= phaseDeltaScaleA;\n            phaseDeltaB *= phaseDeltaScaleB;\n\n            const output: number = sample * expression;\n\t\t//BUGFIX FROM JUMMBOX\n            expression += expressionDelta;\n\n            data[sampleIndex] += output;\n        }\n\n        tone.phases[0] = phaseA / waveLength;\n        tone.phases[1] = phaseB / waveLength;\n        tone.phaseDeltas[0] = phaseDeltaA / waveLength;\n        tone.phaseDeltas[1] = phaseDeltaB / waveLength;\n        tone.expression = expression;\n\n        synth.sanitizeFilters(filters);\n        tone.initialNoteFilterInput1 = initialFilterInput1;\n        tone.initialNoteFilterInput2 = initialFilterInput2;\n    }\n\n    private static harmonicsSynth(synth: Synth, bufferIndex: number, roundedSamplesPerTick: number, tone: Tone, instrumentState: InstrumentState): void {\n        const data: Float32Array = synth.tempMonoInstrumentSampleBuffer!;\n        const wave: Float32Array = instrumentState.wave!;\n        const waveLength: number = wave.length - 1; // The first sample is duplicated at the end, don't double-count it.\n\n        const unisonSign: number = tone.specialIntervalExpressionMult * instrumentState.unisonSign;\n        if (instrumentState.unisonVoices == 1 && !instrumentState.chord!.customInterval) tone.phases[1] = tone.phases[0];\n        let phaseDeltaA: number = tone.phaseDeltas[0] * waveLength;\n        let phaseDeltaB: number = tone.phaseDeltas[1] * waveLength;\n        const phaseDeltaScaleA: number = +tone.phaseDeltaScales[0];\n        const phaseDeltaScaleB: number = +tone.phaseDeltaScales[1];\n        let expression: number = +tone.expression;\n        const expressionDelta: number = +tone.expressionDelta;\n        let phaseA: number = (tone.phases[0] % 1) * waveLength;\n        let phaseB: number = (tone.phases[1] % 1) * waveLength;\n\n        const filters: DynamicBiquadFilter[] = tone.noteFilters;\n        const filterCount: number = tone.noteFilterCount | 0;\n        let initialFilterInput1: number = +tone.initialNoteFilterInput1;\n        let initialFilterInput2: number = +tone.initialNoteFilterInput2;\n        const applyFilters: Function = Synth.applyFilters;\n\n        const phaseAInt: number = phaseA | 0;\n        const phaseBInt: number = phaseB | 0;\n        const indexA: number = phaseAInt % waveLength;\n        const indexB: number = phaseBInt % waveLength;\n        const phaseRatioA: number = phaseA - phaseAInt;\n        const phaseRatioB: number = phaseB - phaseBInt;\n        let prevWaveIntegralA: number = +wave[indexA];\n        let prevWaveIntegralB: number = +wave[indexB];\n        prevWaveIntegralA += (wave[indexA + 1] - prevWaveIntegralA) * phaseRatioA;\n        prevWaveIntegralB += (wave[indexB + 1] - prevWaveIntegralB) * phaseRatioB;\n\n        const stopIndex: number = bufferIndex + roundedSamplesPerTick;\n        for (let sampleIndex: number = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n\n            phaseA += phaseDeltaA;\n            phaseB += phaseDeltaB;\n\n            const phaseAInt: number = phaseA | 0;\n            const phaseBInt: number = phaseB | 0;\n            const indexA: number = phaseAInt % waveLength;\n            const indexB: number = phaseBInt % waveLength;\n            let nextWaveIntegralA: number = wave[indexA];\n            let nextWaveIntegralB: number = wave[indexB];\n            const phaseRatioA: number = phaseA - phaseAInt;\n            const phaseRatioB: number = phaseB - phaseBInt;\n            nextWaveIntegralA += (wave[indexA + 1] - nextWaveIntegralA) * phaseRatioA;\n            nextWaveIntegralB += (wave[indexB + 1] - nextWaveIntegralB) * phaseRatioB;\n            const waveA: number = (nextWaveIntegralA - prevWaveIntegralA) / phaseDeltaA;\n            const waveB: number = (nextWaveIntegralB - prevWaveIntegralB) / phaseDeltaB;\n            prevWaveIntegralA = nextWaveIntegralA;\n            prevWaveIntegralB = nextWaveIntegralB;\n\n            const inputSample: number = waveA + waveB * unisonSign;\n            const sample: number = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n            initialFilterInput2 = initialFilterInput1;\n            initialFilterInput1 = inputSample;\n\n            phaseDeltaA *= phaseDeltaScaleA;\n            phaseDeltaB *= phaseDeltaScaleB;\n\n            const output: number = sample * expression;\n            expression += expressionDelta;\n\n            data[sampleIndex] += output;\n        }\n\n        tone.phases[0] = phaseA / waveLength;\n        tone.phases[1] = phaseB / waveLength;\n        tone.phaseDeltas[0] = phaseDeltaA / waveLength;\n        tone.phaseDeltas[1] = phaseDeltaB / waveLength;\n        tone.expression = expression;\n\n        synth.sanitizeFilters(filters);\n        tone.initialNoteFilterInput1 = initialFilterInput1;\n        tone.initialNoteFilterInput2 = initialFilterInput2;\n    }\n\n    private static pickedStringSynth(synth: Synth, bufferIndex: number, roundedSamplesPerTick: number, tone: Tone, instrumentState: InstrumentState): void {\n        // This algorithm is similar to the Karpluss-Strong algorithm in principle, but with an\n        // all-pass filter for dispersion and with more control over the impulse harmonics.\n        // The source code is processed as a string before being compiled, in order to\n        // handle the unison feature. If unison is disabled or set to none, then only one\n        // string voice is required, otherwise two string voices are required. We only want\n        // to compute the minimum possible number of string voices, so omit the code for\n        // processing extra ones if possible. Any line containing a \"#\" is duplicated for\n        // each required voice, replacing the \"#\" with the voice index.\n\n        const voiceCount: number = instrumentState.unisonVoices;\n        let pickedStringFunction: Function = Synth.pickedStringFunctionCache[voiceCount];\n        if (pickedStringFunction == undefined) {\n            let pickedStringSource: string = \"\";\n\n            pickedStringSource += `\n\t\t\t\tconst Config = beepbox.Config;\n\t\t\t\tconst Synth = beepbox.Synth;\n\t\t\t\tconst data = synth.tempMonoInstrumentSampleBuffer;\n\t\t\t\t\n\t\t\t\tlet pickedString# = tone.pickedStrings[#];\n\t\t\t\tlet allPassSample# = +pickedString#.allPassSample;\n\t\t\t\tlet allPassPrevInput# = +pickedString#.allPassPrevInput;\n\t\t\t\tlet shelfSample# = +pickedString#.shelfSample;\n\t\t\t\tlet shelfPrevInput# = +pickedString#.shelfPrevInput;\n\t\t\t\tlet fractionalDelaySample# = +pickedString#.fractionalDelaySample;\n\t\t\t\tconst delayLine# = pickedString#.delayLine;\n\t\t\t\tconst delayBufferMask# = (delayLine#.length - 1) >> 0;\n\t\t\t\tlet delayIndex# = pickedString#.delayIndex|0;\n\t\t\t\tdelayIndex# = (delayIndex# & delayBufferMask#) + delayLine#.length;\n\t\t\t\tlet delayLength# = +pickedString#.prevDelayLength;\n\t\t\t\tconst delayLengthDelta# = +pickedString#.delayLengthDelta;\n\t\t\t\tlet allPassG# = +pickedString#.allPassG;\n\t\t\t\tlet shelfA1# = +pickedString#.shelfA1;\n\t\t\t\tlet shelfB0# = +pickedString#.shelfB0;\n\t\t\t\tlet shelfB1# = +pickedString#.shelfB1;\n\t\t\t\tconst allPassGDelta# = +pickedString#.allPassGDelta;\n\t\t\t\tconst shelfA1Delta# = +pickedString#.shelfA1Delta;\n\t\t\t\tconst shelfB0Delta# = +pickedString#.shelfB0Delta;\n\t\t\t\tconst shelfB1Delta# = +pickedString#.shelfB1Delta;\n\t\t\t\t\n\t\t\t\tlet expression = +tone.expression;\n\t\t\t\tconst expressionDelta = +tone.expressionDelta;\n\t\t\t\t\n\t\t\t\tconst unisonSign = tone.specialIntervalExpressionMult * instrumentState.unisonSign;\n\t\t\t\tconst delayResetOffset# = pickedString#.delayResetOffset|0;\n\t\t\t\t\n\t\t\t\tconst filters = tone.noteFilters;\n\t\t\t\tconst filterCount = tone.noteFilterCount|0;\n\t\t\t\tlet initialFilterInput1 = +tone.initialNoteFilterInput1;\n\t\t\t\tlet initialFilterInput2 = +tone.initialNoteFilterInput2;\n\t\t\t\tconst applyFilters = Synth.applyFilters;\n\t\t\t\t\n\t\t\t\tconst stopIndex = bufferIndex + runLength;\n\t\t\t\tfor (let sampleIndex = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n\t\t\t\t\tconst targetSampleTime# = delayIndex# - delayLength#;\n\t\t\t\t\tconst lowerIndex# = (targetSampleTime# + 0.125) | 0; // Offset to improve stability of all-pass filter.\n\t\t\t\t\tconst upperIndex# = lowerIndex# + 1;\n\t\t\t\t\tconst fractionalDelay# = upperIndex# - targetSampleTime#;\n\t\t\t\t\tconst fractionalDelayG# = (1.0 - fractionalDelay#) / (1.0 + fractionalDelay#); // Inlined version of FilterCoefficients.prototype.allPass1stOrderFractionalDelay\n\t\t\t\t\tconst prevInput# = delayLine#[lowerIndex# & delayBufferMask#];\n\t\t\t\t\tconst input# = delayLine#[upperIndex# & delayBufferMask#];\n\t\t\t\t\tfractionalDelaySample# = fractionalDelayG# * input# + prevInput# - fractionalDelayG# * fractionalDelaySample#;\n\t\t\t\t\t\n\t\t\t\t\tallPassSample# = fractionalDelaySample# * allPassG# + allPassPrevInput# - allPassG# * allPassSample#;\n\t\t\t\t\tallPassPrevInput# = fractionalDelaySample#;\n\t\t\t\t\t\n\t\t\t\t\tshelfSample# = shelfB0# * allPassSample# + shelfB1# * shelfPrevInput# - shelfA1# * shelfSample#;\n\t\t\t\t\tshelfPrevInput# = allPassSample#;\n\t\t\t\t\t\n\t\t\t\t\tdelayLine#[delayIndex# & delayBufferMask#] += shelfSample#;\n\t\t\t\t\tdelayLine#[(delayIndex# + delayResetOffset#) & delayBufferMask#] = 0.0;\n\t\t\t\t\tdelayIndex#++;\n\t\t\t\t\t\n\t\t\t\t\tconst inputSample = (`\n\n            const sampleList: string[] = [];\n            for (let voice: number = 0; voice < voiceCount; voice++) {\n                sampleList.push(\"fractionalDelaySample\" + voice + (voice == 1 ? \" * unisonSign\" : \"\"));\n            }\n\n            pickedStringSource += sampleList.join(\" + \");\n\n            pickedStringSource += `) * expression;\n\t\t\t\t\tconst sample = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n\t\t\t\t\tinitialFilterInput2 = initialFilterInput1;\n\t\t\t\t\tinitialFilterInput1 = inputSample;\n\t\t\t\t\tdata[sampleIndex] += sample;\n\t\t\t\t\t\n\t\t\t\t\texpression += expressionDelta;\n\t\t\t\t\tdelayLength# += delayLengthDelta#;\n\t\t\t\t\tallPassG# += allPassGDelta#;\n\t\t\t\t\tshelfA1# += shelfA1Delta#;\n\t\t\t\t\tshelfB0# += shelfB0Delta#;\n\t\t\t\t\tshelfB1# += shelfB1Delta#;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Avoid persistent denormal or NaN values in the delay buffers and filter history.\n\t\t\t\tconst epsilon = (1.0e-24);\n\t\t\t\tif (!Number.isFinite(allPassSample#) || Math.abs(allPassSample#) < epsilon) allPassSample# = 0.0;\n\t\t\t\tif (!Number.isFinite(allPassPrevInput#) || Math.abs(allPassPrevInput#) < epsilon) allPassPrevInput# = 0.0;\n\t\t\t\tif (!Number.isFinite(shelfSample#) || Math.abs(shelfSample#) < epsilon) shelfSample# = 0.0;\n\t\t\t\tif (!Number.isFinite(shelfPrevInput#) || Math.abs(shelfPrevInput#) < epsilon) shelfPrevInput# = 0.0;\n\t\t\t\tif (!Number.isFinite(fractionalDelaySample#) || Math.abs(fractionalDelaySample#) < epsilon) fractionalDelaySample# = 0.0;\n\t\t\t\tpickedString#.allPassSample = allPassSample#;\n\t\t\t\tpickedString#.allPassPrevInput = allPassPrevInput#;\n\t\t\t\tpickedString#.shelfSample = shelfSample#;\n\t\t\t\tpickedString#.shelfPrevInput = shelfPrevInput#;\n\t\t\t\tpickedString#.fractionalDelaySample = fractionalDelaySample#;\n\t\t\t\tpickedString#.delayIndex = delayIndex#;\n\t\t\t\tpickedString#.prevDelayLength = delayLength#;\n\t\t\t\tpickedString#.allPassG = allPassG#;\n\t\t\t\tpickedString#.shelfA1 = shelfA1#;\n\t\t\t\tpickedString#.shelfB0 = shelfB0#;\n\t\t\t\tpickedString#.shelfB1 = shelfB1#;\n\t\t\t\t\n\t\t\t\ttone.expression = expression;\n\t\t\t\t\n\t\t\t\tsynth.sanitizeFilters(filters);\n\t\t\t\ttone.initialNoteFilterInput1 = initialFilterInput1;\n\t\t\t\ttone.initialNoteFilterInput2 = initialFilterInput2;`\n\n            // Duplicate lines containing \"#\" for each voice and replace the \"#\" with the voice index.\n            pickedStringSource = pickedStringSource.replace(/^.*\\#.*$/mg, line => {\n                const lines = [];\n                for (let voice: number = 0; voice < voiceCount; voice++) {\n                    lines.push(line.replace(/\\#/g, String(voice)));\n                }\n                return lines.join(\"\\n\");\n            });\n\n            //console.log(pickedStringSource);\n            pickedStringFunction = new Function(\"synth\", \"bufferIndex\", \"runLength\", \"tone\", \"instrumentState\", pickedStringSource);\n            Synth.pickedStringFunctionCache[voiceCount] = pickedStringFunction;\n        }\n\n        pickedStringFunction(synth, bufferIndex, roundedSamplesPerTick, tone, instrumentState);\n    }\n\n    private static effectsSynth(synth: Synth, outputDataL: Float32Array, outputDataR: Float32Array, bufferIndex: number, runLength: number, instrumentState: InstrumentState): void {\n        // TODO: If automation is involved, don't assume sliders will stay at zero.\n        // @jummbus - ^ Correct, removed the non-zero checks as modulation can change them.\n\n        const usesDistortion: boolean = effectsIncludeDistortion(instrumentState.effects);\n        const usesBitcrusher: boolean = effectsIncludeBitcrusher(instrumentState.effects);\n        const usesEqFilter: boolean = instrumentState.eqFilterCount > 0;\n        const usesPanning: boolean = effectsIncludePanning(instrumentState.effects);\n        const usesChorus: boolean = effectsIncludeChorus(instrumentState.effects);\n        const usesEcho: boolean = effectsIncludeEcho(instrumentState.effects);\n        const usesReverb: boolean = effectsIncludeReverb(instrumentState.effects);\n        let signature: number = 0; if (usesDistortion) signature = signature | 1;\n        signature = signature << 1; if (usesBitcrusher) signature = signature | 1;\n        signature = signature << 1; if (usesEqFilter) signature = signature | 1;\n        signature = signature << 1; if (usesPanning) signature = signature | 1;\n        signature = signature << 1; if (usesChorus) signature = signature | 1;\n        signature = signature << 1; if (usesEcho) signature = signature | 1;\n        signature = signature << 1; if (usesReverb) signature = signature | 1;\n\n        let effectsFunction: Function = Synth.effectsFunctionCache[signature];\n        if (effectsFunction == undefined) {\n            let effectsSource: string = \"\";\n\n            const usesDelays: boolean = usesChorus || usesReverb || usesEcho;\n\n            effectsSource += `\n\t\t\t\tconst Config = beepbox.Config;\n\t\t\t\tconst tempMonoInstrumentSampleBuffer = synth.tempMonoInstrumentSampleBuffer;\n\t\t\t\t\n\t\t\t\tlet mixVolume = +instrumentState.mixVolume;\n\t\t\t\tconst mixVolumeDelta = +instrumentState.mixVolumeDelta;`\n\n            if (usesDelays) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tlet delayInputMult = +instrumentState.delayInputMult;\n\t\t\t\tconst delayInputMultDelta = +instrumentState.delayInputMultDelta;`\n            }\n\n            if (usesDistortion) {\n                // Distortion can sometimes create noticeable aliasing.\n                // It seems the established industry best practice for distortion antialiasing\n                // is to upsample the inputs (\"zero stuffing\" followed by a brick wall lowpass\n                // at the original nyquist frequency), perform the distortion, then downsample\n                // (the lowpass again followed by dropping in-between samples). This is\n                // \"mathematically correct\" in that it preserves only the intended frequencies,\n                // but it has several unfortunate tradeoffs depending on the choice of filter,\n                // introducing latency and/or time smearing, since no true brick wall filter\n                // exists. For the time being, I've opted to instead generate in-between input\n                // samples using fractional delay all-pass filters, and after distorting them,\n                // I \"downsample\" these with a simple weighted sum.\n\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tconst distortionBaseVolume = +Config.distortionBaseVolume;\n\t\t\t\tlet distortion = instrumentState.distortion;\n\t\t\t\tconst distortionDelta = instrumentState.distortionDelta;\n\t\t\t\tlet distortionDrive = instrumentState.distortionDrive;\n\t\t\t\tconst distortionDriveDelta = instrumentState.distortionDriveDelta;\n\t\t\t\tconst distortionFractionalResolution = 4.0;\n\t\t\t\tconst distortionOversampleCompensation = distortionBaseVolume / distortionFractionalResolution;\n\t\t\t\tconst distortionFractionalDelay1 = 1.0 / distortionFractionalResolution;\n\t\t\t\tconst distortionFractionalDelay2 = 2.0 / distortionFractionalResolution;\n\t\t\t\tconst distortionFractionalDelay3 = 3.0 / distortionFractionalResolution;\n\t\t\t\tconst distortionFractionalDelayG1 = (1.0 - distortionFractionalDelay1) / (1.0 + distortionFractionalDelay1); // Inlined version of FilterCoefficients.prototype.allPass1stOrderFractionalDelay\n\t\t\t\tconst distortionFractionalDelayG2 = (1.0 - distortionFractionalDelay2) / (1.0 + distortionFractionalDelay2); // Inlined version of FilterCoefficients.prototype.allPass1stOrderFractionalDelay\n\t\t\t\tconst distortionFractionalDelayG3 = (1.0 - distortionFractionalDelay3) / (1.0 + distortionFractionalDelay3); // Inlined version of FilterCoefficients.prototype.allPass1stOrderFractionalDelay\n\t\t\t\tconst distortionNextOutputWeight1 = Math.cos(Math.PI * distortionFractionalDelay1) * 0.5 + 0.5;\n\t\t\t\tconst distortionNextOutputWeight2 = Math.cos(Math.PI * distortionFractionalDelay2) * 0.5 + 0.5;\n\t\t\t\tconst distortionNextOutputWeight3 = Math.cos(Math.PI * distortionFractionalDelay3) * 0.5 + 0.5;\n\t\t\t\tconst distortionPrevOutputWeight1 = 1.0 - distortionNextOutputWeight1;\n\t\t\t\tconst distortionPrevOutputWeight2 = 1.0 - distortionNextOutputWeight2;\n\t\t\t\tconst distortionPrevOutputWeight3 = 1.0 - distortionNextOutputWeight3;\n\t\t\t\t\n\t\t\t\tlet distortionFractionalInput1 = +instrumentState.distortionFractionalInput1;\n\t\t\t\tlet distortionFractionalInput2 = +instrumentState.distortionFractionalInput2;\n\t\t\t\tlet distortionFractionalInput3 = +instrumentState.distortionFractionalInput3;\n\t\t\t\tlet distortionPrevInput = +instrumentState.distortionPrevInput;\n\t\t\t\tlet distortionNextOutput = +instrumentState.distortionNextOutput;`\n            }\n\n            if (usesBitcrusher) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tlet bitcrusherPrevInput = +instrumentState.bitcrusherPrevInput;\n\t\t\t\tlet bitcrusherCurrentOutput = +instrumentState.bitcrusherCurrentOutput;\n\t\t\t\tlet bitcrusherPhase = +instrumentState.bitcrusherPhase;\n\t\t\t\tlet bitcrusherPhaseDelta = +instrumentState.bitcrusherPhaseDelta;\n\t\t\t\tconst bitcrusherPhaseDeltaScale = +instrumentState.bitcrusherPhaseDeltaScale;\n\t\t\t\tlet bitcrusherScale = +instrumentState.bitcrusherScale;\n\t\t\t\tconst bitcrusherScaleScale = +instrumentState.bitcrusherScaleScale;\n\t\t\t\tlet bitcrusherFoldLevel = +instrumentState.bitcrusherFoldLevel;\n\t\t\t\tconst bitcrusherFoldLevelScale = +instrumentState.bitcrusherFoldLevelScale;`\n            }\n\n            if (usesEqFilter) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tlet filters = instrumentState.eqFilters;\n\t\t\t\tconst filterCount = instrumentState.eqFilterCount|0;\n\t\t\t\tlet initialFilterInput1 = +instrumentState.initialEqFilterInput1;\n\t\t\t\tlet initialFilterInput2 = +instrumentState.initialEqFilterInput2;\n\t\t\t\tconst applyFilters = beepbox.Synth.applyFilters;`\n            }\n\n            // The eq filter volume is also used to fade out the instrument state, so always include it.\n            effectsSource += `\n\t\t\t\t\n\t\t\t\tlet eqFilterVolume = +instrumentState.eqFilterVolume;\n\t\t\t\tconst eqFilterVolumeDelta = +instrumentState.eqFilterVolumeDelta;`\n\n            if (usesPanning) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tconst panningMask = synth.panningDelayBufferMask >>> 0;\n\t\t\t\tconst panningDelayLine = instrumentState.panningDelayLine;\n\t\t\t\tlet panningDelayPos = instrumentState.panningDelayPos & panningMask;\n\t\t\t\tlet   panningVolumeL      = +instrumentState.panningVolumeL;\n\t\t\t\tlet   panningVolumeR      = +instrumentState.panningVolumeR;\n\t\t\t\tconst panningVolumeDeltaL = +instrumentState.panningVolumeDeltaL;\n\t\t\t\tconst panningVolumeDeltaR = +instrumentState.panningVolumeDeltaR;\n\t\t\t\tlet   panningOffsetL      = +instrumentState.panningOffsetL;\n\t\t\t\tlet   panningOffsetR      = +instrumentState.panningOffsetR;\n\t\t\t\tconst panningOffsetDeltaL = 1.0 - instrumentState.panningOffsetDeltaL;\n\t\t\t\tconst panningOffsetDeltaR = 1.0 - instrumentState.panningOffsetDeltaR;`\n            }\n\n            if (usesChorus) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tconst chorusMask = synth.chorusDelayBufferMask >>> 0;\n\t\t\t\tconst chorusDelayLineL = instrumentState.chorusDelayLineL;\n\t\t\t\tconst chorusDelayLineR = instrumentState.chorusDelayLineR;\n\t\t\t\tinstrumentState.chorusDelayLineDirty = true;\n\t\t\t\tlet chorusDelayPos = instrumentState.chorusDelayPos & chorusMask;\n\t\t\t\t\n\t\t\t\tlet chorusVoiceMult = +instrumentState.chorusVoiceMult;\n\t\t\t\tconst chorusVoiceMultDelta = +instrumentState.chorusVoiceMultDelta;\n\t\t\t\tlet chorusCombinedMult = +instrumentState.chorusCombinedMult;\n\t\t\t\tconst chorusCombinedMultDelta = +instrumentState.chorusCombinedMultDelta;\n\t\t\t\t\n\t\t\t\tconst chorusDuration = +beepbox.Config.chorusPeriodSeconds;\n\t\t\t\tconst chorusAngle = Math.PI * 2.0 / (chorusDuration * synth.samplesPerSecond);\n\t\t\t\tconst chorusRange = synth.samplesPerSecond * beepbox.Config.chorusDelayRange;\n\t\t\t\tconst chorusOffset0 = synth.chorusDelayBufferSize - beepbox.Config.chorusDelayOffsets[0][0] * chorusRange;\n\t\t\t\tconst chorusOffset1 = synth.chorusDelayBufferSize - beepbox.Config.chorusDelayOffsets[0][1] * chorusRange;\n\t\t\t\tconst chorusOffset2 = synth.chorusDelayBufferSize - beepbox.Config.chorusDelayOffsets[0][2] * chorusRange;\n\t\t\t\tconst chorusOffset3 = synth.chorusDelayBufferSize - beepbox.Config.chorusDelayOffsets[1][0] * chorusRange;\n\t\t\t\tconst chorusOffset4 = synth.chorusDelayBufferSize - beepbox.Config.chorusDelayOffsets[1][1] * chorusRange;\n\t\t\t\tconst chorusOffset5 = synth.chorusDelayBufferSize - beepbox.Config.chorusDelayOffsets[1][2] * chorusRange;\n\t\t\t\tlet chorusPhase = instrumentState.chorusPhase % (Math.PI * 2.0);\n\t\t\t\tlet chorusTap0Index = chorusDelayPos + chorusOffset0 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[0][0]);\n\t\t\t\tlet chorusTap1Index = chorusDelayPos + chorusOffset1 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[0][1]);\n\t\t\t\tlet chorusTap2Index = chorusDelayPos + chorusOffset2 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[0][2]);\n\t\t\t\tlet chorusTap3Index = chorusDelayPos + chorusOffset3 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[1][0]);\n\t\t\t\tlet chorusTap4Index = chorusDelayPos + chorusOffset4 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[1][1]);\n\t\t\t\tlet chorusTap5Index = chorusDelayPos + chorusOffset5 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[1][2]);\n\t\t\t\tchorusPhase += chorusAngle * runLength;\n\t\t\t\tconst chorusTap0End = chorusDelayPos + chorusOffset0 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[0][0]) + runLength;\n\t\t\t\tconst chorusTap1End = chorusDelayPos + chorusOffset1 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[0][1]) + runLength;\n\t\t\t\tconst chorusTap2End = chorusDelayPos + chorusOffset2 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[0][2]) + runLength;\n\t\t\t\tconst chorusTap3End = chorusDelayPos + chorusOffset3 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[1][0]) + runLength;\n\t\t\t\tconst chorusTap4End = chorusDelayPos + chorusOffset4 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[1][1]) + runLength;\n\t\t\t\tconst chorusTap5End = chorusDelayPos + chorusOffset5 - chorusRange * Math.sin(chorusPhase + beepbox.Config.chorusPhaseOffsets[1][2]) + runLength;\n\t\t\t\tconst chorusTap0Delta = (chorusTap0End - chorusTap0Index) / runLength;\n\t\t\t\tconst chorusTap1Delta = (chorusTap1End - chorusTap1Index) / runLength;\n\t\t\t\tconst chorusTap2Delta = (chorusTap2End - chorusTap2Index) / runLength;\n\t\t\t\tconst chorusTap3Delta = (chorusTap3End - chorusTap3Index) / runLength;\n\t\t\t\tconst chorusTap4Delta = (chorusTap4End - chorusTap4Index) / runLength;\n\t\t\t\tconst chorusTap5Delta = (chorusTap5End - chorusTap5Index) / runLength;`\n            }\n\n            if (usesEcho) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tlet echoMult = +instrumentState.echoMult;\n\t\t\t\tconst echoMultDelta = +instrumentState.echoMultDelta;\n\t\t\t\t\n\t\t\t\tconst echoDelayLineL = instrumentState.echoDelayLineL;\n\t\t\t\tconst echoDelayLineR = instrumentState.echoDelayLineR;\n\t\t\t\tconst echoMask = (echoDelayLineL.length - 1) >>> 0;\n\t\t\t\tinstrumentState.echoDelayLineDirty = true;\n\t\t\t\t\n\t\t\t\tlet echoDelayPos = instrumentState.echoDelayPos & echoMask;\n\t\t\t\tconst echoDelayOffsetStart = (echoDelayLineL.length - instrumentState.echoDelayOffsetStart) & echoMask;\n\t\t\t\tconst echoDelayOffsetEnd   = (echoDelayLineL.length - instrumentState.echoDelayOffsetEnd) & echoMask;\n\t\t\t\tlet echoDelayOffsetRatio = +instrumentState.echoDelayOffsetRatio;\n\t\t\t\tconst echoDelayOffsetRatioDelta = +instrumentState.echoDelayOffsetRatioDelta;\n\t\t\t\t\n\t\t\t\tconst echoShelfA1 = +instrumentState.echoShelfA1;\n\t\t\t\tconst echoShelfB0 = +instrumentState.echoShelfB0;\n\t\t\t\tconst echoShelfB1 = +instrumentState.echoShelfB1;\n\t\t\t\tlet echoShelfSampleL = +instrumentState.echoShelfSampleL;\n\t\t\t\tlet echoShelfSampleR = +instrumentState.echoShelfSampleR;\n\t\t\t\tlet echoShelfPrevInputL = +instrumentState.echoShelfPrevInputL;\n\t\t\t\tlet echoShelfPrevInputR = +instrumentState.echoShelfPrevInputR;`\n            }\n\n            if (usesReverb) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tconst reverbMask = Config.reverbDelayBufferMask >>> 0; //TODO: Dynamic reverb buffer size.\n\t\t\t\tconst reverbDelayLine = instrumentState.reverbDelayLine;\n\t\t\t\tinstrumentState.reverbDelayLineDirty = true;\n\t\t\t\tlet reverbDelayPos = instrumentState.reverbDelayPos & reverbMask;\n\t\t\t\t\n\t\t\t\tlet reverb = +instrumentState.reverbMult;\n\t\t\t\tconst reverbDelta = +instrumentState.reverbMultDelta;\n\t\t\t\t\n\t\t\t\tconst reverbShelfA1 = +instrumentState.reverbShelfA1;\n\t\t\t\tconst reverbShelfB0 = +instrumentState.reverbShelfB0;\n\t\t\t\tconst reverbShelfB1 = +instrumentState.reverbShelfB1;\n\t\t\t\tlet reverbShelfSample0 = +instrumentState.reverbShelfSample0;\n\t\t\t\tlet reverbShelfSample1 = +instrumentState.reverbShelfSample1;\n\t\t\t\tlet reverbShelfSample2 = +instrumentState.reverbShelfSample2;\n\t\t\t\tlet reverbShelfSample3 = +instrumentState.reverbShelfSample3;\n\t\t\t\tlet reverbShelfPrevInput0 = +instrumentState.reverbShelfPrevInput0;\n\t\t\t\tlet reverbShelfPrevInput1 = +instrumentState.reverbShelfPrevInput1;\n\t\t\t\tlet reverbShelfPrevInput2 = +instrumentState.reverbShelfPrevInput2;\n\t\t\t\tlet reverbShelfPrevInput3 = +instrumentState.reverbShelfPrevInput3;`\n            }\n\n            effectsSource += `\n\t\t\t\t\n\t\t\t\tconst stopIndex = bufferIndex + runLength;\n\t\t\t\tfor (let sampleIndex = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n\t\t\t\t\tlet sample = tempMonoInstrumentSampleBuffer[sampleIndex];\n\t\t\t\t\ttempMonoInstrumentSampleBuffer[sampleIndex] = 0.0;`\n\n            if (usesDistortion) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tconst distortionReverse = 1.0 - distortion;\n\t\t\t\t\tconst distortionNextInput = sample * distortionDrive;\n\t\t\t\t\tsample = distortionNextOutput;\n\t\t\t\t\tdistortionNextOutput = distortionNextInput / (distortionReverse * Math.abs(distortionNextInput) + distortion);\n\t\t\t\t\tdistortionFractionalInput1 = distortionFractionalDelayG1 * distortionNextInput + distortionPrevInput - distortionFractionalDelayG1 * distortionFractionalInput1;\n\t\t\t\t\tdistortionFractionalInput2 = distortionFractionalDelayG2 * distortionNextInput + distortionPrevInput - distortionFractionalDelayG2 * distortionFractionalInput2;\n\t\t\t\t\tdistortionFractionalInput3 = distortionFractionalDelayG3 * distortionNextInput + distortionPrevInput - distortionFractionalDelayG3 * distortionFractionalInput3;\n\t\t\t\t\tconst distortionOutput1 = distortionFractionalInput1 / (distortionReverse * Math.abs(distortionFractionalInput1) + distortion);\n\t\t\t\t\tconst distortionOutput2 = distortionFractionalInput2 / (distortionReverse * Math.abs(distortionFractionalInput2) + distortion);\n\t\t\t\t\tconst distortionOutput3 = distortionFractionalInput3 / (distortionReverse * Math.abs(distortionFractionalInput3) + distortion);\n\t\t\t\t\tdistortionNextOutput += distortionOutput1 * distortionNextOutputWeight1 + distortionOutput2 * distortionNextOutputWeight2 + distortionOutput3 * distortionNextOutputWeight3;\n\t\t\t\t\tsample += distortionOutput1 * distortionPrevOutputWeight1 + distortionOutput2 * distortionPrevOutputWeight2 + distortionOutput3 * distortionPrevOutputWeight3;\n\t\t\t\t\tsample *= distortionOversampleCompensation;\n\t\t\t\t\tdistortionPrevInput = distortionNextInput;\n\t\t\t\t\tdistortion += distortionDelta;\n\t\t\t\t\tdistortionDrive += distortionDriveDelta;`\n            }\n\n            if (usesBitcrusher) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tbitcrusherPhase += bitcrusherPhaseDelta;\n\t\t\t\t\tif (bitcrusherPhase < 1.0) {\n\t\t\t\t\t\tbitcrusherPrevInput = sample;\n\t\t\t\t\t\tsample = bitcrusherCurrentOutput;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbitcrusherPhase = bitcrusherPhase % 1.0;\n\t\t\t\t\t\tconst ratio = bitcrusherPhase / bitcrusherPhaseDelta;\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst lerpedInput = sample + (bitcrusherPrevInput - sample) * ratio;\n\t\t\t\t\t\tbitcrusherPrevInput = sample;\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst bitcrusherWrapLevel = bitcrusherFoldLevel * 4.0;\n\t\t\t\t\t\tconst wrappedSample = (((lerpedInput + bitcrusherFoldLevel) % bitcrusherWrapLevel) + bitcrusherWrapLevel) % bitcrusherWrapLevel;\n\t\t\t\t\t\tconst foldedSample = bitcrusherFoldLevel - Math.abs(bitcrusherFoldLevel * 2.0 - wrappedSample);\n\t\t\t\t\t\tconst scaledSample = foldedSample / bitcrusherScale;\n\t\t\t\t\t\tconst oldValue = bitcrusherCurrentOutput;\n\t\t\t\t\t\tconst newValue = (((scaledSample > 0 ? scaledSample + 1 : scaledSample)|0)-.5) * bitcrusherScale;\n\t\t\t\t\t\t\n\t\t\t\t\t\tsample = oldValue + (newValue - oldValue) * ratio;\n\t\t\t\t\t\tbitcrusherCurrentOutput = newValue;\n\t\t\t\t\t}\n\t\t\t\t\tbitcrusherPhaseDelta *= bitcrusherPhaseDeltaScale;\n\t\t\t\t\tbitcrusherScale *= bitcrusherScaleScale;\n\t\t\t\t\tbitcrusherFoldLevel *= bitcrusherFoldLevelScale;`\n            }\n\n            if (usesEqFilter) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tconst inputSample = sample;\n\t\t\t\t\tsample = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n\t\t\t\t\tinitialFilterInput2 = initialFilterInput1;\n\t\t\t\t\tinitialFilterInput1 = inputSample;`\n            }\n\n            // The eq filter volume is also used to fade out the instrument state, so always include it.\n            effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tsample *= eqFilterVolume;\n\t\t\t\t\teqFilterVolume += eqFilterVolumeDelta;`\n\n            if (usesPanning) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tpanningDelayLine[panningDelayPos] = sample;\n\t\t\t\t\tconst panningRatioL  = panningOffsetL % 1;\n\t\t\t\t\tconst panningRatioR  = panningOffsetR % 1;\n\t\t\t\t\tconst panningTapLA   = panningDelayLine[(panningOffsetL) & panningMask];\n\t\t\t\t\tconst panningTapLB   = panningDelayLine[(panningOffsetL + 1) & panningMask];\n\t\t\t\t\tconst panningTapRA   = panningDelayLine[(panningOffsetR) & panningMask];\n\t\t\t\t\tconst panningTapRB   = panningDelayLine[(panningOffsetR + 1) & panningMask];\n\t\t\t\t\tconst panningTapL    = panningTapLA + (panningTapLB - panningTapLA) * panningRatioL;\n\t\t\t\t\tconst panningTapR    = panningTapRA + (panningTapRB - panningTapRA) * panningRatioR;\n\t\t\t\t\tlet sampleL = panningTapL * panningVolumeL;\n\t\t\t\t\tlet sampleR = panningTapR * panningVolumeR;\n\t\t\t\t\tpanningDelayPos = (panningDelayPos + 1) & panningMask;\n\t\t\t\t\tpanningVolumeL += panningVolumeDeltaL;\n\t\t\t\t\tpanningVolumeR += panningVolumeDeltaR;\n\t\t\t\t\tpanningOffsetL += panningOffsetDeltaL;\n\t\t\t\t\tpanningOffsetR += panningOffsetDeltaR;`\n            } else {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tlet sampleL = sample;\n\t\t\t\t\tlet sampleR = sample;`\n            }\n\n            if (usesChorus) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tconst chorusTap0Ratio = chorusTap0Index % 1;\n\t\t\t\t\tconst chorusTap1Ratio = chorusTap1Index % 1;\n\t\t\t\t\tconst chorusTap2Ratio = chorusTap2Index % 1;\n\t\t\t\t\tconst chorusTap3Ratio = chorusTap3Index % 1;\n\t\t\t\t\tconst chorusTap4Ratio = chorusTap4Index % 1;\n\t\t\t\t\tconst chorusTap5Ratio = chorusTap5Index % 1;\n\t\t\t\t\tconst chorusTap0A = chorusDelayLineL[(chorusTap0Index) & chorusMask];\n\t\t\t\t\tconst chorusTap0B = chorusDelayLineL[(chorusTap0Index + 1) & chorusMask];\n\t\t\t\t\tconst chorusTap1A = chorusDelayLineL[(chorusTap1Index) & chorusMask];\n\t\t\t\t\tconst chorusTap1B = chorusDelayLineL[(chorusTap1Index + 1) & chorusMask];\n\t\t\t\t\tconst chorusTap2A = chorusDelayLineL[(chorusTap2Index) & chorusMask];\n\t\t\t\t\tconst chorusTap2B = chorusDelayLineL[(chorusTap2Index + 1) & chorusMask];\n\t\t\t\t\tconst chorusTap3A = chorusDelayLineR[(chorusTap3Index) & chorusMask];\n\t\t\t\t\tconst chorusTap3B = chorusDelayLineR[(chorusTap3Index + 1) & chorusMask];\n\t\t\t\t\tconst chorusTap4A = chorusDelayLineR[(chorusTap4Index) & chorusMask];\n\t\t\t\t\tconst chorusTap4B = chorusDelayLineR[(chorusTap4Index + 1) & chorusMask];\n\t\t\t\t\tconst chorusTap5A = chorusDelayLineR[(chorusTap5Index) & chorusMask];\n\t\t\t\t\tconst chorusTap5B = chorusDelayLineR[(chorusTap5Index + 1) & chorusMask];\n\t\t\t\t\tconst chorusTap0 = chorusTap0A + (chorusTap0B - chorusTap0A) * chorusTap0Ratio;\n\t\t\t\t\tconst chorusTap1 = chorusTap1A + (chorusTap1B - chorusTap1A) * chorusTap1Ratio;\n\t\t\t\t\tconst chorusTap2 = chorusTap2A + (chorusTap2B - chorusTap2A) * chorusTap2Ratio;\n\t\t\t\t\tconst chorusTap3 = chorusTap3A + (chorusTap3B - chorusTap3A) * chorusTap3Ratio;\n\t\t\t\t\tconst chorusTap4 = chorusTap4A + (chorusTap4B - chorusTap4A) * chorusTap4Ratio;\n\t\t\t\t\tconst chorusTap5 = chorusTap5A + (chorusTap5B - chorusTap5A) * chorusTap5Ratio;\n\t\t\t\t\tchorusDelayLineL[chorusDelayPos] = sampleL * delayInputMult;\n\t\t\t\t\tchorusDelayLineR[chorusDelayPos] = sampleR * delayInputMult;\n\t\t\t\t\tsampleL = chorusCombinedMult * (sampleL + chorusVoiceMult * (chorusTap1 - chorusTap0 - chorusTap2));\n\t\t\t\t\tsampleR = chorusCombinedMult * (sampleR + chorusVoiceMult * (chorusTap4 - chorusTap3 - chorusTap5));\n\t\t\t\t\tchorusDelayPos = (chorusDelayPos + 1) & chorusMask;\n\t\t\t\t\tchorusTap0Index += chorusTap0Delta;\n\t\t\t\t\tchorusTap1Index += chorusTap1Delta;\n\t\t\t\t\tchorusTap2Index += chorusTap2Delta;\n\t\t\t\t\tchorusTap3Index += chorusTap3Delta;\n\t\t\t\t\tchorusTap4Index += chorusTap4Delta;\n\t\t\t\t\tchorusTap5Index += chorusTap5Delta;\n\t\t\t\t\tchorusVoiceMult += chorusVoiceMultDelta;\n\t\t\t\t\tchorusCombinedMult += chorusCombinedMultDelta;`\n            }\n\n            if (usesEcho) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tconst echoTapStartIndex = (echoDelayPos + echoDelayOffsetStart) & echoMask;\n\t\t\t\t\tconst echoTapEndIndex   = (echoDelayPos + echoDelayOffsetEnd  ) & echoMask;\n\t\t\t\t\tconst echoTapStartL = echoDelayLineL[echoTapStartIndex];\n\t\t\t\t\tconst echoTapEndL   = echoDelayLineL[echoTapEndIndex];\n\t\t\t\t\tconst echoTapStartR = echoDelayLineR[echoTapStartIndex];\n\t\t\t\t\tconst echoTapEndR   = echoDelayLineR[echoTapEndIndex];\n\t\t\t\t\tconst echoTapL = (echoTapStartL + (echoTapEndL - echoTapStartL) * echoDelayOffsetRatio) * echoMult;\n\t\t\t\t\tconst echoTapR = (echoTapStartR + (echoTapEndR - echoTapStartR) * echoDelayOffsetRatio) * echoMult;\n\t\t\t\t\t\n\t\t\t\t\techoShelfSampleL = echoShelfB0 * echoTapL + echoShelfB1 * echoShelfPrevInputL - echoShelfA1 * echoShelfSampleL;\n\t\t\t\t\techoShelfSampleR = echoShelfB0 * echoTapR + echoShelfB1 * echoShelfPrevInputR - echoShelfA1 * echoShelfSampleR;\n\t\t\t\t\techoShelfPrevInputL = echoTapL;\n\t\t\t\t\techoShelfPrevInputR = echoTapR;\n\t\t\t\t\tsampleL += echoShelfSampleL;\n\t\t\t\t\tsampleR += echoShelfSampleR;\n\t\t\t\t\t\n\t\t\t\t\techoDelayLineL[echoDelayPos] = sampleL * delayInputMult;\n\t\t\t\t\techoDelayLineR[echoDelayPos] = sampleR * delayInputMult;\n\t\t\t\t\techoDelayPos = (echoDelayPos + 1) & echoMask;\n\t\t\t\t\techoDelayOffsetRatio += echoDelayOffsetRatioDelta;\n\t\t\t\t\techoMult += echoMultDelta;\n                    `\n            }\n\n            if (usesReverb) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\t// Reverb, implemented using a feedback delay network with a Hadamard matrix and lowpass filters.\n\t\t\t\t\t// good ratios:    0.555235 + 0.618033 + 0.818 +   1.0 = 2.991268\n\t\t\t\t\t// Delay lengths:  3041     + 3385     + 4481  +  5477 = 16384 = 2^14\n\t\t\t\t\t// Buffer offsets: 3041    -> 6426   -> 10907 -> 16384\n\t\t\t\t\tconst reverbDelayPos1 = (reverbDelayPos +  3041) & reverbMask;\n\t\t\t\t\tconst reverbDelayPos2 = (reverbDelayPos +  6426) & reverbMask;\n\t\t\t\t\tconst reverbDelayPos3 = (reverbDelayPos + 10907) & reverbMask;\n\t\t\t\t\tconst reverbSample0 = (reverbDelayLine[reverbDelayPos]);\n\t\t\t\t\tconst reverbSample1 = reverbDelayLine[reverbDelayPos1];\n\t\t\t\t\tconst reverbSample2 = reverbDelayLine[reverbDelayPos2];\n\t\t\t\t\tconst reverbSample3 = reverbDelayLine[reverbDelayPos3];\n\t\t\t\t\tconst reverbTemp0 = -(reverbSample0 + sampleL) + reverbSample1;\n\t\t\t\t\tconst reverbTemp1 = -(reverbSample0 + sampleR) - reverbSample1;\n\t\t\t\t\tconst reverbTemp2 = -reverbSample2 + reverbSample3;\n\t\t\t\t\tconst reverbTemp3 = -reverbSample2 - reverbSample3;\n\t\t\t\t\tconst reverbShelfInput0 = (reverbTemp0 + reverbTemp2) * reverb;\n\t\t\t\t\tconst reverbShelfInput1 = (reverbTemp1 + reverbTemp3) * reverb;\n\t\t\t\t\tconst reverbShelfInput2 = (reverbTemp0 - reverbTemp2) * reverb;\n\t\t\t\t\tconst reverbShelfInput3 = (reverbTemp1 - reverbTemp3) * reverb;\n\t\t\t\t\treverbShelfSample0 = reverbShelfB0 * reverbShelfInput0 + reverbShelfB1 * reverbShelfPrevInput0 - reverbShelfA1 * reverbShelfSample0;\n\t\t\t\t\treverbShelfSample1 = reverbShelfB0 * reverbShelfInput1 + reverbShelfB1 * reverbShelfPrevInput1 - reverbShelfA1 * reverbShelfSample1;\n\t\t\t\t\treverbShelfSample2 = reverbShelfB0 * reverbShelfInput2 + reverbShelfB1 * reverbShelfPrevInput2 - reverbShelfA1 * reverbShelfSample2;\n\t\t\t\t\treverbShelfSample3 = reverbShelfB0 * reverbShelfInput3 + reverbShelfB1 * reverbShelfPrevInput3 - reverbShelfA1 * reverbShelfSample3;\n\t\t\t\t\treverbShelfPrevInput0 = reverbShelfInput0;\n\t\t\t\t\treverbShelfPrevInput1 = reverbShelfInput1;\n\t\t\t\t\treverbShelfPrevInput2 = reverbShelfInput2;\n\t\t\t\t\treverbShelfPrevInput3 = reverbShelfInput3;\n\t\t\t\t\treverbDelayLine[reverbDelayPos1] = reverbShelfSample0 * delayInputMult;\n\t\t\t\t\treverbDelayLine[reverbDelayPos2] = reverbShelfSample1 * delayInputMult;\n\t\t\t\t\treverbDelayLine[reverbDelayPos3] = reverbShelfSample2 * delayInputMult;\n\t\t\t\t\treverbDelayLine[reverbDelayPos ] = reverbShelfSample3 * delayInputMult;\n\t\t\t\t\treverbDelayPos = (reverbDelayPos + 1) & reverbMask;\n\t\t\t\t\tsampleL += reverbSample1 + reverbSample2 + reverbSample3;\n\t\t\t\t\tsampleR += reverbSample0 + reverbSample2 - reverbSample3;\n\t\t\t\t\treverb += reverbDelta;`\n            }\n\n            effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\toutputDataL[sampleIndex] += sampleL * mixVolume;\n\t\t\t\t\toutputDataR[sampleIndex] += sampleR * mixVolume;\n\t\t\t\t\tmixVolume += mixVolumeDelta;`\n\n            if (usesDelays) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\t\tdelayInputMult += delayInputMultDelta;`\n            }\n\n            effectsSource += `\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tinstrumentState.mixVolume = mixVolume;\n\t\t\t\tinstrumentState.eqFilterVolume = eqFilterVolume;\n\t\t\t\t\n\t\t\t\t// Avoid persistent denormal or NaN values in the delay buffers and filter history.\n\t\t\t\tconst epsilon = (1.0e-24);`\n\n            if (usesDelays) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tinstrumentState.delayInputMult = delayInputMult;`\n            }\n\n            if (usesDistortion) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tinstrumentState.distortion = distortion;\n\t\t\t\tinstrumentState.distortionDrive = distortionDrive;\n\t\t\t\t\n\t\t\t\tif (!Number.isFinite(distortionFractionalInput1) || Math.abs(distortionFractionalInput1) < epsilon) distortionFractionalInput1 = 0.0;\n\t\t\t\tif (!Number.isFinite(distortionFractionalInput2) || Math.abs(distortionFractionalInput2) < epsilon) distortionFractionalInput2 = 0.0;\n\t\t\t\tif (!Number.isFinite(distortionFractionalInput3) || Math.abs(distortionFractionalInput3) < epsilon) distortionFractionalInput3 = 0.0;\n\t\t\t\tif (!Number.isFinite(distortionPrevInput) || Math.abs(distortionPrevInput) < epsilon) distortionPrevInput = 0.0;\n\t\t\t\tif (!Number.isFinite(distortionNextOutput) || Math.abs(distortionNextOutput) < epsilon) distortionNextOutput = 0.0;\n\t\t\t\t\n\t\t\t\tinstrumentState.distortionFractionalInput1 = distortionFractionalInput1;\n\t\t\t\tinstrumentState.distortionFractionalInput2 = distortionFractionalInput2;\n\t\t\t\tinstrumentState.distortionFractionalInput3 = distortionFractionalInput3;\n\t\t\t\tinstrumentState.distortionPrevInput = distortionPrevInput;\n\t\t\t\tinstrumentState.distortionNextOutput = distortionNextOutput;`\n            }\n\n            if (usesBitcrusher) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\tif (Math.abs(bitcrusherPrevInput) < epsilon) bitcrusherPrevInput = 0.0;\n\t\t\t\tif (Math.abs(bitcrusherCurrentOutput) < epsilon) bitcrusherCurrentOutput = 0.0;\n\t\t\t\tinstrumentState.bitcrusherPrevInput = bitcrusherPrevInput;\n\t\t\t\tinstrumentState.bitcrusherCurrentOutput = bitcrusherCurrentOutput;\n\t\t\t\tinstrumentState.bitcrusherPhase = bitcrusherPhase;\n\t\t\t\tinstrumentState.bitcrusherPhaseDelta = bitcrusherPhaseDelta;\n\t\t\t\tinstrumentState.bitcrusherScale = bitcrusherScale;\n\t\t\t\tinstrumentState.bitcrusherFoldLevel = bitcrusherFoldLevel;`\n\n            }\n\n            if (usesEqFilter) {\n                effectsSource += `\n\t\t\t\t\t\n\t\t\t\tsynth.sanitizeFilters(filters);\n\t\t\t\t// The filter input here is downstream from another filter so we\n\t\t\t\t// better make sure it's safe too.\n\t\t\t\tif (!(initialFilterInput1 < 100) || !(initialFilterInput2 < 100)) {\n\t\t\t\t\tinitialFilterInput1 = 0.0;\n\t\t\t\t\tinitialFilterInput2 = 0.0;\n\t\t\t\t}\n\t\t\t\tif (Math.abs(initialFilterInput1) < epsilon) initialFilterInput1 = 0.0;\n\t\t\t\tif (Math.abs(initialFilterInput2) < epsilon) initialFilterInput2 = 0.0;\n\t\t\t\tinstrumentState.initialEqFilterInput1 = initialFilterInput1;\n\t\t\t\tinstrumentState.initialEqFilterInput2 = initialFilterInput2;`\n            }\n\n            if (usesPanning) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(panningDelayLine, panningDelayPos, panningMask);\n\t\t\t\tinstrumentState.panningDelayPos = panningDelayPos;\n\t\t\t\tinstrumentState.panningVolumeL = panningVolumeL;\n\t\t\t\tinstrumentState.panningVolumeR = panningVolumeR;\n\t\t\t\tinstrumentState.panningOffsetL = panningOffsetL;\n\t\t\t\tinstrumentState.panningOffsetR = panningOffsetR;`\n            }\n\n            if (usesChorus) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(chorusDelayLineL, chorusDelayPos, chorusMask);\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(chorusDelayLineR, chorusDelayPos, chorusMask);\n\t\t\t\tinstrumentState.chorusPhase = chorusPhase;\n\t\t\t\tinstrumentState.chorusDelayPos = chorusDelayPos;\n\t\t\t\tinstrumentState.chorusVoiceMult = chorusVoiceMult;\n\t\t\t\tinstrumentState.chorusCombinedMult = chorusCombinedMult;`\n            }\n\n            if (usesEcho) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(echoDelayLineL, echoDelayPos, echoMask);\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(echoDelayLineR, echoDelayPos, echoMask);\n\t\t\t\tinstrumentState.echoDelayPos = echoDelayPos;\n\t\t\t\tinstrumentState.echoMult = echoMult;\n\t\t\t\tinstrumentState.echoDelayOffsetRatio = echoDelayOffsetRatio;\n\t\t\t\t\n\t\t\t\tif (!Number.isFinite(echoShelfSampleL) || Math.abs(echoShelfSampleL) < epsilon) echoShelfSampleL = 0.0;\n\t\t\t\tif (!Number.isFinite(echoShelfSampleR) || Math.abs(echoShelfSampleR) < epsilon) echoShelfSampleR = 0.0;\n\t\t\t\tif (!Number.isFinite(echoShelfPrevInputL) || Math.abs(echoShelfPrevInputL) < epsilon) echoShelfPrevInputL = 0.0;\n\t\t\t\tif (!Number.isFinite(echoShelfPrevInputR) || Math.abs(echoShelfPrevInputR) < epsilon) echoShelfPrevInputR = 0.0;\n\t\t\t\tinstrumentState.echoShelfSampleL = echoShelfSampleL;\n\t\t\t\tinstrumentState.echoShelfSampleR = echoShelfSampleR;\n\t\t\t\tinstrumentState.echoShelfPrevInputL = echoShelfPrevInputL;\n\t\t\t\tinstrumentState.echoShelfPrevInputR = echoShelfPrevInputR;`\n            }\n\n            if (usesReverb) {\n                effectsSource += `\n\t\t\t\t\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(reverbDelayLine, reverbDelayPos        , reverbMask);\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(reverbDelayLine, reverbDelayPos +  3041, reverbMask);\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(reverbDelayLine, reverbDelayPos +  6426, reverbMask);\n\t\t\t\tbeepbox.Synth.sanitizeDelayLine(reverbDelayLine, reverbDelayPos + 10907, reverbMask);\n\t\t\t\tinstrumentState.reverbDelayPos = reverbDelayPos;\n\t\t\t\tinstrumentState.reverbMult = reverb;\n\t\t\t\t\n\t\t\t\tif (!Number.isFinite(reverbShelfSample0) || Math.abs(reverbShelfSample0) < epsilon) reverbShelfSample0 = 0.0;\n\t\t\t\tif (!Number.isFinite(reverbShelfSample1) || Math.abs(reverbShelfSample1) < epsilon) reverbShelfSample1 = 0.0;\n\t\t\t\tif (!Number.isFinite(reverbShelfSample2) || Math.abs(reverbShelfSample2) < epsilon) reverbShelfSample2 = 0.0;\n\t\t\t\tif (!Number.isFinite(reverbShelfSample3) || Math.abs(reverbShelfSample3) < epsilon) reverbShelfSample3 = 0.0;\n\t\t\t\tif (!Number.isFinite(reverbShelfPrevInput0) || Math.abs(reverbShelfPrevInput0) < epsilon) reverbShelfPrevInput0 = 0.0;\n\t\t\t\tif (!Number.isFinite(reverbShelfPrevInput1) || Math.abs(reverbShelfPrevInput1) < epsilon) reverbShelfPrevInput1 = 0.0;\n\t\t\t\tif (!Number.isFinite(reverbShelfPrevInput2) || Math.abs(reverbShelfPrevInput2) < epsilon) reverbShelfPrevInput2 = 0.0;\n\t\t\t\tif (!Number.isFinite(reverbShelfPrevInput3) || Math.abs(reverbShelfPrevInput3) < epsilon) reverbShelfPrevInput3 = 0.0;\n\t\t\t\tinstrumentState.reverbShelfSample0 = reverbShelfSample0;\n\t\t\t\tinstrumentState.reverbShelfSample1 = reverbShelfSample1;\n\t\t\t\tinstrumentState.reverbShelfSample2 = reverbShelfSample2;\n\t\t\t\tinstrumentState.reverbShelfSample3 = reverbShelfSample3;\n\t\t\t\tinstrumentState.reverbShelfPrevInput0 = reverbShelfPrevInput0;\n\t\t\t\tinstrumentState.reverbShelfPrevInput1 = reverbShelfPrevInput1;\n\t\t\t\tinstrumentState.reverbShelfPrevInput2 = reverbShelfPrevInput2;\n\t\t\t\tinstrumentState.reverbShelfPrevInput3 = reverbShelfPrevInput3;`\n            }\n\n            //console.log(effectsSource);\n            effectsFunction = new Function(\"synth\", \"outputDataL\", \"outputDataR\", \"bufferIndex\", \"runLength\", \"instrumentState\", effectsSource);\n            Synth.effectsFunctionCache[signature] = effectsFunction;\n        }\n\n        effectsFunction(synth, outputDataL, outputDataR, bufferIndex, runLength, instrumentState);\n    }\n\n    private static pulseWidthSynth(synth: Synth, bufferIndex: number, roundedSamplesPerTick: number, tone: Tone, instrument: Instrument): void {\n        const data: Float32Array = synth.tempMonoInstrumentSampleBuffer!;\n\n        let phaseDelta: number = tone.phaseDeltas[0];\n        const phaseDeltaScale: number = +tone.phaseDeltaScales[0];\n        let expression: number = +tone.expression;\n        const expressionDelta: number = +tone.expressionDelta;\n        let phase: number = (tone.phases[0] % 1);\n\n        let pulseWidth: number = tone.pulseWidth;\n        const pulseWidthDelta: number = tone.pulseWidthDelta;\n\n        const filters: DynamicBiquadFilter[] = tone.noteFilters;\n        const filterCount: number = tone.noteFilterCount | 0;\n        let initialFilterInput1: number = +tone.initialNoteFilterInput1;\n        let initialFilterInput2: number = +tone.initialNoteFilterInput2;\n        const applyFilters: Function = Synth.applyFilters;\n\n        const stopIndex: number = bufferIndex + roundedSamplesPerTick;\n        for (let sampleIndex: number = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n\n            const sawPhaseA: number = phase % 1;\n            const sawPhaseB: number = (phase + pulseWidth) % 1;\n\n            let pulseWave: number = sawPhaseB - sawPhaseA;\n\n            // This is a PolyBLEP, which smooths out discontinuities at any frequency to reduce aliasing. \n            if (!instrument.aliases) {\n                if (sawPhaseA < phaseDelta) {\n                    var t = sawPhaseA / phaseDelta;\n                    pulseWave += (t + t - t * t - 1) * 0.5;\n                } else if (sawPhaseA > 1.0 - phaseDelta) {\n                    var t = (sawPhaseA - 1.0) / phaseDelta;\n                    pulseWave += (t + t + t * t + 1) * 0.5;\n                }\n                if (sawPhaseB < phaseDelta) {\n                    var t = sawPhaseB / phaseDelta;\n                    pulseWave -= (t + t - t * t - 1) * 0.5;\n                } else if (sawPhaseB > 1.0 - phaseDelta) {\n                    var t = (sawPhaseB - 1.0) / phaseDelta;\n                    pulseWave -= (t + t + t * t + 1) * 0.5;\n                }\n            }\n\n            const inputSample: number = pulseWave;\n            const sample: number = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n            initialFilterInput2 = initialFilterInput1;\n            initialFilterInput1 = inputSample;\n\n            phase += phaseDelta;\n            phaseDelta *= phaseDeltaScale;\n            pulseWidth += pulseWidthDelta;\n\n            const output: number = sample * expression;\n            expression += expressionDelta;\n\n            data[sampleIndex] += output;\n        }\n\n        tone.phases[0] = phase;\n        tone.phaseDeltas[0] = phaseDelta;\n        tone.expression = expression;\n        tone.pulseWidth = pulseWidth;\n\n        synth.sanitizeFilters(filters);\n        tone.initialNoteFilterInput1 = initialFilterInput1;\n        tone.initialNoteFilterInput2 = initialFilterInput2;\n    }\n\n    private static fmSourceTemplate: string[] = (`\n\t\tconst data = synth.tempMonoInstrumentSampleBuffer;\n\t\tconst sineWave = beepbox.Config.sineWave;\n\t\t\t\n\t\t// I'm adding 1000 to the phase to ensure that it's never negative even when modulated by other waves because negative numbers don't work with the modulus operator very well.\n\t\tlet operator#Phase       = +((tone.phases[#] % 1) + 1000) * ` + Config.sineWaveLength + `;\n\t\tlet operator#PhaseDelta  = +tone.phaseDeltas[#] * ` + Config.sineWaveLength + `;\n\t\tlet operator#PhaseDeltaScale = +tone.phaseDeltaScales[#];\n\t\tlet operator#OutputMult  = +tone.operatorExpressions[#];\n\t\tconst operator#OutputDelta = +tone.operatorExpressionDeltas[#];\n\t\tlet operator#Output      = +tone.feedbackOutputs[#];\n        const operator#Wave      = tone.operatorWaves[#].samples;\n\t\tlet feedbackMult         = +tone.feedbackMult;\n\t\tconst feedbackDelta        = +tone.feedbackDelta;\n        let expression = +tone.expression;\n\t\tconst expressionDelta = +tone.expressionDelta;\n\t\t\n\t\tconst filters = tone.noteFilters;\n\t\tconst filterCount = tone.noteFilterCount|0;\n\t\tlet initialFilterInput1 = +tone.initialNoteFilterInput1;\n\t\tlet initialFilterInput2 = +tone.initialNoteFilterInput2;\n\t\tconst applyFilters = beepbox.Synth.applyFilters;\n\t\t\n\t\tconst stopIndex = bufferIndex + roundedSamplesPerTick;\n\t\tfor (let sampleIndex = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n\t\t\t\t// INSERT OPERATOR COMPUTATION HERE\n\t\t\t\tconst fmOutput = (/*operator#Scaled*/); // CARRIER OUTPUTS\n\t\t\t\t\n\t\t\tconst inputSample = fmOutput;\n\t\t\tconst sample = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n\t\t\tinitialFilterInput2 = initialFilterInput1;\n\t\t\tinitialFilterInput1 = inputSample;\n\t\t\t\t\n\t\t\t\tfeedbackMult += feedbackDelta;\n\t\t\t\toperator#OutputMult += operator#OutputDelta;\n\t\t\t\toperator#Phase += operator#PhaseDelta;\n\t\t\toperator#PhaseDelta *= operator#PhaseDeltaScale;\n\t\t\t\n\t\t\tconst output = sample * expression;\n\t\t\texpression += expressionDelta;\n\n\t\t\tdata[sampleIndex] += output;\n\t\t\t}\n\t\t\t\n\t\t\ttone.phases[#] = operator#Phase / ` + Config.sineWaveLength + `;\n\t\t\ttone.phaseDeltas[#] = operator#PhaseDelta / ` + Config.sineWaveLength + `;\n\t\t\ttone.operatorExpressions[#] = operator#OutputMult;\n\t\t    tone.feedbackOutputs[#] = operator#Output;\n\t\t    tone.feedbackMult = feedbackMult;\n\t\t    tone.expression = expression;\n\t\t\t\n\t\tsynth.sanitizeFilters(filters);\n\t\ttone.initialNoteFilterInput1 = initialFilterInput1;\n\t\ttone.initialNoteFilterInput2 = initialFilterInput2;\n\t\t`).split(\"\\n\");\n\n    private static operatorSourceTemplate: string[] = (`\n\t\t\t\tconst operator#PhaseMix = operator#Phase/* + operator@Scaled*/;\n\t\t\t\tconst operator#PhaseInt = operator#PhaseMix|0;\n\t\t\t\tconst operator#Index    = operator#PhaseInt & ` + Config.sineWaveMask + `;\n                const operator#Sample   = operator#Wave[operator#Index];\n                operator#Output         = operator#Sample + (operator#Wave[operator#Index + 1] - operator#Sample) * (operator#PhaseMix - operator#PhaseInt);\n\t\t\t\tconst operator#Scaled   = operator#OutputMult * operator#Output;\n\t\t`).split(\"\\n\");\n\n    private static noiseSynth(synth: Synth, bufferIndex: number, runLength: number, tone: Tone, instrumentState: InstrumentState): void {\n        const data: Float32Array = synth.tempMonoInstrumentSampleBuffer!;\n        const wave: Float32Array = instrumentState.wave!;\n        let phaseDelta: number = +tone.phaseDeltas[0];\n        const phaseDeltaScale: number = +tone.phaseDeltaScales[0];\n        let expression: number = +tone.expression;\n        const expressionDelta: number = +tone.expressionDelta;\n        let phase: number = (tone.phases[0] % 1) * Config.chipNoiseLength;\n        if (tone.phases[0] == 0) {\n            // Zero phase means the tone was reset, just give noise a random start phase instead.\n            phase = Math.random() * Config.chipNoiseLength;\n        }\n        const phaseMask: number = Config.chipNoiseLength - 1;\n        let noiseSample: number = +tone.noiseSample;\n\n        const filters: DynamicBiquadFilter[] = tone.noteFilters;\n        const filterCount: number = tone.noteFilterCount | 0;\n        let initialFilterInput1: number = +tone.initialNoteFilterInput1;\n        let initialFilterInput2: number = +tone.initialNoteFilterInput2;\n        const applyFilters: Function = Synth.applyFilters;\n\n        // This is for a \"legacy\" style simplified 1st order lowpass filter with\n        // a cutoff frequency that is relative to the tone's fundamental frequency.\n        const pitchRelativefilter: number = Math.min(1.0, phaseDelta * instrumentState.noisePitchFilterMult);\n\n        const stopIndex: number = bufferIndex + runLength;\n        for (let sampleIndex: number = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n            const waveSample: number = wave[phase & phaseMask];\n\n            noiseSample += (waveSample - noiseSample) * pitchRelativefilter;\n\n            const inputSample: number = noiseSample;\n            const sample: number = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n            initialFilterInput2 = initialFilterInput1;\n            initialFilterInput1 = inputSample;\n\n            phase += phaseDelta;\n            phaseDelta *= phaseDeltaScale;\n\n            const output: number = sample * expression;\n            expression += expressionDelta;\n\n            data[sampleIndex] += output;\n        }\n\n        tone.phases[0] = phase / Config.chipNoiseLength;\n        tone.phaseDeltas[0] = phaseDelta;\n        tone.expression = expression;\n        tone.noiseSample = noiseSample;\n\n        synth.sanitizeFilters(filters);\n        tone.initialNoteFilterInput1 = initialFilterInput1;\n        tone.initialNoteFilterInput2 = initialFilterInput2;\n    }\n\n    private static spectrumSynth(synth: Synth, bufferIndex: number, runLength: number, tone: Tone, instrumentState: InstrumentState): void {\n        const data: Float32Array = synth.tempMonoInstrumentSampleBuffer!;\n        const wave: Float32Array = instrumentState.wave!;\n        const samplesInPeriod: number = (1 << 7);\n        let phaseDelta: number = tone.phaseDeltas[0] * samplesInPeriod;\n        const phaseDeltaScale: number = +tone.phaseDeltaScales[0];\n        let expression: number = +tone.expression;\n        const expressionDelta: number = +tone.expressionDelta;\n        let noiseSample: number = +tone.noiseSample;\n\n        const filters: DynamicBiquadFilter[] = tone.noteFilters;\n        const filterCount: number = tone.noteFilterCount | 0;\n        let initialFilterInput1: number = +tone.initialNoteFilterInput1;\n        let initialFilterInput2: number = +tone.initialNoteFilterInput2;\n        const applyFilters: Function = Synth.applyFilters;\n\n        let phase: number = (tone.phases[0] % 1) * Config.spectrumNoiseLength;\n        // Zero phase means the tone was reset, just give noise a random start phase instead.\n        if (tone.phases[0] == 0) phase = Synth.findRandomZeroCrossing(wave, Config.spectrumNoiseLength) + phaseDelta;\n        const phaseMask: number = Config.spectrumNoiseLength - 1;\n\n        // This is for a \"legacy\" style simplified 1st order lowpass filter with\n        // a cutoff frequency that is relative to the tone's fundamental frequency.\n        const pitchRelativefilter: number = Math.min(1.0, phaseDelta);\n\n        const stopIndex: number = bufferIndex + runLength;\n        for (let sampleIndex: number = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n            const phaseInt: number = phase | 0;\n            const index: number = phaseInt & phaseMask;\n            let waveSample: number = wave[index];\n            const phaseRatio: number = phase - phaseInt;\n            waveSample += (wave[index + 1] - waveSample) * phaseRatio;\n\n            noiseSample += (waveSample - noiseSample) * pitchRelativefilter;\n\n\n            const inputSample: number = noiseSample;\n            const sample: number = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n            initialFilterInput2 = initialFilterInput1;\n            initialFilterInput1 = inputSample;\n\n            phase += phaseDelta;\n            phaseDelta *= phaseDeltaScale;\n\n            const output: number = sample * expression;\n            expression += expressionDelta;\n\n            data[sampleIndex] += output;\n        }\n\n        tone.phases[0] = phase / Config.spectrumNoiseLength;\n        tone.phaseDeltas[0] = phaseDelta / samplesInPeriod;\n        tone.expression = expression;\n        tone.noiseSample = noiseSample;\n\n        synth.sanitizeFilters(filters);\n        tone.initialNoteFilterInput1 = initialFilterInput1;\n        tone.initialNoteFilterInput2 = initialFilterInput2;\n    }\n\n    private static drumsetSynth(synth: Synth, bufferIndex: number, runLength: number, tone: Tone, instrumentState: InstrumentState): void {\n        const data: Float32Array = synth.tempMonoInstrumentSampleBuffer!;\n        let wave: Float32Array = instrumentState.getDrumsetWave(tone.drumsetPitch!);\n        const referenceDelta: number = InstrumentState.drumsetIndexReferenceDelta(tone.drumsetPitch!);\n        let phaseDelta: number = tone.phaseDeltas[0] / referenceDelta;\n        const phaseDeltaScale: number = +tone.phaseDeltaScales[0];\n        let expression: number = +tone.expression;\n        const expressionDelta: number = +tone.expressionDelta;\n\n        const filters: DynamicBiquadFilter[] = tone.noteFilters;\n        const filterCount: number = tone.noteFilterCount | 0;\n        let initialFilterInput1: number = +tone.initialNoteFilterInput1;\n        let initialFilterInput2: number = +tone.initialNoteFilterInput2;\n        const applyFilters: Function = Synth.applyFilters;\n\n        let phase: number = (tone.phases[0] % 1) * Config.spectrumNoiseLength;\n        // Zero phase means the tone was reset, just give noise a random start phase instead.\n        if (tone.phases[0] == 0) phase = Synth.findRandomZeroCrossing(wave, Config.spectrumNoiseLength) + phaseDelta;\n        const phaseMask: number = Config.spectrumNoiseLength - 1;\n\n        const stopIndex: number = bufferIndex + runLength;\n        for (let sampleIndex: number = bufferIndex; sampleIndex < stopIndex; sampleIndex++) {\n            const phaseInt: number = phase | 0;\n            const index: number = phaseInt & phaseMask;\n            let noiseSample: number = wave[index];\n            const phaseRatio: number = phase - phaseInt;\n            noiseSample += (wave[index + 1] - noiseSample) * phaseRatio;\n\n            const inputSample: number = noiseSample;\n            const sample: number = applyFilters(inputSample, initialFilterInput1, initialFilterInput2, filterCount, filters);\n            initialFilterInput2 = initialFilterInput1;\n            initialFilterInput1 = inputSample;\n\n            phase += phaseDelta;\n            phaseDelta *= phaseDeltaScale;\n\n            const output: number = sample * expression;\n            expression += expressionDelta;\n\n            data[sampleIndex] += output;\n        }\n\n        tone.phases[0] = phase / Config.spectrumNoiseLength;\n        tone.phaseDeltas[0] = phaseDelta * referenceDelta;\n        tone.expression = expression;\n\n        synth.sanitizeFilters(filters);\n        tone.initialNoteFilterInput1 = initialFilterInput1;\n        tone.initialNoteFilterInput2 = initialFilterInput2;\n    }\n\n    private static modSynth(synth: Synth, stereoBufferIndex: number, roundedSamplesPerTick: number, tone: Tone, instrument: Instrument): void {\n        // Note: present modulator value is tone.expressionStarts[0].\n\n        if (!synth.song) return;\n\n        let mod: number = Config.modCount - 1 - tone.pitches[0];\n\n        // Flagged as invalid because unused by current settings, skip\n        if (instrument.invalidModulators[mod]) return;\n\n        let setting: number = instrument.modulators[mod];\n\n        // Generate list of used instruments\n        let usedInstruments: number[] = [];\n        if (Config.modulators[instrument.modulators[mod]].forSong) {\n            // Instrument doesn't matter for song, just push a random index to run the modsynth once\n            usedInstruments.push(0);\n        } else {\n            // All\n            if (instrument.modInstruments[mod] == synth.song.channels[instrument.modChannels[mod]].instruments.length) {\n                for (let i: number = 0; i < synth.song.channels[instrument.modChannels[mod]].instruments.length; i++) {\n                    usedInstruments.push(i);\n                }\n            }\n            // Active\n            else if (instrument.modInstruments[mod] > synth.song.channels[instrument.modChannels[mod]].instruments.length) {\n                if (synth.song.getPattern(instrument.modChannels[mod], synth.bar) != null)\n                    usedInstruments = synth.song.getPattern(instrument.modChannels[mod], synth.bar)!.instruments;\n            } else {\n                usedInstruments.push(instrument.modInstruments[mod]);\n            }\n        }\n\n        for (let instrumentIndex: number = 0; instrumentIndex < usedInstruments.length; instrumentIndex++) {\n\n            synth.setModValue(tone.expression, tone.expression + tone.expressionDelta, mod, instrument.modChannels[mod], usedInstruments[instrumentIndex], setting);\n\n            // Reset arps, but only at the start of the note\n            if (setting == Config.modulators.dictionary[\"reset arp\"].index && synth.tick == 0 && tone.noteStartPart == synth.beat * Config.partsPerBeat + synth.part) {\n                synth.song.channels[instrument.modChannels[mod]].instruments[usedInstruments[instrumentIndex]].arpTime = 0;\n            }\n            // Denote next bar skip\n            else if (setting == Config.modulators.dictionary[\"next bar\"].index) {\n                synth.wantToSkip = true;\n            }\n            // Extra info for eq filter target needs to be set as well\n            else if (setting == Config.modulators.dictionary[\"eq filter\"].index) {\n                const tgtInstrument = synth.song.channels[instrument.modChannels[mod]].instruments[usedInstruments[instrumentIndex]];\n\n                if (!tgtInstrument.eqFilterType) {\n\n                    let dotTarget = instrument.modFilterTypes[mod] | 0;\n\n                    if (dotTarget == 0) { // Morph. Figure out the target filter's X/Y coords for this point. If no point exists with this index, or point types don't match, do lerp-out for this point and lerp-in of a new point\n\n                        let pinIdx: number = 0;\n                        const currentPart: number = synth.getTicksIntoBar() / Config.ticksPerPart;\n                        while (tone.note!.start + tone.note!.pins[pinIdx].time <= currentPart) pinIdx++;\n                        // 0 to 1 based on distance to next morph\n                        //let lerpStartRatio: number = (currentPart - tone.note!.pins[pinIdx - 1].time) / (tone.note!.pins[pinIdx].time - tone.note!.pins[pinIdx - 1].time);\n                        let lerpEndRatio: number = ((currentPart - tone.note!.start + (roundedSamplesPerTick / (synth.getSamplesPerTick() * Config.ticksPerPart)) * Config.ticksPerPart) - tone.note!.pins[pinIdx - 1].time) / (tone.note!.pins[pinIdx].time - tone.note!.pins[pinIdx - 1].time);\n\n                        // Compute the new settings to go to.\n                        if (tgtInstrument.eqSubFilters[tone.note!.pins[pinIdx - 1].size] != null || tgtInstrument.eqSubFilters[tone.note!.pins[pinIdx].size] != null) {\n                            tgtInstrument.tmpEqFilterEnd = FilterSettings.lerpFilters(tgtInstrument.eqSubFilters[tone.note!.pins[pinIdx - 1].size]!, tgtInstrument.eqSubFilters[tone.note!.pins[pinIdx].size]!, lerpEndRatio);\n                        } else {\n                            // No mutation will occur to the filter object so we can safely return it without copying\n                            tgtInstrument.tmpEqFilterEnd = tgtInstrument.eqFilter;\n                        }\n\n                    } // Target (1 is dot 1 X, 2 is dot 1 Y, etc.)\n                    else {\n                        // Since we are directly manipulating the filter, make sure it is a new one and not an actual one of the instrument's filters\n                        for (let i: number = 0; i < Config.filterMorphCount; i++) {\n                            if (tgtInstrument.tmpEqFilterEnd == tgtInstrument.eqSubFilters[i] && tgtInstrument.tmpEqFilterEnd != null) {\n                                tgtInstrument.tmpEqFilterEnd = new FilterSettings();\n                                tgtInstrument.tmpEqFilterEnd.fromJsonObject(tgtInstrument.eqSubFilters[i]!.toJsonObject());\n                            }\n                        }\n                        if (tgtInstrument.tmpEqFilterEnd == null) {\n                            tgtInstrument.tmpEqFilterEnd = new FilterSettings();\n                            tgtInstrument.tmpEqFilterEnd.fromJsonObject(tgtInstrument.eqFilter.toJsonObject());\n                        }\n\n                        if (tgtInstrument.tmpEqFilterEnd.controlPointCount > Math.floor((dotTarget - 1) / 2)) {\n                            if (dotTarget % 2) { // X\n                                tgtInstrument.tmpEqFilterEnd.controlPoints[Math.floor((dotTarget - 1) / 2)].freq = tone.expression + tone.expressionDelta;\n                            } else { // Y\n                                tgtInstrument.tmpEqFilterEnd.controlPoints[Math.floor((dotTarget - 1) / 2)].gain = tone.expression + tone.expressionDelta;\n                            }\n                        }\n                    }\n                }\n            }\n            // Extra info for note filter target needs to be set as well\n            else if (setting == Config.modulators.dictionary[\"note filter\"].index) {\n                const tgtInstrument = synth.song.channels[instrument.modChannels[mod]].instruments[usedInstruments[instrumentIndex]];\n\n                if (!tgtInstrument.noteFilterType) {\n                    let dotTarget = instrument.modFilterTypes[mod] | 0;\n\n                    if (dotTarget == 0) { // Morph. Figure out the target filter's X/Y coords for this point. If no point exists with this index, or point types don't match, do lerp-out for this point and lerp-in of a new point\n\n                        let pinIdx: number = 0;\n                        const currentPart: number = synth.getTicksIntoBar() / Config.ticksPerPart;\n                        while (tone.note!.start + tone.note!.pins[pinIdx].time <= currentPart) pinIdx++;\n                        // 0 to 1 based on distance to next morph\n                        //let lerpStartRatio: number = (currentPart - tone.note!.pins[pinIdx - 1].time) / (tone.note!.pins[pinIdx].time - tone.note!.pins[pinIdx - 1].time);\n                        let lerpEndRatio: number = ((currentPart - tone.note!.start + (roundedSamplesPerTick / (synth.getSamplesPerTick() * Config.ticksPerPart)) * Config.ticksPerPart) - tone.note!.pins[pinIdx - 1].time) / (tone.note!.pins[pinIdx].time - tone.note!.pins[pinIdx - 1].time);\n\n                        // Compute the new settings to go to.\n                        if (tgtInstrument.noteSubFilters[tone.note!.pins[pinIdx - 1].size] != null || tgtInstrument.noteSubFilters[tone.note!.pins[pinIdx].size] != null) {\n                            tgtInstrument.tmpNoteFilterEnd = FilterSettings.lerpFilters(tgtInstrument.noteSubFilters[tone.note!.pins[pinIdx - 1].size]!, tgtInstrument.noteSubFilters[tone.note!.pins[pinIdx].size]!, lerpEndRatio);\n                        } else {\n                            // No mutation will occur to the filter object so we can safely return it without copying\n                            tgtInstrument.tmpNoteFilterEnd = tgtInstrument.noteFilter;\n                        }\n\n                    } // Target (1 is dot 1 X, 2 is dot 1 Y, etc.)\n                    else {\n                        // Since we are directly manipulating the filter, make sure it is a new one and not an actual one of the instrument's filters\n\n                        for (let i: number = 0; i < Config.filterMorphCount; i++) {\n                            if (tgtInstrument.tmpNoteFilterEnd == tgtInstrument.noteSubFilters[i] && tgtInstrument.tmpNoteFilterEnd != null) {\n                                tgtInstrument.tmpNoteFilterEnd = new FilterSettings();\n                                tgtInstrument.tmpNoteFilterEnd.fromJsonObject(tgtInstrument.noteSubFilters[i]!.toJsonObject());\n                            }\n                        }\n                        if (tgtInstrument.tmpNoteFilterEnd == null) {\n                            tgtInstrument.tmpNoteFilterEnd = new FilterSettings();\n                            tgtInstrument.tmpNoteFilterEnd.fromJsonObject(tgtInstrument.noteFilter.toJsonObject());\n                        }\n\n                        if (tgtInstrument.tmpNoteFilterEnd.controlPointCount > Math.floor((dotTarget - 1) / 2)) {\n                            if (dotTarget % 2) { // X\n                                tgtInstrument.tmpNoteFilterEnd.controlPoints[Math.floor((dotTarget - 1) / 2)].freq = tone.expression + tone.expressionDelta;\n                            } else { // Y\n                                tgtInstrument.tmpNoteFilterEnd.controlPoints[Math.floor((dotTarget - 1) / 2)].gain = tone.expression + tone.expressionDelta;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private static findRandomZeroCrossing(wave: Float32Array, waveLength: number): number {\n        let phase: number = Math.random() * waveLength;\n        const phaseMask: number = waveLength - 1;\n\n        // Spectrum and drumset waves sounds best when they start at a zero crossing,\n        // otherwise they pop. Try to find a zero crossing.\n        let indexPrev: number = phase & phaseMask;\n        let wavePrev: number = wave[indexPrev];\n        const stride: number = 16;\n        for (let attemptsRemaining: number = 128; attemptsRemaining > 0; attemptsRemaining--) {\n            const indexNext: number = (indexPrev + stride) & phaseMask;\n            const waveNext: number = wave[indexNext];\n            if (wavePrev * waveNext <= 0.0) {\n                // Found a zero crossing! Now let's narrow it down to two adjacent sample indices.\n                for (let i: number = 0; i < stride; i++) {\n                    const innerIndexNext: number = (indexPrev + 1) & phaseMask;\n                    const innerWaveNext: number = wave[innerIndexNext];\n                    if (wavePrev * innerWaveNext <= 0.0) {\n                        // Found the zero crossing again! Now let's find the exact intersection.\n                        const slope: number = innerWaveNext - wavePrev;\n                        phase = indexPrev;\n                        if (Math.abs(slope) > 0.00000001) {\n                            phase += -wavePrev / slope;\n                        }\n                        phase = Math.max(0, phase) % waveLength;\n                        break;\n                    } else {\n                        indexPrev = innerIndexNext;\n                        wavePrev = innerWaveNext;\n                    }\n                }\n                break;\n            } else {\n                indexPrev = indexNext;\n                wavePrev = waveNext;\n            }\n        }\n\n        return phase;\n    }\n\n    public static instrumentVolumeToVolumeMult(instrumentVolume: number): number {\n        return (instrumentVolume == -Config.volumeRange / 2.0) ? 0.0 : Math.pow(2, Config.volumeLogScale * instrumentVolume);\n    }\n    public static volumeMultToInstrumentVolume(volumeMult: number): number {\n        return (volumeMult <= 0.0) ? -Config.volumeRange / 2 : Math.min(Config.volumeRange, (Math.log(volumeMult) / Math.LN2) / Config.volumeLogScale);\n    }\n    public static noteSizeToVolumeMult(size: number): number {\n        return Math.pow(Math.max(0.0, size) / Config.noteSizeMax, 1.5);\n    }\n    public static volumeMultToNoteSize(volumeMult: number): number {\n        return Math.pow(Math.max(0.0, volumeMult), 1 / 1.5) * Config.noteSizeMax;\n    }\n\n    public static fadeInSettingToSeconds(setting: number): number {\n        return 0.0125 * (0.95 * setting + 0.05 * setting * setting);\n    }\n    public static secondsToFadeInSetting(seconds: number): number {\n        return clamp(0, Config.fadeInRange, Math.round((-0.95 + Math.sqrt(0.9025 + 0.2 * seconds / 0.0125)) / 0.1));\n    }\n    public static fadeOutSettingToTicks(setting: number): number {\n        return Config.fadeOutTicks[setting];\n    }\n    public static ticksToFadeOutSetting(ticks: number): number {\n        let lower: number = Config.fadeOutTicks[0];\n        if (ticks <= lower) return 0;\n        for (let i: number = 1; i < Config.fadeOutTicks.length; i++) {\n            let upper: number = Config.fadeOutTicks[i];\n            if (ticks <= upper) return (ticks < (lower + upper) / 2) ? i - 1 : i;\n            lower = upper;\n        }\n        return Config.fadeOutTicks.length - 1;\n    }\n\n    public static detuneToCents(detune: number): number {\n        // BeepBox formula, for reference:\n        // return detune * (Math.abs(detune) + 1) / 2;\n        return detune - Config.detuneCenter;\n    }\n    public static centsToDetune(cents: number): number {\n        // BeepBox formula, for reference:\n        // return Math.sign(cents) * (Math.sqrt(1 + 8 * Math.abs(cents)) - 1) / 2.0;\n        return cents + Config.detuneCenter;\n    }\n\n    public static getOperatorWave(waveform: number, pulseWidth: number) {\n        if (waveform != 2) {\n            return Config.operatorWaves[waveform];\n        }\n        else {\n            return Config.pwmOperatorWaves[pulseWidth];\n        }\n    }\n\n    private getSamplesPerTick(): number {\n        if (this.song == null) return 0;\n        let beatsPerMinute: number = this.song.getBeatsPerMinute();\n        if (this.isModActive(Config.modulators.dictionary[\"tempo\"].index)) {\n            beatsPerMinute = this.getModValue(Config.modulators.dictionary[\"tempo\"].index);\n        }\n        return this.getSamplesPerTickSpecificBPM(beatsPerMinute);\n    }\n\n    private getSamplesPerTickSpecificBPM(beatsPerMinute: number): number {\n        const beatsPerSecond: number = beatsPerMinute / 60.0;\n        const partsPerSecond: number = Config.partsPerBeat * beatsPerSecond;\n        const tickPerSecond: number = Config.ticksPerPart * partsPerSecond;\n        return this.samplesPerSecond / tickPerSecond;\n    }\n\n    public static fittingPowerOfTwo(x: number): number {\n        return 1 << (32 - Math.clz32(Math.ceil(x) - 1));\n    }\n\n    private sanitizeFilters(filters: DynamicBiquadFilter[]): void {\n        let reset: boolean = false;\n        for (const filter of filters) {\n            const output1: number = Math.abs(filter.output1);\n            const output2: number = Math.abs(filter.output2);\n            // If either is a large value, Infinity, or NaN, then just reset all filter history.\n            if (!(output1 < 100) || !(output2 < 100)) {\n                reset = true;\n                break;\n            }\n            if (output1 < epsilon) filter.output1 = 0.0;\n            if (output2 < epsilon) filter.output2 = 0.0;\n        }\n        if (reset) {\n            for (const filter of filters) {\n                filter.output1 = 0.0;\n                filter.output2 = 0.0;\n            }\n        }\n    }\n\n    public static sanitizeDelayLine(delayLine: Float32Array, lastIndex: number, mask: number): void {\n        while (true) {\n            lastIndex--;\n            const index: number = lastIndex & mask;\n            const sample: number = Math.abs(delayLine[index]);\n            if (Number.isFinite(sample) && (sample == 0.0 || sample >= epsilon)) break;\n            delayLine[index] = 0.0;\n        }\n    }\n\n    public static applyFilters(sample: number, input1: number, input2: number, filterCount: number, filters: DynamicBiquadFilter[]): number {\n        for (let i: number = 0; i < filterCount; i++) {\n            const filter: DynamicBiquadFilter = filters[i];\n            const output1: number = filter.output1;\n            const output2: number = filter.output2;\n            const a1: number = filter.a1;\n            const a2: number = filter.a2;\n            const b0: number = filter.b0;\n            const b1: number = filter.b1;\n            const b2: number = filter.b2;\n            sample = b0 * sample + b1 * input1 + b2 * input2 - a1 * output1 - a2 * output2;\n            filter.a1 = a1 + filter.a1Delta;\n            filter.a2 = a2 + filter.a2Delta;\n            if (filter.useMultiplicativeInputCoefficients) {\n                filter.b0 = b0 * filter.b0Delta;\n                filter.b1 = b1 * filter.b1Delta;\n                filter.b2 = b2 * filter.b2Delta;\n            } else {\n                filter.b0 = b0 + filter.b0Delta;\n                filter.b1 = b1 + filter.b1Delta;\n                filter.b2 = b2 + filter.b2Delta;\n            }\n            filter.output2 = output1;\n            filter.output1 = sample;\n            // Updating the input values is waste if the next filter doesn't exist...\n            input2 = output2;\n            input1 = output1;\n        }\n        return sample;\n    }\n}\n\n// When compiling synth.ts as a standalone module named \"beepbox\", expose these classes as members to JavaScript:\nexport { Dictionary, DictionaryArray, FilterType, EnvelopeType, InstrumentType, Transition, Chord, Envelope, Config };\n","// Copyright (c) 2012-2022 John Nesky and contributing authors, distributed under the MIT license, see accompanying the LICENSE.md file.\n\nimport { Dictionary, DictionaryArray, EnvelopeType, InstrumentType, Transition, Chord, Envelope, Config } from \"../synth/SynthConfig\";\nimport { ColorConfig } from \"../editor/ColorConfig\";\nimport { NotePin, Note, Pattern, Instrument, Channel, Synth } from \"../synth/synth\";\nimport { oscilascopeCanvas } from \"../global/Oscilascope\";\nimport { HTML, SVG } from \"imperative-html/dist/esm/elements-strict\";\n\n\tconst {a, button, div, h1, input, canvas} = HTML;\n\tconst {svg, circle, rect, path} = SVG;\n\n\tconst isMobile: boolean = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|android|ipad|playbook|silk/i.test(navigator.userAgent);\n\n\tdocument.head.appendChild(HTML.style({type: \"text/css\"}, `\n\tbody {\n\t\tcolor: ${ColorConfig.primaryText};\n\t\tbackground: ${ColorConfig.editorBackground};\n\t}\n\th1 {\n\t\tfont-weight: bold;\n\t\tfont-size: 14px;\n\t\tline-height: 22px;\n\t\ttext-align: initial;\n\t\tmargin: 0;\n\t}\n\ta {\n\t\tfont-weight: bold;\n\t\tfont-size: 12px;\n\t\tline-height: 22px;\n\t\twhite-space: nowrap;\n\t\tcolor: ${ColorConfig.linkAccent};\n\t}\n\tbutton {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tposition: relative;\n\t\tborder: none;\n\t\tborder-radius: 5px;\n\t\tbackground: ${ColorConfig.uiWidgetBackground};\n\t\tcolor: ${ColorConfig.primaryText};\n\t\tcursor: pointer;\n\t\tfont-size: 14px;\n\t\tfont-family: inherit;\n\t}\n\tbutton:hover, button:focus {\n\t\tbackground: ${ColorConfig.uiWidgetFocus};\n\t}\n\t.playButton, .pauseButton {\n\t\tpadding-left: 24px;\n\t\tpadding-right: 6px;\n\t}\n\t.playButton::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tleft: 6px;\n\t\ttop: 50%;\n\t\tmargin-top: -6px;\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tpointer-events: none;\n\t\tbackground: ${ColorConfig.primaryText};\n\t\t-webkit-mask-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"-6 -6 12 12\"><path d=\"M 6 0 L -5 6 L -5 -6 z\" fill=\"gray\"/></svg>');\n\t\t-webkit-mask-repeat: no-repeat;\n\t\t-webkit-mask-position: center;\n\t\tmask-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"-6 -6 12 12\"><path d=\"M 6 0 L -5 6 L -5 -6 z\" fill=\"gray\"/></svg>');\n\t\tmask-repeat: no-repeat;\n\t\tmask-position: center;\n\t}\n\t.pauseButton::before {\n\t\tcontent: \"\";\n\t\tposition: absolute;\n\t\tleft: 6px;\n\t\ttop: 50%;\n\t\tmargin-top: -6px;\n\t\twidth: 12px;\n\t\theight: 12px;\n\t\tpointer-events: none;\n\t\tbackground: ${ColorConfig.primaryText};\n\t\t-webkit-mask-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"-6 -6 12 12\"><rect x=\"-5\" y=\"-6\" width=\"3\" height=\"12\" fill=\"gray\"/><rect x=\"2\"  y=\"-6\" width=\"3\" height=\"12\" fill=\"gray\"/></svg>');\n\t\t-webkit-mask-repeat: no-repeat;\n\t\t-webkit-mask-position: center;\n\t\tmask-image: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"-6 -6 12 12\"><rect x=\"-5\" y=\"-6\" width=\"3\" height=\"12\" fill=\"gray\"/><rect x=\"2\"  y=\"-6\" width=\"3\" height=\"12\" fill=\"gray\"/></svg>');\n\t\tmask-repeat: no-repeat;\n\t\tmask-position: center;\n\t}\n\t\n\tinput[type=range] {\n\t\t-webkit-appearance: none;\n\t\tappearance: none;\n\t\theight: 16px;\n\t\tmargin: 0;\n\t\tcursor: pointer;\n\t\tbackground-color: ${ColorConfig.editorBackground};\n\t\ttouch-action: pan-y;\n\t}\n\tinput[type=range]:focus {\n\t\toutline: none;\n\t}\n\tinput[type=range]::-webkit-slider-runnable-track {\n\t\twidth: 100%;\n\t\theight: 4px;\n\t\tcursor: pointer;\n\t\tbackground: ${ColorConfig.uiWidgetBackground};\n\t}\n\tinput[type=range]::-webkit-slider-thumb {\n\t\theight: 16px;\n\t\twidth: 4px;\n\t\tborder-radius: 2px;\n\t\tbackground: ${ColorConfig.primaryText};\n\t\tcursor: pointer;\n\t\t-webkit-appearance: none;\n\t\tmargin-top: -6px;\n\t}\n\tinput[type=range]:focus::-webkit-slider-runnable-track, input[type=range]:hover::-webkit-slider-runnable-track {\n\t\tbackground: ${ColorConfig.uiWidgetFocus};\n\t}\n\tinput[type=range]::-moz-range-track {\n\t\twidth: 100%;\n\t\theight: 4px;\n\t\tcursor: pointer;\n\t\tbackground: ${ColorConfig.uiWidgetBackground};\n\t}\n\tinput[type=range]:focus::-moz-range-track, input[type=range]:hover::-moz-range-track  {\n\t\tbackground: ${ColorConfig.uiWidgetFocus};\n\t}\n\tinput[type=range]::-moz-range-thumb {\n\t\theight: 16px;\n\t\twidth: 4px;\n\t\tborder-radius: 2px;\n\t\tborder: none;\n\t\tbackground: ${ColorConfig.primaryText};\n\t\tcursor: pointer;\n\t}\n\tinput[type=range]::-ms-track {\n\t\twidth: 100%;\n\t\theight: 4px;\n\t\tcursor: pointer;\n\t\tbackground: ${ColorConfig.uiWidgetBackground};\n\t\tborder-color: transparent;\n\t}\n\tinput[type=range]:focus::-ms-track, input[type=range]:hover::-ms-track {\n\t\tbackground: ${ColorConfig.uiWidgetFocus};\n\t}\n\tinput[type=range]::-ms-thumb {\n\t\theight: 16px;\n\t\twidth: 4px;\n\t\tborder-radius: 2px;\n\t\tbackground: ${ColorConfig.primaryText};\n\t\tcursor: pointer;\n\t}\n`));\nconst colorTheme: string | null = getLocalStorage(\"colorTheme\");\nColorConfig.setTheme(colorTheme === null ? \"dark classic\" : colorTheme);\n\nlet prevHash: string | null = null;\nlet id: string = ((Math.random() * 0xffffffff) >>> 0).toString(16);\nlet pauseButtonDisplayed: boolean = false;\nlet animationRequest: number | null;\nlet zoomEnabled: boolean = false;\nlet timelineWidth: number = 1;\nlet outVolumeHistoricTimer: number = 0;\nlet outVolumeHistoricCap: number = 0;\n\nconst synth: Synth = new Synth();\nconst oscilascope: oscilascopeCanvas = new oscilascopeCanvas(canvas({ width: isMobile? 144:288, height: isMobile?32:64, style: `border:2px solid ${ColorConfig.uiWidgetBackground}; overflow: hidden;` , id: \"oscilascopeAll\" }), isMobile?1:2);\nconst showOscilloscope: boolean = getLocalStorage(\"showOscilloscope\") != \"false\";\nif (!showOscilloscope) {\n\toscilascope.canvas.style.display = \"none\";\n\tsynth.oscEnabled = false;\n}\nlet titleText: HTMLHeadingElement = h1({ style: \"flex-grow: 1; margin: 0 1px; margin-left: 10px; overflow: hidden;\" }, \"\");\n\tlet editLink: HTMLAnchorElement = a({target: \"_top\", style: \"margin: 0 4px;\"}, \" Edit\");\n\tlet copyLink: HTMLAnchorElement = a({href: \"javascript:void(0)\", style: \"margin: 0 4px;\"}, \" Copy URL\");\n\tlet shareLink: HTMLAnchorElement = a({href: \"javascript:void(0)\", style: \"margin: 0 4px;\"}, \" Share\");\n\tlet fullscreenLink: HTMLAnchorElement = a({target: \"_top\", style: \"margin: 0 4px;\"}, \" Fullscreen\");\n\nlet draggingPlayhead: boolean = false;\n\tconst playButton: HTMLButtonElement = button({style: \"width: 100%; height: 100%; max-height: 50px;\"});\n\tconst playButtonContainer: HTMLDivElement = div({style: \"flex-shrink: 0; display: flex; padding: 2px; width: 80px; height: 100%; box-sizing: border-box; align-items: center;\"},\n\tplayButton,\n);\n\tconst loopIcon: SVGPathElement = path({d: \"M 4 2 L 4 0 L 7 3 L 4 6 L 4 4 Q 2 4 2 6 Q 2 8 4 8 L 4 10 Q 0 10 0 6 Q 0 2 4 2 M 8 10 L 8 12 L 5 9 L 8 6 L 8 8 Q 10 8 10 6 Q 10 4 8 4 L 8 2 Q 12 2 12 6 Q 12 10 8 10 z\"});\n\tconst loopButton: HTMLButtonElement = button({title: \"loop\", style: \"background: none; flex: 0 0 12px; margin: 0 3px; width: 12px; height: 12px; display: flex;\"}, svg({width: 12, height: 12, viewBox: \"0 0 12 12\"},\n\tloopIcon,\n));\n\n\tconst volumeIcon: SVGSVGElement = svg({style: \"flex: 0 0 12px; margin: 0 1px; width: 12px; height: 12px;\", viewBox: \"0 0 12 12\"},\n\t\tpath({fill: ColorConfig.uiWidgetBackground, d: \"M 1 9 L 1 3 L 4 3 L 7 0 L 7 12 L 4 9 L 1 9 M 9 3 Q 12 6 9 9 L 8 8 Q 10.5 6 8 4 L 9 3 z\"}),\n);\nconst volumeSlider: HTMLInputElement = input({ title: \"volume\", type: \"range\", value: 75, min: 0, max: 75, step: 1, style: \"width: 12vw; max-width: 100px; margin: 0 1px;\" });\n\n\tconst zoomIcon: SVGSVGElement = svg({width: 12, height: 12, viewBox: \"0 0 12 12\"},\n\t\tcircle({cx: \"5\", cy: \"5\", r: \"4.5\", \"stroke-width\": \"1\", stroke: \"currentColor\", fill: \"none\"}),\n\t\tpath({stroke: \"currentColor\", \"stroke-width\": \"2\", d: \"M 8 8 L 11 11 M 5 2 L 5 8 M 2 5 L 8 5\", fill: \"none\"}),\n);\n\tconst zoomButton: HTMLButtonElement = button({title: \"zoom\", style: \"background: none; flex: 0 0 12px; margin: 0 3px; width: 12px; height: 12px; display: flex;\"},\n\tzoomIcon,\n);\n\n\tconst timeline: SVGSVGElement = svg({style: \"min-width: 0; min-height: 0; touch-action: pan-y pinch-zoom;\"});\n\tconst playhead: HTMLDivElement = div({style: `position: absolute; left: 0; top: 0; width: 2px; height: 100%; background: ${ColorConfig.playhead}; pointer-events: none;`});\n\tconst timelineContainer: HTMLDivElement = div({style: \"display: flex; flex-grow: 1; flex-shrink: 1; position: relative;\"}, timeline, playhead);\n\tconst visualizationContainer: HTMLDivElement = div({style: \"display: flex; flex-grow: 1; flex-shrink: 1; height: 0; position: relative; align-items: center; overflow: hidden;\"}, timelineContainer);\n\nconst outVolumeBarBg: SVGRectElement = SVG.rect({ \"pointer-events\": \"none\", width: \"90%\", height: \"50%\", x: \"5%\", y: \"25%\", fill: ColorConfig.uiWidgetBackground });\nconst outVolumeBar: SVGRectElement = SVG.rect({ \"pointer-events\": \"none\", height: \"50%\", width: \"0%\", x: \"5%\", y: \"25%\", fill: \"url('#volumeGrad2')\" });\nconst outVolumeCap: SVGRectElement = SVG.rect({ \"pointer-events\": \"none\", width: \"2px\", height: \"50%\", x: \"5%\", y: \"25%\", fill: ColorConfig.uiWidgetFocus });\nconst stop1: SVGStopElement = SVG.stop({ \"stop-color\": \"lime\", offset: \"60%\" });\nconst stop2: SVGStopElement = SVG.stop({ \"stop-color\": \"orange\", offset: \"90%\" });\nconst stop3: SVGStopElement = SVG.stop({ \"stop-color\": \"red\", offset: \"100%\" });\nconst gradient: SVGGradientElement = SVG.linearGradient({ id: \"volumeGrad2\", gradientUnits: \"userSpaceOnUse\" }, stop1, stop2, stop3);\nconst defs: SVGDefsElement = SVG.defs({}, gradient);\nconst volumeBarContainer: SVGSVGElement = SVG.svg({ style: `touch-action: none; overflow: hidden; margin: auto;`, width: \"160px\", height: \"10px\", preserveAspectRatio: \"none\" },\n\tdefs,\n\toutVolumeBarBg,\n\toutVolumeBar,\n\toutVolumeCap,\n);\ndocument.body.appendChild(visualizationContainer);\ndocument.body.appendChild(\n\t\tdiv({style: `flex-shrink: 0; height: 20vh; min-height: 22px; max-height: 70px; display: flex; align-items: center;`},\n\t\tplayButtonContainer,\n\t\tloopButton,\n\t\tvolumeIcon,\n\t\tvolumeSlider,\n\t\tzoomButton,\n\t\tvolumeBarContainer,\n\t\toscilascope.canvas, //make it auto remove itself later\n\t\ttitleText,\n\t\teditLink,\n\t\tcopyLink,\n\t\tshareLink,\n\t\tfullscreenLink,\n\t),\n);\n\n// Some browsers have an option to \"block third-party cookies\" (it's enabled by\n// default in icognito Chrome windows) that throws an error on trying to access\n// localStorage from cross-domain iframe such as this song player, so wrap the\n// access in a try-catch block to ignore the error instead of interrupting\n// execution.\nfunction setLocalStorage(key: string, value: string): void {\n\ttry {\n\t\tlocalStorage.setItem(key, value);\n\t} catch (error) {\n\t\t// Ignore the error since we can't fix it.\n\t}\n}\nfunction getLocalStorage(key: string): string | null {\n\ttry {\n\t\treturn localStorage.getItem(key);\n\t} catch (error) {\n\t\t// Ignore the error since we can't fix it.\n\t\treturn null;\n\t}\n}\n\nfunction loadSong(songString: string, reuseParams: boolean): void {\n\tsynth.setSong(songString);\n\tsynth.snapToStart();\n\tconst updatedSongString: string = synth.song!.toBase64String();\n\teditLink.href = \"../#\" + updatedSongString;\n\t//@jummbus - these lines convert old url vers loaded into the player to the new url ver. The problem is, if special chars are included,\n\t// they appear to get double-encoded (e.g. the '%' in %20 is encoded again), which breaks the link. Disabled for now until I have a chance\n\t// to look into it more.\n\t//const hashQueryParams = new URLSearchParams(reuseParams ? location.hash.slice(1) : \"\");\n\t//hashQueryParams.set(\"song\", updatedSongString);\n\t//location.hash = hashQueryParams.toString();\n}\n\nfunction hashUpdatedExternally(): void {\n\tlet myHash: string = location.hash;\n\tif (prevHash == myHash || myHash == \"\") return;\n\t\t\n\tprevHash = myHash;\n\t\t\n\tif (myHash.charAt(0) == \"#\") {\n\t\tmyHash = myHash.substring(1);\n\t}\n\t\t\n\t\n\tfullscreenLink.href = location.href;\n\t\t\n\tfor (const parameter of myHash.split(\"&\")) {\n\t\tlet equalsIndex: number = parameter.indexOf(\"=\");\n\t\tif (equalsIndex != -1) {\n\t\t\tlet paramName: string = parameter.substring(0, equalsIndex);\n\t\t\tlet value: string = parameter.substring(equalsIndex + 1);\n\t\t\tswitch (paramName) {\n\t\t\t\tcase \"song\":\n\t\t\t\t\tloadSong(value, true);\n\t\t\t\t\tif (synth.song) {\n\t\t\t\t\t\ttitleText.textContent = synth.song.title;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t//case \"title\":\n\t\t\t\t//\ttitleText.textContent = decodeURIComponent(value);\n\t\t\t\t//\tbreak;\n\t\t\t\tcase \"loop\":\n\t\t\t\t\tsynth.loopRepeatCount = (value != \"1\") ? 0 : -1;\n\t\t\t\t\trenderLoopIcon();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tloadSong(myHash, false);\n\t\t}\n\t}\n\t\t\n\trenderTimeline();\n}\n\nfunction onWindowResize(): void {\n\trenderTimeline();\n}\n\nlet pauseIfAnotherPlayerStartsHandle: ReturnType<typeof setInterval> | null = null;\nfunction pauseIfAnotherPlayerStarts(): void {\n\tif (!synth.playing) {\n\t\tclearInterval(pauseIfAnotherPlayerStartsHandle!);\n\t\treturn;\n\t}\n\n\tconst storedPlayerId: string | null = getLocalStorage(\"playerId\");\n\tif (storedPlayerId != null && storedPlayerId != id) {\n\t\tonTogglePlay();\n\t\trenderPlayhead();\n\t\tclearInterval(pauseIfAnotherPlayerStartsHandle!);\n\t}\n}\n\nfunction animate(): void {\n\tif (synth.playing) {\n\t\tanimationRequest = requestAnimationFrame(animate);\n\t\trenderPlayhead();\n\n\t\tvolumeUpdate();\n\t}\n\tif (pauseButtonDisplayed != synth.playing) {\n\t\trenderPlayButton();\n\t}\n\n}\n\nfunction volumeUpdate(): void {\n\tif (synth.song == null) {\n\t\toutVolumeCap.setAttribute(\"x\", \"5%\");\n\t\toutVolumeBar.setAttribute(\"width\", \"0%\");\n\t\treturn;\n}\n\toutVolumeHistoricTimer--;\n\tif (outVolumeHistoricTimer <= 0) {\n\t\toutVolumeHistoricCap -= 0.03;\n\t}\n\tif (synth.song.outVolumeCap > outVolumeHistoricCap) {\n\t\toutVolumeHistoricCap = synth.song.outVolumeCap;\n\t\toutVolumeHistoricTimer = 50;\n\t}\n\n\tanimateVolume(synth.song.outVolumeCap, outVolumeHistoricCap);\n\n\tif (!synth.playing) {\n\t\toutVolumeCap.setAttribute(\"x\", \"5%\");\n\t\toutVolumeBar.setAttribute(\"width\", \"0%\");\n\t}\n}\n\nfunction animateVolume(useOutVolumeCap: number, historicOutCap: number): void {\n\toutVolumeBar.setAttribute(\"width\", \"\" + Math.min(144, useOutVolumeCap * 144));\n\toutVolumeCap.setAttribute(\"x\", \"\" + (8 + Math.min(144, historicOutCap * 144)));\n}\n\nfunction onTogglePlay(): void {\n\tif (synth.song != null) {\n\t\tif (animationRequest != null) cancelAnimationFrame(animationRequest);\n\t\tanimationRequest = null;\n\t\tif (synth.playing) {\n\t\t\tsynth.pause();\n\t\t\tvolumeUpdate();\n\t\t} else {\n\t\t\tsynth.play();\n\t\t\tsetLocalStorage(\"playerId\", id);\n\t\t\tanimate();\n\t\t\tclearInterval(pauseIfAnotherPlayerStartsHandle!);\n\t\t\tpauseIfAnotherPlayerStartsHandle = setInterval(pauseIfAnotherPlayerStarts, 100);\n\t\t}\n\t}\n\trenderPlayButton();\n}\n\nfunction onToggleLoop(): void {\n\tif (synth.loopRepeatCount == -1) {\n\t\tsynth.loopRepeatCount = 0;\n\t} else {\n\t\tsynth.loopRepeatCount = -1;\n\t}\n\trenderLoopIcon();\n}\n\nfunction onVolumeChange(): void {\n\tsetLocalStorage(\"volume\", volumeSlider.value);\n\tsetSynthVolume();\n}\n\nfunction onToggleZoom(): void {\n\tzoomEnabled = !zoomEnabled;\n\trenderZoomIcon();\n\trenderTimeline();\n}\n\nfunction onTimelineMouseDown(event: MouseEvent): void {\n\tdraggingPlayhead = true;\n\tonTimelineMouseMove(event);\n}\n\nfunction onTimelineMouseMove(event: MouseEvent): void {\n\tif (!draggingPlayhead) return;\n\tevent.preventDefault();\n\tonTimelineCursorMove(event.clientX || event.pageX);\n}\n\nfunction onTimelineTouchDown(event: TouchEvent): void {\n\tdraggingPlayhead = true;\n\tonTimelineTouchMove(event);\n}\n\nfunction onTimelineTouchMove(event: TouchEvent): void {\n\tonTimelineCursorMove(event.touches[0].clientX);\n}\n\nfunction onTimelineCursorMove(mouseX: number): void {\n\tif (draggingPlayhead && synth.song != null) {\n\t\tconst boundingRect: ClientRect = visualizationContainer.getBoundingClientRect();\n\t\tsynth.playhead = synth.song.barCount * (mouseX - boundingRect.left) / (boundingRect.right - boundingRect.left);\n\t\tsynth.computeLatestModValues();\n\t\trenderPlayhead();\n\t}\n}\n\nfunction onTimelineCursorUp(): void {\n\tdraggingPlayhead = false;\n}\n\nfunction setSynthVolume(): void {\n\tconst volume: number = +volumeSlider.value;\n\tsynth.volume = Math.min(1.0, Math.pow(volume / 50.0, 0.5)) * Math.pow(2.0, (volume - 75.0) / 25.0);\n}\n\nfunction renderPlayhead(): void {\n\tif (synth.song != null) {\n\t\tlet pos: number = synth.playhead / synth.song.barCount;\n\t\tplayhead.style.left = (timelineWidth * pos) + \"px\";\n\t\t\t\n\t\tconst boundingRect: ClientRect = visualizationContainer.getBoundingClientRect();\n\t\tvisualizationContainer.scrollLeft = pos * (timelineWidth - boundingRect.width);\n\t}\n}\n\nfunction renderTimeline(): void {\n\ttimeline.innerHTML = \"\";\n\tif (synth.song == null) return;\n\t\t\n\tconst boundingRect: ClientRect = visualizationContainer.getBoundingClientRect();\n\t\t\n\tlet timelineHeight: number;\n\tlet windowOctaves: number;\n\tlet windowPitchCount: number;\n\t\t\n\tif (zoomEnabled) {\n\t\ttimelineHeight = boundingRect.height;\n\t\twindowOctaves = Math.max(1, Math.min(Config.pitchOctaves, Math.round(timelineHeight / (12 * 2))));\n\t\twindowPitchCount = windowOctaves * 12 + 1;\n\t\tconst semitoneHeight: number = (timelineHeight - 1) / windowPitchCount;\n\t\tconst targetBeatWidth: number = Math.max(8, semitoneHeight * 4);\n\t\ttimelineWidth = Math.max(boundingRect.width, targetBeatWidth * synth.song.barCount * synth.song.beatsPerBar);\n\t} else {\n\t\ttimelineWidth = boundingRect.width;\n\t\tconst targetSemitoneHeight: number = Math.max(1, timelineWidth / (synth.song.barCount * synth.song.beatsPerBar) / 6.0);\n\t\ttimelineHeight = Math.min(boundingRect.height, targetSemitoneHeight * (Config.maxPitch + 1) + 1);\n\t\twindowOctaves = Math.max(3, Math.min(Config.pitchOctaves, Math.round(timelineHeight / (12 * targetSemitoneHeight))));\n\t\twindowPitchCount = windowOctaves * 12 + 1;\n\t}\n\t\t\n\ttimelineContainer.style.width = timelineWidth + \"px\";\n\ttimelineContainer.style.height = timelineHeight + \"px\";\n\ttimeline.style.width = timelineWidth + \"px\";\n\ttimeline.style.height = timelineHeight + \"px\";\n\t\t\n\tconst barWidth: number = timelineWidth / synth.song.barCount;\n\tconst partWidth: number = barWidth / (synth.song.beatsPerBar * Config.partsPerBeat);\n\n\t\tconst wavePitchHeight: number = (timelineHeight-1) / windowPitchCount;\n\t\tconst drumPitchHeight: number =  (timelineHeight-1) / Config.drumCount;\n\t\t\n\tfor (let bar: number = 0; bar < synth.song.barCount + 1; bar++) {\n\t\tconst color: string = (bar == synth.song.loopStart || bar == synth.song.loopStart + synth.song.loopLength) ? ColorConfig.loopAccent : ColorConfig.uiWidgetBackground;\n\t\t\ttimeline.appendChild(rect({x: bar * barWidth - 1, y: 0, width: 2, height: timelineHeight, fill: color}));\n\t}\n\t\t\n\tfor (let octave: number = 0; octave <= windowOctaves; octave++) {\n\t\t\ttimeline.appendChild(rect({x: 0, y: octave * 12 * wavePitchHeight, width: timelineWidth, height: wavePitchHeight + 1, fill: ColorConfig.tonic, opacity: 0.75}));\n\t}\n\t\t\n\tfor (let channel: number = synth.song.channels.length - 1 - synth.song.modChannelCount; channel >= 0; channel--) {\n\n\t\tconst isNoise: boolean = synth.song.getChannelIsNoise(channel);\n\t\tconst pitchHeight: number = isNoise ? drumPitchHeight : wavePitchHeight;\n\t\t\t\n\t\tconst configuredOctaveScroll: number = synth.song.channels[channel].octave;\n\t\tconst newOctaveScroll: number = Math.max(0, Math.min(Config.pitchOctaves - windowOctaves, Math.ceil(configuredOctaveScroll - windowOctaves * 0.5)));\n\t\t\t\n\t\tconst offsetY: number = newOctaveScroll * pitchHeight * 12 + timelineHeight - pitchHeight * 0.5 - 0.5;\n\t\t\t\n\t\tfor (let bar: number = 0; bar < synth.song.barCount; bar++) {\n\t\t\tconst pattern: Pattern | null = synth.song.getPattern(channel, bar);\n\t\t\tif (pattern == null) continue;\n\t\t\tconst offsetX: number = bar * barWidth;\n\t\t\t\t\n\t\t\tfor (let i: number = 0; i < pattern.notes.length; i++) {\n\t\t\t\tconst note: Note = pattern.notes[i];\n\t\t\t\t\t\n\t\t\t\tfor (const pitch of note.pitches) {\n\t\t\t\t\tconst d: string = drawNote(pitch, note.start, note.pins, (pitchHeight + 1) / 2, offsetX, offsetY, partWidth, pitchHeight);\n\t\t\t\t\t\tconst noteElement: SVGPathElement = path({d: d, fill: ColorConfig.getChannelColor(synth.song, channel).primaryChannel});\n\t\t\t\t\tif (isNoise) noteElement.style.opacity = String(0.6);\n\t\t\t\t\ttimeline.appendChild(noteElement);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\t\n\trenderPlayhead();\n}\n\nfunction drawNote(pitch: number, start: number, pins: NotePin[], radius: number, offsetX: number, offsetY: number, partWidth: number, pitchHeight: number): string {\n\tlet d: string = `M ${offsetX + partWidth * (start + pins[0].time)} ${offsetY - pitch * pitchHeight + radius * (pins[0].size / Config.noteSizeMax)} `; \n\tfor (let i: number = 0; i < pins.length; i++) {\n\t\tconst pin: NotePin = pins[i];\n\t\t\tconst x:   number = offsetX + partWidth * (start + pin.time);\n\t\tconst y: number = offsetY - pitchHeight * (pitch + pin.interval);\n\t\tconst expression: number = pin.size / Config.noteSizeMax;\n\t\td += `L ${x} ${y - radius * expression} `;\n\t}\n\tfor (let i: number = pins.length - 1; i >= 0; i--) {\n\t\tconst pin: NotePin = pins[i];\n\t\t\tconst x:   number = offsetX + partWidth * (start + pin.time);\n\t\tconst y: number = offsetY - pitchHeight * (pitch + pin.interval);\n\t\tconst expression: number = pin.size / Config.noteSizeMax;\n\t\td += `L ${x} ${y + radius * expression} `;\n\t}\n\treturn d;\n}\n\nfunction renderPlayButton(): void {\n\tif (synth.playing) {\n\t\tplayButton.classList.remove(\"playButton\");\n\t\tplayButton.classList.add(\"pauseButton\");\n\t\tplayButton.title = \"Pause (Space)\";\n\t\tplayButton.textContent = \"Pause\";\n\t} else {\n\t\tplayButton.classList.remove(\"pauseButton\");\n\t\tplayButton.classList.add(\"playButton\");\n\t\tplayButton.title = \"Play (Space)\";\n\t\tplayButton.textContent = \"Play\";\n\t}\n\tpauseButtonDisplayed = synth.playing;\n}\n\nfunction renderLoopIcon(): void {\n\tloopIcon.setAttribute(\"fill\", (synth.loopRepeatCount == -1) ? ColorConfig.linkAccent : ColorConfig.uiWidgetBackground);\n}\n\nfunction renderZoomIcon(): void {\n\tzoomIcon.style.color = zoomEnabled ? ColorConfig.linkAccent : ColorConfig.uiWidgetBackground;\n}\n\nfunction onKeyPressed(event: KeyboardEvent): void {\n\tswitch (event.keyCode) {\n\t\tcase 70: // first bar\n\t\t\tsynth.playhead = 0;\n\t\t\tsynth.computeLatestModValues();\n\t\t\tevent.preventDefault();\n\t\t\tbreak;\n\t\tcase 32: // space\n\t\t\tonTogglePlay();\n\t\t\tsynth.computeLatestModValues();\n\t\t\tevent.preventDefault();\n\t\t\tbreak;\n\t\tcase 219: // left brace\n\t\t\tsynth.goToPrevBar();\n\t\t\tsynth.computeLatestModValues();\n\t\t\trenderPlayhead();\n\t\t\tevent.preventDefault();\n\t\t\tbreak;\n\t\tcase 221: // right brace\n\t\t\tsynth.goToNextBar();\n\t\t\tsynth.computeLatestModValues();\n\t\t\trenderPlayhead();\n\t\t\tevent.preventDefault();\n\t\t\tbreak;\n\t}\n}\n\nfunction onCopyClicked(): void {\n\t// Set as any to allow compilation without clipboard types (since, uh, I didn't write this bit and don't know the proper types library) -jummbus\n\tlet nav: any;\n\tnav = navigator;\n\n\tif (nav.clipboard && nav.clipboard.writeText) {\n\t\tnav.clipboard.writeText(location.href).catch(() => {\n\t\t\twindow.prompt(\"Copy to clipboard:\", location.href);\n\t\t});\n\t\treturn;\n\t}\n\tconst textField: HTMLTextAreaElement = document.createElement(\"textarea\");\n\ttextField.textContent = location.href;\n\tdocument.body.appendChild(textField);\n\ttextField.select();\n\tconst succeeded: boolean = document.execCommand(\"copy\");\n\ttextField.remove();\n\tif (!succeeded) window.prompt(\"Copy this:\", location.href);\n}\n\nfunction onShareClicked(): void {\n\t(<any>navigator).share({ url: location.href });\n}\n\n\tif ( top !== self ) {\n\t// In an iframe.\n\tcopyLink.style.display = \"none\";\n\tshareLink.style.display = \"none\";\n} else {\n\t// Fullscreen.\n\tfullscreenLink.style.display = \"none\";\n\tif (!(\"share\" in navigator)) shareLink.style.display = \"none\";\n}\n\nif (getLocalStorage(\"volume\") != null) {\n\tvolumeSlider.value = getLocalStorage(\"volume\")!;\n}\nsetSynthVolume();\n\nwindow.addEventListener(\"resize\", onWindowResize);\nwindow.addEventListener(\"keydown\", onKeyPressed);\n\ntimeline.addEventListener(\"mousedown\", onTimelineMouseDown);\nwindow.addEventListener(\"mousemove\", onTimelineMouseMove);\nwindow.addEventListener(\"mouseup\", onTimelineCursorUp);\ntimeline.addEventListener(\"touchstart\", onTimelineTouchDown);\ntimeline.addEventListener(\"touchmove\", onTimelineTouchMove);\ntimeline.addEventListener(\"touchend\", onTimelineCursorUp);\ntimeline.addEventListener(\"touchcancel\", onTimelineCursorUp);\n\nplayButton.addEventListener(\"click\", onTogglePlay);\nloopButton.addEventListener(\"click\", onToggleLoop);\nvolumeSlider.addEventListener(\"input\", onVolumeChange);\nzoomButton.addEventListener(\"click\", onToggleZoom);\ncopyLink.addEventListener(\"click\", onCopyClicked);\nshareLink.addEventListener(\"click\", onShareClicked);\nwindow.addEventListener(\"hashchange\", hashUpdatedExternally);\n\nhashUpdatedExternally();\nrenderLoopIcon();\nrenderZoomIcon();\nrenderPlayButton();\n\n// When compiling synth.ts as a standalone module named \"beepbox\", expose these classes as members to JavaScript:\n\texport {Dictionary, DictionaryArray, EnvelopeType, InstrumentType, Transition, Chord, Envelope, Config, NotePin, Note, Pattern, Instrument, Channel, Synth};\n","import { ColorConfig } from \"../editor/ColorConfig\";\nimport { events } from \"./Events\";\n\nexport class oscilascopeCanvas {\n    public _EventUpdateCanvas:Function;\n\n    constructor(public readonly canvas: HTMLCanvasElement, readonly scale: number = 1) {\n        this._EventUpdateCanvas = function(directlinkL: Float32Array, directlinkR ?: Float32Array): void {\n            if(directlinkR) {\n                var ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\n                ctx.fillStyle = ColorConfig.getComputed(\"--editor-background\");\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n                ctx.fillStyle = ColorConfig.getComputed(\"--oscilloscope-line-L\") !== \"\" ? ColorConfig.getComputed(\"--oscilloscope-line-L\") : ColorConfig.getComputed(\"--primary-text\");\n                for (let i: number = directlinkL.length - 1; i >= directlinkL.length - 1 - (canvas.width/scale); i--) {\n                    let x = i - (directlinkL.length - 1) + (canvas.width/scale);\n                    let yl = (directlinkL[i] * (canvas.height/scale / 2) + (canvas.height/scale / 2));\n\n                    ctx.fillRect((x - 1)*scale, (yl - 1)*scale, 1*scale, 1.5*scale);\n                    if (x == 0) break;\n                }\n                ctx.fillStyle = ColorConfig.getComputed(\"--oscilloscope-line-R\") !== \"\" ? ColorConfig.getComputed(\"--oscilloscope-line-R\") : ColorConfig.getComputed(\"--text-selection\"); //less ctx style calls = less expensive??? also avoiding uncached colors\n                for (let i: number = directlinkR.length - 1; i >= directlinkR.length - 1 - (canvas.width/scale); i--) {\n                    let x = i - (directlinkR.length - 1) + (canvas.width/scale);\n                    let yr = (directlinkR[i] * (canvas.height/scale / 2) + (canvas.height/scale / 2));\n                    \n                    ctx.fillRect((x - 1)*scale, (yr - 1)*scale, 1*scale, 1.5*scale);\n                    if (x == 0) break;\n                }\n            }\n        };\n        events.listen(\"oscillascopeUpdate\", this._EventUpdateCanvas);\n    }\n\n    \n}\n"],"mappings":"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AS,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,OAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,GAAS,OAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,IAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,IAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,KAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,MAAQ,MAAQ,OAAQ,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,OAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAQ,OAAQ,OAAQ,MAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,MAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,MAAQ,OAAQ,MAAQ,OAAQ,MAAQ,OAAQ,MAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,OAAS,QAAS,OAAQ,EAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,OAAS,QAAS,QAAS,QAAS,QAAS,QAAS,MAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAQ,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,OA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GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAAO,CAAErB,eAAkB,UAAWqB,SAAY,CAAC,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAAO,CAAErB,eAAkB,UAAWqB,SAAY,CAAC,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAAO,CAAErB,eAAkB,UAAWqB,SAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAAO,CAAErB,eAAkB,UAAWqB,SAAY,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAAO,CAAErB,eAAkB,UAAWqB,SAAY,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAAO,CAAErB,eAAkB,UAAWqB,SAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAAO,CAAErB,eAAkB,UAAWqB,SAAY,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,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,eAAkB,CAAE,EAAK,GAAI,EAAK,GAAI,EAAK,GAAI,EAAK,EAAG,EAAK,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,IAAO,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,IAAO,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,GAAI,GAAM,IAAMgC,uBAA0B,CAAE,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM,EAAG,GAAM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A,uCACA,oCACA,4BACA,kCACA,4BAGEC,EAAqB,CACvB,oBACA,qBACA,sBACA,mBACA,yBACA,uBACA,yBACA,4BACA,gCACA,qBACA,2BACA,uBACA,qBACA,+BACA,qBACA,6BACA,8BACA,0BACA,gCACA,+BACA,oBACA,6BACA,4BACA,6BACA,2BACA,yBACA,yBACA,2BACA,uBACA,yBACA,uBACA,yBACA,2BACA,6BACA,6BACA,2BACA,0BACA,uCACA,6BACA,gCACA,+BACA,0BACA,qBACA,0BACA,yBACA,wBACA,0BACA,mCACA,wCACA,kCACA,wCACA,kCACA,2BACA,4BACA,4BACA,4BACA,2BACA,4BACA,wCACA,yCACA,+BACA,8BACA,qCACA,0CACA,mCACA,uCACA,oCACA,4BACA,kCACA,4BAGEC,EAAyB,CAC3B,OACA,QACA,SACA,MACA,YACA,UACA,YACA,eACA,mBACA,QACA,cACA,UACA,QACA,kBACA,QACA,gBACA,iBACA,aACA,mBACA,kBACA,OACA,gBACA,eACA,gBACA,cACA,YACA,YACA,cACA,UACA,YACA,UACA,YACA,eAEAF,EAAMG,SAASJ,GACfF,GAA0B,EACnBI,EAASE,SAASJ,IACzBF,GAA0B,EAG1B3X,EAAuB,KAAI8X,EAAMC,EAAS7V,WAAUj3B,GAAKA,IAAM4sC,MACxDG,EAAaC,SAASJ,KACZ,YAAbA,GAAuC,UAAbA,IAO1BF,GAA0B,EAG1B3X,EAAuB,KAAI8X,EAAME,EAAa9V,WAAUj3B,GAAKA,IAAM4sC,MAG9E,CACJ,CACJ,CAEDF,GACA5hD,EAAO+B,4BAA6B,EAEpC2vC,GAAK2H,IAEL72C,EAAmB,GACnBmoB,EAAa0sB,cAAgB,CAAC,kBAII,MAA9B1sB,EAAa0sB,eAAyB1sB,EAAa0sB,cAAc91C,OAAS,IAG1EvB,EAAO+B,4BAA6B,EACpC2vC,GAAK+F,IAGhB,CAGD,GADA/4C,KAAKo1C,MAAQ,EACcpuB,MAAvBi8B,EAAkB,MAAgB,CAClC,MAAMQ,EAAoC,CACtC,YAAa,kBACb,YAAa,kBACbC,OAAU,WAERC,EAA2D38B,MAAt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"}